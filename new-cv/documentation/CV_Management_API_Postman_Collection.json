{
	"info": {
		"name": "CV Management API",
		"description": "Complete API collection for CV Management system with authentication, AI features, and health checks",
		"version": "1.0.0",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{access_token}}",
				"type": "string"
			}
		]
	},
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8000",
			"type": "string",
			"description": "Base URL for the CV Management API"
		},
		{
			"key": "access_token",
			"value": "",
			"type": "string",
			"description": "JWT access token for authentication"
		},
		{
			"key": "refresh_token",
			"value": "",
			"type": "string",
			"description": "JWT refresh token"
		}
	],
	"item": [
		{
			"name": "üîç Health & Info",
			"description": "Health checks and API information endpoints",
			"item": [
				{
					"name": "Root - API Status",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/",
							"host": ["{{base_url}}"],
							"path": [""]
						},
						"description": "Get basic API information and status"
					},
					"response": []
				},
				{
					"name": "Health Check",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/health",
							"host": ["{{base_url}}"],
							"path": ["health"]
						},
						"description": "Basic health check endpoint"
					},
					"response": []
				},
				{
					"name": "Database Health Check",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/health/database",
							"host": ["{{base_url}}"],
							"path": ["health", "database"]
						},
						"description": "Database connectivity health check"
					},
					"response": []
				},
				{
					"name": "API Info",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/info",
							"host": ["{{base_url}}"],
							"path": ["api", "info"]
						},
						"description": "Get detailed API information and available endpoints"
					},
					"response": []
				}
			]
		},
		{
			"name": "üîê Authentication",
			"description": "User authentication and profile management",
			"item": [
				{
					"name": "Register User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"user@example.com\",\n    \"password\": \"password123\",\n    \"full_name\": \"John Doe\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/register",
							"host": ["{{base_url}}"],
							"path": ["api", "auth", "register"]
						},
						"description": "Register a new user account"
					},
					"response": []
				},
				{
					"name": "Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    pm.collectionVariables.set('access_token', response.access_token);",
									"    pm.collectionVariables.set('refresh_token', response.refresh_token);",
									"    console.log('Tokens saved successfully');",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"\",\n    \"password\": \"\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/login",
							"host": ["{{base_url}}"],
							"path": ["api", "auth", "login"]
						},
						"description": "Login with email and password (empty credentials allowed for development)"
					},
					"response": []
				},
				{
					"name": "Get Profile",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{access_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/auth/profile",
							"host": ["{{base_url}}"],
							"path": ["api", "auth", "profile"]
						},
						"description": "Get current user profile (requires authentication)"
					},
					"response": []
				},
				{
					"name": "Update Profile",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{access_token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"full_name\": \"Updated Name\",\n    \"email\": \"updated@example.com\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/profile",
							"host": ["{{base_url}}"],
							"path": ["api", "auth", "profile"]
						},
						"description": "Update user profile information"
					},
					"response": []
				},
				{
					"name": "Refresh Token",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{refresh_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/auth/refresh",
							"host": ["{{base_url}}"],
							"path": ["api", "auth", "refresh"]
						},
						"description": "Refresh JWT access token"
					},
					"response": []
				},
				{
					"name": "Logout",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{access_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/auth/logout",
							"host": ["{{base_url}}"],
							"path": ["api", "auth", "logout"]
						},
						"description": "Logout and invalidate current session"
					},
					"response": []
				}
			]
		},
		{
			"name": "ü§ñ AI Services",
			"description": "AI-powered CV analysis and job matching",
			"item": [
				{
					"name": "AI Health Check",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/ai/health",
							"host": ["{{base_url}}"],
							"path": ["api", "ai", "health"]
						},
						"description": "Check AI service health status"
					},
					"response": []
				},
				{
					"name": "Get AI Status",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{access_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/ai/status",
							"host": ["{{base_url}}"],
							"path": ["api", "ai", "status"]
						},
						"description": "Get current AI service status and configuration"
					},
					"response": []
				},
				{
					"name": "Get Available Providers",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{access_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/ai/providers",
							"host": ["{{base_url}}"],
							"path": ["api", "ai", "providers"]
						},
						"description": "Get list of available AI providers"
					},
					"response": []
				},
				{
					"name": "Get Available Models",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{access_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/ai/models",
							"host": ["{{base_url}}"],
							"path": ["api", "ai", "models"]
						},
						"description": "Get all available models grouped by provider"
					},
					"response": []
				},
				{
					"name": "Get Current Configuration",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{access_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/ai/current",
							"host": ["{{base_url}}"],
							"path": ["api", "ai", "current"]
						},
						"description": "Get current AI provider and model configuration"
					},
					"response": []
				},
				{
					"name": "Switch AI Provider",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{access_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"provider\": \"openai\",\n    \"model\": \"gpt-3.5-turbo\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/ai/switch-provider",
							"host": ["{{base_url}}"],
							"path": ["api", "ai", "switch-provider"]
						},
						"description": "Switch to a different AI provider (openai, anthropic, deepseek)"
					},
					"response": []
				},
				{
					"name": "Switch AI Model",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{access_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"model\": \"gpt-4\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/ai/switch-model",
							"host": ["{{base_url}}"],
							"path": ["api", "ai", "switch-model"]
						},
						"description": "Switch to a different model within current provider"
					},
					"response": []
				},
				{
					"name": "Chat Completion",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{access_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"prompt\": \"Hello, how can you help me with my CV?\",\n    \"system_prompt\": \"You are a helpful CV and career advisor.\",\n    \"temperature\": 0.7,\n    \"max_tokens\": 150\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/ai/chat",
							"host": ["{{base_url}}"],
							"path": ["api", "ai", "chat"]
						},
						"description": "Generate AI response using current provider"
					},
					"response": []
				},
				{
					"name": "Analyze CV",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{access_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"cv_text\": \"John Doe\\nSoftware Engineer\\n\\nExperience:\\n- 5 years in Python development\\n- Flask and Django frameworks\\n- Database design and optimization\\n\\nSkills:\\n- Python, JavaScript, SQL\\n- Git, Docker, AWS\\n- Agile methodologies\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/ai/analyze-cv",
							"host": ["{{base_url}}"],
							"path": ["api", "ai", "analyze-cv"]
						},
						"description": "Analyze CV content to extract skills and experience"
					},
					"response": []
				},
				{
					"name": "Compare CV with Job",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{access_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"cv_text\": \"John Doe\\nSoftware Engineer\\n\\nExperience:\\n- 5 years in Python development\\n- Flask and Django frameworks\\n- Database design and optimization\",\n    \"job_description\": \"We are looking for a Senior Python Developer with experience in:\\n- 3+ years Python development\\n- Django framework\\n- PostgreSQL database\\n- REST API development\\n- AWS cloud services\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/ai/compare-cv-job",
							"host": ["{{base_url}}"],
							"path": ["api", "ai", "compare-cv-job"]
						},
						"description": "Compare CV with job description for matching analysis"
					},
					"response": []
				}
			]
		}
	]
}
