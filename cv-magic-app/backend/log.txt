2025-10-08 20:17:14,247 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-08 20:17:14,550 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-08 20:17:14,605 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 20:17:14,643 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-08 20:17:14,643 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 20:17:14,685 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-08 20:17:14,686 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 20:17:14,732 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 20:17:14,733 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-08 20:17:14,733 - sqlalchemy.engine.Engine - INFO - [generated in 0.00194s] {}
2025-10-08 20:17:14,778 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-08 20:17:14,801 - app.database - INFO - Database connection successful
2025-10-08 20:17:14,801 - app.main - INFO - ✅ Database connection successful
2025-10-08 20:17:14,829 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 20:17:14,835 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:17:14,835 - sqlalchemy.engine.Engine - INFO - [generated in 0.00061s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:17:14,874 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:17:14,875 - sqlalchemy.engine.Engine - INFO - [cached since 0.04008s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:17:14,898 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:17:14,899 - sqlalchemy.engine.Engine - INFO - [cached since 0.06409s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:17:14,917 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:17:14,918 - sqlalchemy.engine.Engine - INFO - [cached since 0.08359s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:17:14,941 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:17:14,941 - sqlalchemy.engine.Engine - INFO - [cached since 0.1065s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:17:14,963 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:17:14,964 - sqlalchemy.engine.Engine - INFO - [cached since 0.1294s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:17:14,982 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:17:14,982 - sqlalchemy.engine.Engine - INFO - [cached since 0.148s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:17:15,000 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:17:15,001 - sqlalchemy.engine.Engine - INFO - [cached since 0.1662s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:17:15,020 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:17:15,020 - sqlalchemy.engine.Engine - INFO - [cached since 0.186s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:17:15,044 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:17:15,044 - sqlalchemy.engine.Engine - INFO - [cached since 0.2095s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:17:15,066 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:17:15,067 - sqlalchemy.engine.Engine - INFO - [cached since 0.2325s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:17:15,090 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-08 20:17:15,113 - app.database - INFO - Database tables created successfully
2025-10-08 20:17:15,113 - app.main - INFO - ✅ Database tables ready
2025-10-08 20:17:15,114 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-08 20:17:15,114 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-08 20:17:15,130 - app.routes.skills_analysis - INFO - 📊 [API] Fetching analysis results for company: Australia_for_UNHCR
2025-10-08 20:17:15,132 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:17:15,132 - app.utils.path_debug - INFO - 
📌 Starting get_analysis_results
2025-10-08 20:17:15,133 - app.utils.path_debug - INFO -   📂 User base dir: user/munna@gmail.com/cv-analysis
2025-10-08 20:17:15,133 - app.utils.path_debug - INFO -   📂 Company dir: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-08 20:17:15,135 - app.utils.path_debug - INFO -   📂 Using analysis file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251008_201551.json
2025-10-08 20:17:15,137 - app.utils.path_debug - INFO -   ✅ Loaded analysis file, size: 33182 bytes
2025-10-08 20:17:27,631 - app.routes.skills_analysis - INFO - 📊 [API] Fetching analysis results for company: Australia_for_UNHCR
2025-10-08 20:17:27,632 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:17:27,632 - app.utils.path_debug - INFO - 
📌 Starting get_analysis_results
2025-10-08 20:17:27,632 - app.utils.path_debug - INFO -   📂 User base dir: user/munna@gmail.com/cv-analysis
2025-10-08 20:17:27,632 - app.utils.path_debug - INFO -   📂 Company dir: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-08 20:17:27,633 - app.utils.path_debug - INFO -   📂 Using analysis file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251008_201551.json
2025-10-08 20:17:27,634 - app.utils.path_debug - INFO -   ✅ Loaded analysis file, size: 33182 bytes
2025-10-08 20:17:49,659 - app.routes.ai_recommendations - INFO - 🔍 [AI_RECOMMENDATIONS] Fetching for company: Australia_for_UNHCR, user: munna@gmail.com
2025-10-08 20:17:49,660 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:17:49,660 - app.routes.ai_recommendations - INFO - 🔍 [AI_RECOMMENDATIONS] Searching in: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-08 20:17:49,660 - app.routes.ai_recommendations - INFO - ✅ [AI_RECOMMENDATIONS] Found file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251008_201645.json
2025-10-08 20:17:49,661 - app.routes.ai_recommendations - INFO - ✅ [AI_RECOMMENDATIONS] Successfully loaded recommendation, content length: 2964
2025-10-08 20:20:35,870 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:20:35,920 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 📄 Tailored CV content request for Australia_for_UNHCR from user 4df52e53-b78f-45e9-8946-3b6c00618693
2025-10-08 20:20:35,921 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:20:35,922 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:20:35,923 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-08 20:20:35,926 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ Served TAILORED CV content: Australia_for_UNHCR_tailored_cv_20251008_201707.txt from tailored folder (3694 characters)
2025-10-08 20:21:06,626 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Received request data keys: ['company', 'content']
2025-10-08 20:21:06,627 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Request data: {
  "company": "Australia_for_UNHCR",
  "content": "Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220\n\nTECHNICAL SKILLS\n\u2022 Power BI, Excel, Python, SQL, Fundraising, Analytical Models, Data Analysis, Business Intelligence\n\nEXPERIENCE\nData Analyst         Jul 2024 \u2013 Present\nThe Bitrates, Sydney, New South Wales, Australia\n\n\u2022 Designed and implemented Python scripts for data cleaning, preprocessing, and analysis, improving data pipeline effi...
2025-10-08 20:21:06,627 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Extracted - Company: Australia_for_UNHCR
2025-10-08 20:21:06,627 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Extracted - Content type: <class 'str'>
2025-10-08 20:21:06,627 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Extracted - Content length: 803
2025-10-08 20:21:06,627 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Starting save process for Australia_for_UNHCR
2025-10-08 20:21:06,628 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:21:06,628 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Tailored path: user/munna@gmail.com/cv-analysis/cvs/tailored
2025-10-08 20:21:06,629 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Found 1 existing TXT files in tailored folder
2025-10-08 20:21:06,629 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] - user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_201707.txt
2025-10-08 20:21:06,632 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated TXT: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_201707.txt
2025-10-08 20:21:06,633 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Starting CV content parsing
2025-10-08 20:21:06,633 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Content length: 803
2025-10-08 20:21:06,633 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Existing JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-08 20:21:06,633 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Processing 13 lines
2025-10-08 20:21:06,634 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing contact line: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220
2025-10-08 20:21:06,634 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: technical_skills
2025-10-08 20:21:06,634 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsed 8 skills
2025-10-08 20:21:06,634 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: experience
2025-10-08 20:21:06,634 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Added experience: Data Analyst at The Bitrates (4 bullets)
2025-10-08 20:21:06,634 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing completed successfully
2025-10-08 20:21:06,635 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Updated JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-08 20:21:06,636 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated JSON: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_201707.json
2025-10-08 20:21:06,636 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Completed saving for Australia_for_UNHCR
2025-10-08 20:21:13,102 - app.ai.ai_config - INFO - Auto-selected provider: openai with model: gpt-4o
2025-10-08 20:21:13,103 - app.ai.ai_service - INFO - ✅ Switched to model gpt-3.5-turbo
2025-10-08 20:21:13,106 - app.core.model_dependency - INFO - 🔄 Switched to model from header: gpt-3.5-turbo
2025-10-08 20:21:13,108 - app.routes.skills_analysis - INFO - 🎯 Preliminary analysis request: CV=maheshwor_tiwari.pdf, JD_length=6014, CONFIG=None
2025-10-08 20:21:13,150 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-08 20:21:13,920 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 20:21:13,934 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:21:13,936 - app.routes.skills_analysis - INFO - 🏢 Extracted company name: Australia_for_UNHCR
2025-10-08 20:21:13,937 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:21:13,943 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:21:13,944 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:21:13,944 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-08 20:21:13,945 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:21:13,946 - app.routes.skills_analysis - INFO - 🔗 [PRELIM_ANALYSIS] JD URL (latest job_info): https://www.ethicaljobs.com.au/members/australiaforunhcr/data-analyst
2025-10-08 20:21:13,947 - app.routes.skills_analysis - INFO - 📄 [PRELIM_ANALYSIS] Latest CV selected → type=tailored, ts=20251008_201707, json=user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_201707.json, txt=user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_201707.txt
2025-10-08 20:21:13,949 - app.routes.skills_analysis - INFO - 🧪 [PRELIM_ANALYSIS] CV content length=803, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • Power BI, Excel, Python, SQL, Fundraising, Analytical Models, Data Analysis, Business Intelligence  EXPERIENCE Data Analyst         Jul 2024 – Present The Bitrates, Sydney, New South Wales, Australia  • Designed and implemented Python scripts for data cleaning, preprocessing, and analysis, impr'
2025-10-08 20:21:13,949 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-08 20:21:13,949 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-08 20:21:13,949 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-08 20:21:13,950 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Starting AI-powered skills analysis for maheshwor_tiwari.pdf
2025-10-08 20:21:13,950 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] CV content length: 803 chars
2025-10-08 20:21:13,950 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] JD content length: 6014 chars
2025-10-08 20:21:13,950 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using config: default
2025-10-08 20:21:13,950 - app.routes.skills_analysis - INFO - 🧪 [SKILLS_ANALYSIS] CV preview: 'Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • Power BI, Excel, Python, SQL, Fundraising, Analytical Models, Data Analysis'
2025-10-08 20:21:13,950 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI provider: openai
2025-10-08 20:21:13,950 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI model: gpt-3.5-turbo
2025-10-08 20:21:13,950 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Provider available: True
2025-10-08 20:21:13,951 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Model from header: gpt-3.5-turbo
2025-10-08 20:21:13,951 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting CV skills with detailed structured analysis...
2025-10-08 20:21:13,975 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-08 20:21:16,005 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 20:21:16,018 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] Starting response parsing...
2025-10-08 20:21:16,018 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] Raw response preview: 
**SOFT SKILLS:**
- Communication
- Leadership
- Teamwork
- Collaboration
- Analytical Thinking
- Critical Thinking
- Creativity
- Innovation
- Detail-oriented
- Self-motivated
- Proactive
- Results-driven

**TECHNICAL SKILLS:**
- Power BI
- Excel
- Python
- SQL
- Analytical Models
- Data Analysis
- Business Intelligence
- Data Cleaning
- Preprocessing
- Machine Learning Models
- AI Techniques
- Automation
- Dashboards
- Visualizations
- Matplotlib
- Seaborn

**DOMAIN KEYWORDS:**
- Fundraising
-...
2025-10-08 20:21:16,019 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] FULL CV RESPONSE: 
**SOFT SKILLS:**
- Communication
- Leadership
- Teamwork
- Collaboration
- Analytical Thinking
- Critical Thinking
- Creativity
- Innovation
- Detail-oriented
- Self-motivated
- Proactive
- Results-driven

**TECHNICAL SKILLS:**
- Power BI
- Excel
- Python
- SQL
- Analytical Models
- Data Analysis
- Business Intelligence
- Data Cleaning
- Preprocessing
- Machine Learning Models
- AI Techniques
- Automation
- Dashboards
- Visualizations
- Matplotlib
- Seaborn

**DOMAIN KEYWORDS:**
- Fundraising
- Predictive Analytics
- Data Pipeline
- Productivity
- Data-driven Business Decisions
2025-10-08 20:21:16,019 - app.services.skill_extraction.response_parser - WARNING - ⚠️ [CV] No SOFT_SKILLS variable found in response
2025-10-08 20:21:16,020 - app.services.skill_extraction.response_parser - WARNING - ⚠️ [CV] No TECHNICAL_SKILLS variable found in response
2025-10-08 20:21:16,021 - app.services.skill_extraction.response_parser - WARNING - ⚠️ [CV] No DOMAIN_KEYWORDS variable found in response
2025-10-08 20:21:16,021 - app.services.skill_extraction.response_parser - INFO - 🔄 [CV] Python format not found, trying markdown format...
2025-10-08 20:21:16,025 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Successfully extracted 33 total skills using multi-format parser
2025-10-08 20:21:16,025 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated soft_skills: 12 valid skills
2025-10-08 20:21:16,026 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated technical_skills: 16 valid skills
2025-10-08 20:21:16,026 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated domain_keywords: 5 valid skills
2025-10-08 20:21:16,027 - app.services.skill_extraction.response_parser - INFO - 📊 [CV] Parsing completed:
2025-10-08 20:21:16,027 - app.services.skill_extraction.response_parser - INFO -    Soft Skills (12): ['Communication', 'Leadership', 'Teamwork']...
2025-10-08 20:21:16,028 - app.services.skill_extraction.response_parser - INFO -    Technical Skills (16): ['Power BI', 'Excel', 'Python']...
2025-10-08 20:21:16,029 - app.services.skill_extraction.response_parser - INFO -    Domain Keywords (5): ['Fundraising', 'Predictive Analytics', 'Data Pipeline']...
2025-10-08 20:21:16,030 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting JD skills with detailed structured analysis...
2025-10-08 20:21:16,062 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-08 20:21:21,096 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 20:21:21,100 - app.services.skill_extraction.response_parser - INFO - 🔍 [JD] Starting response parsing...
2025-10-08 20:21:21,100 - app.services.skill_extraction.response_parser - INFO - 🔍 [JD] Raw response preview: ## SOFT SKILLS:
- Communication
- Collaboration
- Problem-solving
- Analytical Thinking
- Detail-oriented
- Self-motivated
- Proactive
- Results-driven

## TECHNICAL SKILLS:
- Data Analysis
- Data Mining
- Business Intelligence
- Power BI
- SQL
- Database Management
- Data Warehousing
- Excel Formulas
- VBA
- Data Modeling
- Spreadsheets
- Stakeholder Management
- Marketing Campaigns
- Data Utilization
- Data Cleansing

## DOMAIN KEYWORDS:
- Fundraising
- Humanitarian Aid
- Refugee Support
- Bus...
2025-10-08 20:21:21,101 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Successfully extracted 38 total skills using multi-format parser
2025-10-08 20:21:21,101 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated soft_skills: 8 valid skills
2025-10-08 20:21:21,101 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated technical_skills: 15 valid skills
2025-10-08 20:21:21,102 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated domain_keywords: 15 valid skills
2025-10-08 20:21:21,102 - app.services.skill_extraction.response_parser - INFO - 📊 [JD] Parsing completed:
2025-10-08 20:21:21,102 - app.services.skill_extraction.response_parser - INFO -    Soft Skills (8): ['Communication', 'Collaboration', 'Problem-solving']...
2025-10-08 20:21:21,102 - app.services.skill_extraction.response_parser - INFO -    Technical Skills (15): ['Data Analysis', 'Data Mining', 'Business Intelligence']...
2025-10-08 20:21:21,102 - app.services.skill_extraction.response_parser - INFO -    Domain Keywords (15): ['Fundraising', 'Humanitarian Aid', 'Refugee Support']...
2025-10-08 20:21:21,102 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using structured analysis as comprehensive analysis...
2025-10-08 20:21:21,102 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Technical Skills (16): ['Power BI', 'Excel', 'Python', 'SQL', 'Analytical Models', 'Data Analysis', 'Business Intelligence', 'Data Cleaning', 'Preprocessing', 'Machine Learning Models', 'AI Techniques', 'Automation', 'Dashboards', 'Visualizations', 'Matplotlib', 'Seaborn']
2025-10-08 20:21:21,103 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Soft Skills (12): ['Communication', 'Leadership', 'Teamwork', 'Collaboration', 'Analytical Thinking', 'Critical Thinking', 'Creativity', 'Innovation', 'Detail-oriented', 'Self-motivated', 'Proactive', 'Results-driven']
2025-10-08 20:21:21,103 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Domain Keywords (5): ['Fundraising', 'Predictive Analytics', 'Data Pipeline', 'Productivity', 'Data-driven Business Decisions']
2025-10-08 20:21:21,103 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Technical Skills (15): ['Data Analysis', 'Data Mining', 'Business Intelligence', 'Power BI', 'SQL', 'Database Management', 'Data Warehousing', 'Excel Formulas', 'VBA', 'Data Modeling', 'Spreadsheets', 'Stakeholder Management', 'Marketing Campaigns', 'Data Utilization', 'Data Cleansing']
2025-10-08 20:21:21,103 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Soft Skills (8): ['Communication', 'Collaboration', 'Problem-solving', 'Analytical Thinking', 'Detail-oriented', 'Self-motivated', 'Proactive', 'Results-driven']
2025-10-08 20:21:21,103 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Domain Keywords (15): ['Fundraising', 'Humanitarian Aid', 'Refugee Support', 'Business Decision-making', 'Donor Value Maximization', 'Direct Marketing', 'Segmentation Strategies', 'Multi-channel Communication', 'Data Warehouse Administration', 'Project Management', 'Data-driven Decision Making', 'Business Intelligence Requirements', 'Data Selections', 'Data Extraction', 'Data Analysis Post Campaign']
2025-10-08 20:21:21,103 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] Analysis completed successfully
2025-10-08 20:21:21,104 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-08 20:21:21,104 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:21:21,104 - app.services.skill_extraction.result_saver - INFO - 📁 Result saver initialized with base directory: user/munna@gmail.com/cv-analysis
2025-10-08 20:21:21,105 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:21:21,105 - app.routes.skills_analysis - INFO - 🔍 [COMPANY_DETECTION] Looking in: user/munna@gmail.com/cv-analysis/applied_companies
2025-10-08 20:21:21,106 - app.routes.skills_analysis - INFO - 📁 [COMPANY_DETECTION] Found company folder: Australia_for_UNHCR with 1 job_info files
2025-10-08 20:21:21,106 - app.routes.skills_analysis - INFO - 🏢 [COMPANY_DETECTION] Using most recent company folder: Australia_for_UNHCR
2025-10-08 20:21:21,109 - app.routes.skills_analysis - INFO - 📋 [COMPANY_DETECTION] Job info company: Australia for UNHCR
2025-10-08 20:21:21,111 - app.services.skill_extraction.result_saver - INFO - 🏢 Using provided company name: Australia_for_UNHCR -> Australia_for_UNHCR
2025-10-08 20:21:21,112 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:21:21,115 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-08 20:21:21,115 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:21:21,117 - app.services.skill_extraction.result_saver - INFO - 💾 Structured CV already exists, preserving it: user/munna@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-08 20:21:21,117 - app.services.skill_extraction.result_saver - INFO - 💾 Structured CV preserved, skipping save: user/munna@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-08 20:21:21,119 - app.services.skill_extraction.result_saver - INFO - 💾 Analysis results saved (JSON) to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251008_202121.json
2025-10-08 20:21:21,120 - app.routes.skills_analysis - INFO - 📁 [FILE_SAVE] Results saved to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251008_202121.json
2025-10-08 20:21:21,120 - app.routes.skills_analysis - INFO - 🔍 [ANALYZE_MATCH] Starting analyze match assessment...
2025-10-08 20:21:21,170 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-08 20:21:24,416 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 20:21:24,420 - app.routes.skills_analysis - INFO - ✅ [ANALYZE_MATCH] Analysis completed (length: 2019 chars)
2025-10-08 20:21:24,420 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:21:24,421 - app.services.skill_extraction.result_saver - INFO - 📂 Found existing analysis file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251008_202121.json
2025-10-08 20:21:24,421 - app.services.skill_extraction.result_saver - INFO - 🔍 Looking for analysis file in: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-08 20:21:24,422 - app.services.skill_extraction.result_saver - INFO - 📄 Using existing file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251008_202121.json
2025-10-08 20:21:24,424 - app.services.skill_extraction.result_saver - INFO - 📁 [ANALYZE_MATCH] Results appended to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251008_202121.json
2025-10-08 20:21:24,424 - app.routes.skills_analysis - INFO - 📁 [ANALYZE_MATCH] Results appended to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251008_202121.json
2025-10-08 20:21:24,424 - app.routes.skills_analysis - INFO - 🔍 [PREEXTRACTED_COMPARISON] Starting pre-extracted skills semantic comparison...
2025-10-08 20:21:24,429 - app.services.skill_extraction.preextracted_comparator - INFO - 🔍 [EXACT_MATCHES] Found 3 exact matches: {'technical_skills': [{'jd_skill': 'Business Intelligence', 'cv_skill': 'Business Intelligence', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Data Analysis', 'cv_skill': 'Data Analysis', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Power BI', 'cv_skill': 'Power BI', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'SQL', 'cv_skill': 'SQL', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}], 'soft_skills': [{'jd_skill': 'Analytical Thinking', 'cv_skill': 'Analytical Thinking', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Collaboration', 'cv_skill': 'Collaboration', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Communication', 'cv_skill': 'Communication', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Detail-oriented', 'cv_skill': 'Detail-oriented', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Proactive', 'cv_skill': 'Proactive', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Results-driven', 'cv_skill': 'Results-driven', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Self-motivated', 'cv_skill': 'Self-motivated', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}], 'domain_keywords': [{'jd_skill': 'Fundraising', 'cv_skill': 'Fundraising', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}]}
2025-10-08 20:21:24,455 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-08 20:21:32,936 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 20:21:32,939 - app.services.skill_extraction.preextracted_comparator - INFO - ℹ️ [VALIDATION] soft_skills: matched 7 + missing 0 = 7 vs JD count 8 (acceptable variance)
2025-10-08 20:21:32,939 - app.services.skill_extraction.preextracted_comparator - INFO - ℹ️ [VALIDATION] domain_keywords: matched 1 + missing 13 = 14 vs JD count 15 (acceptable variance)
2025-10-08 20:21:32,939 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] CV Skills: Tech=16, Soft=12, Domain=5
2025-10-08 20:21:32,939 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] JD Skills: Tech=15, Soft=8, Domain=15
2025-10-08 20:21:32,940 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [VALIDATION] Comparison results passed validation
2025-10-08 20:21:32,940 - app.routes.skills_analysis - INFO - ✅ [PREEXTRACTED_COMPARISON] Completed (length: 5370 chars)
2025-10-08 20:21:32,940 - app.services.skill_extraction.result_saver - INFO - 🏢 [PREEXTRACTED_COMPARISON] Inferred company from saved_file_path: Australia_for_UNHCR
2025-10-08 20:21:32,943 - app.services.skill_extraction.result_saver - INFO - 📁 [PREEXTRACTED_COMPARISON] Results appended to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251008_202121.json
2025-10-08 20:21:32,944 - app.routes.skills_analysis - INFO - 📁 [PREEXTRACTED_COMPARISON] Results appended to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251008_202121.json
2025-10-08 20:21:32,944 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:21:32,945 - app.routes.skills_analysis - INFO - ♻️ [PIPELINE] (preliminary-analysis) JD file already exists: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/jd_original_20251008_201427.json
2025-10-08 20:21:32,947 - app.routes.skills_analysis - INFO - ♻️ [JOBS] Job already exists in saved_jobs.json: Data Analyst at Australia for UNHCR
2025-10-08 20:21:32,948 - app.routes.skills_analysis - INFO - 🚀 [PIPELINE] (preliminary-analysis) scheduling for company: Australia_for_UNHCR
2025-10-08 20:21:32,948 - app.routes.skills_analysis - INFO - 🚀 [PIPELINE] Scheduling JD analysis and CV–JD matching for 'Australia_for_UNHCR'...
2025-10-08 20:21:32,949 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:21:32,949 - app.routes.skills_analysis - INFO - 🔧 [PIPELINE] Starting JD analysis for Australia_for_UNHCR (force_refresh=True)
2025-10-08 20:21:32,950 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:21:32,950 - app.services.jd_analysis.jd_analyzer - INFO - 🔄 Analyzing JD for Australia_for_UNHCR (force_refresh=True)
2025-10-08 20:21:32,952 - app.services.jd_analysis.jd_analyzer - INFO - 📄 Analyzing JD file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/jd_original_20251008_201427.json
2025-10-08 20:21:32,983 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-08 20:21:34,731 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 20:21:34,732 - app.services.jd_analysis.jd_analyzer - INFO - ✅ JD analysis completed. Found 0 required and 0 preferred keywords
2025-10-08 20:21:34,733 - app.services.jd_analysis.jd_analyzer - INFO - ♻️ JD analysis already exists, reusing: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_jd_analysis_20251008_201603.json
2025-10-08 20:21:34,733 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] JD analysis saved for Australia_for_UNHCR at: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_jd_analysis_20251008_201603.json
2025-10-08 20:21:34,736 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:21:34,736 - app.services.jd_usage_tracker - ERROR - ❌ [JD_TRACKER] Error recording JD usage: Either jd_url or jd_text must be provided
2025-10-08 20:21:34,736 - app.routes.skills_analysis - INFO - 📝 [PIPELINE] JD usage recorded for Australia_for_UNHCR
2025-10-08 20:21:34,737 - app.routes.skills_analysis - INFO - 🔧 [PIPELINE] Starting CV–JD matching for Australia_for_UNHCR
2025-10-08 20:21:34,737 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:21:34,737 - app.routes.skills_analysis - WARNING - ⚠️ [PIPELINE] Could not preselect CV TXT for matching: No module named 'app.services.dynamic_cv_selector'
2025-10-08 20:21:34,738 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🔍 [CV_JD_MATCHER] No explicit CV path provided, using unified selector for Australia_for_UNHCR
2025-10-08 20:21:34,738 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:21:34,738 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:21:34,738 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-08 20:21:34,739 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:21:34,739 - app.services.jd_usage_tracker - ERROR - ❌ [JD_TRACKER] Error checking JD usage: Either jd_url or jd_text must be provided
2025-10-08 20:21:34,739 - app.services.cv_jd_matching.cv_jd_matcher - INFO - ✅ [CV_JD_MATCHER] Selected CV → type=original, ts=None, path=user/munna@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-08 20:21:34,742 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 📄 [CV_JD_MATCHER] Read CV from: user/munna@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-08 20:21:34,744 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🧪 [CV_JD_MATCHER] CV content length=4864, preview='Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD in Physics and completed a Master's in Data Science, bringing over three years of experience in Python  coding, AI, and machine learning. My expertise encompasses modeling and training AI models, writing efficient Python'
2025-10-08 20:21:34,744 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🔍 Found 9 required and 4 preferred keywords
2025-10-08 20:21:34,767 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-08 20:21:36,869 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 20:21:36,880 - app.services.cv_jd_matching.cv_jd_matcher - INFO - ✅ CV-JD matching completed. Found 6 matched required keywords
2025-10-08 20:21:36,882 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:21:36,882 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:21:36,883 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 💾 Saved CV-JD match results to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_cv_jd_matching_20251008_202136.json
2025-10-08 20:21:36,884 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] CV–JD match results saved for Australia_for_UNHCR
2025-10-08 20:21:36,884 - app.routes.skills_analysis - INFO - 🔍 [PIPELINE] Starting component analysis for Australia_for_UNHCR
2025-10-08 20:21:36,886 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:21:36,887 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:21:36,887 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:21:36,888 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-08 20:21:36,888 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Latest CV selected → type=tailored, ts=20251008_201707, json=user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_201707.json, txt=user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_201707.txt
2025-10-08 20:21:36,890 - app.routes.skills_analysis - INFO - 🧪 [PIPELINE] CV content length=803, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • Power BI, Excel, Python, SQL, Fundraising, Analytical Models, Data Analysis, Business Intelligence  EXPERIENCE Data Analyst         Jul 2024 – Present The Bitrates, Sydney, New South Wales, Australia  • Designed and implemented Python scripts for data cleaning, preprocessing, and analysis, impr'
2025-10-08 20:21:36,890 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:21:36,890 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Required files found, proceeding with component analysis
2025-10-08 20:21:36,890 - app.services.ats.modular_ats_orchestrator - INFO - ===== [MODULAR ATS] Starting component analysis for: Australia_for_UNHCR =====
2025-10-08 20:21:36,891 - app.services.ats.component_assembler - INFO - ===== [ASSEMBLER] Starting component assembly for: Australia_for_UNHCR =====
2025-10-08 20:21:36,891 - app.services.ats.component_assembler - INFO - 📄 [ASSEMBLER] Using CV text provided by caller
2025-10-08 20:21:36,896 - app.services.ats.component_assembler - WARNING - [ASSEMBLER] Match results not found: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/cv_jd_match_results.json
2025-10-08 20:21:36,897 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Starting parallel component analyses...
2025-10-08 20:21:36,898 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Requesting skills relevance analysis...
2025-10-08 20:21:36,900 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Requirement bonus using match file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_cv_jd_matching_20251008_202136.json
2025-10-08 20:21:36,900 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Using existing match_counts from file
2025-10-08 20:21:36,901 - app.services.ats.requirement_bonus_calculator - INFO - [ATS][BONUS] required_total=9 matched_required=6 missing_required=3 required_bonus=3.00 required_penalty=-1.50 preferred_total=4 matched_preferred=0 missing_preferred=4 preferred_bonus=0.00 preferred_penalty=-0.60 total_bonus=0.90
2025-10-08 20:21:36,901 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Requirement bonus calculated: 0.90 points
2025-10-08 20:21:36,925 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-08 20:21:52,289 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 20:21:52,692 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Raw response length: 5875
2025-10-08 20:21:52,693 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Raw response preview: {
  "skills_analysis": [
    {
      "skill": "Power BI",
      "cv_evidence": "Built 7 dynamic dashboards and visualizations using Python libraries like Matplotlib and Seaborn",
      "jd_application
2025-10-08 20:21:52,693 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Cleaned response: {
  "skills_analysis": [
    {
      "skill": "Power BI",
      "cv_evidence": "Built 7 dynamic dashboards and visualizations using Python libraries like Matplotlib and Seaborn",
      "jd_application
2025-10-08 20:21:52,694 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Direct parse successful
2025-10-08 20:21:52,694 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Analysis completed. Score: 61.0
2025-10-08 20:21:52,694 - app.services.ats.components.experience_analyzer - INFO - [EXPERIENCE] Requesting experience alignment analysis...
2025-10-08 20:21:52,721 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-08 20:21:54,845 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 20:21:54,850 - app.services.ats.components.experience_analyzer - INFO - [EXPERIENCE] Analysis completed. Score: 60.0
2025-10-08 20:21:54,850 - app.services.ats.components.industry_analyzer - INFO - [INDUSTRY] Requesting industry fit analysis...
2025-10-08 20:21:54,870 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-08 20:21:59,138 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 20:21:59,147 - app.services.ats.components.industry_analyzer - INFO - [INDUSTRY] Analysis completed. Score: 60.0
2025-10-08 20:21:59,154 - app.services.ats.components.seniority_analyzer - INFO - [SENIORITY] Requesting role seniority analysis...
2025-10-08 20:21:59,191 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-08 20:22:01,667 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 20:22:01,679 - app.services.ats.components.seniority_analyzer - INFO - [SENIORITY] Analysis completed. Score: 20.0
2025-10-08 20:22:01,680 - app.services.ats.components.technical_analyzer - INFO - [TECHNICAL] Requesting technical depth analysis...
2025-10-08 20:22:01,711 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-08 20:22:03,580 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 20:22:03,591 - app.services.ats.components.technical_analyzer - INFO - [TECHNICAL] Analysis completed. Score: 90.0
2025-10-08 20:22:03,592 - app.services.ats.component_assembler - INFO - [ASSEMBLER] All component analyses completed successfully
2025-10-08 20:22:03,593 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Validating cross-analyzer consistency...
2025-10-08 20:22:03,593 - app.services.ats.components.consistency_validator - ERROR - [CONSISTENCY] Validation failed: unsupported operand type(s) for -: 'str' and 'int'
2025-10-08 20:22:03,593 - app.services.ats.component_assembler - WARNING - [ASSEMBLER] Inconsistencies detected in analysis results
2025-10-08 20:22:03,593 - app.services.ats.component_assembler - WARNING - [ASSEMBLER] Confidence score: 100%
2025-10-08 20:22:03,597 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Results saved to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251008_202121.json
2025-10-08 20:22:03,597 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Starting ATS score calculation...
2025-10-08 20:22:03,598 - app.services.ats.ats_score_calculator - INFO - [ATS] Starting comprehensive ATS score calculation
2025-10-08 20:22:03,599 - app.services.ats.ats_score_calculator - INFO - [ATS] Match rates - Tech: 93.0%, Domain: 7.0%, Soft: 100.0%
2025-10-08 20:22:03,599 - app.services.ats.ats_score_calculator - INFO - [ATS] Missing counts - Tech: 1, Domain: 13, Soft: 0
2025-10-08 20:22:03,599 - app.services.ats.ats_score_calculator - INFO - [ATS] Category 1 - Tech: 18.6, Domain: 0.4, Soft: 15.0, Total: 34.0
2025-10-08 20:22:03,599 - app.services.ats.ats_score_calculator - INFO - [ATS] Category 2 - Core: 15.9, Exp: 3.6, Potential: 6.0, Company: 0.8, Total: 26.3
2025-10-08 20:22:03,599 - app.services.ats.ats_score_calculator - INFO - [ATS] Final ATS Score: 61.1/100 (⚠️ Moderate fit)
2025-10-08 20:22:03,601 - app.services.ats.component_assembler - INFO - [ASSEMBLER] ATS calculation completed. Score: 61.1/100 (⚠️ Moderate fit)
2025-10-08 20:22:03,601 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:22:03,602 - app.services.ats_recommendation_service - INFO - Final ATS Score: 61.137499999999996
2025-10-08 20:22:03,602 - app.services.ats_recommendation_service - INFO - Category Status: ⚠️ Moderate fit
2025-10-08 20:22:03,602 - app.services.ats_recommendation_service - INFO - Successfully extracted comprehensive recommendation data for Australia_for_UNHCR
2025-10-08 20:22:03,604 - app.services.ats_recommendation_service - INFO - Successfully created recommendation file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251008_202203.json
2025-10-08 20:22:03,726 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 20:22:03,734 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-08 20:22:03,735 - sqlalchemy.engine.Engine - INFO - [generated in 0.00081s] {'email_1': 'munna@gmail.com'}
2025-10-08 20:22:04,124 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-08 20:22:04,124 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'name_1': 'Australia_for_UNHCR'}
2025-10-08 20:22:04,198 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-08 20:22:04,199 - sqlalchemy.engine.Engine - INFO - [generated in 0.00056s] {'user_id': '4df52e53-b78f-45e9-8946-3b6c00618693', 'company_id': 12, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251008_202203.json', 'file_path': 'user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251008_202203.json', 'file_size': 27123, 'sha256': '2b81aae1f2a2136236383a89d92cd04595d3b96ea6ac9495e0a2180d54a380ff', 'timestamp': '20251008_202203'}
2025-10-08 20:22:04,261 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-08 20:22:04,261 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s] {'user_id': '4df52e53-b78f-45e9-8946-3b6c00618693', 'company_id': 12, 'kind': 'input_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 137}
2025-10-08 20:22:04,312 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-08 20:22:04,362 - app.services.ats_recommendation_service - INFO - Successfully created AI recommendation prompt: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_prompt_recommendation.py
2025-10-08 20:22:04,362 - app.services.ats_recommendation_service - INFO - 🤖 [TRIGGER] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-08 20:22:04,362 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:22:04,363 - app.services.ats_recommendation_service - INFO - 📋 [TRIGGER] AI generation scheduled as background task for Australia_for_UNHCR
2025-10-08 20:22:04,363 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Recommendation file created for Australia_for_UNHCR
2025-10-08 20:22:04,363 - app.services.ats.component_assembler - INFO - ===== [ASSEMBLER] Completed assembly. Scores: skills=61.0 exp=60.0 industry=60.0 seniority=20.0 tech=90.0 =====
2025-10-08 20:22:04,363 - app.services.ats.modular_ats_orchestrator - INFO - ===== [MODULAR ATS] Component analysis completed for: Australia_for_UNHCR =====
2025-10-08 20:22:04,363 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Component analysis completed for Australia_for_UNHCR
2025-10-08 20:22:04,363 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] Component scores extracted: 23 scores
2025-10-08 20:22:04,364 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] skills_relevance: 61.0
2025-10-08 20:22:04,364 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] experience_alignment: 60.0
2025-10-08 20:22:04,364 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] industry_fit: 60.0
2025-10-08 20:22:04,364 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] role_seniority: 20.0
2025-10-08 20:22:04,364 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] technical_depth: 90.0
2025-10-08 20:22:04,364 - app.routes.skills_analysis - INFO - 🎯 [PIPELINE] ATS Score calculated: 61.137499999999996
2025-10-08 20:22:04,364 - app.routes.skills_analysis - INFO - 📋 [PIPELINE] Creating input recommendation file for Australia_for_UNHCR
2025-10-08 20:22:04,365 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:22:04,366 - app.services.ats_recommendation_service - INFO - Final ATS Score: 61.137499999999996
2025-10-08 20:22:04,366 - app.services.ats_recommendation_service - INFO - Category Status: ⚠️ Moderate fit
2025-10-08 20:22:04,366 - app.services.ats_recommendation_service - INFO - Successfully extracted comprehensive recommendation data for Australia_for_UNHCR
2025-10-08 20:22:04,368 - app.services.ats_recommendation_service - INFO - Successfully created recommendation file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251008_202204.json
2025-10-08 20:22:04,502 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 20:22:04,503 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-08 20:22:04,503 - sqlalchemy.engine.Engine - INFO - [cached since 0.7694s ago] {'email_1': 'munna@gmail.com'}
2025-10-08 20:22:04,766 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-08 20:22:04,766 - sqlalchemy.engine.Engine - INFO - [cached since 0.6424s ago] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'name_1': 'Australia_for_UNHCR'}
2025-10-08 20:22:04,819 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-08 20:22:04,820 - sqlalchemy.engine.Engine - INFO - [cached since 0.6218s ago] {'user_id': '4df52e53-b78f-45e9-8946-3b6c00618693', 'company_id': 12, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251008_202204.json', 'file_path': 'user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251008_202204.json', 'file_size': 27123, 'sha256': '2b81aae1f2a2136236383a89d92cd04595d3b96ea6ac9495e0a2180d54a380ff', 'timestamp': '20251008_202204'}
2025-10-08 20:22:04,850 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-08 20:22:04,873 - app.services.ats_recommendation_service - WARNING - ⚠️ [DB] Failed to register input recommendation: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "uq_company_files_dedupe"
DETAIL:  Key (user_id, company_id, file_type, sha256)=(4df52e53-b78f-45e9-8946-3b6c00618693, 12, input_recommendation, 2b81aae1f2a2136236383a89d92cd04595d3b96ea6ac9495e0a2180d54a380ff) already exists.

[SQL: INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at]
[parameters: {'user_id': '4df52e53-b78f-45e9-8946-3b6c00618693', 'company_id': 12, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251008_202204.json', 'file_path': 'user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251008_202204.json', 'file_size': 27123, 'sha256': '2b81aae1f2a2136236383a89d92cd04595d3b96ea6ac9495e0a2180d54a380ff', 'timestamp': '20251008_202204'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-10-08 20:22:04,875 - app.services.ats_recommendation_service - INFO - Successfully created AI recommendation prompt: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_prompt_recommendation.py
2025-10-08 20:22:04,875 - app.services.ats_recommendation_service - INFO - 🤖 [TRIGGER] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-08 20:22:04,878 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:22:04,878 - app.services.ats_recommendation_service - INFO - 📋 [TRIGGER] AI generation scheduled as background task for Australia_for_UNHCR
2025-10-08 20:22:04,878 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Input recommendation file created for Australia_for_UNHCR
2025-10-08 20:22:04,879 - app.routes.skills_analysis - INFO - 🤖 [PIPELINE] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-08 20:22:04,879 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:22:04,879 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-08 20:22:04,881 - app.services.ai_recommendation_generator - INFO - 🟡 [AI GENERATOR] Input recommendation is newer (ai_mtime=1759915005.8671978, input_mtime=1759915324.3683321); regenerating AI recommendation
2025-10-08 20:22:04,881 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:22:04,882 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:22:04,882 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-08 20:22:04,884 - app.services.ai_recommendation_generator - ERROR - ❌ [AI GENERATOR] Error checking CV freshness: 'str' object has no attribute 'timestamp'
2025-10-08 20:22:04,886 - app.services.ai_recommendation_generator - INFO - 📋 [AI GENERATOR] Generated AI prompt for Australia_for_UNHCR using centralized template (12655 characters)
2025-10-08 20:22:04,887 - app.services.ai_recommendation_generator - INFO - 🧠 [AI GENERATOR] Executing AI prompt for Australia_for_UNHCR
2025-10-08 20:22:04,925 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-08 20:22:09,750 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 20:22:09,752 - app.services.ai_recommendation_generator - INFO - 🧠 [AI GENERATOR] AI response generated - Provider: openai, Model: gpt-3.5-turbo
2025-10-08 20:22:09,752 - app.services.ai_recommendation_generator - INFO - 💰 [AI GENERATOR] Cost: $0.0045, Tokens: 3459
2025-10-08 20:22:09,753 - app.services.ai_recommendation_generator - INFO - 💾 [AI GENERATOR] Saved AI recommendation: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251008_202209.json (3.1KB)
2025-10-08 20:22:09,771 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 20:22:09,772 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-08 20:22:09,773 - sqlalchemy.engine.Engine - INFO - [cached since 6.039s ago] {'email_1': 'munna@gmail.com'}
2025-10-08 20:22:09,817 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-08 20:22:09,817 - sqlalchemy.engine.Engine - INFO - [cached since 5.693s ago] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'name_1': 'Australia_for_UNHCR'}
2025-10-08 20:22:09,842 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-08 20:22:09,843 - sqlalchemy.engine.Engine - INFO - [cached since 5.645s ago] {'user_id': '4df52e53-b78f-45e9-8946-3b6c00618693', 'company_id': 12, 'file_type': 'ai_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_ai_recommendation_20251008_202209.json', 'file_path': 'user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251008_202209.json', 'file_size': 3153, 'sha256': 'cb70a0a6148cf33a7d225b06910d1b34b87c3d6a3da372118682ca991376e725', 'timestamp': '20251008_202209'}
2025-10-08 20:22:09,864 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-08 20:22:09,865 - sqlalchemy.engine.Engine - INFO - [cached since 5.604s ago] {'user_id': '4df52e53-b78f-45e9-8946-3b6c00618693', 'company_id': 12, 'kind': 'ai_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 139}
2025-10-08 20:22:09,887 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-08 20:22:09,906 - app.services.ai_recommendation_generator - INFO - ✅ [AI GENERATOR] AI recommendation generated and saved for Australia_for_UNHCR
2025-10-08 20:22:09,907 - app.services.ai_recommendation_generator - INFO - 📄 File: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251008_201645.json
2025-10-08 20:22:09,908 - app.services.ai_recommendation_generator - INFO - 💰 Cost: $0.0045
2025-10-08 20:22:09,909 - app.services.ai_recommendation_generator - INFO - 🔤 Tokens: 3459
2025-10-08 20:22:09,909 - app.services.ai_recommendation_generator - INFO - 🚀 [AI GENERATOR] Starting automatic CV tailoring for Australia_for_UNHCR
2025-10-08 20:22:09,910 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:22:09,913 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded CV optimization framework from /Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/tailored_cv/prompts/framework.md
2025-10-08 20:22:09,913 - app.tailored_cv.services.cv_tailoring_service - INFO - Loading real data for Australia_for_UNHCR
2025-10-08 20:22:09,913 - app.tailored_cv.services.cv_tailoring_service - INFO - Company folder: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-08 20:22:09,914 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:22:09,914 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:22:09,914 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-08 20:22:09,915 - app.tailored_cv.services.cv_tailoring_service - INFO - 📄 [TAILORING] Using latest CV via unified selector → type=tailored, ts=20251008_201707, path=user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_201707.json
2025-10-08 20:22:09,915 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [DEBUG] Loading CV from user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_201707.json
2025-10-08 20:22:09,916 - app.tailored_cv.services.cv_tailoring_service - INFO - - First 200 chars: {   "contact": {     "name": "Maheshwor Tiwari",     "phone": "0414 032 507",     "email": "maheshtwari99@gmail.com",     "linkedin": "",     "location": "Hurstville, NSW, 2220",     "website": ""   }
2025-10-08 20:22:09,917 - app.tailored_cv.services.recommendation_parser - INFO - 📂 Loading CV from: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_201707.json
2025-10-08 20:22:09,917 - app.tailored_cv.services.recommendation_parser - INFO - 📋 CV format check:
2025-10-08 20:22:09,918 - app.tailored_cv.services.recommendation_parser - INFO -   - Top-level keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-08 20:22:09,918 - app.tailored_cv.services.recommendation_parser - INFO -   - Has metadata: False
2025-10-08 20:22:09,918 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Detected tailored structured CV format (contact/experience/skills)
2025-10-08 20:22:09,918 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Successfully normalized tailored structured CV
2025-10-08 20:22:09,919 - app.tailored_cv.services.cv_tailoring_service - INFO - - Parsed CV data keys: ['contact', 'education', 'experience', 'skills', 'projects']
2025-10-08 20:22:09,919 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔄 Converting skills from List[str] to List[SkillCategory]
2025-10-08 20:22:09,919 - app.tailored_cv.services.cv_tailoring_service - INFO - - Final CV object attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__repr__', '__repr_args__', '__repr_name__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_check_frozen', '_copy_and_set_values', '_get_value', '_iter', 'construct', 'contact', 'copy', 'created_at', 'dict', 'education', 'experience', 'experience_level', 'from_orm', 'json', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'projects', 'schema', 'schema_json', 'skills', 'total_years_experience', 'update_forward_refs', 'updated_at', 'validate']
2025-10-08 20:22:09,924 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Parsed recommendation for Australia_for_UNHCR
2025-10-08 20:22:09,924 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded real CV and recommendation for Australia_for_UNHCR
2025-10-08 20:22:09,925 - app.tailored_cv.services.cv_tailoring_service - INFO - 🎯 Starting CV tailoring for Australia_for_UNHCR - Senior Data Analyst
2025-10-08 20:22:09,925 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [DEBUG] Validating CV structure:
2025-10-08 20:22:09,925 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV object type: <class 'app.tailored_cv.models.cv_models.OriginalCV'>
2025-10-08 20:22:09,925 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__repr__', '__repr_args__', '__repr_name__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_check_frozen', '_copy_and_set_values', '_get_value', '_iter', 'construct', 'contact', 'copy', 'created_at', 'dict', 'education', 'experience', 'experience_level', 'from_orm', 'json', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'projects', 'schema', 'schema_json', 'skills', 'total_years_experience', 'update_forward_refs', 'updated_at', 'validate']
2025-10-08 20:22:09,926 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV data: {
  "contact": {
    "name": "Maheshwor Tiwari",
    "phone": "0414 032 507",
    "email": "maheshtwari99@gmail.com",
    "linkedin": "",
    "location": "Hurstville, NSW, 2220",
    "website": ""
  },
  "education": [],
  "experience": [
    {
      "company": "The Bitrates",
      "title": "Data Analyst",
      "location": "The Bitrates, Sydney, New South Wales, Australia",
      "start_date": "Jul 2024",
      "end_date": "Present",
      "duration": null,
      "bullets": [
        "Designed and implemented Python scripts for data cleaning, preprocessing, and analysis, improving data pipeline efficiency by 30%.",
        "Developed 5 machine learning models in Python for predictive analytics, enabling datadriven business decisions.",
        "Leveraged AI techniques to automate repetitive tasks, reducing manual effort and improving productivity by 25%.",
        "Built 7 dynamic dashboards and visualizations using Python libraries like Matplotlib and Seaborn to communicate insights effectively."
      ],
      "skills_used": null
    }
  ],
  "projects": [],
  "skills": [
    {
      "category": "Technical Skills",
      "skills": [
        "Power BI",
        "Excel",
        "Python",
        "SQL",
        "Fundraising",
        "Analytical Models",
        "Data Analysis",
        "Business Intelligence"
      ]
    }
  ],
  "experience_level": null,
  "total_years_experience": null,
  "created_at": null,
  "updated_at": null
}
2025-10-08 20:22:09,926 - app.tailored_cv.services.cv_tailoring_service - INFO - [067b6f3e] 🎯 Starting CV tailoring for Australia_for_UNHCR with strategy: education_first
2025-10-08 20:22:09,926 - app.tailored_cv.services.cv_tailoring_service - INFO - [067b6f3e] Initial stats:
2025-10-08 20:22:09,926 - app.tailored_cv.services.cv_tailoring_service - INFO - [067b6f3e] - Experience entries: 1
2025-10-08 20:22:09,927 - app.tailored_cv.services.cv_tailoring_service - INFO - [067b6f3e] - Total bullets: 4
2025-10-08 20:22:09,927 - app.tailored_cv.services.cv_tailoring_service - INFO - [067b6f3e] - Skills categories: 1
2025-10-08 20:22:09,927 - app.tailored_cv.services.cv_tailoring_service - INFO - [067b6f3e] - Total skills: 8
2025-10-08 20:22:09,927 - app.tailored_cv.services.cv_tailoring_service - INFO - [067b6f3e] Critical gaps to address: Business Intelligence, VBA, Analytical, Results-Driven
2025-10-08 20:22:09,927 - app.tailored_cv.services.cv_tailoring_service - INFO - [067b6f3e] Technical enhancements needed: 
2025-10-08 20:22:09,927 - app.tailored_cv.services.cv_tailoring_service - INFO - [067b6f3e] 🤖 Generating tailored CV using AI service...
2025-10-08 20:22:09,928 - app.tailored_cv.services.cv_tailoring_service - INFO - [067b6f3e] Attempt 1/5 with temp=0.0
2025-10-08 20:22:09,928 - app.tailored_cv.services.cv_tailoring_service - INFO - [067b6f3e] - System prompt length: 10574
2025-10-08 20:22:09,928 - app.tailored_cv.services.cv_tailoring_service - INFO - [067b6f3e] - User prompt length: 6652
2025-10-08 20:22:09,951 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-08 20:22:16,920 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 20:22:16,922 - app.tailored_cv.services.cv_tailoring_service - INFO - [067b6f3e] AI response stats:
2025-10-08 20:22:16,922 - app.tailored_cv.services.cv_tailoring_service - INFO - [067b6f3e] - Content length: 1728
2025-10-08 20:22:16,923 - app.tailored_cv.services.cv_tailoring_service - INFO - [067b6f3e] - First 300 chars: {   "contact": {     "name": "Maheshwor Tiwari",     "phone": "0414 032 507",     "email": "maheshtwari99@gmail.com",     "location": "Hurstville, NSW, 2220",     "linkedin": ""   },   "education": [],   "experience": [     {       "company": "The Bitrates",       "title": "Senior Data Analyst",    ...
2025-10-08 20:22:16,923 - app.tailored_cv.services.cv_tailoring_service - INFO - Starting JSON extraction from content length: 1728
2025-10-08 20:22:16,923 - app.tailored_cv.services.cv_tailoring_service - INFO - [067b6f3e] 🔍 Starting JSON validation
2025-10-08 20:22:16,923 - app.tailored_cv.services.cv_tailoring_service - INFO - [067b6f3e] CV created with excellent quality: 80.0% quantification
2025-10-08 20:22:16,923 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ JSON structure and Impact Formula validation passed (4/5 bullets with quantification)
2025-10-08 20:22:16,924 - app.tailored_cv.services.cv_tailoring_service - INFO - ℹ️ Skipping placeholder checks; proceeding with generated data as-is.
2025-10-08 20:22:16,924 - app.tailored_cv.services.cv_tailoring_service - INFO - [067b6f3e] 🔍 Starting keyword integration validation
2025-10-08 20:22:16,924 - app.tailored_cv.services.cv_tailoring_service - INFO - [067b6f3e] Scanning experience bullets:
2025-10-08 20:22:16,924 - app.tailored_cv.services.cv_tailoring_service - INFO - [067b6f3e] - Experience 1: 5 bullets
2025-10-08 20:22:16,924 - app.tailored_cv.services.cv_tailoring_service - INFO - [067b6f3e] Scanning skills:
2025-10-08 20:22:16,924 - app.tailored_cv.services.cv_tailoring_service - INFO - [067b6f3e] - Category 1: 9 skills
2025-10-08 20:22:16,924 - app.tailored_cv.services.cv_tailoring_service - WARNING - ⚠️ Some keywords not found but within acceptable range: Results-Driven
2025-10-08 20:22:16,924 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Keyword integration validation passed - 3/4 critical keywords found
2025-10-08 20:22:16,925 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Keyword integration validation passed - 4 critical keywords found
2025-10-08 20:22:16,925 - app.tailored_cv.services.cv_tailoring_service - INFO - [067b6f3e] ✅ AI generation successful on attempt 1
2025-10-08 20:22:16,949 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-08 20:22:17,430 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 20:22:17,432 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ CV tailoring completed successfully. Estimated ATS score: 85
2025-10-08 20:22:17,434 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Saved tailored CV to user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202217.json
2025-10-08 20:22:17,434 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Saved tailored CV text to user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202217.txt
2025-10-08 20:22:17,434 - app.services.ai_recommendation_generator - INFO - ✅ [AI GENERATOR] Tailored CV saved automatically to user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202217.json
2025-10-08 20:22:17,434 - app.services.ai_recommendation_generator - INFO - 📊 [AI GENERATOR] Estimated ATS score: 85
2025-10-08 20:22:17,434 - app.services.ai_recommendation_generator - INFO - 🎯 [AI GENERATOR] CV tailoring completed automatically for Australia_for_UNHCR
2025-10-08 20:22:17,434 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] AI recommendation generated for Australia_for_UNHCR
2025-10-08 20:22:17,434 - app.routes.skills_analysis - INFO - 🎯 [PIPELINE] Starting tailored CV generation for Australia_for_UNHCR
2025-10-08 20:22:17,435 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:22:17,435 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded CV optimization framework from /Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/tailored_cv/prompts/framework.md
2025-10-08 20:22:17,436 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:22:17,436 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Found AI recommendation file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251008_202209.json
2025-10-08 20:22:17,436 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Tailored CV found: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202217.txt
2025-10-08 20:22:17,437 - app.routes.skills_analysis - INFO - 📋 [PIPELINE] Pipeline summary for Australia_for_UNHCR:
2025-10-08 20:22:17,437 - app.routes.skills_analysis - INFO -    ✅ Successful: ['jd_analysis', 'cv_jd_matching', 'component_analysis', 'input_recommendation', 'ai_recommendation', 'tailored_cv']
2025-10-08 20:22:17,437 - app.routes.skills_analysis - INFO -    🎉 All steps completed successfully!
2025-10-08 20:22:17,437 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-08 20:22:17,439 - app.services.ai_recommendation_generator - INFO - 🟢 [AI GENERATOR] Latest AI recommendation (Australia_for_UNHCR_ai_recommendation_20251008_202209.json) is up-to-date vs input (Australia_for_UNHCR_input_recommendation_20251008_202204.json); skipping regeneration
2025-10-08 20:22:17,440 - app.services.ats_recommendation_service - INFO - ✅ [TRIGGER] AI recommendation generated successfully for Australia_for_UNHCR
2025-10-08 20:22:17,442 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-08 20:22:17,444 - app.services.ai_recommendation_generator - INFO - 🟢 [AI GENERATOR] Latest AI recommendation (Australia_for_UNHCR_ai_recommendation_20251008_202209.json) is up-to-date vs input (Australia_for_UNHCR_input_recommendation_20251008_202204.json); skipping regeneration
2025-10-08 20:22:17,445 - app.services.ats_recommendation_service - INFO - ✅ [TRIGGER] AI recommendation generated successfully for Australia_for_UNHCR
2025-10-08 20:22:17,546 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-08 20:22:23,752 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-08 20:22:24,093 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-08 20:22:24,094 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 20:22:24,135 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-08 20:22:24,135 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 20:22:24,182 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-08 20:22:24,183 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 20:22:24,245 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 20:22:24,245 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-08 20:22:24,246 - sqlalchemy.engine.Engine - INFO - [generated in 0.00118s] {}
2025-10-08 20:22:24,311 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-08 20:22:24,342 - app.database - INFO - Database connection successful
2025-10-08 20:22:24,343 - app.main - INFO - ✅ Database connection successful
2025-10-08 20:22:24,381 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 20:22:24,386 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:22:24,387 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:22:24,436 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:22:24,436 - sqlalchemy.engine.Engine - INFO - [cached since 0.04999s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:22:24,493 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:22:24,493 - sqlalchemy.engine.Engine - INFO - [cached since 0.107s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:22:24,520 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:22:24,520 - sqlalchemy.engine.Engine - INFO - [cached since 0.1343s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:22:24,553 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:22:24,553 - sqlalchemy.engine.Engine - INFO - [cached since 0.1673s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:22:24,589 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:22:24,589 - sqlalchemy.engine.Engine - INFO - [cached since 0.2029s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:22:24,648 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:22:24,651 - sqlalchemy.engine.Engine - INFO - [cached since 0.2651s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:22:24,684 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:22:24,684 - sqlalchemy.engine.Engine - INFO - [cached since 0.2977s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:22:24,708 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:22:24,708 - sqlalchemy.engine.Engine - INFO - [cached since 0.3218s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:22:24,727 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:22:24,728 - sqlalchemy.engine.Engine - INFO - [cached since 0.3416s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:22:24,751 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:22:24,752 - sqlalchemy.engine.Engine - INFO - [cached since 0.3654s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:22:24,774 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-08 20:22:24,795 - app.database - INFO - Database tables created successfully
2025-10-08 20:22:24,796 - app.main - INFO - ✅ Database tables ready
2025-10-08 20:22:24,796 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-08 20:22:24,796 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-08 20:22:24,811 - app.routes.skills_analysis - INFO - 📊 [API] Fetching analysis results for company: Australia_for_UNHCR
2025-10-08 20:22:24,812 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:22:24,812 - app.utils.path_debug - INFO - 
📌 Starting get_analysis_results
2025-10-08 20:22:24,812 - app.utils.path_debug - INFO -   📂 User base dir: user/munna@gmail.com/cv-analysis
2025-10-08 20:22:24,812 - app.utils.path_debug - INFO -   📂 Company dir: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-08 20:22:24,813 - app.utils.path_debug - INFO -   📂 Using analysis file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251008_202121.json
2025-10-08 20:22:24,815 - app.utils.path_debug - INFO -   ✅ Loaded analysis file, size: 30216 bytes
2025-10-08 20:22:37,487 - app.routes.skills_analysis - INFO - 📊 [API] Fetching analysis results for company: Australia_for_UNHCR
2025-10-08 20:22:37,489 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:22:37,490 - app.utils.path_debug - INFO - 
📌 Starting get_analysis_results
2025-10-08 20:22:37,490 - app.utils.path_debug - INFO -   📂 User base dir: user/munna@gmail.com/cv-analysis
2025-10-08 20:22:37,490 - app.utils.path_debug - INFO -   📂 Company dir: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-08 20:22:37,491 - app.utils.path_debug - INFO -   📂 Using analysis file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251008_202121.json
2025-10-08 20:22:37,493 - app.utils.path_debug - INFO -   ✅ Loaded analysis file, size: 30216 bytes
2025-10-08 20:22:59,947 - app.routes.ai_recommendations - INFO - 🔍 [AI_RECOMMENDATIONS] Fetching for company: Australia_for_UNHCR, user: munna@gmail.com
2025-10-08 20:22:59,948 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:22:59,948 - app.routes.ai_recommendations - INFO - 🔍 [AI_RECOMMENDATIONS] Searching in: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-08 20:22:59,948 - app.routes.ai_recommendations - INFO - ✅ [AI_RECOMMENDATIONS] Found file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251008_202209.json
2025-10-08 20:22:59,949 - app.routes.ai_recommendations - INFO - ✅ [AI_RECOMMENDATIONS] Successfully loaded recommendation, content length: 2756
2025-10-08 20:23:52,080 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:23:52,152 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 📄 Tailored CV content request for Australia_for_UNHCR from user 4df52e53-b78f-45e9-8946-3b6c00618693
2025-10-08 20:23:52,153 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:23:52,153 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:23:52,153 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-08 20:23:52,155 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ Served TAILORED CV content: Australia_for_UNHCR_tailored_cv_20251008_202217.txt from tailored folder (932 characters)
2025-10-08 20:24:04,414 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Received request data keys: ['company', 'content']
2025-10-08 20:24:04,415 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Request data: {
  "company": "Australia_for_UNHCR",
  "content": "Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220\n\nTECHNICAL SKILLS\n\u2022 Power BI, Excel, Python, SQL, VBA, Fundraising, Analytical Models, Data Analysis, Business Intelligence\n"
}...
2025-10-08 20:24:04,416 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Extracted - Company: Australia_for_UNHCR
2025-10-08 20:24:04,416 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Extracted - Content type: <class 'str'>
2025-10-08 20:24:04,416 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Extracted - Content length: 209
2025-10-08 20:24:04,416 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Starting save process for Australia_for_UNHCR
2025-10-08 20:24:04,416 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:24:04,416 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Tailored path: user/munna@gmail.com/cv-analysis/cvs/tailored
2025-10-08 20:24:04,417 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Found 2 existing TXT files in tailored folder
2025-10-08 20:24:04,417 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] - user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202217.txt
2025-10-08 20:24:04,417 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] - user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_201707.txt
2025-10-08 20:24:04,418 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated TXT: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202217.txt
2025-10-08 20:24:04,419 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Starting CV content parsing
2025-10-08 20:24:04,419 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Content length: 209
2025-10-08 20:24:04,419 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Existing JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-08 20:24:04,419 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Processing 4 lines
2025-10-08 20:24:04,419 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing contact line: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220
2025-10-08 20:24:04,420 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: technical_skills
2025-10-08 20:24:04,420 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsed 9 skills
2025-10-08 20:24:04,420 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing completed successfully
2025-10-08 20:24:04,420 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Updated JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-08 20:24:04,421 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated JSON: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202217.json
2025-10-08 20:24:04,422 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated TXT: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_201707.txt
2025-10-08 20:24:04,423 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Starting CV content parsing
2025-10-08 20:24:04,424 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Content length: 209
2025-10-08 20:24:04,424 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Existing JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-08 20:24:04,424 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Processing 4 lines
2025-10-08 20:24:04,424 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing contact line: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220
2025-10-08 20:24:04,424 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: technical_skills
2025-10-08 20:24:04,424 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsed 9 skills
2025-10-08 20:24:04,425 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing completed successfully
2025-10-08 20:24:04,425 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Updated JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-08 20:24:04,425 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated JSON: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_201707.json
2025-10-08 20:24:04,425 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Completed saving for Australia_for_UNHCR
2025-10-08 20:24:04,650 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Received request data keys: ['company', 'content']
2025-10-08 20:24:04,650 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Request data: {
  "company": "Australia_for_UNHCR",
  "content": "Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220\n\nTECHNICAL SKILLS\n\u2022 Power BI, Excel, Python, SQL, VBA, Fundraising, Analytical Models, Data Analysis, Business Intelligence\n"
}...
2025-10-08 20:24:04,651 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Extracted - Company: Australia_for_UNHCR
2025-10-08 20:24:04,651 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Extracted - Content type: <class 'str'>
2025-10-08 20:24:04,651 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Extracted - Content length: 209
2025-10-08 20:24:04,651 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Starting save process for Australia_for_UNHCR
2025-10-08 20:24:04,651 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:24:04,652 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Tailored path: user/munna@gmail.com/cv-analysis/cvs/tailored
2025-10-08 20:24:04,652 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Found 2 existing TXT files in tailored folder
2025-10-08 20:24:04,652 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] - user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202217.txt
2025-10-08 20:24:04,652 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] - user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_201707.txt
2025-10-08 20:24:04,652 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated TXT: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202217.txt
2025-10-08 20:24:04,653 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Starting CV content parsing
2025-10-08 20:24:04,653 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Content length: 209
2025-10-08 20:24:04,653 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Existing JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-08 20:24:04,653 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Processing 4 lines
2025-10-08 20:24:04,653 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing contact line: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220
2025-10-08 20:24:04,654 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: technical_skills
2025-10-08 20:24:04,654 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsed 9 skills
2025-10-08 20:24:04,654 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing completed successfully
2025-10-08 20:24:04,654 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Updated JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-08 20:24:04,654 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated JSON: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202217.json
2025-10-08 20:24:04,655 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated TXT: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_201707.txt
2025-10-08 20:24:04,655 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Starting CV content parsing
2025-10-08 20:24:04,656 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Content length: 209
2025-10-08 20:24:04,657 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Existing JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-08 20:24:04,658 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Processing 4 lines
2025-10-08 20:24:04,661 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing contact line: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220
2025-10-08 20:24:04,662 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: technical_skills
2025-10-08 20:24:04,663 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsed 9 skills
2025-10-08 20:24:04,663 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing completed successfully
2025-10-08 20:24:04,664 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Updated JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-08 20:24:04,668 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated JSON: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_201707.json
2025-10-08 20:24:04,668 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Completed saving for Australia_for_UNHCR
2025-10-08 20:24:09,750 - app.ai.ai_config - INFO - Auto-selected provider: openai with model: gpt-4o
2025-10-08 20:24:09,751 - app.ai.ai_service - INFO - ✅ Switched to model gpt-3.5-turbo
2025-10-08 20:24:09,751 - app.core.model_dependency - INFO - 🔄 Switched to model from header: gpt-3.5-turbo
2025-10-08 20:24:09,752 - app.routes.skills_analysis - INFO - 🎯 Preliminary analysis request: CV=maheshwor_tiwari.pdf, JD_length=6014, CONFIG=None
2025-10-08 20:24:09,787 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-08 20:24:10,473 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 20:24:10,480 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:24:10,480 - app.routes.skills_analysis - INFO - 🏢 Extracted company name: Australia_for_UNHCR
2025-10-08 20:24:10,480 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:24:10,483 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:24:10,484 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:24:10,484 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-08 20:24:10,484 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:24:10,485 - app.routes.skills_analysis - INFO - 🔗 [PRELIM_ANALYSIS] JD URL (latest job_info): https://www.ethicaljobs.com.au/members/australiaforunhcr/data-analyst
2025-10-08 20:24:10,486 - app.routes.skills_analysis - INFO - 📄 [PRELIM_ANALYSIS] Latest CV selected → type=tailored, ts=20251008_202217, json=user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202217.json, txt=user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202217.txt
2025-10-08 20:24:10,487 - app.routes.skills_analysis - INFO - 🧪 [PRELIM_ANALYSIS] CV content length=209, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • Power BI, Excel, Python, SQL, VBA, Fundraising, Analytical Models, Data Analysis, Business Intelligence '
2025-10-08 20:24:10,487 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-08 20:24:10,487 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-08 20:24:10,487 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-08 20:24:10,487 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Starting AI-powered skills analysis for maheshwor_tiwari.pdf
2025-10-08 20:24:10,488 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] CV content length: 209 chars
2025-10-08 20:24:10,488 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] JD content length: 6014 chars
2025-10-08 20:24:10,488 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using config: default
2025-10-08 20:24:10,488 - app.routes.skills_analysis - INFO - 🧪 [SKILLS_ANALYSIS] CV preview: 'Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • Power BI, Excel, Python, SQL, VBA, Fundraising, Analytical Models, Data Ana'
2025-10-08 20:24:10,488 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI provider: openai
2025-10-08 20:24:10,489 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI model: gpt-3.5-turbo
2025-10-08 20:24:10,489 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Provider available: True
2025-10-08 20:24:10,489 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Model from header: gpt-3.5-turbo
2025-10-08 20:24:10,489 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting CV skills with detailed structured analysis...
2025-10-08 20:24:10,515 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-08 20:24:12,236 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 20:24:12,247 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] Starting response parsing...
2025-10-08 20:24:12,247 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] Raw response preview: 
## SOFT SKILLS:
**EXPLICIT (directly stated):**
- Communication
- Analytical Thinking
- Problem-solving

## TECHNICAL SKILLS:
**EXPLICIT (directly stated):**
- Power BI
- Excel
- Python
- SQL
- VBA
- Fundraising
- Analytical Models
- Data Analysis
- Business Intelligence

## DOMAIN KEYWORDS:
- N/A...
2025-10-08 20:24:12,248 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] FULL CV RESPONSE: 
## SOFT SKILLS:
**EXPLICIT (directly stated):**
- Communication
- Analytical Thinking
- Problem-solving

## TECHNICAL SKILLS:
**EXPLICIT (directly stated):**
- Power BI
- Excel
- Python
- SQL
- VBA
- Fundraising
- Analytical Models
- Data Analysis
- Business Intelligence

## DOMAIN KEYWORDS:
- N/A
2025-10-08 20:24:12,248 - app.services.skill_extraction.response_parser - WARNING - ⚠️ [CV] No SOFT_SKILLS variable found in response
2025-10-08 20:24:12,249 - app.services.skill_extraction.response_parser - WARNING - ⚠️ [CV] No TECHNICAL_SKILLS variable found in response
2025-10-08 20:24:12,249 - app.services.skill_extraction.response_parser - WARNING - ⚠️ [CV] No DOMAIN_KEYWORDS variable found in response
2025-10-08 20:24:12,249 - app.services.skill_extraction.response_parser - INFO - 🔄 [CV] Python format not found, trying markdown format...
2025-10-08 20:24:12,250 - app.services.skill_extraction.response_parser - INFO - 🔄 [CV] Markdown format not found, trying section headers...
2025-10-08 20:24:12,256 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Successfully extracted 1 total skills using multi-format parser
2025-10-08 20:24:12,256 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated domain_keywords: 1 valid skills
2025-10-08 20:24:12,256 - app.services.skill_extraction.response_parser - INFO - 📊 [CV] Parsing completed:
2025-10-08 20:24:12,256 - app.services.skill_extraction.response_parser - INFO -    Soft Skills (0): []
2025-10-08 20:24:12,257 - app.services.skill_extraction.response_parser - INFO -    Technical Skills (0): []
2025-10-08 20:24:12,257 - app.services.skill_extraction.response_parser - INFO -    Domain Keywords (1): ['N/A']
2025-10-08 20:24:12,257 - app.routes.skills_analysis - WARNING - ⚠️ [SKILLS_ANALYSIS] CV content appears minimal (tech=0, soft=0, domain=1) — continuing without fallback
2025-10-08 20:24:12,257 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting JD skills with detailed structured analysis...
2025-10-08 20:24:12,282 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-08 20:24:18,255 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 20:24:18,256 - app.services.skill_extraction.response_parser - INFO - 🔍 [JD] Starting response parsing...
2025-10-08 20:24:18,256 - app.services.skill_extraction.response_parser - INFO - 🔍 [JD] Raw response preview: ## SOFT SKILLS:
- Communication
- Leadership
- Teamwork
- Collaboration
- Negotiation
- Time Management
- Organization
- Adaptability
- Problem-solving
- Analytical Thinking
- Critical Thinking
- Creativity
- Innovation
- Detail-oriented
- Self-motivated
- Proactive
- Results-driven

## TECHNICAL SKILLS:
- Data Analysis
- Data Mining
- Business Intelligence
- Data Selections
- Data Modeling
- SQL
- Excel
- VBA
- Data Warehouse
- Power BI
- Tableau
- Database Management
- Project Management
- Sta...
2025-10-08 20:24:18,257 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Successfully extracted 52 total skills using multi-format parser
2025-10-08 20:24:18,257 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated soft_skills: 17 valid skills
2025-10-08 20:24:18,257 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated technical_skills: 19 valid skills
2025-10-08 20:24:18,257 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated domain_keywords: 16 valid skills
2025-10-08 20:24:18,257 - app.services.skill_extraction.response_parser - INFO - 📊 [JD] Parsing completed:
2025-10-08 20:24:18,257 - app.services.skill_extraction.response_parser - INFO -    Soft Skills (17): ['Communication', 'Leadership', 'Teamwork']...
2025-10-08 20:24:18,258 - app.services.skill_extraction.response_parser - INFO -    Technical Skills (19): ['Data Analysis', 'Data Mining', 'Business Intelligence']...
2025-10-08 20:24:18,258 - app.services.skill_extraction.response_parser - INFO -    Domain Keywords (16): ['Fundraising', 'Humanitarian Aid', 'Refugee Support']...
2025-10-08 20:24:18,258 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using structured analysis as comprehensive analysis...
2025-10-08 20:24:18,258 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Technical Skills (0): []
2025-10-08 20:24:18,258 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Soft Skills (0): []
2025-10-08 20:24:18,258 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Domain Keywords (1): ['N/A']
2025-10-08 20:24:18,258 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Technical Skills (19): ['Data Analysis', 'Data Mining', 'Business Intelligence', 'Data Selections', 'Data Modeling', 'SQL', 'Excel', 'VBA', 'Data Warehouse', 'Power BI', 'Tableau', 'Database Management', 'Project Management', 'Stakeholder Management', 'Marketing Campaigns', 'Data Utilization', 'Data Cleansing', 'Communication Data', 'Segmentation Strategies']
2025-10-08 20:24:18,258 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Soft Skills (17): ['Communication', 'Leadership', 'Teamwork', 'Collaboration', 'Negotiation', 'Time Management', 'Organization', 'Adaptability', 'Problem-solving', 'Analytical Thinking', 'Critical Thinking', 'Creativity', 'Innovation', 'Detail-oriented', 'Self-motivated', 'Proactive', 'Results-driven']
2025-10-08 20:24:18,259 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Domain Keywords (16): ['Fundraising', 'Humanitarian Aid', 'Refugee Support', 'Business Decision-making', 'Direct Marketing', 'Donor-centricity', 'Data Warehouse Administration', 'Business Intelligence Requirements', 'Project Management Framework', 'Evidence-based Decision Making', 'Data Analysis for Communication', 'Data Governance', 'Clean Data Maintenance', 'Inclusive Workforce Cultures', 'Diversity and Inclusion', 'Equal Opportunity']
2025-10-08 20:24:18,259 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] Analysis completed successfully
2025-10-08 20:24:18,259 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-08 20:24:18,260 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:24:18,260 - app.services.skill_extraction.result_saver - INFO - 📁 Result saver initialized with base directory: user/munna@gmail.com/cv-analysis
2025-10-08 20:24:18,260 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:24:18,261 - app.routes.skills_analysis - INFO - 🔍 [COMPANY_DETECTION] Looking in: user/munna@gmail.com/cv-analysis/applied_companies
2025-10-08 20:24:18,261 - app.routes.skills_analysis - INFO - 📁 [COMPANY_DETECTION] Found company folder: Australia_for_UNHCR with 1 job_info files
2025-10-08 20:24:18,261 - app.routes.skills_analysis - INFO - 🏢 [COMPANY_DETECTION] Using most recent company folder: Australia_for_UNHCR
2025-10-08 20:24:18,262 - app.routes.skills_analysis - INFO - 📋 [COMPANY_DETECTION] Job info company: Australia for UNHCR
2025-10-08 20:24:18,262 - app.services.skill_extraction.result_saver - INFO - 🏢 Using provided company name: Australia_for_UNHCR -> Australia_for_UNHCR
2025-10-08 20:24:18,262 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:24:18,263 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-08 20:24:18,263 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:24:18,265 - app.services.skill_extraction.result_saver - INFO - 💾 Structured CV already exists, preserving it: user/munna@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-08 20:24:18,265 - app.services.skill_extraction.result_saver - INFO - 💾 Structured CV preserved, skipping save: user/munna@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-08 20:24:18,266 - app.services.skill_extraction.result_saver - INFO - 💾 Analysis results saved (JSON) to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251008_202418.json
2025-10-08 20:24:18,266 - app.routes.skills_analysis - INFO - 📁 [FILE_SAVE] Results saved to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251008_202418.json
2025-10-08 20:24:18,266 - app.routes.skills_analysis - INFO - 🔍 [ANALYZE_MATCH] Starting analyze match assessment...
2025-10-08 20:24:18,292 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-08 20:24:23,784 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 20:24:23,786 - app.routes.skills_analysis - INFO - ✅ [ANALYZE_MATCH] Analysis completed (length: 2162 chars)
2025-10-08 20:24:23,786 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:24:23,786 - app.services.skill_extraction.result_saver - INFO - 📂 Found existing analysis file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251008_202418.json
2025-10-08 20:24:23,787 - app.services.skill_extraction.result_saver - INFO - 🔍 Looking for analysis file in: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-08 20:24:23,787 - app.services.skill_extraction.result_saver - INFO - 📄 Using existing file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251008_202418.json
2025-10-08 20:24:23,788 - app.services.skill_extraction.result_saver - INFO - 📁 [ANALYZE_MATCH] Results appended to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251008_202418.json
2025-10-08 20:24:23,788 - app.routes.skills_analysis - INFO - 📁 [ANALYZE_MATCH] Results appended to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251008_202418.json
2025-10-08 20:24:23,788 - app.routes.skills_analysis - INFO - 🔍 [PREEXTRACTED_COMPARISON] Starting pre-extracted skills semantic comparison...
2025-10-08 20:24:23,791 - app.services.skill_extraction.preextracted_comparator - INFO - 🔍 [EXACT_MATCHES] Found 3 exact matches: {'technical_skills': [], 'soft_skills': [], 'domain_keywords': []}
2025-10-08 20:24:23,817 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-08 20:24:35,457 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 20:24:35,460 - app.services.skill_extraction.preextracted_comparator - INFO - ℹ️ [VALIDATION] technical_skills: matched 0 + missing 17 = 17 vs JD count 19 (acceptable variance)
2025-10-08 20:24:35,460 - app.services.skill_extraction.preextracted_comparator - INFO - ℹ️ [VALIDATION] soft_skills: matched 0 + missing 0 = 0 vs JD count 17 (acceptable variance)
2025-10-08 20:24:35,460 - app.services.skill_extraction.preextracted_comparator - WARNING - ❌ [VALIDATION] soft_skills: extreme variance - processed 0 vs expected 17
2025-10-08 20:24:35,460 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] CV Skills: Tech=0, Soft=0, Domain=1
2025-10-08 20:24:35,461 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] JD Skills: Tech=19, Soft=17, Domain=16
2025-10-08 20:24:35,461 - app.services.skill_extraction.preextracted_comparator - WARNING - ❌ [VALIDATION] 1 validation error(s) found
2025-10-08 20:24:35,461 - app.services.skill_extraction.preextracted_comparator - WARNING - ⚠️ [COMPARISON] JSON results failed validation, attempting to fix inconsistencies
2025-10-08 20:24:35,461 - app.services.skill_extraction.preextracted_comparator - INFO - 🔧 [FIX] Attempting to fix inconsistent AI response
2025-10-08 20:24:35,461 - app.services.skill_extraction.preextracted_comparator - INFO - 🔧 [FIX] technical_skills: Adding 2 missing JD skills
2025-10-08 20:24:35,461 - app.services.skill_extraction.preextracted_comparator - INFO - 🔧 [FIX] soft_skills: Adding 17 missing JD skills
2025-10-08 20:24:35,461 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [FIX] Finished fixing AI response inconsistencies
2025-10-08 20:24:35,462 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] CV Skills: Tech=0, Soft=0, Domain=1
2025-10-08 20:24:35,462 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] JD Skills: Tech=19, Soft=17, Domain=16
2025-10-08 20:24:35,462 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [VALIDATION] Comparison results passed validation
2025-10-08 20:24:35,462 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [COMPARISON] Successfully fixed AI response inconsistencies
2025-10-08 20:24:35,462 - app.routes.skills_analysis - INFO - ✅ [PREEXTRACTED_COMPARISON] Completed (length: 6077 chars)
2025-10-08 20:24:35,462 - app.services.skill_extraction.result_saver - INFO - 🏢 [PREEXTRACTED_COMPARISON] Inferred company from saved_file_path: Australia_for_UNHCR
2025-10-08 20:24:35,464 - app.services.skill_extraction.result_saver - INFO - 📁 [PREEXTRACTED_COMPARISON] Results appended to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251008_202418.json
2025-10-08 20:24:35,464 - app.routes.skills_analysis - INFO - 📁 [PREEXTRACTED_COMPARISON] Results appended to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251008_202418.json
2025-10-08 20:24:35,465 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:24:35,465 - app.routes.skills_analysis - INFO - ♻️ [PIPELINE] (preliminary-analysis) JD file already exists: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/jd_original_20251008_201427.json
2025-10-08 20:24:35,467 - app.routes.skills_analysis - INFO - ♻️ [JOBS] Job already exists in saved_jobs.json: Data Analyst at Australia for UNHCR
2025-10-08 20:24:35,467 - app.routes.skills_analysis - INFO - 🚀 [PIPELINE] (preliminary-analysis) scheduling for company: Australia_for_UNHCR
2025-10-08 20:24:35,467 - app.routes.skills_analysis - INFO - 🚀 [PIPELINE] Scheduling JD analysis and CV–JD matching for 'Australia_for_UNHCR'...
2025-10-08 20:24:35,468 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:24:35,469 - app.routes.skills_analysis - INFO - 🔧 [PIPELINE] Starting JD analysis for Australia_for_UNHCR (force_refresh=True)
2025-10-08 20:24:35,469 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:24:35,469 - app.services.jd_analysis.jd_analyzer - INFO - 🔄 Analyzing JD for Australia_for_UNHCR (force_refresh=True)
2025-10-08 20:24:35,471 - app.services.jd_analysis.jd_analyzer - INFO - 📄 Analyzing JD file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/jd_original_20251008_201427.json
2025-10-08 20:24:35,493 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-08 20:24:36,993 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 20:24:36,995 - app.services.jd_analysis.jd_analyzer - INFO - ✅ JD analysis completed. Found 0 required and 0 preferred keywords
2025-10-08 20:24:36,996 - app.services.jd_analysis.jd_analyzer - INFO - ♻️ JD analysis already exists, reusing: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_jd_analysis_20251008_201603.json
2025-10-08 20:24:36,996 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] JD analysis saved for Australia_for_UNHCR at: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_jd_analysis_20251008_201603.json
2025-10-08 20:24:36,998 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:24:36,999 - app.services.jd_usage_tracker - ERROR - ❌ [JD_TRACKER] Error recording JD usage: Either jd_url or jd_text must be provided
2025-10-08 20:24:36,999 - app.routes.skills_analysis - INFO - 📝 [PIPELINE] JD usage recorded for Australia_for_UNHCR
2025-10-08 20:24:36,999 - app.routes.skills_analysis - INFO - 🔧 [PIPELINE] Starting CV–JD matching for Australia_for_UNHCR
2025-10-08 20:24:37,000 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:24:37,000 - app.routes.skills_analysis - WARNING - ⚠️ [PIPELINE] Could not preselect CV TXT for matching: No module named 'app.services.dynamic_cv_selector'
2025-10-08 20:24:37,001 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🔍 [CV_JD_MATCHER] No explicit CV path provided, using unified selector for Australia_for_UNHCR
2025-10-08 20:24:37,001 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:24:37,002 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:24:37,003 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-08 20:24:37,003 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:24:37,007 - app.services.jd_usage_tracker - ERROR - ❌ [JD_TRACKER] Error checking JD usage: Either jd_url or jd_text must be provided
2025-10-08 20:24:37,008 - app.services.cv_jd_matching.cv_jd_matcher - INFO - ✅ [CV_JD_MATCHER] Selected CV → type=original, ts=None, path=user/munna@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-08 20:24:37,010 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 📄 [CV_JD_MATCHER] Read CV from: user/munna@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-08 20:24:37,011 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🧪 [CV_JD_MATCHER] CV content length=4864, preview='Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD in Physics and completed a Master's in Data Science, bringing over three years of experience in Python  coding, AI, and machine learning. My expertise encompasses modeling and training AI models, writing efficient Python'
2025-10-08 20:24:37,013 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🔍 Found 8 required and 4 preferred keywords
2025-10-08 20:24:37,034 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-08 20:24:39,553 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 20:24:39,555 - app.services.cv_jd_matching.cv_jd_matcher - INFO - ✅ CV-JD matching completed. Found 6 matched required keywords
2025-10-08 20:24:39,556 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:24:39,556 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:24:39,557 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 💾 Saved CV-JD match results to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_cv_jd_matching_20251008_202439.json
2025-10-08 20:24:39,557 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] CV–JD match results saved for Australia_for_UNHCR
2025-10-08 20:24:39,557 - app.routes.skills_analysis - INFO - 🔍 [PIPELINE] Starting component analysis for Australia_for_UNHCR
2025-10-08 20:24:39,561 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:24:39,563 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:24:39,563 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:24:39,566 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-08 20:24:39,567 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Latest CV selected → type=tailored, ts=20251008_202217, json=user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202217.json, txt=user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202217.txt
2025-10-08 20:24:39,569 - app.routes.skills_analysis - INFO - 🧪 [PIPELINE] CV content length=209, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • Power BI, Excel, Python, SQL, VBA, Fundraising, Analytical Models, Data Analysis, Business Intelligence '
2025-10-08 20:24:39,570 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:24:39,571 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Required files found, proceeding with component analysis
2025-10-08 20:24:39,571 - app.services.ats.modular_ats_orchestrator - INFO - ===== [MODULAR ATS] Starting component analysis for: Australia_for_UNHCR =====
2025-10-08 20:24:39,572 - app.services.ats.component_assembler - INFO - ===== [ASSEMBLER] Starting component assembly for: Australia_for_UNHCR =====
2025-10-08 20:24:39,572 - app.services.ats.component_assembler - INFO - 📄 [ASSEMBLER] Using CV text provided by caller
2025-10-08 20:24:39,577 - app.services.ats.component_assembler - WARNING - [ASSEMBLER] Match results not found: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/cv_jd_match_results.json
2025-10-08 20:24:39,577 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Starting parallel component analyses...
2025-10-08 20:24:39,578 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Requesting skills relevance analysis...
2025-10-08 20:24:39,579 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Requirement bonus using match file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_cv_jd_matching_20251008_202439.json
2025-10-08 20:24:39,580 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Using existing match_counts from file
2025-10-08 20:24:39,581 - app.services.ats.requirement_bonus_calculator - INFO - [ATS][BONUS] required_total=8 matched_required=6 missing_required=2 required_bonus=3.00 required_penalty=-1.50 preferred_total=4 matched_preferred=0 missing_preferred=4 preferred_bonus=0.00 preferred_penalty=-0.60 total_bonus=0.90
2025-10-08 20:24:39,581 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Requirement bonus calculated: 0.90 points
2025-10-08 20:24:39,603 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-08 20:24:52,148 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 20:24:52,152 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Raw response length: 6763
2025-10-08 20:24:52,152 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Raw response preview: {
  "skills_analysis": [
    {
      "skill": "Power BI",
      "cv_evidence": "Power BI",
      "jd_application": "Delivering analytics on the business-critical objective of understanding how to maxi
2025-10-08 20:24:52,152 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Cleaned response: {
  "skills_analysis": [
    {
      "skill": "Power BI",
      "cv_evidence": "Power BI",
      "jd_application": "Delivering analytics on the business-critical objective of understanding how to maxi
2025-10-08 20:24:52,152 - app.services.ats.components.skills_relevance_analyzer - WARNING - [SKILLS] Direct parse failed: Expecting ',' delimiter: line 138 column 6 (char 6522)
2025-10-08 20:24:52,154 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Found 0 JSON objects
2025-10-08 20:24:52,155 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Pattern match 0 successful
2025-10-08 20:24:52,155 - app.services.ats.components.skills_relevance_analyzer - ERROR - [SKILLS] Analysis failed: Missing overall_skills_score in response
2025-10-08 20:24:52,155 - app.services.ats.components.skills_relevance_analyzer - WARNING - [SKILLS] Returning fallback response due to analysis error
2025-10-08 20:24:52,155 - app.services.ats.components.experience_analyzer - INFO - [EXPERIENCE] Requesting experience alignment analysis...
2025-10-08 20:24:52,181 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-08 20:24:54,018 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 20:24:54,020 - app.services.ats.components.experience_analyzer - INFO - [EXPERIENCE] Analysis completed. Score: 85.0
2025-10-08 20:24:54,020 - app.services.ats.components.industry_analyzer - INFO - [INDUSTRY] Requesting industry fit analysis...
2025-10-08 20:24:54,045 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-08 20:24:57,909 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 20:24:57,910 - app.services.ats.components.industry_analyzer - INFO - [INDUSTRY] Analysis completed. Score: 60.0
2025-10-08 20:24:57,912 - app.services.ats.components.seniority_analyzer - INFO - [SENIORITY] Requesting role seniority analysis...
2025-10-08 20:24:57,935 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-08 20:25:00,555 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 20:25:00,562 - app.services.ats.components.seniority_analyzer - INFO - [SENIORITY] Analysis completed. Score: 0.0
2025-10-08 20:25:00,564 - app.services.ats.components.technical_analyzer - INFO - [TECHNICAL] Requesting technical depth analysis...
2025-10-08 20:25:00,583 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-08 20:25:05,765 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 20:25:05,768 - app.services.ats.components.technical_analyzer - INFO - [TECHNICAL] Analysis completed. Score: 90.0
2025-10-08 20:25:05,769 - app.services.ats.component_assembler - INFO - [ASSEMBLER] All component analyses completed successfully
2025-10-08 20:25:05,769 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Validating cross-analyzer consistency...
2025-10-08 20:25:05,769 - app.services.ats.components.consistency_validator - ERROR - [CONSISTENCY] Validation failed: unsupported operand type(s) for -: 'str' and 'int'
2025-10-08 20:25:05,769 - app.services.ats.component_assembler - WARNING - [ASSEMBLER] Inconsistencies detected in analysis results
2025-10-08 20:25:05,769 - app.services.ats.component_assembler - WARNING - [ASSEMBLER] Confidence score: 100%
2025-10-08 20:25:05,772 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Results saved to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251008_202418.json
2025-10-08 20:25:05,773 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Starting ATS score calculation...
2025-10-08 20:25:05,774 - app.services.ats.ats_score_calculator - INFO - [ATS] Starting comprehensive ATS score calculation
2025-10-08 20:25:05,774 - app.services.ats.ats_score_calculator - INFO - [ATS] Match rates - Tech: 0.0%, Domain: 0.0%, Soft: 0.0%
2025-10-08 20:25:05,774 - app.services.ats.ats_score_calculator - INFO - [ATS] Missing counts - Tech: 19, Domain: 16, Soft: 17
2025-10-08 20:25:05,774 - app.services.ats.ats_score_calculator - INFO - [ATS] Category 1 - Tech: 0.0, Domain: 0.0, Soft: 0.0, Total: 0.0
2025-10-08 20:25:05,774 - app.services.ats.ats_score_calculator - INFO - [ATS] Category 2 - Core: 15.9, Exp: 3.4, Potential: 6.0, Company: 0.8, Total: 26.1
2025-10-08 20:25:05,775 - app.services.ats.ats_score_calculator - INFO - [ATS] Final ATS Score: 27.0/100 (❌ Poor fit)
2025-10-08 20:25:05,776 - app.services.ats.component_assembler - INFO - [ASSEMBLER] ATS calculation completed. Score: 27.0/100 (❌ Poor fit)
2025-10-08 20:25:05,776 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:25:05,777 - app.services.ats_recommendation_service - INFO - Final ATS Score: 26.987499999999997
2025-10-08 20:25:05,777 - app.services.ats_recommendation_service - INFO - Category Status: ❌ Poor fit
2025-10-08 20:25:05,777 - app.services.ats_recommendation_service - INFO - Successfully extracted comprehensive recommendation data for Australia_for_UNHCR
2025-10-08 20:25:05,780 - app.services.ats_recommendation_service - INFO - Successfully created recommendation file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251008_202505.json
2025-10-08 20:25:05,819 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 20:25:05,822 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-08 20:25:05,823 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] {'email_1': 'munna@gmail.com'}
2025-10-08 20:25:05,868 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-08 20:25:05,869 - sqlalchemy.engine.Engine - INFO - [generated in 0.00059s] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'name_1': 'Australia_for_UNHCR'}
2025-10-08 20:25:05,901 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-08 20:25:05,901 - sqlalchemy.engine.Engine - INFO - [generated in 0.00060s] {'user_id': '4df52e53-b78f-45e9-8946-3b6c00618693', 'company_id': 12, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251008_202505.json', 'file_path': 'user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251008_202505.json', 'file_size': 21166, 'sha256': 'dfbcb928d75952d0f5f434c41891403a7c318e8e1beee11965168399ff895480', 'timestamp': '20251008_202505'}
2025-10-08 20:25:05,928 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-08 20:25:05,930 - sqlalchemy.engine.Engine - INFO - [generated in 0.00120s] {'user_id': '4df52e53-b78f-45e9-8946-3b6c00618693', 'company_id': 12, 'kind': 'input_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 140}
2025-10-08 20:25:05,951 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-08 20:25:05,980 - app.services.ats_recommendation_service - INFO - Successfully created AI recommendation prompt: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_prompt_recommendation.py
2025-10-08 20:25:05,980 - app.services.ats_recommendation_service - INFO - 🤖 [TRIGGER] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-08 20:25:05,981 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:25:05,981 - app.services.ats_recommendation_service - INFO - 📋 [TRIGGER] AI generation scheduled as background task for Australia_for_UNHCR
2025-10-08 20:25:05,981 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Recommendation file created for Australia_for_UNHCR
2025-10-08 20:25:05,981 - app.services.ats.component_assembler - INFO - ===== [ASSEMBLER] Completed assembly. Scores: skills=50.0 exp=85.0 industry=60.0 seniority=0.0 tech=90.0 =====
2025-10-08 20:25:05,981 - app.services.ats.modular_ats_orchestrator - INFO - ===== [MODULAR ATS] Component analysis completed for: Australia_for_UNHCR =====
2025-10-08 20:25:05,981 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Component analysis completed for Australia_for_UNHCR
2025-10-08 20:25:05,982 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] Component scores extracted: 23 scores
2025-10-08 20:25:05,982 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] skills_relevance: 50.0
2025-10-08 20:25:05,982 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] experience_alignment: 85.0
2025-10-08 20:25:05,982 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] industry_fit: 60.0
2025-10-08 20:25:05,982 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] role_seniority: 0.0
2025-10-08 20:25:05,982 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] technical_depth: 90.0
2025-10-08 20:25:05,982 - app.routes.skills_analysis - INFO - 🎯 [PIPELINE] ATS Score calculated: 26.987499999999997
2025-10-08 20:25:05,982 - app.routes.skills_analysis - INFO - 📋 [PIPELINE] Creating input recommendation file for Australia_for_UNHCR
2025-10-08 20:25:05,983 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:25:05,983 - app.services.ats_recommendation_service - INFO - Final ATS Score: 26.987499999999997
2025-10-08 20:25:05,984 - app.services.ats_recommendation_service - INFO - Category Status: ❌ Poor fit
2025-10-08 20:25:05,984 - app.services.ats_recommendation_service - INFO - Successfully extracted comprehensive recommendation data for Australia_for_UNHCR
2025-10-08 20:25:05,985 - app.services.ats_recommendation_service - INFO - Successfully created recommendation file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251008_202505.json
2025-10-08 20:25:06,007 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 20:25:06,008 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-08 20:25:06,008 - sqlalchemy.engine.Engine - INFO - [cached since 0.186s ago] {'email_1': 'munna@gmail.com'}
2025-10-08 20:25:06,050 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-08 20:25:06,050 - sqlalchemy.engine.Engine - INFO - [cached since 0.1822s ago] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'name_1': 'Australia_for_UNHCR'}
2025-10-08 20:25:06,076 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-08 20:25:06,076 - sqlalchemy.engine.Engine - INFO - [cached since 0.175s ago] {'user_id': '4df52e53-b78f-45e9-8946-3b6c00618693', 'company_id': 12, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251008_202505.json', 'file_path': 'user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251008_202505.json', 'file_size': 21166, 'sha256': 'dfbcb928d75952d0f5f434c41891403a7c318e8e1beee11965168399ff895480', 'timestamp': '20251008_202505'}
2025-10-08 20:25:06,098 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-08 20:25:06,115 - app.services.ats_recommendation_service - WARNING - ⚠️ [DB] Failed to register input recommendation: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "uq_company_files_dedupe"
DETAIL:  Key (user_id, company_id, file_type, sha256)=(4df52e53-b78f-45e9-8946-3b6c00618693, 12, input_recommendation, dfbcb928d75952d0f5f434c41891403a7c318e8e1beee11965168399ff895480) already exists.

[SQL: INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at]
[parameters: {'user_id': '4df52e53-b78f-45e9-8946-3b6c00618693', 'company_id': 12, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251008_202505.json', 'file_path': 'user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251008_202505.json', 'file_size': 21166, 'sha256': 'dfbcb928d75952d0f5f434c41891403a7c318e8e1beee11965168399ff895480', 'timestamp': '20251008_202505'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-10-08 20:25:06,116 - app.services.ats_recommendation_service - INFO - Successfully created AI recommendation prompt: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_prompt_recommendation.py
2025-10-08 20:25:06,117 - app.services.ats_recommendation_service - INFO - 🤖 [TRIGGER] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-08 20:25:06,117 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:25:06,117 - app.services.ats_recommendation_service - INFO - 📋 [TRIGGER] AI generation scheduled as background task for Australia_for_UNHCR
2025-10-08 20:25:06,117 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Input recommendation file created for Australia_for_UNHCR
2025-10-08 20:25:06,118 - app.routes.skills_analysis - INFO - 🤖 [PIPELINE] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-08 20:25:06,118 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:25:06,118 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-08 20:25:06,119 - app.services.ai_recommendation_generator - INFO - 🟡 [AI GENERATOR] Input recommendation is newer (ai_mtime=1759915329.753768, input_mtime=1759915505.9853697); regenerating AI recommendation
2025-10-08 20:25:06,120 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:25:06,120 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:25:06,120 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-08 20:25:06,121 - app.services.ai_recommendation_generator - ERROR - ❌ [AI GENERATOR] Error checking CV freshness: 'str' object has no attribute 'timestamp'
2025-10-08 20:25:06,123 - app.services.ai_recommendation_generator - INFO - 📋 [AI GENERATOR] Generated AI prompt for Australia_for_UNHCR using centralized template (11772 characters)
2025-10-08 20:25:06,123 - app.services.ai_recommendation_generator - INFO - 🧠 [AI GENERATOR] Executing AI prompt for Australia_for_UNHCR
2025-10-08 20:25:06,160 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-08 20:25:11,189 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 20:25:11,198 - app.services.ai_recommendation_generator - INFO - 🧠 [AI GENERATOR] AI response generated - Provider: openai, Model: gpt-3.5-turbo
2025-10-08 20:25:11,198 - app.services.ai_recommendation_generator - INFO - 💰 [AI GENERATOR] Cost: $0.0042, Tokens: 3218
2025-10-08 20:25:11,199 - app.services.ai_recommendation_generator - INFO - 💾 [AI GENERATOR] Saved AI recommendation: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251008_202511.json (3.0KB)
2025-10-08 20:25:11,220 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 20:25:11,220 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-08 20:25:11,221 - sqlalchemy.engine.Engine - INFO - [cached since 5.399s ago] {'email_1': 'munna@gmail.com'}
2025-10-08 20:25:11,265 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-08 20:25:11,266 - sqlalchemy.engine.Engine - INFO - [cached since 5.398s ago] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'name_1': 'Australia_for_UNHCR'}
2025-10-08 20:25:11,297 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-08 20:25:11,299 - sqlalchemy.engine.Engine - INFO - [cached since 5.398s ago] {'user_id': '4df52e53-b78f-45e9-8946-3b6c00618693', 'company_id': 12, 'file_type': 'ai_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_ai_recommendation_20251008_202511.json', 'file_path': 'user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251008_202511.json', 'file_size': 3092, 'sha256': 'a7184bce3b719487e1c6dd5b2ca1791f7238c8eda3bc54e2c4cbbee74092f3b5', 'timestamp': '20251008_202511'}
2025-10-08 20:25:11,321 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-08 20:25:11,322 - sqlalchemy.engine.Engine - INFO - [cached since 5.394s ago] {'user_id': '4df52e53-b78f-45e9-8946-3b6c00618693', 'company_id': 12, 'kind': 'ai_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 142}
2025-10-08 20:25:11,345 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-08 20:25:11,365 - app.services.ai_recommendation_generator - INFO - ✅ [AI GENERATOR] AI recommendation generated and saved for Australia_for_UNHCR
2025-10-08 20:25:11,365 - app.services.ai_recommendation_generator - INFO - 📄 File: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251008_202209.json
2025-10-08 20:25:11,365 - app.services.ai_recommendation_generator - INFO - 💰 Cost: $0.0042
2025-10-08 20:25:11,365 - app.services.ai_recommendation_generator - INFO - 🔤 Tokens: 3218
2025-10-08 20:25:11,365 - app.services.ai_recommendation_generator - INFO - 🚀 [AI GENERATOR] Starting automatic CV tailoring for Australia_for_UNHCR
2025-10-08 20:25:11,366 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:25:11,369 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded CV optimization framework from /Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/tailored_cv/prompts/framework.md
2025-10-08 20:25:11,369 - app.tailored_cv.services.cv_tailoring_service - INFO - Loading real data for Australia_for_UNHCR
2025-10-08 20:25:11,369 - app.tailored_cv.services.cv_tailoring_service - INFO - Company folder: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-08 20:25:11,369 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:25:11,370 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:25:11,370 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-08 20:25:11,371 - app.tailored_cv.services.cv_tailoring_service - INFO - 📄 [TAILORING] Using latest CV via unified selector → type=tailored, ts=20251008_202217, path=user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202217.txt
2025-10-08 20:25:11,371 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [DEBUG] Loading CV from user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202217.txt
2025-10-08 20:25:11,372 - app.tailored_cv.services.cv_tailoring_service - INFO - - First 200 chars: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • Power BI, Excel, Python, SQL, VBA, Fundraising, Analytical Models, Data Analysis, Business Inte
2025-10-08 20:25:11,372 - app.tailored_cv.services.recommendation_parser - INFO - 📂 Loading CV from: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202217.txt
2025-10-08 20:25:11,372 - app.tailored_cv.services.recommendation_parser - INFO - 📝 Detected .txt CV file → parsing as raw text
2025-10-08 20:25:11,375 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Successfully parsed raw text CV from .txt
2025-10-08 20:25:11,375 - app.tailored_cv.services.cv_tailoring_service - INFO - - Parsed CV data keys: ['contact', 'education', 'experience', 'skills', 'total_years_experience']
2025-10-08 20:25:11,375 - app.tailored_cv.services.cv_tailoring_service - WARNING - ⚠️ [TAILORING] CV data is empty, checking for original_text fallback
2025-10-08 20:25:11,375 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Skills already in SkillCategory format
2025-10-08 20:25:11,375 - app.tailored_cv.services.cv_tailoring_service - WARNING - ⚠️ [TAILORING] CV data is incomplete, falling back to original CV
2025-10-08 20:25:11,375 - app.tailored_cv.services.cv_tailoring_service - INFO - 📄 [TAILORING] Loading original CV as fallback: user/munna@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-08 20:25:11,376 - app.tailored_cv.services.recommendation_parser - INFO - 📂 Loading CV from: user/munna@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-08 20:25:11,377 - app.tailored_cv.services.recommendation_parser - INFO - 📋 CV format check:
2025-10-08 20:25:11,377 - app.tailored_cv.services.recommendation_parser - INFO -   - Top-level keys: ['personal_information', 'career_profile', 'skills', 'education', 'experience', 'projects', 'certifications', 'languages', 'awards', 'publications', 'volunteer_work', 'professional_memberships', 'unknown_sections', 'original_sections', 'saved_at', 'metadata']
2025-10-08 20:25:11,378 - app.tailored_cv.services.recommendation_parser - INFO -   - Has metadata: True
2025-10-08 20:25:11,378 - app.tailored_cv.services.recommendation_parser - INFO -   - Source file: maheshwor_tiwari.pdf
2025-10-08 20:25:11,378 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing version: 2.0
2025-10-08 20:25:11,378 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Detected structured CV format
2025-10-08 20:25:11,378 - app.tailored_cv.services.recommendation_parser - INFO - 📊 Structure overview:
2025-10-08 20:25:11,378 - app.tailored_cv.services.recommendation_parser - INFO -   - Skills sections: ['technical_skills', 'key_skills', 'soft_skills', 'domain_expertise']
2025-10-08 20:25:11,378 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience entries: 6
2025-10-08 20:25:11,378 - app.tailored_cv.services.recommendation_parser - INFO -   - Education entries: 3
2025-10-08 20:25:11,378 - app.tailored_cv.services.recommendation_parser - INFO -   - Projects: 0
2025-10-08 20:25:11,379 - app.tailored_cv.services.recommendation_parser - INFO - 🔄 Starting structured CV conversion
2025-10-08 20:25:11,379 - app.tailored_cv.services.recommendation_parser - INFO - 📊 Input data validation:
2025-10-08 20:25:11,379 - app.tailored_cv.services.recommendation_parser - INFO - 👤 Converting contact information
2025-10-08 20:25:11,379 - app.tailored_cv.services.recommendation_parser - INFO -   - Source fields: ['name', 'phone', 'email', 'location', 'linkedin', 'github', 'portfolio_links', 'residency_status', 'open_to']
2025-10-08 20:25:11,379 - app.tailored_cv.services.recommendation_parser - INFO -   - Mapped fields: ['name', 'email', 'phone', 'location', 'linkedin', 'website']
2025-10-08 20:25:11,379 - app.tailored_cv.services.recommendation_parser - INFO -   - Contact completeness: 100.0%
2025-10-08 20:25:11,379 - app.tailored_cv.services.recommendation_parser - INFO -   - LinkedIn: LinkedIn
2025-10-08 20:25:11,379 - app.tailored_cv.services.recommendation_parser - INFO -   - Website: GitHub
2025-10-08 20:25:11,379 - app.tailored_cv.services.recommendation_parser - INFO - 💼 Converting experience entries
2025-10-08 20:25:11,380 - app.tailored_cv.services.recommendation_parser - INFO -   - Found 6 experience entries
2025-10-08 20:25:11,380 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 1/6
2025-10-08 20:25:11,380 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: The Bitrates
2025-10-08 20:25:11,380 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Data Analyst
2025-10-08 20:25:11,380 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Jul 2024 to Present
2025-10-08 20:25:11,380 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 5
2025-10-08 20:25:11,380 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 2/6
2025-10-08 20:25:11,381 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: iBuild Building Solutions
2025-10-08 20:25:11,381 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Data Analyst
2025-10-08 20:25:11,381 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Mar 2024 to Jun 2024
2025-10-08 20:25:11,381 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 4
2025-10-08 20:25:11,381 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 3/6
2025-10-08 20:25:11,381 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: Property Console
2025-10-08 20:25:11,381 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Software engineer and Analyst
2025-10-08 20:25:11,381 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Jun 2023 to Nov 2023
2025-10-08 20:25:11,381 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 4
2025-10-08 20:25:11,382 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 4/6
2025-10-08 20:25:11,382 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: CY Cergy Paris University
2025-10-08 20:25:11,382 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Research Assistant
2025-10-08 20:25:11,382 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Oct 2018 to Sep 2022
2025-10-08 20:25:11,382 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 3
2025-10-08 20:25:11,382 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 5/6
2025-10-08 20:25:11,382 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: CY Cergy Paris University
2025-10-08 20:25:11,382 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Lecturer and Course Facilitator
2025-10-08 20:25:11,383 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Sep 2019 to Jun 2022
2025-10-08 20:25:11,383 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 3
2025-10-08 20:25:11,383 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 6/6
2025-10-08 20:25:11,383 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: CY Cergy Paris University
2025-10-08 20:25:11,383 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Research Intern
2025-10-08 20:25:11,383 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Feb 2018 to Jun 2018
2025-10-08 20:25:11,383 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 3
2025-10-08 20:25:11,383 - app.tailored_cv.services.recommendation_parser - INFO - Converted 6 experience entries
2025-10-08 20:25:11,383 - app.tailored_cv.services.recommendation_parser - INFO - 🔧 Converting skills section
2025-10-08 20:25:11,384 - app.tailored_cv.services.recommendation_parser - INFO -   - Source skill categories: ['technical_skills', 'key_skills', 'soft_skills', 'domain_expertise']
2025-10-08 20:25:11,384 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing technical skills:
2025-10-08 20:25:11,384 - app.tailored_cv.services.recommendation_parser - INFO -     • Extracted 5 unique technical skills
2025-10-08 20:25:11,384 - app.tailored_cv.services.recommendation_parser - INFO -     • Skills: SQL, Python, Excel, Data Analysis, Power BI
2025-10-08 20:25:11,384 - app.tailored_cv.services.recommendation_parser - INFO - Converted 1 skill categories
2025-10-08 20:25:11,384 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Conversion complete - Validating output
2025-10-08 20:25:11,384 - app.tailored_cv.services.recommendation_parser - INFO - ✓ Experience: 6 entries
2025-10-08 20:25:11,384 - app.tailored_cv.services.recommendation_parser - INFO - ✓ Skills: 1 categories
2025-10-08 20:25:11,384 - app.tailored_cv.services.recommendation_parser - INFO -   • Technical Skills: 5 skills
2025-10-08 20:25:11,385 - app.tailored_cv.services.recommendation_parser - INFO - ✨ Validation passed - All required sections present
2025-10-08 20:25:11,385 - app.tailored_cv.services.recommendation_parser - INFO - 🎓 Converting education entries
2025-10-08 20:25:11,385 - app.tailored_cv.services.recommendation_parser - INFO -   - Found 3 education entries
2025-10-08 20:25:11,385 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing education 1/3
2025-10-08 20:25:11,385 - app.tailored_cv.services.recommendation_parser - INFO -     • Institution: Charles Darwin University, Sydney, Australia
2025-10-08 20:25:11,385 - app.tailored_cv.services.recommendation_parser - INFO -     • Degree: Master of Data Science
2025-10-08 20:25:11,385 - app.tailored_cv.services.recommendation_parser - INFO -     • Graduation date: Mar 2023 - Nov 2024
2025-10-08 20:25:11,385 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing education 2/3
2025-10-08 20:25:11,385 - app.tailored_cv.services.recommendation_parser - INFO -     • Institution: CY Cergy Paris University, Cergy, France
2025-10-08 20:25:11,386 - app.tailored_cv.services.recommendation_parser - INFO -     • Degree: PhD in Physics
2025-10-08 20:25:11,386 - app.tailored_cv.services.recommendation_parser - INFO -     • Graduation date: Oct 2018 - Sep 2022
2025-10-08 20:25:11,386 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing education 3/3
2025-10-08 20:25:11,386 - app.tailored_cv.services.recommendation_parser - INFO -     • Institution: CY Cergy Paris University, Cergy, France
2025-10-08 20:25:11,386 - app.tailored_cv.services.recommendation_parser - INFO -     • Degree: Master of Theoretical Physics
2025-10-08 20:25:11,386 - app.tailored_cv.services.recommendation_parser - INFO -     • Graduation date: Sep 2016 - Jun 2018
2025-10-08 20:25:11,386 - app.tailored_cv.services.recommendation_parser - INFO - Converted 3 education entries
2025-10-08 20:25:11,386 - app.tailored_cv.services.recommendation_parser - INFO - 📤 Returning converted CV data:
2025-10-08 20:25:11,387 - app.tailored_cv.services.recommendation_parser - INFO -   - Contact fields: ['name', 'email', 'phone', 'location', 'linkedin', 'website']
2025-10-08 20:25:11,387 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience entries: 6
2025-10-08 20:25:11,387 - app.tailored_cv.services.recommendation_parser - INFO -   - Skill categories: 1
2025-10-08 20:25:11,387 - app.tailored_cv.services.recommendation_parser - INFO -   - Education entries: 3
2025-10-08 20:25:11,387 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [TAILORING] Successfully loaded original CV as fallback
2025-10-08 20:25:11,387 - app.tailored_cv.services.cv_tailoring_service - INFO - - Final CV object attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__repr__', '__repr_args__', '__repr_name__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_check_frozen', '_copy_and_set_values', '_get_value', '_iter', 'construct', 'contact', 'copy', 'created_at', 'dict', 'education', 'experience', 'experience_level', 'from_orm', 'json', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'projects', 'schema', 'schema_json', 'skills', 'total_years_experience', 'update_forward_refs', 'updated_at', 'validate']
2025-10-08 20:25:11,398 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Parsed recommendation for Australia_for_UNHCR
2025-10-08 20:25:11,398 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded real CV and recommendation for Australia_for_UNHCR
2025-10-08 20:25:11,398 - app.tailored_cv.services.cv_tailoring_service - INFO - 🎯 Starting CV tailoring for Australia_for_UNHCR - Senior Data Analyst
2025-10-08 20:25:11,398 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [DEBUG] Validating CV structure:
2025-10-08 20:25:11,398 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV object type: <class 'app.tailored_cv.models.cv_models.OriginalCV'>
2025-10-08 20:25:11,399 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__repr__', '__repr_args__', '__repr_name__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_check_frozen', '_copy_and_set_values', '_get_value', '_iter', 'construct', 'contact', 'copy', 'created_at', 'dict', 'education', 'experience', 'experience_level', 'from_orm', 'json', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'projects', 'schema', 'schema_json', 'skills', 'total_years_experience', 'update_forward_refs', 'updated_at', 'validate']
2025-10-08 20:25:11,399 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV data: {
  "contact": {
    "name": "Maheshwor Tiwari",
    "phone": "0414 032 507",
    "email": "maheshtwari99@gmail.com",
    "linkedin": "LinkedIn",
    "location": "Hurstville, NSW, 2220",
    "website": "GitHub"
  },
  "education": [
    {
      "institution": "Charles Darwin University, Sydney, Australia",
      "degree": "Master of Data Science",
      "location": "Sydney, Australia",
      "graduation_date": "Mar 2023 - Nov 2024",
      "gpa": "GPA",
      "relevant_coursework": [],
      "honors": []
    },
    {
      "institution": "CY Cergy Paris University, Cergy, France",
      "degree": "PhD in Physics",
      "location": "Cergy, France",
      "graduation_date": "Oct 2018 - Sep 2022",
      "gpa": "",
      "relevant_coursework": [],
      "honors": []
    },
    {
      "institution": "CY Cergy Paris University, Cergy, France",
      "degree": "Master of Theoretical Physics",
      "location": "Cergy, France",
      "graduation_date": "Sep 2016 - Jun 2018",
      "gpa": "",
      "relevant_coursework": [],
      "honors": []
    }
  ],
  "experience": [
    {
      "company": "The Bitrates",
      "title": "Data Analyst",
      "location": "Sydney, New South Wales, Australia",
      "start_date": "Jul 2024",
      "end_date": "Present",
      "duration": null,
      "bullets": [
        "\u2022 Designed and implemented Python scripts for data cleaning, preprocessing, and analysis, improving data pipeline efficiency by 30%.",
        "\u2022 Developed machine learning models in Python for predictive analytics, enabling data-driven business decisions.",
        "\u2022 Leveraged AI techniques to automate repetitive tasks, reducing manual effort and improving productivity.",
        "\u2022 Built dynamic dashboards and visualizations using Python libraries like Matplotlib and Seaborn to communicate insights effectively.",
        "\u2022 Integrated Google Analytics data with Python for advanced analysis, enhancing customer behavior insights."
      ],
      "skills_used": null
    },
    {
      "company": "iBuild Building Solutions",
      "title": "Data Analyst",
      "location": "Victoria, Australia",
      "start_date": "Mar 2024",
      "end_date": "Jun 2024",
      "duration": null,
      "bullets": [
        "\u2022 Automated data extraction and structuring of population datasets using Python, improving data accuracy and team collaboration.",
        "\u2022 Analyzed customer support data with Python to optimize response times and enhance operational efficiency.",
        "\u2022 Developed Python-based solutions to generate actionable insights, meeting strict deadlines for strategic decision-making.",
        "\u2022 Designed Python scripts to create dynamic reports and dashboards, significantly improving customer satisfaction and decision-making processes."
      ],
      "skills_used": null
    },
    {
      "company": "Property Console",
      "title": "Software engineer and Analyst",
      "location": "Sydney, Australia",
      "start_date": "Jun 2023",
      "end_date": "Nov 2023",
      "duration": null,
      "bullets": [
        "\u2022 Built Python scripts to track key metrics, ensuring 99% data accuracy and improving data integrity and operational efficiency.",
        "\u2022 Collaborated with the development team to enhance analytics capabilities, using Python to improve data processing speed by 25%.",
        "\u2022 Leveraged Python for data preprocessing and analysis, producing Tableau dashboards that improved decision-making.",
        "\u2022 Supported cross-functional teams with Python-driven insights, enabling customer-focused initiatives."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Research Assistant",
      "location": "Cergy-Pontoise, France",
      "start_date": "Oct 2018",
      "end_date": "Sep 2022",
      "duration": null,
      "bullets": [
        "\u2022 Utilized advanced Python programming for computational modeling and solving complex research problems.",
        "\u2022 Developed Python-based workflows to manage and analyze large datasets across multiple research projects.",
        "\u2022 Presented Python-enabled research findings at international conferences, demonstrating technical expertise and communication skills."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Lecturer and Course Facilitator",
      "location": "Cergy-Pontoise, France",
      "start_date": "Sep 2019",
      "end_date": "Jun 2022",
      "duration": null,
      "bullets": [
        "\u2022 Led engaging physics tutorials for master\u2019s students, enhancing understanding and promoting teamwork.",
        "\u2022 Designed course materials, assignments, and exams, strengthening the learning experience.",
        "\u2022 Mentored students on projects, collaborated with faculty, and fostered student engagement."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Research Intern",
      "location": "Cergy-Pontoise, France",
      "start_date": "Feb 2018",
      "end_date": "Jun 2018",
      "duration": null,
      "bullets": [
        "\u2022 Developed proficiency in Python programming by researching the effect of magnetic fields on 2D materials.",
        "\u2022 Managed and analysed complex data sets, improving their accuracy and reliability.",
        "\u2022 Used dashboard using Power BI to present research findings and participated in weekly reviews, improving collaboration and research skills."
      ],
      "skills_used": null
    }
  ],
  "projects": null,
  "skills": [
    {
      "category": "Technical Skills",
      "skills": [
        "SQL",
        "Python",
        "Excel",
        "Data Analysis",
        "Power BI"
      ]
    }
  ],
  "experience_level": null,
  "total_years_experience": null,
  "created_at": null,
  "updated_at": null
}
2025-10-08 20:25:11,400 - app.tailored_cv.services.cv_tailoring_service - INFO - [da66a122] 🎯 Starting CV tailoring for Australia_for_UNHCR with strategy: education_last
2025-10-08 20:25:11,401 - app.tailored_cv.services.cv_tailoring_service - INFO - [da66a122] Initial stats:
2025-10-08 20:25:11,401 - app.tailored_cv.services.cv_tailoring_service - INFO - [da66a122] - Experience entries: 6
2025-10-08 20:25:11,401 - app.tailored_cv.services.cv_tailoring_service - INFO - [da66a122] - Total bullets: 22
2025-10-08 20:25:11,401 - app.tailored_cv.services.cv_tailoring_service - INFO - [da66a122] - Skills categories: 1
2025-10-08 20:25:11,401 - app.tailored_cv.services.cv_tailoring_service - INFO - [da66a122] - Total skills: 5
2025-10-08 20:25:11,402 - app.tailored_cv.services.cv_tailoring_service - INFO - [da66a122] Critical gaps to address: Business Intelligence, Detail-oriented
2025-10-08 20:25:11,402 - app.tailored_cv.services.cv_tailoring_service - INFO - [da66a122] Technical enhancements needed: 
2025-10-08 20:25:11,402 - app.tailored_cv.services.cv_tailoring_service - INFO - [da66a122] 🤖 Generating tailored CV using AI service...
2025-10-08 20:25:11,402 - app.tailored_cv.services.cv_tailoring_service - INFO - [da66a122] Attempt 1/5 with temp=0.0
2025-10-08 20:25:11,402 - app.tailored_cv.services.cv_tailoring_service - INFO - [da66a122] - System prompt length: 10574
2025-10-08 20:25:11,402 - app.tailored_cv.services.cv_tailoring_service - INFO - [da66a122] - User prompt length: 12422
2025-10-08 20:25:11,421 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-08 20:25:22,619 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 20:25:22,622 - app.tailored_cv.services.cv_tailoring_service - INFO - [da66a122] AI response stats:
2025-10-08 20:25:22,622 - app.tailored_cv.services.cv_tailoring_service - INFO - [da66a122] - Content length: 6170
2025-10-08 20:25:22,622 - app.tailored_cv.services.cv_tailoring_service - INFO - [da66a122] - First 300 chars: {   "contact": {     "name": "Maheshwor Tiwari",     "phone": "0414 032 507",     "email": "maheshtwari99@gmail.com",     "location": "Hurstville, NSW, 2220",     "linkedin": "",     "website": ""   },   "education": [     {       "institution": "Charles Darwin University, Sydney, Australia",       ...
2025-10-08 20:25:22,623 - app.tailored_cv.services.cv_tailoring_service - INFO - Starting JSON extraction from content length: 6170
2025-10-08 20:25:22,624 - app.tailored_cv.services.cv_tailoring_service - INFO - [da66a122] 🔍 Starting JSON validation
2025-10-08 20:25:22,626 - app.tailored_cv.services.cv_tailoring_service - WARNING - [da66a122] CV created below minimum standards: 35.7% quantification
2025-10-08 20:25:22,627 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ JSON structure and Impact Formula validation passed (10/28 bullets with quantification)
2025-10-08 20:25:22,627 - app.tailored_cv.services.cv_tailoring_service - INFO - ℹ️ Skipping placeholder checks; proceeding with generated data as-is.
2025-10-08 20:25:22,627 - app.tailored_cv.services.cv_tailoring_service - INFO - [da66a122] 🔍 Starting keyword integration validation
2025-10-08 20:25:22,627 - app.tailored_cv.services.cv_tailoring_service - INFO - [da66a122] Scanning experience bullets:
2025-10-08 20:25:22,628 - app.tailored_cv.services.cv_tailoring_service - INFO - [da66a122] - Experience 1: 6 bullets
2025-10-08 20:25:22,629 - app.tailored_cv.services.cv_tailoring_service - INFO - [da66a122] - Experience 2: 5 bullets
2025-10-08 20:25:22,630 - app.tailored_cv.services.cv_tailoring_service - INFO - [da66a122] - Experience 3: 5 bullets
2025-10-08 20:25:22,630 - app.tailored_cv.services.cv_tailoring_service - INFO - [da66a122] - Experience 4: 4 bullets
2025-10-08 20:25:22,631 - app.tailored_cv.services.cv_tailoring_service - INFO - [da66a122] - Experience 5: 4 bullets
2025-10-08 20:25:22,631 - app.tailored_cv.services.cv_tailoring_service - INFO - [da66a122] - Experience 6: 4 bullets
2025-10-08 20:25:22,631 - app.tailored_cv.services.cv_tailoring_service - INFO - [da66a122] Scanning skills:
2025-10-08 20:25:22,631 - app.tailored_cv.services.cv_tailoring_service - INFO - [da66a122] - Category 1: 6 skills
2025-10-08 20:25:22,631 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Keyword integration validation passed - 2/2 critical keywords found
2025-10-08 20:25:22,631 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Keyword integration validation passed - 2 critical keywords found
2025-10-08 20:25:22,631 - app.tailored_cv.services.cv_tailoring_service - INFO - [da66a122] ✅ AI generation successful on attempt 1
2025-10-08 20:25:22,632 - app.tailored_cv.services.cv_tailoring_service - INFO - [da66a122] 🔁 Quantification below 60% (35.7%). Enhancement attempt 1/3
2025-10-08 20:25:22,652 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-08 20:25:40,876 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 20:25:40,879 - app.tailored_cv.services.cv_tailoring_service - INFO - Starting JSON extraction from content length: 5746
2025-10-08 20:25:40,880 - app.tailored_cv.services.cv_tailoring_service - INFO - [da66a122] 🔍 Starting JSON validation
2025-10-08 20:25:40,880 - app.tailored_cv.services.cv_tailoring_service - INFO - [da66a122] CV created with improvement suggestions: 72.7% quantification
2025-10-08 20:25:40,880 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ JSON structure and Impact Formula validation passed (16/22 bullets with quantification)
2025-10-08 20:25:40,906 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-08 20:25:41,693 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-08 20:25:41,697 - app.tailored_cv.services.cv_tailoring_service - INFO - ⚠️ CV created with quality warnings: GOOD (B+)
2025-10-08 20:25:41,698 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ CV tailoring completed successfully. Estimated ATS score: 85
2025-10-08 20:25:41,701 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Saved tailored CV to user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202541.json
2025-10-08 20:25:41,701 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Saved tailored CV text to user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202541.txt
2025-10-08 20:25:41,701 - app.services.ai_recommendation_generator - INFO - ✅ [AI GENERATOR] Tailored CV saved automatically to user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202541.json
2025-10-08 20:25:41,701 - app.services.ai_recommendation_generator - INFO - 📊 [AI GENERATOR] Estimated ATS score: 85
2025-10-08 20:25:41,702 - app.services.ai_recommendation_generator - INFO - 🎯 [AI GENERATOR] CV tailoring completed automatically for Australia_for_UNHCR
2025-10-08 20:25:41,702 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] AI recommendation generated for Australia_for_UNHCR
2025-10-08 20:25:41,702 - app.routes.skills_analysis - INFO - 🎯 [PIPELINE] Starting tailored CV generation for Australia_for_UNHCR
2025-10-08 20:25:41,702 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:25:41,703 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded CV optimization framework from /Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/tailored_cv/prompts/framework.md
2025-10-08 20:25:41,703 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:25:41,704 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Found AI recommendation file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251008_202511.json
2025-10-08 20:25:41,705 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Tailored CV found: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202541.txt
2025-10-08 20:25:41,705 - app.routes.skills_analysis - INFO - 📋 [PIPELINE] Pipeline summary for Australia_for_UNHCR:
2025-10-08 20:25:41,705 - app.routes.skills_analysis - INFO -    ✅ Successful: ['jd_analysis', 'cv_jd_matching', 'component_analysis', 'input_recommendation', 'ai_recommendation', 'tailored_cv']
2025-10-08 20:25:41,705 - app.routes.skills_analysis - INFO -    🎉 All steps completed successfully!
2025-10-08 20:25:41,707 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-08 20:25:41,709 - app.services.ai_recommendation_generator - INFO - 🟢 [AI GENERATOR] Latest AI recommendation (Australia_for_UNHCR_ai_recommendation_20251008_202511.json) is up-to-date vs input (Australia_for_UNHCR_input_recommendation_20251008_202505.json); skipping regeneration
2025-10-08 20:25:41,710 - app.services.ats_recommendation_service - INFO - ✅ [TRIGGER] AI recommendation generated successfully for Australia_for_UNHCR
2025-10-08 20:25:41,710 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-08 20:25:41,712 - app.services.ai_recommendation_generator - INFO - 🟢 [AI GENERATOR] Latest AI recommendation (Australia_for_UNHCR_ai_recommendation_20251008_202511.json) is up-to-date vs input (Australia_for_UNHCR_input_recommendation_20251008_202505.json); skipping regeneration
2025-10-08 20:25:41,712 - app.services.ats_recommendation_service - INFO - ✅ [TRIGGER] AI recommendation generated successfully for Australia_for_UNHCR
2025-10-08 20:25:41,814 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-08 20:25:47,627 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-08 20:25:47,934 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-08 20:25:47,934 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 20:25:47,974 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-08 20:25:47,974 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 20:25:48,015 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-08 20:25:48,015 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 20:25:48,059 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 20:25:48,059 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-08 20:25:48,060 - sqlalchemy.engine.Engine - INFO - [generated in 0.00109s] {}
2025-10-08 20:25:48,099 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-08 20:25:48,116 - app.database - INFO - Database connection successful
2025-10-08 20:25:48,116 - app.main - INFO - ✅ Database connection successful
2025-10-08 20:25:48,144 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 20:25:48,150 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:25:48,150 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:25:48,195 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:25:48,196 - sqlalchemy.engine.Engine - INFO - [cached since 0.04633s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:25:48,219 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:25:48,219 - sqlalchemy.engine.Engine - INFO - [cached since 0.07001s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:25:48,243 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:25:48,243 - sqlalchemy.engine.Engine - INFO - [cached since 0.09395s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:25:48,266 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:25:48,266 - sqlalchemy.engine.Engine - INFO - [cached since 0.1169s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:25:48,289 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:25:48,291 - sqlalchemy.engine.Engine - INFO - [cached since 0.1419s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:25:48,311 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:25:48,312 - sqlalchemy.engine.Engine - INFO - [cached since 0.1622s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:25:48,335 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:25:48,336 - sqlalchemy.engine.Engine - INFO - [cached since 0.1863s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:25:48,357 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:25:48,359 - sqlalchemy.engine.Engine - INFO - [cached since 0.2092s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:25:48,378 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:25:48,378 - sqlalchemy.engine.Engine - INFO - [cached since 0.2291s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:25:48,402 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:25:48,402 - sqlalchemy.engine.Engine - INFO - [cached since 0.2528s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:25:48,426 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-08 20:25:48,444 - app.database - INFO - Database tables created successfully
2025-10-08 20:25:48,444 - app.main - INFO - ✅ Database tables ready
2025-10-08 20:25:48,444 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-08 20:25:48,444 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-08 20:25:48,453 - app.routes.skills_analysis - INFO - 📊 [API] Fetching analysis results for company: Australia_for_UNHCR
2025-10-08 20:25:48,454 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:25:48,454 - app.utils.path_debug - INFO - 
📌 Starting get_analysis_results
2025-10-08 20:25:48,455 - app.utils.path_debug - INFO -   📂 User base dir: user/munna@gmail.com/cv-analysis
2025-10-08 20:25:48,455 - app.utils.path_debug - INFO -   📂 Company dir: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-08 20:25:48,460 - app.utils.path_debug - INFO -   📂 Using analysis file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251008_202418.json
2025-10-08 20:25:48,462 - app.utils.path_debug - INFO -   ✅ Loaded analysis file, size: 24953 bytes
2025-10-08 20:26:01,827 - app.routes.skills_analysis - INFO - 📊 [API] Fetching analysis results for company: Australia_for_UNHCR
2025-10-08 20:26:01,830 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:26:01,831 - app.utils.path_debug - INFO - 
📌 Starting get_analysis_results
2025-10-08 20:26:01,831 - app.utils.path_debug - INFO -   📂 User base dir: user/munna@gmail.com/cv-analysis
2025-10-08 20:26:01,831 - app.utils.path_debug - INFO -   📂 Company dir: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-08 20:26:01,832 - app.utils.path_debug - INFO -   📂 Using analysis file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251008_202418.json
2025-10-08 20:26:01,833 - app.utils.path_debug - INFO -   ✅ Loaded analysis file, size: 24953 bytes
2025-10-08 20:26:24,220 - app.routes.ai_recommendations - INFO - 🔍 [AI_RECOMMENDATIONS] Fetching for company: Australia_for_UNHCR, user: munna@gmail.com
2025-10-08 20:26:24,221 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:26:24,221 - app.routes.ai_recommendations - INFO - 🔍 [AI_RECOMMENDATIONS] Searching in: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-08 20:26:24,221 - app.routes.ai_recommendations - INFO - ✅ [AI_RECOMMENDATIONS] Found file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251008_202511.json
2025-10-08 20:26:24,222 - app.routes.ai_recommendations - INFO - ✅ [AI_RECOMMENDATIONS] Successfully loaded recommendation, content length: 2694
2025-10-08 20:32:00,712 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:32:00,760 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 📄 Tailored CV content request for Australia_for_UNHCR from user 4df52e53-b78f-45e9-8946-3b6c00618693
2025-10-08 20:32:00,760 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:32:00,761 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-08 20:32:00,761 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-08 20:32:00,763 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ Served TAILORED CV content: Australia_for_UNHCR_tailored_cv_20251008_202541.txt from tailored folder (3731 characters)
2025-10-08 20:36:40,506 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-08 20:36:46,245 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-08 20:36:46,597 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-08 20:36:46,597 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 20:36:46,635 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-08 20:36:46,636 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 20:36:46,681 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-08 20:36:46,681 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 20:36:46,719 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 20:36:46,719 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-08 20:36:46,721 - sqlalchemy.engine.Engine - INFO - [generated in 0.00156s] {}
2025-10-08 20:36:46,763 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-08 20:36:46,781 - app.database - INFO - Database connection successful
2025-10-08 20:36:46,782 - app.main - INFO - ✅ Database connection successful
2025-10-08 20:36:46,807 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 20:36:46,813 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:36:46,813 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:36:46,850 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:36:46,850 - sqlalchemy.engine.Engine - INFO - [cached since 0.03751s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:36:46,875 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:36:46,876 - sqlalchemy.engine.Engine - INFO - [cached since 0.06289s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:36:46,899 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:36:46,901 - sqlalchemy.engine.Engine - INFO - [cached since 0.08831s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:36:46,923 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:36:46,923 - sqlalchemy.engine.Engine - INFO - [cached since 0.1108s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:36:46,956 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:36:46,956 - sqlalchemy.engine.Engine - INFO - [cached since 0.1435s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:36:46,978 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:36:46,978 - sqlalchemy.engine.Engine - INFO - [cached since 0.166s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:36:47,002 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:36:47,002 - sqlalchemy.engine.Engine - INFO - [cached since 0.1895s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:36:47,025 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:36:47,026 - sqlalchemy.engine.Engine - INFO - [cached since 0.2135s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:36:47,046 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:36:47,047 - sqlalchemy.engine.Engine - INFO - [cached since 0.2343s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:36:47,069 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:36:47,069 - sqlalchemy.engine.Engine - INFO - [cached since 0.2564s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:36:47,092 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-08 20:36:47,116 - app.database - INFO - Database tables created successfully
2025-10-08 20:36:47,116 - app.main - INFO - ✅ Database tables ready
2025-10-08 20:36:47,116 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-08 20:36:47,116 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-08 20:36:49,636 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-08 20:36:53,951 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-08 20:36:54,229 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-08 20:36:54,229 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 20:36:54,271 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-08 20:36:54,271 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 20:36:54,318 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-08 20:36:54,318 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 20:36:54,363 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 20:36:54,364 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-08 20:36:54,364 - sqlalchemy.engine.Engine - INFO - [generated in 0.00120s] {}
2025-10-08 20:36:54,405 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-08 20:36:54,425 - app.database - INFO - Database connection successful
2025-10-08 20:36:54,426 - app.main - INFO - ✅ Database connection successful
2025-10-08 20:36:54,452 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 20:36:54,463 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:36:54,465 - sqlalchemy.engine.Engine - INFO - [generated in 0.00166s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:36:54,503 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:36:54,503 - sqlalchemy.engine.Engine - INFO - [cached since 0.04001s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:36:54,525 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:36:54,527 - sqlalchemy.engine.Engine - INFO - [cached since 0.06315s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:36:54,548 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:36:54,549 - sqlalchemy.engine.Engine - INFO - [cached since 0.08553s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:36:54,572 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:36:54,573 - sqlalchemy.engine.Engine - INFO - [cached since 0.1096s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:36:54,593 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:36:54,594 - sqlalchemy.engine.Engine - INFO - [cached since 0.1307s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:36:54,618 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:36:54,619 - sqlalchemy.engine.Engine - INFO - [cached since 0.156s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:36:54,644 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:36:54,644 - sqlalchemy.engine.Engine - INFO - [cached since 0.1808s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:36:54,664 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:36:54,664 - sqlalchemy.engine.Engine - INFO - [cached since 0.2009s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:36:54,687 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:36:54,687 - sqlalchemy.engine.Engine - INFO - [cached since 0.2242s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:36:54,709 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:36:54,710 - sqlalchemy.engine.Engine - INFO - [cached since 0.2463s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:36:54,733 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-08 20:36:54,754 - app.database - INFO - Database tables created successfully
2025-10-08 20:36:54,755 - app.main - INFO - ✅ Database tables ready
2025-10-08 20:36:54,755 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-08 20:36:54,755 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-08 20:36:57,887 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-08 20:37:01,946 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-08 20:37:02,299 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-08 20:37:02,300 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 20:37:02,348 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-08 20:37:02,348 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 20:37:02,404 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-08 20:37:02,405 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 20:37:02,449 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 20:37:02,449 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-08 20:37:02,449 - sqlalchemy.engine.Engine - INFO - [generated in 0.00057s] {}
2025-10-08 20:37:02,490 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-08 20:37:02,516 - app.database - INFO - Database connection successful
2025-10-08 20:37:02,516 - app.main - INFO - ✅ Database connection successful
2025-10-08 20:37:02,540 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 20:37:02,545 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:37:02,545 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:37:02,586 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:37:02,586 - sqlalchemy.engine.Engine - INFO - [cached since 0.04204s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:37:02,610 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:37:02,610 - sqlalchemy.engine.Engine - INFO - [cached since 0.06573s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:37:02,631 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:37:02,631 - sqlalchemy.engine.Engine - INFO - [cached since 0.08708s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:37:02,657 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:37:02,658 - sqlalchemy.engine.Engine - INFO - [cached since 0.1134s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:37:02,699 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:37:02,699 - sqlalchemy.engine.Engine - INFO - [cached since 0.1546s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:37:02,725 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:37:02,725 - sqlalchemy.engine.Engine - INFO - [cached since 0.1811s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:37:02,751 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:37:02,752 - sqlalchemy.engine.Engine - INFO - [cached since 0.2073s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:37:02,779 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:37:02,779 - sqlalchemy.engine.Engine - INFO - [cached since 0.2346s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:37:02,801 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:37:02,802 - sqlalchemy.engine.Engine - INFO - [cached since 0.2573s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:37:02,820 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:37:02,820 - sqlalchemy.engine.Engine - INFO - [cached since 0.2759s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:37:02,849 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-08 20:37:02,867 - app.database - INFO - Database tables created successfully
2025-10-08 20:37:02,867 - app.main - INFO - ✅ Database tables ready
2025-10-08 20:37:02,867 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-08 20:37:02,867 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-08 20:48:28,601 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-08 20:48:28,934 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-08 20:48:28,935 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 20:48:28,977 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-08 20:48:28,978 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 20:48:29,027 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-08 20:48:29,027 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 20:48:29,076 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 20:48:29,077 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-08 20:48:29,077 - sqlalchemy.engine.Engine - INFO - [generated in 0.00115s] {}
2025-10-08 20:48:29,125 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-08 20:48:29,148 - app.database - INFO - Database connection successful
2025-10-08 20:48:29,148 - app.main - INFO - ✅ Database connection successful
2025-10-08 20:48:29,169 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 20:48:29,173 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:48:29,174 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:48:29,213 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:48:29,213 - sqlalchemy.engine.Engine - INFO - [cached since 0.04002s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:48:29,237 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:48:29,238 - sqlalchemy.engine.Engine - INFO - [cached since 0.06422s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:48:29,260 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:48:29,260 - sqlalchemy.engine.Engine - INFO - [cached since 0.08714s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:48:29,284 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:48:29,284 - sqlalchemy.engine.Engine - INFO - [cached since 0.111s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:48:29,306 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:48:29,307 - sqlalchemy.engine.Engine - INFO - [cached since 0.1334s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:48:29,329 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:48:29,330 - sqlalchemy.engine.Engine - INFO - [cached since 0.1563s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:48:29,351 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:48:29,352 - sqlalchemy.engine.Engine - INFO - [cached since 0.1784s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:48:29,376 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:48:29,376 - sqlalchemy.engine.Engine - INFO - [cached since 0.2028s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:48:29,400 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:48:29,400 - sqlalchemy.engine.Engine - INFO - [cached since 0.2268s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:48:29,420 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 20:48:29,421 - sqlalchemy.engine.Engine - INFO - [cached since 0.2473s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 20:48:29,444 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-08 20:48:29,467 - app.database - INFO - Database tables created successfully
2025-10-08 20:48:29,467 - app.main - INFO - ✅ Database tables ready
2025-10-08 20:48:29,467 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-08 20:48:29,468 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-08 20:49:24,255 - app.main - WARNING - 🚫 Auth failed (403) for GET /api/ai/status
2025-10-08 20:56:04,720 - app.routes.auth - INFO - 🔵 [REGISTER] Starting registration process
2025-10-08 20:56:04,721 - app.routes.auth - INFO - 🔵 [REGISTER] Raw payload: email='vampada@gmail.com' password='vampada' name='vampada subedi'
2025-10-08 20:56:04,722 - app.routes.auth - INFO - 🔵 [REGISTER] Email: 'vampada@gmail.com', Name: 'vampada subedi', Password length: 7
2025-10-08 20:56:04,722 - app.routes.auth - INFO - 🔵 [REGISTER] Normalized email: 'vampada@gmail.com'
2025-10-08 20:56:04,722 - app.routes.auth - INFO - 🔵 [REGISTER] Password validation - length: 7
2025-10-08 20:56:04,722 - app.routes.auth - INFO - 🔵 [REGISTER] Checking if user exists: 'vampada@gmail.com'
2025-10-08 20:56:04,807 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 20:56:04,823 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-08 20:56:04,823 - sqlalchemy.engine.Engine - INFO - [generated in 0.00132s] {'email_1': 'vampada@gmail.com', 'param_1': 1}
2025-10-08 20:56:04,875 - app.routes.auth - INFO - 🔵 [REGISTER] User does not exist, proceeding with creation
2025-10-08 20:56:04,875 - app.routes.auth - INFO - 🔵 [REGISTER] Base username: 'vampada'
2025-10-08 20:56:04,877 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-10-08 20:56:04,878 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] {'username_1': 'vampada', 'param_1': 1}
2025-10-08 20:56:04,897 - app.routes.auth - INFO - 🔵 [REGISTER] Final username: 'vampada'
2025-10-08 20:56:04,897 - app.routes.auth - INFO - 🔵 [REGISTER] Creating user object
2025-10-08 20:56:05,117 - app.routes.auth - INFO - 🔵 [REGISTER] Setting password
2025-10-08 20:56:05,541 - app.routes.auth - INFO - 🔵 [REGISTER] Adding user to database
2025-10-08 20:56:05,542 - app.routes.auth - INFO - 🔵 [REGISTER] Committing to database
2025-10-08 20:56:05,551 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (username, email, full_name, hashed_password, is_active, is_verified, created_at, updated_at, last_login) VALUES (%(username)s, %(email)s, %(full_name)s, %(hashed_password)s, %(is_active)s, %(is_verified)s, %(created_at)s, now(), %(last_login)s) RETURNING users.id, users.updated_at
2025-10-08 20:56:05,552 - sqlalchemy.engine.Engine - INFO - [generated in 0.00051s] {'username': 'vampada', 'email': 'vampada@gmail.com', 'full_name': 'vampada subedi', 'hashed_password': '$2b$12$QRkIogFdwl5NXi4FlrMz3efTDL.5R1un9MapEIV3LyX88Y6RLgkcy', 'is_active': True, 'is_verified': False, 'created_at': datetime.datetime(2025, 10, 8, 9, 56, 4, 897742), 'last_login': None}
2025-10-08 20:56:05,579 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-08 20:56:05,605 - app.routes.auth - INFO - 🔵 [REGISTER] Refreshing user object
2025-10-08 20:56:05,631 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 20:56:05,632 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.full_name, users.hashed_password, users.is_active, users.is_verified, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.id = %(pk_1)s
2025-10-08 20:56:05,632 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] {'pk_1': UUID('a15de508-91fb-4aae-9a2e-6a933b63272c')}
2025-10-08 20:56:05,683 - app.routes.auth - INFO - 🔵 [REGISTER] User created successfully with ID: a15de508-91fb-4aae-9a2e-6a933b63272c
2025-10-08 20:56:05,684 - app.routes.auth - INFO - 🔵 [REGISTER] Creating user directories for: vampada@gmail.com
2025-10-08 20:56:05,685 - app.utils.user_path_utils - INFO - ✅ Created user base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-08 20:56:05,687 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/vampada@gmail.com/cv-analysis
2025-10-08 20:56:05,687 - app.routes.auth - INFO - 🔵 [REGISTER] User directories created successfully
2025-10-08 20:56:05,687 - app.routes.auth - INFO - 🔵 [REGISTER] Preparing success response
2025-10-08 20:56:05,688 - app.routes.auth - INFO - ✅ [REGISTER] User registered successfully: vampada@gmail.com (ID: a15de508-91fb-4aae-9a2e-6a933b63272c)
2025-10-08 20:56:05,690 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-08 20:56:07,824 - app.routes.auth - INFO - 🔵 [LOGIN] Starting login process
2025-10-08 20:56:07,825 - app.routes.auth - INFO - 🔵 [LOGIN] Raw credentials: email='vampada@gmail.com' password='vampada'
2025-10-08 20:56:07,825 - app.routes.auth - INFO - 🔵 [LOGIN] Email: 'vampada@gmail.com', Password length: 7
2025-10-08 20:56:07,825 - app.routes.auth - INFO - 🔵 [LOGIN] Attempting authentication
2025-10-08 20:56:07,825 - app.core.auth - INFO - 🔵 [AUTH] Starting authentication for email: 'vampada@gmail.com'
2025-10-08 20:56:07,826 - app.core.auth - INFO - 🔵 [AUTH] Normalized inputs - email: 'vampada@gmail.com', password length: 7
2025-10-08 20:56:07,826 - app.core.auth - INFO - 🔵 [AUTH] Using provided database session
2025-10-08 20:56:07,826 - app.core.auth - INFO - 🔵 [AUTH] Querying database for user: 'vampada@gmail.com'
2025-10-08 20:56:07,845 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 20:56:07,846 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-08 20:56:07,846 - sqlalchemy.engine.Engine - INFO - [cached since 3.024s ago] {'email_1': 'vampada@gmail.com', 'param_1': 1}
2025-10-08 20:56:07,889 - app.core.auth - INFO - 🔵 [AUTH] User found: vampada@gmail.com (ID: a15de508-91fb-4aae-9a2e-6a933b63272c, Active: True)
2025-10-08 20:56:07,889 - app.core.auth - INFO - 🔵 [AUTH] Verifying password
2025-10-08 20:56:08,279 - app.core.auth - INFO - 🔵 [AUTH] Password verification successful for user: 'vampada@gmail.com'
2025-10-08 20:56:08,279 - app.core.auth - INFO - ✅ [AUTH] Authentication successful
2025-10-08 20:56:08,280 - app.routes.auth - INFO - 🔵 [LOGIN] Authentication successful for user: vampada@gmail.com (ID: a15de508-91fb-4aae-9a2e-6a933b63272c)
2025-10-08 20:56:08,280 - app.routes.auth - INFO - 🔵 [LOGIN] Ensuring user directories exist for: vampada@gmail.com
2025-10-08 20:56:08,280 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-08 20:56:08,281 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/vampada@gmail.com/cv-analysis
2025-10-08 20:56:08,281 - app.routes.auth - INFO - 🔵 [LOGIN] User directories verified/created successfully
2025-10-08 20:56:08,282 - app.routes.auth - INFO - 🔵 [LOGIN] Creating JWT tokens
2025-10-08 20:56:08,283 - app.routes.auth - INFO - 🔵 [LOGIN] Tokens created successfully
2025-10-08 20:56:08,284 - app.routes.auth - INFO - ✅ [LOGIN] Login successful for user: vampada@gmail.com (ID: a15de508-91fb-4aae-9a2e-6a933b63272c)
2025-10-08 20:56:08,288 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-08 20:56:09,295 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-08 20:56:09,296 - app.routes.cv_simple - INFO - Listed 0 CV files
2025-10-08 20:56:09,300 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-08 20:56:09,304 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-08 20:56:09,305 - app.services.saved_jobs_service - INFO - ✨ Created new jobs file at user/vampada@gmail.com/cv-analysis/saved_jobs/saved_jobs.json
2025-10-08 20:56:58,881 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 20:56:58,885 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-08 20:56:58,885 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'provider_1': 'openai', 'param_1': 1}
2025-10-08 20:56:58,955 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_api_keys (user_id, provider, encrypted_key, key_hash, is_valid, last_validated, created_at, updated_at) VALUES (%(user_id)s, %(provider)s, %(encrypted_key)s, %(key_hash)s, %(is_valid)s, %(last_validated)s, now(), now()) RETURNING user_api_keys.id, user_api_keys.created_at, user_api_keys.updated_at
2025-10-08 20:56:58,955 - sqlalchemy.engine.Engine - INFO - [generated in 0.00056s] {'user_id': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'provider': 'openai', 'encrypted_key': 'Z0FBQUFBQm81alZxM3VHLVBSQkZzOGJuc21La1NURGVaVWZCSnJOZGNMcFNhVDREUjBjQWpCMTd5QVQyTzBrQjh1YS1zVndJM3ZoRnJ5OTVkeGVYazNHeGdtc2tyTDZuYlJOOVJXem04bEpQUDI4W ... (118 characters truncated) ... PX3l1bzAwSXJnMF82QVItWlI2dDJaYk15UlRmdVVqYXNReHJBdEM0d1g0Q0JNa1hzN0pBMk5oSnQ3X2F4eU5Qd3d1ZUJXUDFxcFlQTk1YZFdtc2FWLTBud3VLN29MdHY1M0ROQ3RmY0NJbldheHc9', 'key_hash': '819280703fd19bc03ccad496e4c2fc88236c72ed1d4b2b883f70efdff03bdab1', 'is_valid': False, 'last_validated': None}
2025-10-08 20:56:58,990 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-08 20:56:59,011 - app.services.user_api_key_manager - INFO - Created new API key for user vampada@gmail.com and provider openai
2025-10-08 20:56:59,796 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-08 20:56:59,840 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 20:56:59,841 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-08 20:56:59,841 - sqlalchemy.engine.Engine - INFO - [cached since 0.9566s ago] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'provider_1': 'openai', 'param_1': 1}
2025-10-08 20:56:59,883 - sqlalchemy.engine.Engine - INFO - UPDATE user_api_keys SET is_valid=%(is_valid)s, last_validated=%(last_validated)s, updated_at=now() WHERE user_api_keys.id = %(user_api_keys_id)s
2025-10-08 20:56:59,883 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] {'is_valid': True, 'last_validated': datetime.datetime(2025, 10, 8, 9, 56, 59, 881162), 'user_api_keys_id': 11}
2025-10-08 20:56:59,909 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-08 20:56:59,933 - app.ai.ai_service - INFO - 🔄 Refreshing AI providers after API key changes
2025-10-08 20:56:59,934 - app.routes.api_keys - INFO - 🔄 Refreshed AI providers after setting openai API key for user vampada@gmail.com
2025-10-08 20:57:29,410 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-08 20:57:29,413 - app.routes.cv_simple - INFO - Listed 0 CV files
2025-10-08 20:57:29,659 - app.routes.cv_simple - INFO - Uploading maheshwor_tiwari.pdf with structured processing for user: vampada@gmail.com
2025-10-08 20:57:29,659 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-08 20:57:29,660 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-08 20:57:29,661 - app.services.enhanced_cv_upload_service - INFO - CV file saved: maheshwor_tiwari.pdf (130169 bytes)
2025-10-08 20:57:30,172 - app.services.enhanced_cv_upload_service - INFO - Text extracted successfully: 4864 characters
2025-10-08 20:57:30,173 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-08 20:57:30,173 - app.services.structured_cv_parser - ERROR - Error in LLM parsing: No AI provider selected. Set via /ai/set-current-model.
2025-10-08 20:57:30,173 - app.services.structured_cv_parser - ERROR - Error parsing CV content with LLM: No AI provider selected. Set via /ai/set-current-model.
2025-10-08 20:57:30,174 - app.services.enhanced_cv_upload_service - INFO - CV parsed from raw text content
2025-10-08 20:57:30,176 - app.services.structured_cv_parser - INFO - Successfully saved structured CV to user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-08 20:57:30,176 - app.services.enhanced_cv_upload_service - INFO - Structured CV saved as original_cv.json: user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.json (replaced existing)
2025-10-08 20:57:30,176 - app.services.enhanced_cv_upload_service - INFO - CV processed successfully: maheshwor_tiwari.pdf
2025-10-08 20:57:30,176 - app.routes.cv_simple - INFO - ✅ maheshwor_tiwari.pdf uploaded and processed into structured format for user: vampada@gmail.com
2025-10-08 20:57:30,211 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-08 20:57:30,212 - app.routes.cv_simple - INFO - Listed 1 CV files
2025-10-08 20:57:30,359 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-08 20:57:30,363 - app.routes.cv_simple - INFO - Listed 1 CV files
2025-10-08 20:57:39,680 - app.utils.directory_utils - ERROR - ❌ Failed to create cv-analysis directories: User email must be provided
2025-10-08 20:57:43,304 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-08 20:57:43,614 - app.modules.cv.preview - INFO - CV content extracted: maheshwor_tiwari.pdf (4864 characters)
2025-10-08 20:57:43,615 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-08 20:57:43,618 - app.routes.cv_organized - INFO - CV saved as text: user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-08 20:57:43,619 - app.routes.cv_organized - INFO - Processing maheshwor_tiwari.pdf for structured CV format (background)...
2025-10-08 20:57:43,619 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-08 20:57:43,619 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-08 20:57:44,840 - app.services.enhanced_cv_upload_service - INFO - Text extracted successfully: 4864 characters
2025-10-08 20:57:44,841 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-08 20:57:44,841 - app.services.structured_cv_parser - ERROR - Error in LLM parsing: No AI provider selected. Set via /ai/set-current-model.
2025-10-08 20:57:44,842 - app.services.structured_cv_parser - ERROR - Error parsing CV content with LLM: No AI provider selected. Set via /ai/set-current-model.
2025-10-08 20:57:44,842 - app.services.enhanced_cv_upload_service - INFO - CV parsed from raw text content
2025-10-08 20:57:44,843 - app.services.structured_cv_parser - INFO - Successfully saved structured CV to user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-08 20:57:44,843 - app.services.enhanced_cv_upload_service - INFO - Structured CV saved as original_cv.json: user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.json (replaced existing)
2025-10-08 20:57:44,843 - app.services.enhanced_cv_upload_service - INFO - Existing CV processed successfully: maheshwor_tiwari.pdf
2025-10-08 20:57:44,844 - app.routes.cv_organized - INFO - ✅ Background: CV saved as structured JSON: user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-08 20:57:44,855 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-08 20:57:45,235 - app.routes.cv_simple - INFO - CV content extracted: maheshwor_tiwari.pdf (4864 characters)
2025-10-08 20:57:49,139 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-08 20:57:49,143 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-08 20:57:49,143 - app.services.job_extraction_service - ERROR - AI service error: 
2025-10-08 20:57:49,219 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-08 20:57:49,221 - app.services.job_extraction_service - INFO - ✅ [JOB_EXTRACTION] Added job to shared jobs file: Data Analyst at Australia for UNHCR
2025-10-08 20:57:55,384 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-08 20:57:55,385 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-08 20:57:55,385 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: []
2025-10-08 20:57:55,385 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-08 20:57:55,386 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {}
2025-10-08 20:57:55,386 - app.ai.ai_service - ERROR - ❌ No current provider available for model switching
2025-10-08 20:57:55,386 - app.core.model_dependency - WARNING - ⚠️ Failed to switch to header model gpt-4o-mini
2025-10-08 21:03:51,688 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-08 21:04:00,457 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-08 21:04:00,842 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-08 21:04:00,843 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 21:04:00,889 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-08 21:04:00,889 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 21:04:00,937 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-08 21:04:00,939 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 21:04:00,987 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:04:00,988 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-08 21:04:00,988 - sqlalchemy.engine.Engine - INFO - [generated in 0.00110s] {}
2025-10-08 21:04:01,029 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-08 21:04:01,058 - app.database - INFO - Database connection successful
2025-10-08 21:04:01,058 - app.main - INFO - ✅ Database connection successful
2025-10-08 21:04:01,089 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:04:01,097 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:04:01,098 - sqlalchemy.engine.Engine - INFO - [generated in 0.00125s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:04:01,139 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:04:01,139 - sqlalchemy.engine.Engine - INFO - [cached since 0.04285s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:04:01,163 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:04:01,163 - sqlalchemy.engine.Engine - INFO - [cached since 0.06707s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:04:01,187 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:04:01,188 - sqlalchemy.engine.Engine - INFO - [cached since 0.09162s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:04:01,211 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:04:01,211 - sqlalchemy.engine.Engine - INFO - [cached since 0.1152s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:04:01,236 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:04:01,237 - sqlalchemy.engine.Engine - INFO - [cached since 0.1407s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:04:01,261 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:04:01,261 - sqlalchemy.engine.Engine - INFO - [cached since 0.1652s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:04:01,288 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:04:01,288 - sqlalchemy.engine.Engine - INFO - [cached since 0.1919s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:04:01,313 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:04:01,314 - sqlalchemy.engine.Engine - INFO - [cached since 0.2176s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:04:01,337 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:04:01,337 - sqlalchemy.engine.Engine - INFO - [cached since 0.2409s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:04:01,360 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:04:01,360 - sqlalchemy.engine.Engine - INFO - [cached since 0.2637s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:04:01,380 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-08 21:04:01,400 - app.database - INFO - Database tables created successfully
2025-10-08 21:04:01,400 - app.main - INFO - ✅ Database tables ready
2025-10-08 21:04:01,400 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-08 21:04:01,400 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-08 21:04:16,735 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-08 21:04:22,572 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-08 21:04:22,885 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-08 21:04:22,885 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 21:04:22,929 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-08 21:04:22,930 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 21:04:22,972 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-08 21:04:22,972 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 21:04:23,016 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:04:23,017 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-08 21:04:23,017 - sqlalchemy.engine.Engine - INFO - [generated in 0.00101s] {}
2025-10-08 21:04:23,062 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-08 21:04:23,084 - app.database - INFO - Database connection successful
2025-10-08 21:04:23,084 - app.main - INFO - ✅ Database connection successful
2025-10-08 21:04:23,104 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:04:23,111 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:04:23,112 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:04:23,158 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:04:23,159 - sqlalchemy.engine.Engine - INFO - [cached since 0.0475s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:04:23,180 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:04:23,181 - sqlalchemy.engine.Engine - INFO - [cached since 0.06936s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:04:23,202 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:04:23,202 - sqlalchemy.engine.Engine - INFO - [cached since 0.09111s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:04:23,225 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:04:23,226 - sqlalchemy.engine.Engine - INFO - [cached since 0.1145s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:04:23,248 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:04:23,248 - sqlalchemy.engine.Engine - INFO - [cached since 0.1372s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:04:23,272 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:04:23,272 - sqlalchemy.engine.Engine - INFO - [cached since 0.161s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:04:23,294 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:04:23,294 - sqlalchemy.engine.Engine - INFO - [cached since 0.1827s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:04:23,316 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:04:23,317 - sqlalchemy.engine.Engine - INFO - [cached since 0.2056s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:04:23,338 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:04:23,339 - sqlalchemy.engine.Engine - INFO - [cached since 0.2276s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:04:23,362 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:04:23,362 - sqlalchemy.engine.Engine - INFO - [cached since 0.2511s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:04:23,385 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-08 21:04:23,407 - app.database - INFO - Database tables created successfully
2025-10-08 21:04:23,407 - app.main - INFO - ✅ Database tables ready
2025-10-08 21:04:23,408 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-08 21:04:23,408 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-08 21:09:06,278 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-08 21:09:06,280 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-08 21:09:06,280 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: []
2025-10-08 21:09:06,281 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-08 21:09:06,281 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {}
2025-10-08 21:09:06,281 - app.ai.ai_service - ERROR - ❌ No current provider available for model switching
2025-10-08 21:09:06,282 - app.core.model_dependency - WARNING - ⚠️ Failed to switch to header model gpt-4o-mini
2025-10-08 21:13:32,115 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-08 21:13:32,119 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-08 21:13:32,119 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: []
2025-10-08 21:13:32,120 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-08 21:13:32,120 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {}
2025-10-08 21:13:32,366 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:13:32,383 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-08 21:13:32,385 - sqlalchemy.engine.Engine - INFO - [generated in 0.00117s] {'user_id_1': '01bb4d5a-fd36-4e52-b326-b44d6e6bd8c9', 'provider_1': 'openai', 'param_1': 1}
2025-10-08 21:13:32,501 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_api_keys (user_id, provider, encrypted_key, key_hash, is_valid, last_validated, created_at, updated_at) VALUES (%(user_id)s, %(provider)s, %(encrypted_key)s, %(key_hash)s, %(is_valid)s, %(last_validated)s, now(), now()) RETURNING user_api_keys.id, user_api_keys.created_at, user_api_keys.updated_at
2025-10-08 21:13:32,502 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] {'user_id': '01bb4d5a-fd36-4e52-b326-b44d6e6bd8c9', 'provider': 'openai', 'encrypted_key': 'Z0FBQUFBQm81amxNTURkU2pRZW43dHhqQWExTFRMakVHVVcyanhEdUJUT0RIWXhkU3VzUUpVeWJDZUQ5WkFjc3hUV24wakdmSEtPVWdhaDNCYzhleFZWaWdid0VsWG90cXJubW1Ka2QxNkNkSFg0MWlRcURwUkE9', 'key_hash': 'f803d8dfd23a3c2ca3d3216b6098b0f93e003069a9d3eb3beaf1fc0fc138fece', 'is_valid': False, 'last_validated': None}
2025-10-08 21:13:32,529 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-08 21:13:32,553 - app.services.user_api_key_manager - INFO - Created new API key for user demo@cvapp.com and provider openai
2025-10-08 21:13:33,159 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 401 Unauthorized"
2025-10-08 21:13:33,167 - app.ai.providers.openai_provider - ERROR - OpenAI API key validation failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-place*************7890. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-10-08 21:13:33,192 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:13:33,193 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-08 21:13:33,194 - sqlalchemy.engine.Engine - INFO - [cached since 0.8115s ago] {'user_id_1': '01bb4d5a-fd36-4e52-b326-b44d6e6bd8c9', 'provider_1': 'openai', 'param_1': 1}
2025-10-08 21:13:33,237 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-08 21:13:33,257 - app.ai.ai_service - INFO - 🔄 Refreshing AI providers after API key changes
2025-10-08 21:13:33,258 - app.routes.api_keys - INFO - 🔄 Refreshed AI providers after setting openai API key for user demo@cvapp.com
2025-10-08 21:16:18,824 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-08 21:16:24,233 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-08 21:16:24,584 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-08 21:16:24,584 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 21:16:24,633 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-08 21:16:24,634 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 21:16:24,677 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-08 21:16:24,678 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 21:16:24,719 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:16:24,719 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-08 21:16:24,719 - sqlalchemy.engine.Engine - INFO - [generated in 0.00059s] {}
2025-10-08 21:16:24,764 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-08 21:16:24,789 - app.database - INFO - Database connection successful
2025-10-08 21:16:24,790 - app.main - INFO - ✅ Database connection successful
2025-10-08 21:16:24,810 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:16:24,817 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:16:24,817 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:16:24,864 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:16:24,864 - sqlalchemy.engine.Engine - INFO - [cached since 0.04787s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:16:24,887 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:16:24,889 - sqlalchemy.engine.Engine - INFO - [cached since 0.07255s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:16:24,911 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:16:24,911 - sqlalchemy.engine.Engine - INFO - [cached since 0.09497s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:16:24,935 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:16:24,936 - sqlalchemy.engine.Engine - INFO - [cached since 0.1191s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:16:24,955 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:16:24,957 - sqlalchemy.engine.Engine - INFO - [cached since 0.1403s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:16:24,975 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:16:24,975 - sqlalchemy.engine.Engine - INFO - [cached since 0.1589s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:16:25,000 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:16:25,001 - sqlalchemy.engine.Engine - INFO - [cached since 0.1841s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:16:25,023 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:16:25,024 - sqlalchemy.engine.Engine - INFO - [cached since 0.2077s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:16:25,047 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:16:25,048 - sqlalchemy.engine.Engine - INFO - [cached since 0.2313s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:16:25,071 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:16:25,071 - sqlalchemy.engine.Engine - INFO - [cached since 0.2545s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:16:25,094 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-08 21:16:25,112 - app.database - INFO - Database tables created successfully
2025-10-08 21:16:25,113 - app.main - INFO - ✅ Database tables ready
2025-10-08 21:16:25,113 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-08 21:16:25,113 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-08 21:17:07,803 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:17:07,809 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-08 21:17:07,809 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] {'user_id_1': '5b3c9db4-fb66-4659-89b5-577f1d84e153', 'provider_1': 'openai', 'param_1': 1}
2025-10-08 21:17:07,856 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_api_keys (user_id, provider, encrypted_key, key_hash, is_valid, last_validated, created_at, updated_at) VALUES (%(user_id)s, %(provider)s, %(encrypted_key)s, %(key_hash)s, %(is_valid)s, %(last_validated)s, now(), now()) RETURNING user_api_keys.id, user_api_keys.created_at, user_api_keys.updated_at
2025-10-08 21:17:07,857 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s] {'user_id': '5b3c9db4-fb66-4659-89b5-577f1d84e153', 'provider': 'openai', 'encrypted_key': 'Z0FBQUFBQm81am9qQ2p2LThEU3NhN3kyWDFUMHFRWU84MXFKS3EwTThxem8xUk9vYjNUYzdxWUZBRmo5TTcyODFseWdsY19JTm4xVWxJN1B5c195S2I3T3p0NzdBT2F0U1lac1U5a0ltUGRCaG9FU09aNEV0TlU9', 'key_hash': 'f803d8dfd23a3c2ca3d3216b6098b0f93e003069a9d3eb3beaf1fc0fc138fece', 'is_valid': False, 'last_validated': None}
2025-10-08 21:17:07,877 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-08 21:17:07,900 - app.services.user_api_key_manager - INFO - Created new API key for user demo@cvapp.com and provider openai
2025-10-08 21:17:08,306 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 401 Unauthorized"
2025-10-08 21:17:08,308 - app.ai.providers.openai_provider - ERROR - OpenAI API key validation failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-place*************7890. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-10-08 21:17:08,334 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:17:08,335 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-08 21:17:08,335 - sqlalchemy.engine.Engine - INFO - [cached since 0.5261s ago] {'user_id_1': '5b3c9db4-fb66-4659-89b5-577f1d84e153', 'provider_1': 'openai', 'param_1': 1}
2025-10-08 21:17:08,377 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-08 21:17:08,400 - app.ai.ai_service - INFO - 🔄 Refreshing AI providers after API key changes
2025-10-08 21:17:08,400 - app.routes.api_keys - INFO - 🔄 Refreshed AI providers after setting openai API key for user demo@cvapp.com
2025-10-08 21:17:08,420 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-08 21:17:08,427 - app.main - ERROR - Unhandled exception: name 'create_demo_user' is not defined
2025-10-08 21:17:34,008 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-08 21:17:39,134 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-08 21:17:39,447 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-08 21:17:39,448 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 21:17:39,487 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-08 21:17:39,488 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 21:17:39,531 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-08 21:17:39,532 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 21:17:39,579 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:17:39,580 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-08 21:17:39,580 - sqlalchemy.engine.Engine - INFO - [generated in 0.00070s] {}
2025-10-08 21:17:39,618 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-08 21:17:39,636 - app.database - INFO - Database connection successful
2025-10-08 21:17:39,636 - app.main - INFO - ✅ Database connection successful
2025-10-08 21:17:39,658 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:17:39,664 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:17:39,664 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:17:39,712 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:17:39,712 - sqlalchemy.engine.Engine - INFO - [cached since 0.04859s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:17:39,734 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:17:39,734 - sqlalchemy.engine.Engine - INFO - [cached since 0.07066s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:17:39,759 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:17:39,760 - sqlalchemy.engine.Engine - INFO - [cached since 0.09647s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:17:39,783 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:17:39,784 - sqlalchemy.engine.Engine - INFO - [cached since 0.1203s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:17:39,805 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:17:39,805 - sqlalchemy.engine.Engine - INFO - [cached since 0.1419s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:17:39,825 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:17:39,826 - sqlalchemy.engine.Engine - INFO - [cached since 0.162s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:17:39,850 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:17:39,851 - sqlalchemy.engine.Engine - INFO - [cached since 0.187s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:17:39,875 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:17:39,876 - sqlalchemy.engine.Engine - INFO - [cached since 0.2124s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:17:39,899 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:17:39,899 - sqlalchemy.engine.Engine - INFO - [cached since 0.2356s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:17:39,922 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:17:39,923 - sqlalchemy.engine.Engine - INFO - [cached since 0.2592s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:17:39,948 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-08 21:17:39,967 - app.database - INFO - Database tables created successfully
2025-10-08 21:17:39,967 - app.main - INFO - ✅ Database tables ready
2025-10-08 21:17:39,967 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-08 21:17:39,967 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-08 21:17:53,908 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:17:53,914 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-08 21:17:53,915 - sqlalchemy.engine.Engine - INFO - [generated in 0.00146s] {'user_id_1': '561ea012-7c96-4e90-aba4-f37719584591', 'provider_1': 'openai', 'param_1': 1}
2025-10-08 21:17:53,960 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_api_keys (user_id, provider, encrypted_key, key_hash, is_valid, last_validated, created_at, updated_at) VALUES (%(user_id)s, %(provider)s, %(encrypted_key)s, %(key_hash)s, %(is_valid)s, %(last_validated)s, now(), now()) RETURNING user_api_keys.id, user_api_keys.created_at, user_api_keys.updated_at
2025-10-08 21:17:53,960 - sqlalchemy.engine.Engine - INFO - [generated in 0.00051s] {'user_id': '561ea012-7c96-4e90-aba4-f37719584591', 'provider': 'openai', 'encrypted_key': 'Z0FBQUFBQm81anBSZHd3MmV2cG1waVptNlI2emhMeE8waHdLR3N6d1o1ZS1CeS1xMXBUTFlFZkJPaFU0Mm1vUmF5Ukt3Q3JDb1U2Z3ZWaTFkVEsxNkxtd3RZRUxheF9KZmRqSDJTVlpXWG5IYlJpX28tZlZTTGM9', 'key_hash': 'f803d8dfd23a3c2ca3d3216b6098b0f93e003069a9d3eb3beaf1fc0fc138fece', 'is_valid': False, 'last_validated': None}
2025-10-08 21:17:53,979 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-08 21:17:54,001 - app.services.user_api_key_manager - INFO - Created new API key for user demo@cvapp.com and provider openai
2025-10-08 21:17:54,392 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 401 Unauthorized"
2025-10-08 21:17:54,394 - app.ai.providers.openai_provider - ERROR - OpenAI API key validation failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-place*************7890. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-10-08 21:17:54,420 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:17:54,421 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-08 21:17:54,422 - sqlalchemy.engine.Engine - INFO - [cached since 0.5084s ago] {'user_id_1': '561ea012-7c96-4e90-aba4-f37719584591', 'provider_1': 'openai', 'param_1': 1}
2025-10-08 21:17:54,465 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-08 21:17:54,491 - app.ai.ai_service - INFO - 🔄 Refreshing AI providers after API key changes
2025-10-08 21:17:54,492 - app.routes.api_keys - INFO - 🔄 Refreshed AI providers after setting openai API key for user demo@cvapp.com
2025-10-08 21:17:54,507 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-08 21:17:54,514 - app.main - ERROR - Unhandled exception: name 'create_demo_user' is not defined
2025-10-08 21:19:20,643 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-08 21:19:25,930 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-08 21:19:26,261 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-08 21:19:26,261 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 21:19:26,303 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-08 21:19:26,303 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 21:19:26,350 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-08 21:19:26,351 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 21:19:26,400 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:19:26,401 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-08 21:19:26,401 - sqlalchemy.engine.Engine - INFO - [generated in 0.00067s] {}
2025-10-08 21:19:26,443 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-08 21:19:26,480 - app.database - INFO - Database connection successful
2025-10-08 21:19:26,480 - app.main - INFO - ✅ Database connection successful
2025-10-08 21:19:26,507 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:19:26,512 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:19:26,512 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:19:26,552 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:19:26,552 - sqlalchemy.engine.Engine - INFO - [cached since 0.03996s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:19:26,576 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:19:26,576 - sqlalchemy.engine.Engine - INFO - [cached since 0.06413s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:19:26,597 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:19:26,597 - sqlalchemy.engine.Engine - INFO - [cached since 0.08518s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:19:26,619 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:19:26,619 - sqlalchemy.engine.Engine - INFO - [cached since 0.1072s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:19:26,643 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:19:26,644 - sqlalchemy.engine.Engine - INFO - [cached since 0.1317s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:19:26,669 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:19:26,670 - sqlalchemy.engine.Engine - INFO - [cached since 0.1576s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:19:26,698 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:19:26,698 - sqlalchemy.engine.Engine - INFO - [cached since 0.1862s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:19:26,722 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:19:26,722 - sqlalchemy.engine.Engine - INFO - [cached since 0.2099s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:19:26,744 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:19:26,744 - sqlalchemy.engine.Engine - INFO - [cached since 0.2321s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:19:26,768 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:19:26,768 - sqlalchemy.engine.Engine - INFO - [cached since 0.256s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:19:26,789 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-08 21:19:26,812 - app.database - INFO - Database tables created successfully
2025-10-08 21:19:26,812 - app.main - INFO - ✅ Database tables ready
2025-10-08 21:19:26,812 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-08 21:19:26,812 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-08 21:19:40,244 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:19:40,249 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-08 21:19:40,250 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] {'user_id_1': 'e837cb5a-2799-4f6c-a4b2-b9fa6611f967', 'provider_1': 'openai', 'param_1': 1}
2025-10-08 21:19:40,307 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_api_keys (user_id, provider, encrypted_key, key_hash, is_valid, last_validated, created_at, updated_at) VALUES (%(user_id)s, %(provider)s, %(encrypted_key)s, %(key_hash)s, %(is_valid)s, %(last_validated)s, now(), now()) RETURNING user_api_keys.id, user_api_keys.created_at, user_api_keys.updated_at
2025-10-08 21:19:40,308 - sqlalchemy.engine.Engine - INFO - [generated in 0.00063s] {'user_id': 'e837cb5a-2799-4f6c-a4b2-b9fa6611f967', 'provider': 'openai', 'encrypted_key': 'Z0FBQUFBQm81anE4bkFOWTlCVTJ4SUtUU2FKUW1aeDlDeFNjckNCa1Jic29hOUdPVnBpOFVFM0pNUWl2RzBxMUt6WDhHakwyeEZlMll0eHV5Y2hnd21GSUJGUEh4dkc0eFo0Tkt3YzcxN2tQM1JBUE5YajQtbm89', 'key_hash': 'f803d8dfd23a3c2ca3d3216b6098b0f93e003069a9d3eb3beaf1fc0fc138fece', 'is_valid': False, 'last_validated': None}
2025-10-08 21:19:40,327 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-08 21:19:40,350 - app.services.user_api_key_manager - INFO - Created new API key for user demo@cvapp.com and provider openai
2025-10-08 21:19:40,808 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 401 Unauthorized"
2025-10-08 21:19:40,811 - app.ai.providers.openai_provider - ERROR - OpenAI API key validation failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-place*************7890. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-10-08 21:19:40,832 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:19:40,835 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-08 21:19:40,835 - sqlalchemy.engine.Engine - INFO - [cached since 0.586s ago] {'user_id_1': 'e837cb5a-2799-4f6c-a4b2-b9fa6611f967', 'provider_1': 'openai', 'param_1': 1}
2025-10-08 21:19:40,876 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-08 21:19:40,897 - app.ai.ai_service - INFO - 🔄 Refreshing AI providers after API key changes
2025-10-08 21:19:40,898 - app.routes.api_keys - INFO - 🔄 Refreshed AI providers after setting openai API key for user demo@cvapp.com
2025-10-08 21:19:40,905 - app.main - ERROR - Unhandled exception: name 'create_demo_user' is not defined
2025-10-08 21:20:19,020 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-08 21:20:23,987 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-08 21:20:24,298 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-08 21:20:24,299 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 21:20:24,341 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-08 21:20:24,341 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 21:20:24,381 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-08 21:20:24,382 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 21:20:24,432 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:20:24,433 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-08 21:20:24,434 - sqlalchemy.engine.Engine - INFO - [generated in 0.00223s] {}
2025-10-08 21:20:24,474 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-08 21:20:24,495 - app.database - INFO - Database connection successful
2025-10-08 21:20:24,495 - app.main - INFO - ✅ Database connection successful
2025-10-08 21:20:24,519 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:20:24,526 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:20:24,527 - sqlalchemy.engine.Engine - INFO - [generated in 0.00071s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:20:24,570 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:20:24,570 - sqlalchemy.engine.Engine - INFO - [cached since 0.04413s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:20:24,594 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:20:24,594 - sqlalchemy.engine.Engine - INFO - [cached since 0.06812s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:20:24,617 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:20:24,617 - sqlalchemy.engine.Engine - INFO - [cached since 0.09124s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:20:24,642 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:20:24,643 - sqlalchemy.engine.Engine - INFO - [cached since 0.1167s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:20:24,666 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:20:24,666 - sqlalchemy.engine.Engine - INFO - [cached since 0.14s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:20:24,688 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:20:24,688 - sqlalchemy.engine.Engine - INFO - [cached since 0.1622s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:20:24,710 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:20:24,711 - sqlalchemy.engine.Engine - INFO - [cached since 0.1847s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:20:24,734 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:20:24,735 - sqlalchemy.engine.Engine - INFO - [cached since 0.2088s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:20:24,759 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:20:24,760 - sqlalchemy.engine.Engine - INFO - [cached since 0.2338s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:20:24,782 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:20:24,782 - sqlalchemy.engine.Engine - INFO - [cached since 0.2565s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:20:24,809 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-08 21:20:24,836 - app.database - INFO - Database tables created successfully
2025-10-08 21:20:24,837 - app.main - INFO - ✅ Database tables ready
2025-10-08 21:20:24,837 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-08 21:20:24,837 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-08 21:20:38,489 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:20:38,493 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-08 21:20:38,493 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] {'user_id_1': 'e55d6e67-1f38-45de-8d72-e7f5a49346de', 'provider_1': 'openai', 'param_1': 1}
2025-10-08 21:20:38,542 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_api_keys (user_id, provider, encrypted_key, key_hash, is_valid, last_validated, created_at, updated_at) VALUES (%(user_id)s, %(provider)s, %(encrypted_key)s, %(key_hash)s, %(is_valid)s, %(last_validated)s, now(), now()) RETURNING user_api_keys.id, user_api_keys.created_at, user_api_keys.updated_at
2025-10-08 21:20:38,542 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] {'user_id': 'e55d6e67-1f38-45de-8d72-e7f5a49346de', 'provider': 'openai', 'encrypted_key': 'Z0FBQUFBQm81anIyODc2SGNDYm96dk1iSVJYLW5SUHpLaVVkNkFvNHFYc0ZaUTh3TFE3M05nQklQUE1LUGlKbVFBXzd5QXhrYmwyQTlwdFhuMmJ0ZXpjai1oenRaX01hR1VOZEkxZWpETUY2UGwwMXlMa3hIU0U9', 'key_hash': 'f803d8dfd23a3c2ca3d3216b6098b0f93e003069a9d3eb3beaf1fc0fc138fece', 'is_valid': False, 'last_validated': None}
2025-10-08 21:20:38,559 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-08 21:20:38,581 - app.services.user_api_key_manager - INFO - Created new API key for user demo@cvapp.com and provider openai
2025-10-08 21:20:38,948 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 401 Unauthorized"
2025-10-08 21:20:38,951 - app.ai.providers.openai_provider - ERROR - OpenAI API key validation failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-place*************7890. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-10-08 21:20:38,970 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:20:38,971 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-08 21:20:38,972 - sqlalchemy.engine.Engine - INFO - [cached since 0.4791s ago] {'user_id_1': 'e55d6e67-1f38-45de-8d72-e7f5a49346de', 'provider_1': 'openai', 'param_1': 1}
2025-10-08 21:20:39,010 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-08 21:20:39,029 - app.ai.ai_service - INFO - 🔄 Refreshing AI providers after API key changes
2025-10-08 21:20:39,029 - app.routes.api_keys - INFO - 🔄 Refreshed AI providers after setting openai API key for user demo@cvapp.com
2025-10-08 21:20:39,037 - app.core.model_dependency - INFO - 🔄 Using model from header without provider switch: gpt-4o-mini
2025-10-08 21:20:39,038 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-08 21:20:55,159 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-08 21:20:55,185 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:20:55,186 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-08 21:20:55,186 - sqlalchemy.engine.Engine - INFO - [cached since 16.69s ago] {'user_id_1': '7a11fb2a-346f-4854-903d-2e9803748cda', 'provider_1': 'openai', 'param_1': 1}
2025-10-08 21:20:55,230 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_api_keys (user_id, provider, encrypted_key, key_hash, is_valid, last_validated, created_at, updated_at) VALUES (%(user_id)s, %(provider)s, %(encrypted_key)s, %(key_hash)s, %(is_valid)s, %(last_validated)s, now(), now()) RETURNING user_api_keys.id, user_api_keys.created_at, user_api_keys.updated_at
2025-10-08 21:20:55,231 - sqlalchemy.engine.Engine - INFO - [cached since 16.69s ago] {'user_id': '7a11fb2a-346f-4854-903d-2e9803748cda', 'provider': 'openai', 'encrypted_key': 'Z0FBQUFBQm81anNIMTNRTlljSHRyR3laYkp4X3Z3U1dpUU5jQndZTkpaZE8zcE9lellFeFY4UmlCRDMtMlNMMU1yWW12dDA2cTlXN0FrQjF6azlWbEVrTFFEZjVEa2xlR01qWHZBVTI4QUdGWWRlMzZfdXFBVnM9', 'key_hash': 'f803d8dfd23a3c2ca3d3216b6098b0f93e003069a9d3eb3beaf1fc0fc138fece', 'is_valid': False, 'last_validated': None}
2025-10-08 21:20:55,251 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-08 21:20:55,275 - app.services.user_api_key_manager - INFO - Created new API key for user demo@cvapp.com and provider openai
2025-10-08 21:20:55,560 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 401 Unauthorized"
2025-10-08 21:20:55,561 - app.ai.providers.openai_provider - ERROR - OpenAI API key validation failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-place*************7890. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-10-08 21:20:55,582 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:20:55,583 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-08 21:20:55,583 - sqlalchemy.engine.Engine - INFO - [cached since 17.09s ago] {'user_id_1': '7a11fb2a-346f-4854-903d-2e9803748cda', 'provider_1': 'openai', 'param_1': 1}
2025-10-08 21:20:55,629 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-08 21:20:55,650 - app.ai.ai_service - INFO - 🔄 Refreshing AI providers after API key changes
2025-10-08 21:20:55,650 - app.routes.api_keys - INFO - 🔄 Refreshed AI providers after setting openai API key for user demo@cvapp.com
2025-10-08 21:20:55,656 - app.core.model_dependency - INFO - 🔄 Using model from header without provider switch: gpt-4o-mini
2025-10-08 21:20:55,656 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-08 21:21:52,690 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-08 21:21:57,743 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-08 21:21:58,093 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-08 21:21:58,094 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 21:21:58,141 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-08 21:21:58,141 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 21:21:58,184 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-08 21:21:58,185 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 21:21:58,234 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:21:58,234 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-08 21:21:58,234 - sqlalchemy.engine.Engine - INFO - [generated in 0.00079s] {}
2025-10-08 21:21:58,285 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-08 21:21:58,306 - app.database - INFO - Database connection successful
2025-10-08 21:21:58,306 - app.main - INFO - ✅ Database connection successful
2025-10-08 21:21:58,329 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:21:58,337 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:21:58,337 - sqlalchemy.engine.Engine - INFO - [generated in 0.00055s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:21:58,379 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:21:58,380 - sqlalchemy.engine.Engine - INFO - [cached since 0.04283s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:21:58,405 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:21:58,405 - sqlalchemy.engine.Engine - INFO - [cached since 0.06839s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:21:58,429 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:21:58,430 - sqlalchemy.engine.Engine - INFO - [cached since 0.09311s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:21:58,454 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:21:58,455 - sqlalchemy.engine.Engine - INFO - [cached since 0.1182s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:21:58,478 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:21:58,478 - sqlalchemy.engine.Engine - INFO - [cached since 0.1414s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:21:58,499 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:21:58,500 - sqlalchemy.engine.Engine - INFO - [cached since 0.1628s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:21:58,524 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:21:58,525 - sqlalchemy.engine.Engine - INFO - [cached since 0.1878s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:21:58,546 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:21:58,546 - sqlalchemy.engine.Engine - INFO - [cached since 0.2095s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:21:58,570 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:21:58,571 - sqlalchemy.engine.Engine - INFO - [cached since 0.2337s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:21:58,594 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:21:58,594 - sqlalchemy.engine.Engine - INFO - [cached since 0.2577s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:21:58,618 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-08 21:21:58,642 - app.database - INFO - Database tables created successfully
2025-10-08 21:21:58,642 - app.main - INFO - ✅ Database tables ready
2025-10-08 21:21:58,642 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-08 21:21:58,643 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-08 21:22:12,049 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:22:12,053 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-08 21:22:12,053 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] {'user_id_1': '0f7dd5ec-4f76-4524-a34e-0166c519fb0d', 'provider_1': 'openai', 'param_1': 1}
2025-10-08 21:22:12,109 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_api_keys (user_id, provider, encrypted_key, key_hash, is_valid, last_validated, created_at, updated_at) VALUES (%(user_id)s, %(provider)s, %(encrypted_key)s, %(key_hash)s, %(is_valid)s, %(last_validated)s, now(), now()) RETURNING user_api_keys.id, user_api_keys.created_at, user_api_keys.updated_at
2025-10-08 21:22:12,109 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] {'user_id': '0f7dd5ec-4f76-4524-a34e-0166c519fb0d', 'provider': 'openai', 'encrypted_key': 'Z0FBQUFBQm81anRVQXpLYjBMWDdKV2dieHhLOTRpelZ6dVR1VldqZmNpYUFRRDdYemU2NXJZWWg4Qzk5Y1JBVlNlYWZxVHVCLUs4Sk9TdjZaWjdxVTRmLWV3MVlUUTQ1YXhvMU9ZbEpzZlY3VTF1cThTNTdNU009', 'key_hash': 'f803d8dfd23a3c2ca3d3216b6098b0f93e003069a9d3eb3beaf1fc0fc138fece', 'is_valid': False, 'last_validated': None}
2025-10-08 21:22:12,129 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-08 21:22:12,150 - app.services.user_api_key_manager - INFO - Created new API key for user demo@cvapp.com and provider openai
2025-10-08 21:22:12,555 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 401 Unauthorized"
2025-10-08 21:22:12,557 - app.ai.providers.openai_provider - ERROR - OpenAI API key validation failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-place*************7890. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-10-08 21:22:12,582 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:22:12,583 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-08 21:22:12,584 - sqlalchemy.engine.Engine - INFO - [cached since 0.5308s ago] {'user_id_1': '0f7dd5ec-4f76-4524-a34e-0166c519fb0d', 'provider_1': 'openai', 'param_1': 1}
2025-10-08 21:22:12,628 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-08 21:22:12,650 - app.ai.ai_service - INFO - 🔄 Refreshing AI providers after API key changes
2025-10-08 21:22:12,651 - app.routes.api_keys - INFO - 🔄 Refreshed AI providers after setting openai API key for user demo@cvapp.com
2025-10-08 21:22:12,686 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:22:12,690 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-08 21:22:12,690 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] {'user_id_1': '0f7dd5ec-4f76-4524-a34e-0166c519fb0d', 'param_1': 1}
2025-10-08 21:22:12,731 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-08 21:22:12,753 - app.core.model_dependency - ERROR - ❌ Error resolving user model preference: (psycopg2.errors.UndefinedTable) relation "user_model_preferences" does not exist
LINE 2: FROM user_model_preferences 
             ^

[SQL: SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s]
[parameters: {'user_id_1': '0f7dd5ec-4f76-4524-a34e-0166c519fb0d', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-10-08 21:22:40,294 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-08 21:22:44,213 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-08 21:22:44,501 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-08 21:22:44,501 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 21:22:44,549 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-08 21:22:44,549 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 21:22:44,592 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-08 21:22:44,593 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 21:22:44,634 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:22:44,634 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-08 21:22:44,634 - sqlalchemy.engine.Engine - INFO - [generated in 0.00071s] {}
2025-10-08 21:22:44,676 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-08 21:22:44,705 - app.database - INFO - Database connection successful
2025-10-08 21:22:44,706 - app.main - INFO - ✅ Database connection successful
2025-10-08 21:22:44,729 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:22:44,734 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:22:44,734 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:22:44,775 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:22:44,775 - sqlalchemy.engine.Engine - INFO - [cached since 0.04156s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:22:44,799 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:22:44,799 - sqlalchemy.engine.Engine - INFO - [cached since 0.06576s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:22:44,820 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:22:44,820 - sqlalchemy.engine.Engine - INFO - [cached since 0.08688s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:22:44,847 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:22:44,847 - sqlalchemy.engine.Engine - INFO - [cached since 0.1139s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:22:44,871 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:22:44,871 - sqlalchemy.engine.Engine - INFO - [cached since 0.1378s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:22:44,895 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:22:44,895 - sqlalchemy.engine.Engine - INFO - [cached since 0.1618s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:22:44,919 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:22:44,920 - sqlalchemy.engine.Engine - INFO - [cached since 0.1861s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:22:44,942 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:22:44,943 - sqlalchemy.engine.Engine - INFO - [cached since 0.2091s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:22:44,967 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:22:44,967 - sqlalchemy.engine.Engine - INFO - [cached since 0.2339s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:22:44,992 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:22:44,992 - sqlalchemy.engine.Engine - INFO - [cached since 0.2587s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:22:45,018 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-08 21:22:45,042 - app.database - INFO - Database tables created successfully
2025-10-08 21:22:45,043 - app.main - INFO - ✅ Database tables ready
2025-10-08 21:22:45,043 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-08 21:22:45,043 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-08 21:22:58,814 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:22:58,817 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-08 21:22:58,818 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] {'user_id_1': 'd1f7eb41-00fa-4cce-a766-46c088c66a5a', 'provider_1': 'openai', 'param_1': 1}
2025-10-08 21:22:58,866 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_api_keys (user_id, provider, encrypted_key, key_hash, is_valid, last_validated, created_at, updated_at) VALUES (%(user_id)s, %(provider)s, %(encrypted_key)s, %(key_hash)s, %(is_valid)s, %(last_validated)s, now(), now()) RETURNING user_api_keys.id, user_api_keys.created_at, user_api_keys.updated_at
2025-10-08 21:22:58,866 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] {'user_id': 'd1f7eb41-00fa-4cce-a766-46c088c66a5a', 'provider': 'openai', 'encrypted_key': 'Z0FBQUFBQm81anVDMnFLczZlelZWeWc5TGZQQlE1b2dlUXpwN3ZBOXdieEdsMEJZRS1tYlRUdFJyQ3c0am11V09WaVA1bnlIYzZJTzZNbFZzZmlaWkRYdWV2dFhUbzIwZm1oV3FVTjhCdjk2M1lqLUxIaGVHaGM9', 'key_hash': 'f803d8dfd23a3c2ca3d3216b6098b0f93e003069a9d3eb3beaf1fc0fc138fece', 'is_valid': False, 'last_validated': None}
2025-10-08 21:22:58,885 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-08 21:22:58,908 - app.services.user_api_key_manager - INFO - Created new API key for user demo@cvapp.com and provider openai
2025-10-08 21:22:59,273 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 401 Unauthorized"
2025-10-08 21:22:59,275 - app.ai.providers.openai_provider - ERROR - OpenAI API key validation failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-place*************7890. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-10-08 21:22:59,296 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:22:59,297 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-08 21:22:59,297 - sqlalchemy.engine.Engine - INFO - [cached since 0.4795s ago] {'user_id_1': 'd1f7eb41-00fa-4cce-a766-46c088c66a5a', 'provider_1': 'openai', 'param_1': 1}
2025-10-08 21:22:59,343 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-08 21:22:59,362 - app.ai.ai_service - INFO - 🔄 Refreshing AI providers after API key changes
2025-10-08 21:22:59,363 - app.routes.api_keys - INFO - 🔄 Refreshed AI providers after setting openai API key for user demo@cvapp.com
2025-10-08 21:22:59,395 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:22:59,398 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-08 21:22:59,399 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] {'user_id_1': 'd1f7eb41-00fa-4cce-a766-46c088c66a5a', 'param_1': 1}
2025-10-08 21:22:59,443 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-08 21:22:59,464 - app.core.model_dependency - ERROR - ❌ Error resolving user model preference: (psycopg2.errors.UndefinedTable) relation "user_model_preferences" does not exist
LINE 2: FROM user_model_preferences 
             ^

[SQL: SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s]
[parameters: {'user_id_1': 'd1f7eb41-00fa-4cce-a766-46c088c66a5a', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-10-08 21:23:31,810 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-08 21:23:36,642 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-08 21:23:36,960 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-08 21:23:36,960 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 21:23:37,009 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-08 21:23:37,009 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 21:23:37,044 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-08 21:23:37,044 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 21:23:37,088 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:23:37,088 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-08 21:23:37,088 - sqlalchemy.engine.Engine - INFO - [generated in 0.00055s] {}
2025-10-08 21:23:37,133 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-08 21:23:37,154 - app.database - INFO - Database connection successful
2025-10-08 21:23:37,155 - app.main - INFO - ✅ Database connection successful
2025-10-08 21:23:37,176 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:23:37,181 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:23:37,181 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:23:37,223 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:23:37,224 - sqlalchemy.engine.Engine - INFO - [cached since 0.04324s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:23:37,246 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:23:37,247 - sqlalchemy.engine.Engine - INFO - [cached since 0.06607s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:23:37,269 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:23:37,270 - sqlalchemy.engine.Engine - INFO - [cached since 0.0889s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:23:37,287 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:23:37,287 - sqlalchemy.engine.Engine - INFO - [cached since 0.1063s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:23:37,309 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:23:37,310 - sqlalchemy.engine.Engine - INFO - [cached since 0.1288s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:23:37,333 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:23:37,334 - sqlalchemy.engine.Engine - INFO - [cached since 0.1529s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:23:37,352 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:23:37,352 - sqlalchemy.engine.Engine - INFO - [cached since 0.1714s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:23:37,375 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:23:37,375 - sqlalchemy.engine.Engine - INFO - [cached since 0.1945s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:23:37,399 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:23:37,400 - sqlalchemy.engine.Engine - INFO - [cached since 0.219s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:23:37,421 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:23:37,422 - sqlalchemy.engine.Engine - INFO - [cached since 0.2409s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:23:37,443 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-08 21:23:37,467 - app.database - INFO - Database tables created successfully
2025-10-08 21:23:37,468 - app.main - INFO - ✅ Database tables ready
2025-10-08 21:23:37,468 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-08 21:23:37,468 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-08 21:23:46,150 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:23:46,153 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-08 21:23:46,154 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] {'user_id_1': 'b8a5c395-932e-4b89-9b9c-9328aba2379a', 'provider_1': 'openai', 'param_1': 1}
2025-10-08 21:23:46,198 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_api_keys (user_id, provider, encrypted_key, key_hash, is_valid, last_validated, created_at, updated_at) VALUES (%(user_id)s, %(provider)s, %(encrypted_key)s, %(key_hash)s, %(is_valid)s, %(last_validated)s, now(), now()) RETURNING user_api_keys.id, user_api_keys.created_at, user_api_keys.updated_at
2025-10-08 21:23:46,199 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s] {'user_id': 'b8a5c395-932e-4b89-9b9c-9328aba2379a', 'provider': 'openai', 'encrypted_key': 'Z0FBQUFBQm81anV5Tl9NN1gzYzhFY0luNnUyaURLX0ZBUmdLOXpQTnZjNHdTSE55TUc1RXc0d1pQNWw0WVhOYzFuYUtLdTdUdk53b3dEOXBhRnp4dllEc1c1Ry1nbzE3MldtMUVJOUJpLWNubm9naFd0MkZGeXM9', 'key_hash': 'f803d8dfd23a3c2ca3d3216b6098b0f93e003069a9d3eb3beaf1fc0fc138fece', 'is_valid': False, 'last_validated': None}
2025-10-08 21:23:46,220 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-08 21:23:46,242 - app.services.user_api_key_manager - INFO - Created new API key for user demo@cvapp.com and provider openai
2025-10-08 21:23:46,981 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 401 Unauthorized"
2025-10-08 21:23:46,984 - app.ai.providers.openai_provider - ERROR - OpenAI API key validation failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-place*************7890. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-10-08 21:23:47,005 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:23:47,006 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-08 21:23:47,006 - sqlalchemy.engine.Engine - INFO - [cached since 0.8527s ago] {'user_id_1': 'b8a5c395-932e-4b89-9b9c-9328aba2379a', 'provider_1': 'openai', 'param_1': 1}
2025-10-08 21:23:47,053 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-08 21:23:47,075 - app.ai.ai_service - INFO - 🔄 Refreshing AI providers after API key changes
2025-10-08 21:23:47,076 - app.routes.api_keys - INFO - 🔄 Refreshed AI providers after setting openai API key for user demo@cvapp.com
2025-10-08 21:23:47,113 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:23:47,116 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-08 21:23:47,119 - sqlalchemy.engine.Engine - INFO - [generated in 0.00253s] {'user_id_1': 'b8a5c395-932e-4b89-9b9c-9328aba2379a', 'param_1': 1}
2025-10-08 21:23:47,163 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-08 21:23:47,187 - app.core.model_dependency - ERROR - ❌ Error resolving user model preference: (psycopg2.errors.UndefinedTable) relation "user_model_preferences" does not exist
LINE 2: FROM user_model_preferences 
             ^

[SQL: SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s]
[parameters: {'user_id_1': 'b8a5c395-932e-4b89-9b9c-9328aba2379a', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-10-08 21:23:47,213 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:23:47,213 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-08 21:23:47,213 - sqlalchemy.engine.Engine - INFO - [cached since 1.06s ago] {'user_id_1': 'b8a5c395-932e-4b89-9b9c-9328aba2379a', 'provider_1': 'openai', 'param_1': 1}
2025-10-08 21:23:47,257 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-08 21:23:47,285 - app.routes.skills_analysis - ERROR - ❌ Preliminary analysis error (ValidationError): 2 validation errors for UserData
name
  Field required [type=missing, input_value={'id': 'b8a5c395-932e-4b8...mail': 'demo@cvapp.com'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.5/v/missing
created_at
  Field required [type=missing, input_value={'id': 'b8a5c395-932e-4b8...mail': 'demo@cvapp.com'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.5/v/missing
2025-10-08 21:23:47,286 - app.routes.skills_analysis - ERROR - Traceback: Traceback (most recent call last):
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/routes/skills_analysis.py", line 901, in preliminary_analysis
    user_obj = UserData(id=getattr(token_data, 'user_id', None), email=user_email_guard) if user_email_guard else None
  File "/Users/mahesh/.pyenv/versions/3.9.6/lib/python3.9/site-packages/pydantic/main.py", line 164, in __init__
    __pydantic_self__.__pydantic_validator__.validate_python(data, self_instance=__pydantic_self__)
pydantic_core._pydantic_core.ValidationError: 2 validation errors for UserData
name
  Field required [type=missing, input_value={'id': 'b8a5c395-932e-4b8...mail': 'demo@cvapp.com'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.5/v/missing
created_at
  Field required [type=missing, input_value={'id': 'b8a5c395-932e-4b8...mail': 'demo@cvapp.com'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.5/v/missing

2025-10-08 21:24:08,256 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-08 21:24:12,922 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-08 21:24:13,213 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-08 21:24:13,214 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 21:24:13,260 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-08 21:24:13,261 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 21:24:13,307 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-08 21:24:13,308 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 21:24:13,353 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:24:13,354 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-08 21:24:13,354 - sqlalchemy.engine.Engine - INFO - [generated in 0.00057s] {}
2025-10-08 21:24:13,395 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-08 21:24:13,420 - app.database - INFO - Database connection successful
2025-10-08 21:24:13,420 - app.main - INFO - ✅ Database connection successful
2025-10-08 21:24:13,445 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:24:13,452 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:24:13,453 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:24:13,489 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:24:13,489 - sqlalchemy.engine.Engine - INFO - [cached since 0.03688s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:24:13,515 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:24:13,515 - sqlalchemy.engine.Engine - INFO - [cached since 0.06303s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:24:13,537 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:24:13,538 - sqlalchemy.engine.Engine - INFO - [cached since 0.08557s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:24:13,562 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:24:13,563 - sqlalchemy.engine.Engine - INFO - [cached since 0.1105s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:24:13,582 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:24:13,583 - sqlalchemy.engine.Engine - INFO - [cached since 0.1309s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:24:13,608 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:24:13,608 - sqlalchemy.engine.Engine - INFO - [cached since 0.1559s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:24:13,629 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:24:13,630 - sqlalchemy.engine.Engine - INFO - [cached since 0.1775s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:24:13,651 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:24:13,651 - sqlalchemy.engine.Engine - INFO - [cached since 0.1988s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:24:13,673 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:24:13,673 - sqlalchemy.engine.Engine - INFO - [cached since 0.2213s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:24:13,697 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:24:13,698 - sqlalchemy.engine.Engine - INFO - [cached since 0.2454s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:24:13,719 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-08 21:24:13,743 - app.database - INFO - Database tables created successfully
2025-10-08 21:24:13,744 - app.main - INFO - ✅ Database tables ready
2025-10-08 21:24:13,745 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-08 21:24:13,746 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-08 21:24:30,035 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:24:30,038 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-08 21:24:30,038 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] {'user_id_1': '7d6192fb-a757-40a9-8eca-b11dec671d40', 'provider_1': 'openai', 'param_1': 1}
2025-10-08 21:24:30,105 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_api_keys (user_id, provider, encrypted_key, key_hash, is_valid, last_validated, created_at, updated_at) VALUES (%(user_id)s, %(provider)s, %(encrypted_key)s, %(key_hash)s, %(is_valid)s, %(last_validated)s, now(), now()) RETURNING user_api_keys.id, user_api_keys.created_at, user_api_keys.updated_at
2025-10-08 21:24:30,106 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] {'user_id': '7d6192fb-a757-40a9-8eca-b11dec671d40', 'provider': 'openai', 'encrypted_key': 'Z0FBQUFBQm81anZlVEljUUNIUXlDNXJSWU9Cbm5DSi1ZNS1qUlNvcjRFSGZ2TDhFWFYtRG5xV2RBak52bDNwLV9GX3ZGX1lZbGl3bURDc2NlU1JyVFBwdG8tcFIyNkhfRVFmaVZMVDZSOERvOGFnRUdTNHpMRFE9', 'key_hash': 'f803d8dfd23a3c2ca3d3216b6098b0f93e003069a9d3eb3beaf1fc0fc138fece', 'is_valid': False, 'last_validated': None}
2025-10-08 21:24:30,127 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-08 21:24:30,150 - app.services.user_api_key_manager - INFO - Created new API key for user demo@cvapp.com and provider openai
2025-10-08 21:24:30,781 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 401 Unauthorized"
2025-10-08 21:24:30,784 - app.ai.providers.openai_provider - ERROR - OpenAI API key validation failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-place*************7890. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-10-08 21:24:30,805 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:24:30,806 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-08 21:24:30,806 - sqlalchemy.engine.Engine - INFO - [cached since 0.7684s ago] {'user_id_1': '7d6192fb-a757-40a9-8eca-b11dec671d40', 'provider_1': 'openai', 'param_1': 1}
2025-10-08 21:24:30,854 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-08 21:24:30,879 - app.ai.ai_service - INFO - 🔄 Refreshing AI providers after API key changes
2025-10-08 21:24:30,879 - app.routes.api_keys - INFO - 🔄 Refreshed AI providers after setting openai API key for user demo@cvapp.com
2025-10-08 21:24:30,914 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:24:30,918 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-08 21:24:30,918 - sqlalchemy.engine.Engine - INFO - [generated in 0.00063s] {'user_id_1': '7d6192fb-a757-40a9-8eca-b11dec671d40', 'param_1': 1}
2025-10-08 21:24:30,963 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-08 21:24:30,983 - app.core.model_dependency - ERROR - ❌ Error resolving user model preference: (psycopg2.errors.UndefinedTable) relation "user_model_preferences" does not exist
LINE 2: FROM user_model_preferences 
             ^

[SQL: SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s]
[parameters: {'user_id_1': '7d6192fb-a757-40a9-8eca-b11dec671d40', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-10-08 21:24:31,007 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:24:31,008 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-08 21:24:31,008 - sqlalchemy.engine.Engine - INFO - [cached since 0.9703s ago] {'user_id_1': '7d6192fb-a757-40a9-8eca-b11dec671d40', 'provider_1': 'openai', 'param_1': 1}
2025-10-08 21:24:31,053 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-08 21:24:31,094 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:24:31,095 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-08 21:24:31,095 - sqlalchemy.engine.Engine - INFO - [cached since 1.057s ago] {'user_id_1': '7d6192fb-a757-40a9-8eca-b11dec671d40', 'provider_1': 'openai', 'param_1': 1}
2025-10-08 21:24:31,141 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-08 21:24:31,162 - app.routes.skills_analysis - INFO - 🎯 Preliminary analysis request: CV=maheshwor_tiwari.pdf, JD_length=40, CONFIG=None
2025-10-08 21:24:31,164 - app.utils.user_path_utils - INFO - ✅ Created user base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-08 21:24:31,165 - app.routes.skills_analysis - INFO - 🏢 Extracted company name: Australia_for_UNHCR
2025-10-08 21:24:31,165 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-08 21:24:31,165 - app.routes.skills_analysis - WARNING - ⚠️ Proceeding without prior JD analysis: Please analyze the job description first before running skills analysis.
2025-10-08 21:24:31,165 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-08 21:24:31,166 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-08 21:24:31,167 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/demo@cvapp.com/cv-analysis
2025-10-08 21:24:31,167 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-08 21:24:45,317 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-08 21:24:49,982 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-08 21:24:50,260 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-08 21:24:50,260 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 21:24:50,306 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-08 21:24:50,306 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 21:24:50,345 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-08 21:24:50,345 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-08 21:24:50,386 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:24:50,386 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-08 21:24:50,386 - sqlalchemy.engine.Engine - INFO - [generated in 0.00055s] {}
2025-10-08 21:24:50,431 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-08 21:24:50,450 - app.database - INFO - Database connection successful
2025-10-08 21:24:50,450 - app.main - INFO - ✅ Database connection successful
2025-10-08 21:24:50,473 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-08 21:24:50,478 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:24:50,478 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:24:50,521 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:24:50,521 - sqlalchemy.engine.Engine - INFO - [cached since 0.04342s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:24:50,542 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:24:50,542 - sqlalchemy.engine.Engine - INFO - [cached since 0.0642s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:24:50,562 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:24:50,562 - sqlalchemy.engine.Engine - INFO - [cached since 0.08397s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:24:50,585 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:24:50,585 - sqlalchemy.engine.Engine - INFO - [cached since 0.107s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:24:50,610 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:24:50,610 - sqlalchemy.engine.Engine - INFO - [cached since 0.1321s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:24:50,637 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:24:50,637 - sqlalchemy.engine.Engine - INFO - [cached since 0.1589s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:24:50,661 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:24:50,661 - sqlalchemy.engine.Engine - INFO - [cached since 0.1831s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:24:50,684 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:24:50,684 - sqlalchemy.engine.Engine - INFO - [cached since 0.2064s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:24:50,708 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:24:50,708 - sqlalchemy.engine.Engine - INFO - [cached since 0.2302s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:24:50,734 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-08 21:24:50,735 - sqlalchemy.engine.Engine - INFO - [cached since 0.2571s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-08 21:24:50,757 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-08 21:24:50,779 - app.database - INFO - Database tables created successfully
2025-10-08 21:24:50,779 - app.main - INFO - ✅ Database tables ready
2025-10-08 21:24:50,779 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-08 21:24:50,779 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 10:09:26,790 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 10:09:27,206 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 10:09:27,207 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 10:09:27,250 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 10:09:27,251 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 10:09:27,296 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 10:09:27,296 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 10:09:27,336 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 10:09:27,337 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 10:09:27,337 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] {}
2025-10-09 10:09:27,373 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 10:09:27,391 - app.database - INFO - Database connection successful
2025-10-09 10:09:27,391 - app.main - INFO - ✅ Database connection successful
2025-10-09 10:09:27,408 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 10:09:27,413 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 10:09:27,413 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 10:09:27,452 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 10:09:27,453 - sqlalchemy.engine.Engine - INFO - [cached since 0.03952s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 10:09:27,474 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 10:09:27,475 - sqlalchemy.engine.Engine - INFO - [cached since 0.06178s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 10:09:27,497 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 10:09:27,498 - sqlalchemy.engine.Engine - INFO - [cached since 0.0847s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 10:09:27,519 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 10:09:27,520 - sqlalchemy.engine.Engine - INFO - [cached since 0.1068s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 10:09:27,537 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 10:09:27,537 - sqlalchemy.engine.Engine - INFO - [cached since 0.124s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 10:09:27,566 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 10:09:27,566 - sqlalchemy.engine.Engine - INFO - [cached since 0.1532s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 10:09:27,590 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 10:09:27,590 - sqlalchemy.engine.Engine - INFO - [cached since 0.1771s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 10:09:27,613 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 10:09:27,614 - sqlalchemy.engine.Engine - INFO - [cached since 0.2006s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 10:09:27,638 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 10:09:27,640 - sqlalchemy.engine.Engine - INFO - [cached since 0.2272s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 10:09:27,660 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 10:09:27,660 - sqlalchemy.engine.Engine - INFO - [cached since 0.2469s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 10:09:27,684 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 10:09:27,702 - app.database - INFO - Database tables created successfully
2025-10-09 10:09:27,703 - app.main - INFO - ✅ Database tables ready
2025-10-09 10:09:27,703 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 10:09:27,703 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 10:10:34,773 - app.main - WARNING - 🚫 Auth failed (403) for GET /api/ai/status
2025-10-09 11:29:37,993 - app.routes.auth - INFO - 🔵 [LOGIN] Starting login process
2025-10-09 11:29:37,996 - app.routes.auth - INFO - 🔵 [LOGIN] Raw credentials: email='vampada@gmail.com' password='vampada'
2025-10-09 11:29:37,996 - app.routes.auth - INFO - 🔵 [LOGIN] Email: 'vampada@gmail.com', Password length: 7
2025-10-09 11:29:37,996 - app.routes.auth - INFO - 🔵 [LOGIN] Attempting authentication
2025-10-09 11:29:37,997 - app.core.auth - INFO - 🔵 [AUTH] Starting authentication for email: 'vampada@gmail.com'
2025-10-09 11:29:37,997 - app.core.auth - INFO - 🔵 [AUTH] Normalized inputs - email: 'vampada@gmail.com', password length: 7
2025-10-09 11:29:37,997 - app.core.auth - INFO - 🔵 [AUTH] Using provided database session
2025-10-09 11:29:37,997 - app.core.auth - INFO - 🔵 [AUTH] Querying database for user: 'vampada@gmail.com'
2025-10-09 11:29:38,112 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:29:38,132 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 11:29:38,133 - sqlalchemy.engine.Engine - INFO - [generated in 0.00141s] {'email_1': 'vampada@gmail.com', 'param_1': 1}
2025-10-09 11:29:38,179 - app.core.auth - INFO - 🔵 [AUTH] User found: vampada@gmail.com (ID: a15de508-91fb-4aae-9a2e-6a933b63272c, Active: True)
2025-10-09 11:29:38,180 - app.core.auth - INFO - 🔵 [AUTH] Verifying password
2025-10-09 11:29:38,626 - app.core.auth - INFO - 🔵 [AUTH] Password verification successful for user: 'vampada@gmail.com'
2025-10-09 11:29:38,629 - app.core.auth - INFO - ✅ [AUTH] Authentication successful
2025-10-09 11:29:38,629 - app.routes.auth - INFO - 🔵 [LOGIN] Authentication successful for user: vampada@gmail.com (ID: a15de508-91fb-4aae-9a2e-6a933b63272c)
2025-10-09 11:29:38,630 - app.routes.auth - INFO - 🔵 [LOGIN] Ensuring user directories exist for: vampada@gmail.com
2025-10-09 11:29:38,631 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:29:38,631 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/vampada@gmail.com/cv-analysis
2025-10-09 11:29:38,631 - app.routes.auth - INFO - 🔵 [LOGIN] User directories verified/created successfully
2025-10-09 11:29:38,631 - app.routes.auth - INFO - 🔵 [LOGIN] Creating JWT tokens
2025-10-09 11:29:38,637 - app.routes.auth - INFO - 🔵 [LOGIN] Tokens created successfully
2025-10-09 11:29:38,637 - app.routes.auth - INFO - ✅ [LOGIN] Login successful for user: vampada@gmail.com (ID: a15de508-91fb-4aae-9a2e-6a933b63272c)
2025-10-09 11:29:38,644 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:29:39,717 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:29:39,718 - app.routes.cv_simple - INFO - Listed 1 CV files
2025-10-09 11:29:39,721 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:29:39,732 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:29:58,581 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:29:58,589 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:29:58,590 - sqlalchemy.engine.Engine - INFO - [generated in 0.00085s] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:29:58,761 - sqlalchemy.engine.Engine - INFO - UPDATE user_api_keys SET encrypted_key=%(encrypted_key)s, is_valid=%(is_valid)s, updated_at=%(updated_at)s WHERE user_api_keys.id = %(user_api_keys_id)s
2025-10-09 11:29:58,761 - sqlalchemy.engine.Engine - INFO - [generated in 0.00065s] {'encrypted_key': 'Z0FBQUFBQm81d0lHYzJYZkd3bV9kME1NTVVOS3FyYmltMkRRb0w4MV9pYUxUbDZRNHd1RDhKNGxxc2JjUUdzOTVFWkNNa2Nic0xNaGRVdVVlWFZUR0JWU1BUakplYkxXWW8tbE5DVEF1NC1DeWFEW ... (118 characters truncated) ... WSDVoYURxMWt0QnA1Rm9LUThEUnQ0dHctNGlnUVU1WHViSVdLNU1mazY1X3RBQnZ4MU9IRy15LTFBRmFoV2FjSUVrb0hCNldlUlJIY3lIZ0t5Sm84SzgtalBtX2w4Mnpldkh3bHoxMWg0czRnNnM9', 'is_valid': False, 'updated_at': datetime.datetime(2025, 10, 9, 0, 29, 58, 732603), 'user_api_keys_id': 11}
2025-10-09 11:29:58,796 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:29:58,813 - app.services.user_api_key_manager - INFO - Updated API key for user vampada@gmail.com and provider openai
2025-10-09 11:29:59,869 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 11:30:00,101 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:30:00,103 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:30:00,104 - sqlalchemy.engine.Engine - INFO - [cached since 1.515s ago] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:30:00,158 - sqlalchemy.engine.Engine - INFO - UPDATE user_api_keys SET is_valid=%(is_valid)s, last_validated=%(last_validated)s, updated_at=now() WHERE user_api_keys.id = %(user_api_keys_id)s
2025-10-09 11:30:00,158 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] {'is_valid': True, 'last_validated': datetime.datetime(2025, 10, 9, 0, 30, 0, 155210), 'user_api_keys_id': 11}
2025-10-09 11:30:00,178 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:30:00,208 - app.ai.ai_service - INFO - 🔄 Refreshing AI providers after API key changes
2025-10-09 11:30:00,210 - app.routes.api_keys - INFO - 🔄 Refreshed AI providers after setting openai API key for user vampada@gmail.com
2025-10-09 11:30:25,660 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:30:26,298 - app.modules.cv.preview - INFO - CV content extracted: maheshwor_tiwari.pdf (4864 characters)
2025-10-09 11:30:26,299 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:30:26,302 - app.routes.cv_organized - INFO - CV saved as text: user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 11:30:26,305 - app.routes.cv_organized - INFO - Processing maheshwor_tiwari.pdf for structured CV format (background)...
2025-10-09 11:30:26,308 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:30:26,309 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:30:26,731 - app.services.enhanced_cv_upload_service - INFO - Text extracted successfully: 4864 characters
2025-10-09 11:30:26,736 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:30:26,736 - app.services.structured_cv_parser - ERROR - Error in LLM parsing: No AI provider selected. Set via /ai/set-current-model.
2025-10-09 11:30:26,736 - app.services.structured_cv_parser - ERROR - Error parsing CV content with LLM: No AI provider selected. Set via /ai/set-current-model.
2025-10-09 11:30:26,737 - app.services.enhanced_cv_upload_service - INFO - CV parsed from raw text content
2025-10-09 11:30:26,739 - app.services.structured_cv_parser - INFO - Successfully saved structured CV to user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 11:30:26,739 - app.services.enhanced_cv_upload_service - INFO - Structured CV saved as original_cv.json: user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.json (replaced existing)
2025-10-09 11:30:26,739 - app.services.enhanced_cv_upload_service - INFO - Existing CV processed successfully: maheshwor_tiwari.pdf
2025-10-09 11:30:26,739 - app.routes.cv_organized - INFO - ✅ Background: CV saved as structured JSON: user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 11:30:26,746 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:30:26,994 - app.routes.cv_simple - INFO - CV content extracted: maheshwor_tiwari.pdf (4864 characters)
2025-10-09 11:30:38,281 - app.utils.directory_utils - ERROR - ❌ Failed to create cv-analysis directories: User email must be provided
2025-10-09 11:30:40,977 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:30:40,982 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:30:40,982 - app.services.job_extraction_service - ERROR - AI service error: 
2025-10-09 11:30:41,024 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:30:41,025 - app.services.job_extraction_service - INFO - ♻️ [JOB_EXTRACTION] Job already exists in saved_jobs.json: Data Analyst at Australia for UNHCR
2025-10-09 11:30:44,606 - app.core.model_dependency - INFO - 🔄 Using model from header without provider switch: gpt-3.5-turbo
2025-10-09 11:30:44,607 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:30:44,633 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:30:44,634 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:30:44,634 - sqlalchemy.engine.Engine - INFO - [cached since 46.05s ago] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:30:44,689 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:30:44,725 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:30:44,726 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:30:44,727 - sqlalchemy.engine.Engine - INFO - [cached since 46.14s ago] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:30:44,774 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:30:44,799 - app.routes.skills_analysis - INFO - 🎯 Preliminary analysis request: CV=maheshwor_tiwari.pdf, JD_length=6014, CONFIG=None
2025-10-09 11:30:44,799 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:30:44,800 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:30:44,801 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:30:44,803 - app.routes.skills_analysis - INFO - 🏢 Extracted company name: Australia_for_UNHCR
2025-10-09 11:30:44,803 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:30:44,806 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:30:44,806 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:30:44,806 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/vampada@gmail.com/cv-analysis
2025-10-09 11:30:44,806 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:30:44,807 - app.routes.skills_analysis - INFO - 🔗 [PRELIM_ANALYSIS] JD URL (latest job_info): https://www.ethicaljobs.com.au/members/australiaforunhcr/data-analyst
2025-10-09 11:30:44,809 - app.routes.skills_analysis - INFO - 📄 [PRELIM_ANALYSIS] Latest CV selected → type=original, ts=None, json=user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 11:30:44,810 - app.routes.skills_analysis - INFO - 🧪 [PRELIM_ANALYSIS] CV content length=4864, preview='Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD in Physics and completed a Master's in Data Science, bringing over three years of experience in Python  coding, AI, and machine learning. My expertise encompasses modeling and training AI models, writing efficient Python'
2025-10-09 11:30:44,811 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 11:30:44,811 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 11:30:44,811 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 11:30:44,811 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Starting AI-powered skills analysis for maheshwor_tiwari.pdf
2025-10-09 11:30:44,812 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] CV content length: 4864 chars
2025-10-09 11:30:44,812 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] JD content length: 6014 chars
2025-10-09 11:30:44,812 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using config: default
2025-10-09 11:30:44,812 - app.routes.skills_analysis - INFO - 🧪 [SKILLS_ANALYSIS] CV preview: 'Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD '
2025-10-09 11:30:44,812 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:30:44,813 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:30:44,813 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 11:30:44,813 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: []
2025-10-09 11:30:44,813 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 11:30:44,813 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {}
2025-10-09 11:30:44,813 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI provider: None
2025-10-09 11:30:44,814 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI model: None
2025-10-09 11:30:44,814 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Provider available: False
2025-10-09 11:30:44,814 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Model from header: gpt-3.5-turbo
2025-10-09 11:30:44,815 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting CV skills with detailed structured analysis...
2025-10-09 11:30:44,815 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:30:44,815 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:30:44,815 - app.routes.skills_analysis - ERROR - ❌ [SKILLS_ANALYSIS] Error in preliminary skills analysis: No AI provider selected. Set via /ai/set-current-model.
2025-10-09 11:30:44,821 - app.routes.skills_analysis - ERROR - ❌ Preliminary analysis error (Exception): No AI provider selected. Set via /ai/set-current-model.
2025-10-09 11:30:44,821 - app.routes.skills_analysis - ERROR - Traceback: Traceback (most recent call last):
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/routes/skills_analysis.py", line 1007, in preliminary_analysis
    result = await perform_preliminary_skills_analysis(
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/routes/skills_analysis.py", line 2784, in perform_preliminary_skills_analysis
    raise e
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/routes/skills_analysis.py", line 2401, in perform_preliminary_skills_analysis
    cv_structured_response = await ai_service.generate_response(
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/ai/ai_service.py", line 244, in generate_response
    raise Exception("No AI provider selected. Set via /ai/set-current-model.")
Exception: No AI provider selected. Set via /ai/set-current-model.

2025-10-09 11:32:17,984 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:32:17,987 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s
2025-10-09 11:32:17,988 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] {'user_id_1': '84cc722f-252a-4e50-a4db-7aa84e418cf0'}
2025-10-09 11:32:18,025 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:32:18,076 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:32:18,077 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:32:18,077 - sqlalchemy.engine.Engine - INFO - [cached since 139.5s ago] {'user_id_1': '84cc722f-252a-4e50-a4db-7aa84e418cf0', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:32:18,132 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_api_keys (user_id, provider, encrypted_key, key_hash, is_valid, last_validated, created_at, updated_at) VALUES (%(user_id)s, %(provider)s, %(encrypted_key)s, %(key_hash)s, %(is_valid)s, %(last_validated)s, now(), now()) RETURNING user_api_keys.id, user_api_keys.created_at, user_api_keys.updated_at
2025-10-09 11:32:18,133 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] {'user_id': '84cc722f-252a-4e50-a4db-7aa84e418cf0', 'provider': 'openai', 'encrypted_key': 'Z0FBQUFBQm81d0tTMG1Deks2b3k2a3V0OFc3WkNlOHNGR3ZyeVJJUi1yYVBUQ1lvLWZPdnQtT19RMWR4a2xrZjFURzF4ZVUyMkY4NS14M0tLZk1QeWphaXlucU5ERkQ5QXZNRTFQeW42UU8ycTA5VnEwOWpKOFE9', 'key_hash': 'f803d8dfd23a3c2ca3d3216b6098b0f93e003069a9d3eb3beaf1fc0fc138fece', 'is_valid': False, 'last_validated': None}
2025-10-09 11:32:18,159 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:32:18,175 - app.services.user_api_key_manager - INFO - Created new API key for user demo@cvapp.com and provider openai
2025-10-09 11:32:19,175 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 401 Unauthorized"
2025-10-09 11:32:19,182 - app.ai.providers.openai_provider - ERROR - OpenAI API key validation failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-place*************7890. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-10-09 11:32:19,201 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:32:19,204 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:32:19,205 - sqlalchemy.engine.Engine - INFO - [cached since 140.6s ago] {'user_id_1': '84cc722f-252a-4e50-a4db-7aa84e418cf0', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:32:19,243 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:32:19,269 - app.ai.ai_service - INFO - 🔄 Refreshing AI providers after API key changes
2025-10-09 11:32:19,270 - app.routes.api_keys - INFO - 🔄 Refreshed AI providers after setting openai API key for user demo@cvapp.com
2025-10-09 11:32:19,294 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:32:19,295 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s
2025-10-09 11:32:19,295 - sqlalchemy.engine.Engine - INFO - [cached since 1.308s ago] {'user_id_1': '84cc722f-252a-4e50-a4db-7aa84e418cf0'}
2025-10-09 11:32:19,348 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:32:19,400 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:32:19,434 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:32:19,439 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 11:32:19,440 - sqlalchemy.engine.Engine - INFO - [generated in 0.00272s] {'user_id_1': '84cc722f-252a-4e50-a4db-7aa84e418cf0', 'param_1': 1}
2025-10-09 11:32:19,485 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:32:19,503 - app.core.model_dependency - ERROR - ❌ Error resolving user model preference: (psycopg2.errors.UndefinedTable) relation "user_model_preferences" does not exist
LINE 2: FROM user_model_preferences 
             ^

[SQL: SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s]
[parameters: {'user_id_1': '84cc722f-252a-4e50-a4db-7aa84e418cf0', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-10-09 11:32:19,526 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:32:19,526 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:32:19,526 - sqlalchemy.engine.Engine - INFO - [cached since 140.9s ago] {'user_id_1': '84cc722f-252a-4e50-a4db-7aa84e418cf0', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:32:19,573 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:32:19,618 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:32:19,619 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:32:19,619 - sqlalchemy.engine.Engine - INFO - [cached since 141s ago] {'user_id_1': '84cc722f-252a-4e50-a4db-7aa84e418cf0', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:32:19,665 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:32:19,690 - app.routes.skills_analysis - INFO - 🎯 Preliminary analysis request: CV=test.pdf, JD_length=20, CONFIG=None
2025-10-09 11:32:19,694 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-09 11:32:19,695 - app.routes.skills_analysis - INFO - 🏢 Extracted company name: Unknown_Company
2025-10-09 11:32:19,696 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-09 11:32:19,696 - app.routes.skills_analysis - WARNING - ⚠️ Proceeding without prior JD analysis: Please analyze the job description first before running skills analysis.
2025-10-09 11:32:19,696 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-09 11:32:19,697 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-09 11:32:19,697 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/demo@cvapp.com/cv-analysis
2025-10-09 11:32:19,697 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-09 11:32:29,002 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 11:32:34,301 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 11:32:34,670 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 11:32:34,670 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:32:34,714 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 11:32:34,714 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:32:34,761 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 11:32:34,761 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:32:34,806 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:32:34,807 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 11:32:34,807 - sqlalchemy.engine.Engine - INFO - [generated in 0.00087s] {}
2025-10-09 11:32:34,851 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:32:34,871 - app.database - INFO - Database connection successful
2025-10-09 11:32:34,872 - app.main - INFO - ✅ Database connection successful
2025-10-09 11:32:34,893 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:32:34,898 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:32:34,898 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:32:34,940 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:32:34,940 - sqlalchemy.engine.Engine - INFO - [cached since 0.04241s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:32:34,972 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:32:34,972 - sqlalchemy.engine.Engine - INFO - [cached since 0.07407s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:32:34,995 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:32:34,995 - sqlalchemy.engine.Engine - INFO - [cached since 0.09736s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:32:35,017 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:32:35,018 - sqlalchemy.engine.Engine - INFO - [cached since 0.1197s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:32:35,037 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:32:35,037 - sqlalchemy.engine.Engine - INFO - [cached since 0.1393s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:32:35,060 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:32:35,061 - sqlalchemy.engine.Engine - INFO - [cached since 0.1629s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:32:35,085 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:32:35,085 - sqlalchemy.engine.Engine - INFO - [cached since 0.187s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:32:35,103 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:32:35,104 - sqlalchemy.engine.Engine - INFO - [cached since 0.2059s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:32:35,123 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:32:35,124 - sqlalchemy.engine.Engine - INFO - [cached since 0.2259s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:32:35,145 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:32:35,146 - sqlalchemy.engine.Engine - INFO - [cached since 0.2477s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:32:35,169 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:32:35,192 - app.database - INFO - Database tables created successfully
2025-10-09 11:32:35,192 - app.main - INFO - ✅ Database tables ready
2025-10-09 11:32:35,192 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 11:32:35,192 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 11:32:35,979 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:32:35,983 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:32:35,983 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] {'user_id_1': 'b8f4fbc6-16cb-4fff-b486-16e6faabcb0f', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:32:36,029 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_api_keys (user_id, provider, encrypted_key, key_hash, is_valid, last_validated, created_at, updated_at) VALUES (%(user_id)s, %(provider)s, %(encrypted_key)s, %(key_hash)s, %(is_valid)s, %(last_validated)s, now(), now()) RETURNING user_api_keys.id, user_api_keys.created_at, user_api_keys.updated_at
2025-10-09 11:32:36,030 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] {'user_id': 'b8f4fbc6-16cb-4fff-b486-16e6faabcb0f', 'provider': 'openai', 'encrypted_key': 'Z0FBQUFBQm81d0trLTNHRTNUUHBIUWRPN2gzYTV1dkV0NkYzcmhMWmRjbHVUaFYtRm9yWkVqcVcxczFSS2VGSmM2TDkxOGwzRlFJMFk4dG1FYndnZnlUcTQtN0YtRGU1V1Z0S0ZvQXFXaHhGMjR5MW1QZUIxTE09', 'key_hash': 'f803d8dfd23a3c2ca3d3216b6098b0f93e003069a9d3eb3beaf1fc0fc138fece', 'is_valid': False, 'last_validated': None}
2025-10-09 11:32:36,049 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:32:36,069 - app.services.user_api_key_manager - INFO - Created new API key for user demo@cvapp.com and provider openai
2025-10-09 11:32:36,437 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 401 Unauthorized"
2025-10-09 11:32:36,439 - app.ai.providers.openai_provider - ERROR - OpenAI API key validation failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-place*************7890. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-10-09 11:32:36,460 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:32:36,461 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:32:36,461 - sqlalchemy.engine.Engine - INFO - [cached since 0.4783s ago] {'user_id_1': 'b8f4fbc6-16cb-4fff-b486-16e6faabcb0f', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:32:36,507 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:32:36,528 - app.ai.ai_service - INFO - 🔄 Refreshing AI providers after API key changes
2025-10-09 11:32:36,528 - app.routes.api_keys - INFO - 🔄 Refreshed AI providers after setting openai API key for user demo@cvapp.com
2025-10-09 11:32:36,542 - app.ai.ai_service - ERROR - Provider openai not available
2025-10-09 11:32:36,569 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:32:36,572 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 11:32:36,572 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] {'user_id_1': 'b8f4fbc6-16cb-4fff-b486-16e6faabcb0f', 'param_1': 1}
2025-10-09 11:32:36,609 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:32:36,630 - app.core.model_dependency - ERROR - ❌ Error resolving user model preference: (psycopg2.errors.UndefinedTable) relation "user_model_preferences" does not exist
LINE 2: FROM user_model_preferences 
             ^

[SQL: SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s]
[parameters: {'user_id_1': 'b8f4fbc6-16cb-4fff-b486-16e6faabcb0f', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-10-09 11:32:36,651 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:32:36,652 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:32:36,652 - sqlalchemy.engine.Engine - INFO - [cached since 0.6698s ago] {'user_id_1': 'b8f4fbc6-16cb-4fff-b486-16e6faabcb0f', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:32:36,697 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:32:36,746 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:32:36,746 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:32:36,747 - sqlalchemy.engine.Engine - INFO - [cached since 0.7641s ago] {'user_id_1': 'b8f4fbc6-16cb-4fff-b486-16e6faabcb0f', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:32:36,797 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:32:36,817 - app.routes.skills_analysis - INFO - 🎯 Preliminary analysis request: CV=test.pdf, JD_length=40, CONFIG=None
2025-10-09 11:32:36,818 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-09 11:32:36,819 - app.routes.skills_analysis - INFO - 🏢 Extracted company name: Australia_for_UNHCR
2025-10-09 11:32:36,819 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-09 11:32:36,819 - app.routes.skills_analysis - WARNING - ⚠️ Proceeding without prior JD analysis: Please analyze the job description first before running skills analysis.
2025-10-09 11:32:36,819 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-09 11:32:36,820 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-09 11:32:36,820 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/demo@cvapp.com/cv-analysis
2025-10-09 11:32:36,820 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-09 11:32:41,916 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:32:41,916 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:32:41,917 - sqlalchemy.engine.Engine - INFO - [cached since 5.934s ago] {'user_id_1': '05052c87-bb35-4266-9cd5-e861e715a818', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:32:41,963 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_api_keys (user_id, provider, encrypted_key, key_hash, is_valid, last_validated, created_at, updated_at) VALUES (%(user_id)s, %(provider)s, %(encrypted_key)s, %(key_hash)s, %(is_valid)s, %(last_validated)s, now(), now()) RETURNING user_api_keys.id, user_api_keys.created_at, user_api_keys.updated_at
2025-10-09 11:32:41,964 - sqlalchemy.engine.Engine - INFO - [cached since 5.934s ago] {'user_id': '05052c87-bb35-4266-9cd5-e861e715a818', 'provider': 'openai', 'encrypted_key': 'Z0FBQUFBQm81d0twSkh1cExTcjZXeWIxOENmZzd0ZGo5Z0Q1NGhXNlJUWjc0ejJNZXpxLWRYV2ZuSk9uSTRDRkZSVV95eElHRlZOeWMtcGVrSUNWYWd3Y3o2c296Z21Ca1EtNjhtWGp4a2hQQVJCYngtVFliVk09', 'key_hash': 'f803d8dfd23a3c2ca3d3216b6098b0f93e003069a9d3eb3beaf1fc0fc138fece', 'is_valid': False, 'last_validated': None}
2025-10-09 11:32:41,984 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:32:42,008 - app.services.user_api_key_manager - INFO - Created new API key for user demo@cvapp.com and provider openai
2025-10-09 11:32:42,421 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 401 Unauthorized"
2025-10-09 11:32:42,423 - app.ai.providers.openai_provider - ERROR - OpenAI API key validation failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-place*************7890. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-10-09 11:32:42,458 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:32:42,460 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:32:42,460 - sqlalchemy.engine.Engine - INFO - [cached since 6.477s ago] {'user_id_1': '05052c87-bb35-4266-9cd5-e861e715a818', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:32:42,513 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:32:42,534 - app.ai.ai_service - INFO - 🔄 Refreshing AI providers after API key changes
2025-10-09 11:32:42,534 - app.routes.api_keys - INFO - 🔄 Refreshed AI providers after setting openai API key for user demo@cvapp.com
2025-10-09 11:32:42,550 - app.ai.ai_service - ERROR - Provider openai not available
2025-10-09 11:32:52,547 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 11:33:05,280 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 11:33:05,564 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 11:33:05,564 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:33:05,607 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 11:33:05,608 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:33:05,661 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 11:33:05,662 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:33:05,705 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:33:05,705 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 11:33:05,706 - sqlalchemy.engine.Engine - INFO - [generated in 0.00105s] {}
2025-10-09 11:33:05,754 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:33:05,777 - app.database - INFO - Database connection successful
2025-10-09 11:33:05,777 - app.main - INFO - ✅ Database connection successful
2025-10-09 11:33:05,801 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:33:05,812 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:33:05,813 - sqlalchemy.engine.Engine - INFO - [generated in 0.00095s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:33:05,863 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:33:05,864 - sqlalchemy.engine.Engine - INFO - [cached since 0.05211s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:33:05,889 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:33:05,892 - sqlalchemy.engine.Engine - INFO - [cached since 0.08005s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:33:05,919 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:33:05,919 - sqlalchemy.engine.Engine - INFO - [cached since 0.1075s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:33:05,947 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:33:05,948 - sqlalchemy.engine.Engine - INFO - [cached since 0.1359s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:33:05,975 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:33:05,976 - sqlalchemy.engine.Engine - INFO - [cached since 0.1639s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:33:06,000 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:33:06,000 - sqlalchemy.engine.Engine - INFO - [cached since 0.1885s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:33:06,026 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:33:06,027 - sqlalchemy.engine.Engine - INFO - [cached since 0.2152s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:33:06,051 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:33:06,052 - sqlalchemy.engine.Engine - INFO - [cached since 0.2397s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:33:06,077 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:33:06,078 - sqlalchemy.engine.Engine - INFO - [cached since 0.2657s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:33:06,098 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:33:06,099 - sqlalchemy.engine.Engine - INFO - [cached since 0.2868s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:33:06,120 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:33:06,144 - app.database - INFO - Database tables created successfully
2025-10-09 11:33:06,145 - app.main - INFO - ✅ Database tables ready
2025-10-09 11:33:06,145 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 11:33:06,145 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 11:33:10,199 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:33:10,203 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:33:10,204 - sqlalchemy.engine.Engine - INFO - [generated in 0.00055s] {'user_id_1': '8e73eb86-ec26-4e21-bf9e-24be06004bda', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:33:10,253 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_api_keys (user_id, provider, encrypted_key, key_hash, is_valid, last_validated, created_at, updated_at) VALUES (%(user_id)s, %(provider)s, %(encrypted_key)s, %(key_hash)s, %(is_valid)s, %(last_validated)s, now(), now()) RETURNING user_api_keys.id, user_api_keys.created_at, user_api_keys.updated_at
2025-10-09 11:33:10,253 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] {'user_id': '8e73eb86-ec26-4e21-bf9e-24be06004bda', 'provider': 'openai', 'encrypted_key': 'Z0FBQUFBQm81d0xHdEVnTWRmdVN1eUg5aUtDVmdSdUxzd3A1czZoSzJIX3gtYnFzcklPUlE3cU1iZFZsalRiTThlQjZNSHN6bDUzS2NCNjZMOGFpQ3ViRFpKS1MxaEdmNER4S0pFNTE4NjMyVGJvRjVrcjdBVE09', 'key_hash': 'f803d8dfd23a3c2ca3d3216b6098b0f93e003069a9d3eb3beaf1fc0fc138fece', 'is_valid': False, 'last_validated': None}
2025-10-09 11:33:10,279 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:33:10,301 - app.services.user_api_key_manager - INFO - Created new API key for user demo@cvapp.com and provider openai
2025-10-09 11:33:10,686 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 401 Unauthorized"
2025-10-09 11:33:10,689 - app.ai.providers.openai_provider - ERROR - OpenAI API key validation failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-place*************7890. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-10-09 11:33:10,711 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:33:10,712 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:33:10,712 - sqlalchemy.engine.Engine - INFO - [cached since 0.5088s ago] {'user_id_1': '8e73eb86-ec26-4e21-bf9e-24be06004bda', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:33:10,758 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:33:10,779 - app.ai.ai_service - INFO - 🔄 Refreshing AI providers after API key changes
2025-10-09 11:33:10,802 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:33:10,803 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:33:10,803 - sqlalchemy.engine.Engine - INFO - [cached since 0.5999s ago] {'user_id_1': '8e73eb86-ec26-4e21-bf9e-24be06004bda', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:33:10,847 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:33:11,176 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 401 Unauthorized"
2025-10-09 11:33:11,176 - app.ai.providers.openai_provider - ERROR - OpenAI API key validation failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-place*************7890. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-10-09 11:33:11,177 - app.ai.ai_service - WARNING - ⚠️ openai provider initialized but not available for user
2025-10-09 11:33:11,195 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:33:11,196 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:33:11,196 - sqlalchemy.engine.Engine - INFO - [cached since 0.9931s ago] {'user_id_1': '8e73eb86-ec26-4e21-bf9e-24be06004bda', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 11:33:11,266 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:33:11,307 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:33:11,308 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:33:11,308 - sqlalchemy.engine.Engine - INFO - [cached since 1.105s ago] {'user_id_1': '8e73eb86-ec26-4e21-bf9e-24be06004bda', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 11:33:11,343 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:33:11,366 - app.routes.api_keys - INFO - 🔄 Refreshed AI providers after setting openai API key for user demo@cvapp.com
2025-10-09 11:33:11,390 - app.ai.ai_service - ERROR - Provider openai not available
2025-10-09 11:33:11,417 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:33:11,422 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 11:33:11,423 - sqlalchemy.engine.Engine - INFO - [generated in 0.00102s] {'user_id_1': '8e73eb86-ec26-4e21-bf9e-24be06004bda', 'param_1': 1}
2025-10-09 11:33:11,490 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:33:11,571 - app.core.model_dependency - ERROR - ❌ Error resolving user model preference: (psycopg2.errors.UndefinedTable) relation "user_model_preferences" does not exist
LINE 2: FROM user_model_preferences 
             ^

[SQL: SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s]
[parameters: {'user_id_1': '8e73eb86-ec26-4e21-bf9e-24be06004bda', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-10-09 11:33:11,593 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:33:11,594 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:33:11,594 - sqlalchemy.engine.Engine - INFO - [cached since 1.391s ago] {'user_id_1': '8e73eb86-ec26-4e21-bf9e-24be06004bda', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:33:11,634 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:33:11,673 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:33:11,674 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:33:11,675 - sqlalchemy.engine.Engine - INFO - [cached since 1.472s ago] {'user_id_1': '8e73eb86-ec26-4e21-bf9e-24be06004bda', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:33:11,728 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:33:11,751 - app.routes.skills_analysis - INFO - 🎯 Preliminary analysis request: CV=test.pdf, JD_length=40, CONFIG=None
2025-10-09 11:33:11,752 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-09 11:33:11,754 - app.routes.skills_analysis - INFO - 🏢 Extracted company name: Australia_for_UNHCR
2025-10-09 11:33:11,754 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-09 11:33:11,755 - app.routes.skills_analysis - WARNING - ⚠️ Proceeding without prior JD analysis: Please analyze the job description first before running skills analysis.
2025-10-09 11:33:11,755 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-09 11:33:11,755 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-09 11:33:11,756 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/demo@cvapp.com/cv-analysis
2025-10-09 11:33:11,756 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-09 11:33:22,212 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 11:33:27,192 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 11:33:27,478 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 11:33:27,479 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:33:27,521 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 11:33:27,521 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:33:27,563 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 11:33:27,563 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:33:27,607 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:33:27,607 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 11:33:27,607 - sqlalchemy.engine.Engine - INFO - [generated in 0.00059s] {}
2025-10-09 11:33:27,647 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:33:27,671 - app.database - INFO - Database connection successful
2025-10-09 11:33:27,671 - app.main - INFO - ✅ Database connection successful
2025-10-09 11:33:27,688 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:33:27,695 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:33:27,695 - sqlalchemy.engine.Engine - INFO - [generated in 0.00050s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:33:27,731 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:33:27,731 - sqlalchemy.engine.Engine - INFO - [cached since 0.0367s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:33:27,752 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:33:27,753 - sqlalchemy.engine.Engine - INFO - [cached since 0.05816s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:33:27,779 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:33:27,779 - sqlalchemy.engine.Engine - INFO - [cached since 0.08442s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:33:27,801 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:33:27,802 - sqlalchemy.engine.Engine - INFO - [cached since 0.1072s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:33:27,825 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:33:27,825 - sqlalchemy.engine.Engine - INFO - [cached since 0.1303s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:33:27,847 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:33:27,848 - sqlalchemy.engine.Engine - INFO - [cached since 0.153s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:33:27,870 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:33:27,870 - sqlalchemy.engine.Engine - INFO - [cached since 0.1754s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:33:27,889 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:33:27,890 - sqlalchemy.engine.Engine - INFO - [cached since 0.1951s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:33:27,917 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:33:27,917 - sqlalchemy.engine.Engine - INFO - [cached since 0.2225s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:33:27,938 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:33:27,939 - sqlalchemy.engine.Engine - INFO - [cached since 0.2443s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:33:27,962 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:33:27,984 - app.database - INFO - Database tables created successfully
2025-10-09 11:33:27,985 - app.main - INFO - ✅ Database tables ready
2025-10-09 11:33:27,985 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 11:33:27,985 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 11:33:28,628 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:33:28,631 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:33:28,632 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] {'user_id_1': 'accbce7e-8599-41cd-97ba-5aa308379bbf', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:33:28,691 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_api_keys (user_id, provider, encrypted_key, key_hash, is_valid, last_validated, created_at, updated_at) VALUES (%(user_id)s, %(provider)s, %(encrypted_key)s, %(key_hash)s, %(is_valid)s, %(last_validated)s, now(), now()) RETURNING user_api_keys.id, user_api_keys.created_at, user_api_keys.updated_at
2025-10-09 11:33:28,691 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] {'user_id': 'accbce7e-8599-41cd-97ba-5aa308379bbf', 'provider': 'openai', 'encrypted_key': 'Z0FBQUFBQm81d0xZZExUSzFLazQ3aTRmdlBWUkwtT0JxWDdDWEQ5amx0VXN0RkhZQ3BISk40MnB6Nnd2eEVPb3AyUXBjbUVjemUzdTlrNmV2Z0ZqbnpOcTVCOFZnYXBNUU50ak9RZDBlV2ZfVUZVc3ZmQTYxZU09', 'key_hash': 'f803d8dfd23a3c2ca3d3216b6098b0f93e003069a9d3eb3beaf1fc0fc138fece', 'is_valid': False, 'last_validated': None}
2025-10-09 11:33:28,712 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:33:28,734 - app.services.user_api_key_manager - INFO - Created new API key for user demo@cvapp.com and provider openai
2025-10-09 11:33:29,525 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 401 Unauthorized"
2025-10-09 11:33:29,531 - app.ai.providers.openai_provider - ERROR - OpenAI API key validation failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-place*************7890. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-10-09 11:33:29,550 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:33:29,552 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:33:29,552 - sqlalchemy.engine.Engine - INFO - [cached since 0.9207s ago] {'user_id_1': 'accbce7e-8599-41cd-97ba-5aa308379bbf', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:33:29,598 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:33:29,619 - app.ai.ai_service - INFO - 🔄 Refreshing AI providers after API key changes
2025-10-09 11:33:29,640 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:33:29,641 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:33:29,642 - sqlalchemy.engine.Engine - INFO - [cached since 1.01s ago] {'user_id_1': 'accbce7e-8599-41cd-97ba-5aa308379bbf', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:33:29,685 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:33:29,730 - app.ai.ai_service - INFO - ✅ Initialized openai provider for user with model gpt-4o
2025-10-09 11:33:29,752 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:33:29,753 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:33:29,754 - sqlalchemy.engine.Engine - INFO - [cached since 1.123s ago] {'user_id_1': 'accbce7e-8599-41cd-97ba-5aa308379bbf', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 11:33:29,799 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:33:29,837 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:33:29,837 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:33:29,838 - sqlalchemy.engine.Engine - INFO - [cached since 1.206s ago] {'user_id_1': 'accbce7e-8599-41cd-97ba-5aa308379bbf', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 11:33:29,878 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:33:29,898 - app.routes.api_keys - INFO - 🔄 Refreshed AI providers after setting openai API key for user demo@cvapp.com
2025-10-09 11:33:29,921 - app.ai.ai_service - INFO - ✅ Switched to openai provider with model gpt-3.5-turbo
2025-10-09 11:33:29,943 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:33:29,946 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 11:33:29,946 - sqlalchemy.engine.Engine - INFO - [generated in 0.00067s] {'user_id_1': 'accbce7e-8599-41cd-97ba-5aa308379bbf', 'param_1': 1}
2025-10-09 11:33:29,989 - app.routes.ai - ERROR - Failed to set current model: (psycopg2.errors.UndefinedTable) relation "user_model_preferences" does not exist
LINE 2: FROM user_model_preferences 
             ^

[SQL: SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s]
[parameters: {'user_id_1': 'accbce7e-8599-41cd-97ba-5aa308379bbf', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-10-09 11:33:29,990 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:33:30,036 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:33:30,036 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 11:33:30,037 - sqlalchemy.engine.Engine - INFO - [cached since 0.09126s ago] {'user_id_1': 'accbce7e-8599-41cd-97ba-5aa308379bbf', 'param_1': 1}
2025-10-09 11:33:30,081 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:33:30,102 - app.core.model_dependency - ERROR - ❌ Error resolving user model preference: (psycopg2.errors.UndefinedTable) relation "user_model_preferences" does not exist
LINE 2: FROM user_model_preferences 
             ^

[SQL: SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s]
[parameters: {'user_id_1': 'accbce7e-8599-41cd-97ba-5aa308379bbf', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-10-09 11:33:30,125 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:33:30,125 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:33:30,126 - sqlalchemy.engine.Engine - INFO - [cached since 1.494s ago] {'user_id_1': 'accbce7e-8599-41cd-97ba-5aa308379bbf', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:33:30,165 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:33:30,209 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:33:30,209 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:33:30,209 - sqlalchemy.engine.Engine - INFO - [cached since 1.578s ago] {'user_id_1': 'accbce7e-8599-41cd-97ba-5aa308379bbf', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:33:30,261 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:33:30,285 - app.routes.skills_analysis - INFO - 🎯 Preliminary analysis request: CV=test.pdf, JD_length=40, CONFIG=None
2025-10-09 11:33:30,287 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-09 11:33:30,288 - app.routes.skills_analysis - INFO - 🏢 Extracted company name: Australia_for_UNHCR
2025-10-09 11:33:30,288 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-09 11:33:30,288 - app.routes.skills_analysis - WARNING - ⚠️ Proceeding without prior JD analysis: Please analyze the job description first before running skills analysis.
2025-10-09 11:33:30,289 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-09 11:33:30,289 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-09 11:33:30,289 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/demo@cvapp.com/cv-analysis
2025-10-09 11:33:30,289 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-09 11:34:04,679 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:34:04,680 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:34:04,680 - sqlalchemy.engine.Engine - INFO - [cached since 36.05s ago] {'user_id_1': 'f4a01f5f-cda6-4bc7-9fa8-5a84edb89ec7', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:34:04,723 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_api_keys (user_id, provider, encrypted_key, key_hash, is_valid, last_validated, created_at, updated_at) VALUES (%(user_id)s, %(provider)s, %(encrypted_key)s, %(key_hash)s, %(is_valid)s, %(last_validated)s, now(), now()) RETURNING user_api_keys.id, user_api_keys.created_at, user_api_keys.updated_at
2025-10-09 11:34:04,723 - sqlalchemy.engine.Engine - INFO - [cached since 36.03s ago] {'user_id': 'f4a01f5f-cda6-4bc7-9fa8-5a84edb89ec7', 'provider': 'openai', 'encrypted_key': 'Z0FBQUFBQm81d0w4bkFIRXBvNU9zREloQllXNGZKbUh1dmZlMGFTVzFvRVkwMEZVWGdpMWx6RUIwYkhhaUU4N3VwSkV5YmVfU3ZoRloxRmtURTRHTndldlphZm5Xd1JLVnpsZjVrSThHVWkyQWdlYjZtbElIMEE9', 'key_hash': 'f803d8dfd23a3c2ca3d3216b6098b0f93e003069a9d3eb3beaf1fc0fc138fece', 'is_valid': False, 'last_validated': None}
2025-10-09 11:34:04,746 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:34:04,765 - app.services.user_api_key_manager - INFO - Created new API key for user demo@cvapp.com and provider openai
2025-10-09 11:34:05,102 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 401 Unauthorized"
2025-10-09 11:34:05,103 - app.ai.providers.openai_provider - ERROR - OpenAI API key validation failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-place*************7890. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-10-09 11:34:05,124 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:34:05,125 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:34:05,125 - sqlalchemy.engine.Engine - INFO - [cached since 36.49s ago] {'user_id_1': 'f4a01f5f-cda6-4bc7-9fa8-5a84edb89ec7', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:34:05,171 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:34:05,193 - app.ai.ai_service - INFO - 🔄 Refreshing AI providers after API key changes
2025-10-09 11:34:05,215 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:34:05,216 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:34:05,216 - sqlalchemy.engine.Engine - INFO - [cached since 36.58s ago] {'user_id_1': 'f4a01f5f-cda6-4bc7-9fa8-5a84edb89ec7', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:34:05,262 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:34:05,306 - app.ai.ai_service - INFO - ✅ Initialized openai provider for user with model gpt-4o
2025-10-09 11:34:05,328 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:34:05,329 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:34:05,329 - sqlalchemy.engine.Engine - INFO - [cached since 36.7s ago] {'user_id_1': 'f4a01f5f-cda6-4bc7-9fa8-5a84edb89ec7', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 11:34:05,372 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:34:05,417 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:34:05,418 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:34:05,418 - sqlalchemy.engine.Engine - INFO - [cached since 36.79s ago] {'user_id_1': 'f4a01f5f-cda6-4bc7-9fa8-5a84edb89ec7', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 11:34:05,457 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:34:05,475 - app.routes.api_keys - INFO - 🔄 Refreshed AI providers after setting openai API key for user demo@cvapp.com
2025-10-09 11:34:05,483 - app.ai.ai_service - INFO - ✅ Switched to openai provider with model gpt-3.5-turbo
2025-10-09 11:34:05,500 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:34:05,500 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 11:34:05,501 - sqlalchemy.engine.Engine - INFO - [cached since 35.55s ago] {'user_id_1': 'f4a01f5f-cda6-4bc7-9fa8-5a84edb89ec7', 'param_1': 1}
2025-10-09 11:34:05,550 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_model_preferences (user_id, provider, model, created_at, updated_at) VALUES (%(user_id)s, %(provider)s, %(model)s, now(), now()) RETURNING user_model_preferences.id, user_model_preferences.created_at, user_model_preferences.updated_at
2025-10-09 11:34:05,551 - sqlalchemy.engine.Engine - INFO - [generated in 0.00065s] {'user_id': 'f4a01f5f-cda6-4bc7-9fa8-5a84edb89ec7', 'provider': 'openai', 'model': 'gpt-3.5-turbo'}
2025-10-09 11:34:05,573 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:34:05,620 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:34:05,621 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 11:34:05,621 - sqlalchemy.engine.Engine - INFO - [cached since 35.68s ago] {'user_id_1': 'f4a01f5f-cda6-4bc7-9fa8-5a84edb89ec7', 'param_1': 1}
2025-10-09 11:34:05,660 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:34:05,706 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:34:05,706 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:34:05,706 - sqlalchemy.engine.Engine - INFO - [cached since 37.07s ago] {'user_id_1': 'f4a01f5f-cda6-4bc7-9fa8-5a84edb89ec7', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:34:05,756 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:34:05,778 - app.routes.skills_analysis - INFO - 🎯 Preliminary analysis request: CV=test.pdf, JD_length=40, CONFIG=None
2025-10-09 11:34:05,779 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-09 11:34:05,780 - app.routes.skills_analysis - INFO - 🏢 Extracted company name: Australia_for_UNHCR
2025-10-09 11:34:05,780 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-09 11:34:05,781 - app.routes.skills_analysis - WARNING - ⚠️ Proceeding without prior JD analysis: Please analyze the job description first before running skills analysis.
2025-10-09 11:34:05,781 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-09 11:34:05,781 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-09 11:34:05,781 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/demo@cvapp.com/cv-analysis
2025-10-09 11:34:05,782 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-09 11:34:19,605 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 11:34:28,520 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 11:34:28,880 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 11:34:28,880 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:34:28,925 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 11:34:28,925 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:34:28,978 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 11:34:28,981 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:34:29,028 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:34:29,029 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 11:34:29,029 - sqlalchemy.engine.Engine - INFO - [generated in 0.00195s] {}
2025-10-09 11:34:29,071 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:34:29,093 - app.database - INFO - Database connection successful
2025-10-09 11:34:29,094 - app.main - INFO - ✅ Database connection successful
2025-10-09 11:34:29,117 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:34:29,125 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:34:29,126 - sqlalchemy.engine.Engine - INFO - [generated in 0.00056s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:34:29,171 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:34:29,172 - sqlalchemy.engine.Engine - INFO - [cached since 0.0466s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:34:29,193 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:34:29,193 - sqlalchemy.engine.Engine - INFO - [cached since 0.0676s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:34:29,210 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:34:29,210 - sqlalchemy.engine.Engine - INFO - [cached since 0.08487s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:34:29,234 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:34:29,235 - sqlalchemy.engine.Engine - INFO - [cached since 0.1094s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:34:29,258 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:34:29,258 - sqlalchemy.engine.Engine - INFO - [cached since 0.1328s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:34:29,279 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:34:29,279 - sqlalchemy.engine.Engine - INFO - [cached since 0.1539s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:34:29,300 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:34:29,300 - sqlalchemy.engine.Engine - INFO - [cached since 0.1749s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:34:29,324 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:34:29,324 - sqlalchemy.engine.Engine - INFO - [cached since 0.1988s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:34:29,349 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:34:29,350 - sqlalchemy.engine.Engine - INFO - [cached since 0.2244s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:34:29,373 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:34:29,373 - sqlalchemy.engine.Engine - INFO - [cached since 0.2476s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:34:29,397 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:34:29,420 - app.database - INFO - Database tables created successfully
2025-10-09 11:34:29,420 - app.main - INFO - ✅ Database tables ready
2025-10-09 11:34:29,420 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 11:34:29,421 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 11:34:29,454 - app.core.model_dependency - INFO - 🔄 Using model from header without provider switch: gpt-3.5-turbo
2025-10-09 11:34:29,454 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:34:29,490 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:34:29,495 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:34:29,495 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:34:29,540 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:34:29,586 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:34:29,588 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:34:29,589 - sqlalchemy.engine.Engine - INFO - [cached since 0.09473s ago] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:34:29,651 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:34:29,677 - app.routes.skills_analysis - INFO - 🎯 Preliminary analysis request: CV=maheshwor_tiwari.pdf, JD_length=6014, CONFIG=None
2025-10-09 11:34:29,677 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:34:29,677 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:34:29,678 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:34:29,678 - app.routes.skills_analysis - INFO - 🏢 Extracted company name: Australia_for_UNHCR
2025-10-09 11:34:29,678 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:34:29,682 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:34:29,683 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:34:29,684 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/vampada@gmail.com/cv-analysis
2025-10-09 11:34:29,684 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:34:29,686 - app.routes.skills_analysis - INFO - 🔗 [PRELIM_ANALYSIS] JD URL (latest job_info): https://www.ethicaljobs.com.au/members/australiaforunhcr/data-analyst
2025-10-09 11:34:29,687 - app.routes.skills_analysis - INFO - 📄 [PRELIM_ANALYSIS] Latest CV selected → type=original, ts=None, json=user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 11:34:29,688 - app.routes.skills_analysis - INFO - 🧪 [PRELIM_ANALYSIS] CV content length=4864, preview='Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD in Physics and completed a Master's in Data Science, bringing over three years of experience in Python  coding, AI, and machine learning. My expertise encompasses modeling and training AI models, writing efficient Python'
2025-10-09 11:34:29,688 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 11:34:29,689 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 11:34:29,689 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 11:34:29,689 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Starting AI-powered skills analysis for maheshwor_tiwari.pdf
2025-10-09 11:34:29,689 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] CV content length: 4864 chars
2025-10-09 11:34:29,690 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] JD content length: 6014 chars
2025-10-09 11:34:29,690 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using config: default
2025-10-09 11:34:29,690 - app.routes.skills_analysis - INFO - 🧪 [SKILLS_ANALYSIS] CV preview: 'Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD '
2025-10-09 11:34:29,690 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:34:29,690 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:34:29,690 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 11:34:29,690 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: []
2025-10-09 11:34:29,690 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 11:34:29,691 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {}
2025-10-09 11:34:29,691 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI provider: None
2025-10-09 11:34:29,691 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI model: None
2025-10-09 11:34:29,691 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Provider available: False
2025-10-09 11:34:29,691 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Model from header: gpt-3.5-turbo
2025-10-09 11:34:29,691 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting CV skills with detailed structured analysis...
2025-10-09 11:34:29,692 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:34:29,692 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:34:29,692 - app.routes.skills_analysis - ERROR - ❌ [SKILLS_ANALYSIS] Error in preliminary skills analysis: No AI provider selected. Set via /ai/set-current-model.
2025-10-09 11:34:29,696 - app.routes.skills_analysis - ERROR - ❌ Preliminary analysis error (Exception): No AI provider selected. Set via /ai/set-current-model.
2025-10-09 11:34:29,696 - app.routes.skills_analysis - ERROR - Traceback: Traceback (most recent call last):
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/routes/skills_analysis.py", line 1007, in preliminary_analysis
    result = await perform_preliminary_skills_analysis(
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/routes/skills_analysis.py", line 2784, in perform_preliminary_skills_analysis
    raise e
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/routes/skills_analysis.py", line 2401, in perform_preliminary_skills_analysis
    cv_structured_response = await ai_service.generate_response(
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/ai/ai_service.py", line 267, in generate_response
    raise Exception("No AI provider selected. Set via /ai/set-current-model.")
Exception: No AI provider selected. Set via /ai/set-current-model.

2025-10-09 11:35:21,821 - app.core.model_dependency - INFO - 🔄 Using model from header without provider switch: gpt-3.5-turbo
2025-10-09 11:35:21,823 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:35:21,850 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:35:21,851 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:35:21,851 - sqlalchemy.engine.Engine - INFO - [cached since 52.34s ago] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:35:21,904 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:35:21,948 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:35:21,948 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:35:21,949 - sqlalchemy.engine.Engine - INFO - [cached since 52.44s ago] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:35:21,997 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:35:22,019 - app.routes.skills_analysis - INFO - 🎯 Preliminary analysis request: CV=maheshwor_tiwari.pdf, JD_length=6014, CONFIG=None
2025-10-09 11:35:22,019 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:35:22,020 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:35:22,021 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:35:22,023 - app.routes.skills_analysis - INFO - 🏢 Extracted company name: Australia_for_UNHCR
2025-10-09 11:35:22,023 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:35:22,024 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:35:22,025 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:35:22,025 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/vampada@gmail.com/cv-analysis
2025-10-09 11:35:22,025 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:35:22,027 - app.routes.skills_analysis - INFO - 🔗 [PRELIM_ANALYSIS] JD URL (latest job_info): https://www.ethicaljobs.com.au/members/australiaforunhcr/data-analyst
2025-10-09 11:35:22,028 - app.routes.skills_analysis - INFO - 📄 [PRELIM_ANALYSIS] Latest CV selected → type=original, ts=None, json=user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 11:35:22,029 - app.routes.skills_analysis - INFO - 🧪 [PRELIM_ANALYSIS] CV content length=4864, preview='Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD in Physics and completed a Master's in Data Science, bringing over three years of experience in Python  coding, AI, and machine learning. My expertise encompasses modeling and training AI models, writing efficient Python'
2025-10-09 11:35:22,029 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 11:35:22,030 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 11:35:22,030 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 11:35:22,030 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Starting AI-powered skills analysis for maheshwor_tiwari.pdf
2025-10-09 11:35:22,030 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] CV content length: 4864 chars
2025-10-09 11:35:22,030 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] JD content length: 6014 chars
2025-10-09 11:35:22,030 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using config: default
2025-10-09 11:35:22,031 - app.routes.skills_analysis - INFO - 🧪 [SKILLS_ANALYSIS] CV preview: 'Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD '
2025-10-09 11:35:22,031 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:35:22,031 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:35:22,031 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 11:35:22,031 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: []
2025-10-09 11:35:22,031 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 11:35:22,031 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {}
2025-10-09 11:35:22,032 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI provider: None
2025-10-09 11:35:22,032 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI model: None
2025-10-09 11:35:22,032 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Provider available: False
2025-10-09 11:35:22,032 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Model from header: gpt-3.5-turbo
2025-10-09 11:35:22,032 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting CV skills with detailed structured analysis...
2025-10-09 11:35:22,032 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:35:22,032 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:35:22,032 - app.routes.skills_analysis - ERROR - ❌ [SKILLS_ANALYSIS] Error in preliminary skills analysis: No AI provider selected. Set via /ai/set-current-model.
2025-10-09 11:35:22,033 - app.routes.skills_analysis - ERROR - ❌ Preliminary analysis error (Exception): No AI provider selected. Set via /ai/set-current-model.
2025-10-09 11:35:22,033 - app.routes.skills_analysis - ERROR - Traceback: Traceback (most recent call last):
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/routes/skills_analysis.py", line 1007, in preliminary_analysis
    result = await perform_preliminary_skills_analysis(
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/routes/skills_analysis.py", line 2784, in perform_preliminary_skills_analysis
    raise e
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/routes/skills_analysis.py", line 2401, in perform_preliminary_skills_analysis
    cv_structured_response = await ai_service.generate_response(
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/ai/ai_service.py", line 267, in generate_response
    raise Exception("No AI provider selected. Set via /ai/set-current-model.")
Exception: No AI provider selected. Set via /ai/set-current-model.

2025-10-09 11:35:57,423 - app.main - WARNING - 🚫 Auth failed (403) for GET /api/api-keys/status
2025-10-09 11:35:57,429 - app.main - WARNING - 🚫 Auth failed (403) for GET /api/ai/models
2025-10-09 11:36:03,644 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:36:03,646 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s
2025-10-09 11:36:03,646 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s] {'user_id_1': '8c1eff31-4f7c-4034-b79e-5ac77b3ff27a'}
2025-10-09 11:36:03,682 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:36:03,747 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:36:03,750 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 11:36:03,750 - sqlalchemy.engine.Engine - INFO - [generated in 0.00054s] {'user_id_1': '8c1eff31-4f7c-4034-b79e-5ac77b3ff27a', 'param_1': 1}
2025-10-09 11:36:03,792 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:36:03,835 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:36:03,836 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:36:03,836 - sqlalchemy.engine.Engine - INFO - [cached since 94.32s ago] {'user_id_1': '8c1eff31-4f7c-4034-b79e-5ac77b3ff27a', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:36:03,881 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:36:03,927 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:36:03,927 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:36:03,928 - sqlalchemy.engine.Engine - INFO - [cached since 94.41s ago] {'user_id_1': '8c1eff31-4f7c-4034-b79e-5ac77b3ff27a', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 11:36:03,973 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:36:04,018 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:36:04,019 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:36:04,019 - sqlalchemy.engine.Engine - INFO - [cached since 94.51s ago] {'user_id_1': '8c1eff31-4f7c-4034-b79e-5ac77b3ff27a', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 11:36:04,062 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:36:14,125 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 11:36:19,242 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 11:36:19,548 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 11:36:19,548 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:36:19,590 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 11:36:19,590 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:36:19,636 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 11:36:19,636 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:36:19,680 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:36:19,680 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 11:36:19,680 - sqlalchemy.engine.Engine - INFO - [generated in 0.00067s] {}
2025-10-09 11:36:19,721 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:36:19,738 - app.database - INFO - Database connection successful
2025-10-09 11:36:19,738 - app.main - INFO - ✅ Database connection successful
2025-10-09 11:36:19,762 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:36:19,769 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:36:19,769 - sqlalchemy.engine.Engine - INFO - [generated in 0.00060s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:36:19,807 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:36:19,807 - sqlalchemy.engine.Engine - INFO - [cached since 0.03842s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:36:19,829 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:36:19,829 - sqlalchemy.engine.Engine - INFO - [cached since 0.06022s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:36:19,909 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:36:19,910 - sqlalchemy.engine.Engine - INFO - [cached since 0.141s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:36:19,932 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:36:19,933 - sqlalchemy.engine.Engine - INFO - [cached since 0.164s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:36:19,956 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:36:19,957 - sqlalchemy.engine.Engine - INFO - [cached since 0.1878s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:36:19,982 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:36:19,982 - sqlalchemy.engine.Engine - INFO - [cached since 0.2131s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:36:20,012 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:36:20,013 - sqlalchemy.engine.Engine - INFO - [cached since 0.2439s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:36:20,036 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:36:20,037 - sqlalchemy.engine.Engine - INFO - [cached since 0.2679s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:36:20,060 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:36:20,060 - sqlalchemy.engine.Engine - INFO - [cached since 0.2911s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:36:20,082 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:36:20,082 - sqlalchemy.engine.Engine - INFO - [cached since 0.3133s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:36:20,106 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:36:20,129 - app.database - INFO - Database tables created successfully
2025-10-09 11:36:20,130 - app.main - INFO - ✅ Database tables ready
2025-10-09 11:36:20,130 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 11:36:20,130 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 11:36:21,100 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:36:21,103 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:36:21,104 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] {'user_id_1': 'def26164-2281-48f7-9c3b-f476834f0877', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:36:21,147 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_api_keys (user_id, provider, encrypted_key, key_hash, is_valid, last_validated, created_at, updated_at) VALUES (%(user_id)s, %(provider)s, %(encrypted_key)s, %(key_hash)s, %(is_valid)s, %(last_validated)s, now(), now()) RETURNING user_api_keys.id, user_api_keys.created_at, user_api_keys.updated_at
2025-10-09 11:36:21,147 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] {'user_id': 'def26164-2281-48f7-9c3b-f476834f0877', 'provider': 'openai', 'encrypted_key': 'Z0FBQUFBQm81d09GZlJoZ0hIZzJyQTktb0FXLVNDVm05RzFrN0tsdDJMVXNFc1JFTG1Zdk5WRndEc3pra1Q3NHpUcktQS1oxS3BxTmo2Y1dVLUFSTjgzUGhoVDdDRTNPZW1ISFBTQmpoWFdPWjkxSFprSXQtbk09', 'key_hash': 'f803d8dfd23a3c2ca3d3216b6098b0f93e003069a9d3eb3beaf1fc0fc138fece', 'is_valid': False, 'last_validated': None}
2025-10-09 11:36:21,167 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:36:21,190 - app.services.user_api_key_manager - INFO - Created new API key for user demo@cvapp.com and provider openai
2025-10-09 11:36:21,551 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 401 Unauthorized"
2025-10-09 11:36:21,553 - app.ai.providers.openai_provider - ERROR - OpenAI API key validation failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-place*************7890. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-10-09 11:36:21,573 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:36:21,574 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:36:21,574 - sqlalchemy.engine.Engine - INFO - [cached since 0.4712s ago] {'user_id_1': 'def26164-2281-48f7-9c3b-f476834f0877', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:36:21,619 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:36:21,641 - app.ai.ai_service - INFO - 🔄 Refreshing AI providers after API key changes
2025-10-09 11:36:21,663 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:36:21,664 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:36:21,664 - sqlalchemy.engine.Engine - INFO - [cached since 0.5612s ago] {'user_id_1': 'def26164-2281-48f7-9c3b-f476834f0877', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:36:21,704 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:36:21,751 - app.ai.ai_service - INFO - ✅ Initialized openai provider for user with model gpt-4o
2025-10-09 11:36:21,769 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:36:21,770 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:36:21,771 - sqlalchemy.engine.Engine - INFO - [cached since 0.6674s ago] {'user_id_1': 'def26164-2281-48f7-9c3b-f476834f0877', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 11:36:21,816 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:36:21,861 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:36:21,862 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:36:21,862 - sqlalchemy.engine.Engine - INFO - [cached since 0.7587s ago] {'user_id_1': 'def26164-2281-48f7-9c3b-f476834f0877', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 11:36:21,906 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:36:21,925 - app.routes.api_keys - INFO - 🔄 Refreshed AI providers after setting openai API key for user demo@cvapp.com
2025-10-09 11:36:21,957 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:36:21,961 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 11:36:21,961 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] {'user_id_1': 'def26164-2281-48f7-9c3b-f476834f0877', 'param_1': 1}
2025-10-09 11:36:22,005 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:36:22,044 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:36:22,045 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:36:22,045 - sqlalchemy.engine.Engine - INFO - [cached since 0.942s ago] {'user_id_1': 'def26164-2281-48f7-9c3b-f476834f0877', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:36:22,090 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:36:22,134 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:36:22,135 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:36:22,135 - sqlalchemy.engine.Engine - INFO - [cached since 1.032s ago] {'user_id_1': 'def26164-2281-48f7-9c3b-f476834f0877', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:36:22,179 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:36:22,201 - app.routes.skills_analysis - INFO - 🎯 Preliminary analysis request: CV=maheshwor_tiwari.pdf, JD_length=40, CONFIG=None
2025-10-09 11:36:22,201 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-09 11:36:22,202 - app.routes.skills_analysis - INFO - 🏢 Extracted company name: Australia_for_UNHCR
2025-10-09 11:36:22,202 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-09 11:36:22,202 - app.routes.skills_analysis - WARNING - ⚠️ Proceeding without prior JD analysis: Please analyze the job description first before running skills analysis.
2025-10-09 11:36:22,203 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-09 11:36:22,203 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-09 11:36:22,203 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/demo@cvapp.com/cv-analysis
2025-10-09 11:36:22,203 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-09 11:36:30,187 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:36:30,188 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:36:30,188 - sqlalchemy.engine.Engine - INFO - [cached since 9.085s ago] {'user_id_1': 'f1e33e06-c806-480f-aba6-7aca487aa69b', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:36:30,235 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_api_keys (user_id, provider, encrypted_key, key_hash, is_valid, last_validated, created_at, updated_at) VALUES (%(user_id)s, %(provider)s, %(encrypted_key)s, %(key_hash)s, %(is_valid)s, %(last_validated)s, now(), now()) RETURNING user_api_keys.id, user_api_keys.created_at, user_api_keys.updated_at
2025-10-09 11:36:30,235 - sqlalchemy.engine.Engine - INFO - [cached since 9.089s ago] {'user_id': 'f1e33e06-c806-480f-aba6-7aca487aa69b', 'provider': 'openai', 'encrypted_key': 'Z0FBQUFBQm81d09PQXMxSGlYZUdEMTF5M01sT0RCLXpwTUJKUk1TSlNJN3dnUmRnWmo4cWNUOUJpcFpYSTlzUTMwVXkzLUs1czVRcXd5U3UtY0xDLXQtYUZ0b2Q3N0F4VVBieUFCV0t2c3ZmTDRENko4QWNmb3M9', 'key_hash': 'f803d8dfd23a3c2ca3d3216b6098b0f93e003069a9d3eb3beaf1fc0fc138fece', 'is_valid': False, 'last_validated': None}
2025-10-09 11:36:30,256 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:36:30,279 - app.services.user_api_key_manager - INFO - Created new API key for user demo@cvapp.com and provider openai
2025-10-09 11:36:30,686 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 401 Unauthorized"
2025-10-09 11:36:30,687 - app.ai.providers.openai_provider - ERROR - OpenAI API key validation failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-place*************7890. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-10-09 11:36:30,703 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:36:30,704 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:36:30,704 - sqlalchemy.engine.Engine - INFO - [cached since 9.601s ago] {'user_id_1': 'f1e33e06-c806-480f-aba6-7aca487aa69b', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:36:30,754 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:36:30,777 - app.ai.ai_service - INFO - 🔄 Refreshing AI providers after API key changes
2025-10-09 11:36:30,796 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:36:30,797 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:36:30,797 - sqlalchemy.engine.Engine - INFO - [cached since 9.694s ago] {'user_id_1': 'f1e33e06-c806-480f-aba6-7aca487aa69b', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:36:30,840 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:36:30,882 - app.ai.ai_service - INFO - ✅ Initialized openai provider for user with model gpt-4o
2025-10-09 11:36:30,900 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:36:30,901 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:36:30,901 - sqlalchemy.engine.Engine - INFO - [cached since 9.798s ago] {'user_id_1': 'f1e33e06-c806-480f-aba6-7aca487aa69b', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 11:36:30,948 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:36:30,993 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:36:30,994 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:36:30,994 - sqlalchemy.engine.Engine - INFO - [cached since 9.891s ago] {'user_id_1': 'f1e33e06-c806-480f-aba6-7aca487aa69b', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 11:36:31,040 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:36:31,062 - app.routes.api_keys - INFO - 🔄 Refreshed AI providers after setting openai API key for user demo@cvapp.com
2025-10-09 11:36:31,091 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:36:31,092 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 11:36:31,092 - sqlalchemy.engine.Engine - INFO - [cached since 9.132s ago] {'user_id_1': 'f1e33e06-c806-480f-aba6-7aca487aa69b', 'param_1': 1}
2025-10-09 11:36:31,136 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:36:31,181 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:36:31,182 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:36:31,183 - sqlalchemy.engine.Engine - INFO - [cached since 10.08s ago] {'user_id_1': 'f1e33e06-c806-480f-aba6-7aca487aa69b', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:36:31,227 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:36:31,271 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:36:31,271 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:36:31,272 - sqlalchemy.engine.Engine - INFO - [cached since 10.17s ago] {'user_id_1': 'f1e33e06-c806-480f-aba6-7aca487aa69b', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:36:31,318 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:36:31,335 - app.routes.skills_analysis - INFO - 🎯 Preliminary analysis request: CV=maheshwor_tiwari.pdf, JD_length=40, CONFIG=None
2025-10-09 11:36:31,335 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-09 11:36:31,335 - app.routes.skills_analysis - INFO - 🏢 Extracted company name: Australia_for_UNHCR
2025-10-09 11:36:31,336 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-09 11:36:31,336 - app.routes.skills_analysis - WARNING - ⚠️ Proceeding without prior JD analysis: Please analyze the job description first before running skills analysis.
2025-10-09 11:36:31,336 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-09 11:36:31,336 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-09 11:36:31,337 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/demo@cvapp.com/cv-analysis
2025-10-09 11:36:31,337 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-09 11:36:31,360 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:36:31,360 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:36:31,361 - sqlalchemy.engine.Engine - INFO - [cached since 10.26s ago] {'user_id_1': 'f1e33e06-c806-480f-aba6-7aca487aa69b', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 11:36:31,402 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_api_keys (user_id, provider, encrypted_key, key_hash, is_valid, last_validated, created_at, updated_at) VALUES (%(user_id)s, %(provider)s, %(encrypted_key)s, %(key_hash)s, %(is_valid)s, %(last_validated)s, now(), now()) RETURNING user_api_keys.id, user_api_keys.created_at, user_api_keys.updated_at
2025-10-09 11:36:31,402 - sqlalchemy.engine.Engine - INFO - [cached since 10.26s ago] {'user_id': 'f1e33e06-c806-480f-aba6-7aca487aa69b', 'provider': 'anthropic', 'encrypted_key': 'Z0FBQUFBQm81d09Qbl91M25MZHhaWktqR05zNTdWNDF4QTllZ1N0MjcwNFYtWDRTVWlUYmJvRF9BLWx2STB1T2dHSU52SDRaODJFdjdqR21UQzlDZzJIbFRsMDVHbHdrSFJuck52SEhLQU8zLVpyZFJuX2J6VGc9', 'key_hash': '8555c3add272c9f7619359d3bbe46b8744e37ee922b8a30d48468543cd4835a5', 'is_valid': False, 'last_validated': None}
2025-10-09 11:36:31,427 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:36:31,447 - app.services.user_api_key_manager - INFO - Created new API key for user demo@cvapp.com and provider anthropic
2025-10-09 11:36:31,844 - httpx - INFO - HTTP Request: POST https://api.anthropic.com/v1/messages "HTTP/1.1 401 Unauthorized"
2025-10-09 11:36:31,846 - app.ai.providers.anthropic_provider - ERROR - Anthropic API key validation failed: Error code: 401 - {'type': 'error', 'error': {'type': 'authentication_error', 'message': 'invalid x-api-key'}, 'request_id': 'req_011CTvgtnoT4SmkArmo8k5vU'}
2025-10-09 11:36:31,866 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:36:31,867 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:36:31,867 - sqlalchemy.engine.Engine - INFO - [cached since 10.76s ago] {'user_id_1': 'f1e33e06-c806-480f-aba6-7aca487aa69b', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 11:36:31,909 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:36:31,932 - app.ai.ai_service - INFO - 🔄 Refreshing AI providers after API key changes
2025-10-09 11:36:31,954 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:36:31,955 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:36:31,955 - sqlalchemy.engine.Engine - INFO - [cached since 10.85s ago] {'user_id_1': 'f1e33e06-c806-480f-aba6-7aca487aa69b', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:36:32,006 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:36:32,056 - app.ai.ai_service - INFO - ✅ Initialized openai provider for user with model gpt-4o
2025-10-09 11:36:32,077 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:36:32,078 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:36:32,079 - sqlalchemy.engine.Engine - INFO - [cached since 10.98s ago] {'user_id_1': 'f1e33e06-c806-480f-aba6-7aca487aa69b', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 11:36:32,124 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:36:32,167 - app.ai.ai_service - INFO - ✅ Initialized anthropic provider for user with model claude-3-5-sonnet-20241022
2025-10-09 11:36:32,189 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:36:32,191 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:36:32,191 - sqlalchemy.engine.Engine - INFO - [cached since 11.09s ago] {'user_id_1': 'f1e33e06-c806-480f-aba6-7aca487aa69b', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 11:36:32,233 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:36:32,256 - app.routes.api_keys - INFO - 🔄 Refreshed AI providers after setting anthropic API key for user demo@cvapp.com
2025-10-09 11:36:32,285 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:36:32,287 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 11:36:32,287 - sqlalchemy.engine.Engine - INFO - [cached since 10.33s ago] {'user_id_1': 'f1e33e06-c806-480f-aba6-7aca487aa69b', 'param_1': 1}
2025-10-09 11:36:32,333 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:36:32,378 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:36:32,379 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:36:32,379 - sqlalchemy.engine.Engine - INFO - [cached since 11.28s ago] {'user_id_1': 'f1e33e06-c806-480f-aba6-7aca487aa69b', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:36:32,422 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:36:32,465 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:36:32,465 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:36:32,466 - sqlalchemy.engine.Engine - INFO - [cached since 11.36s ago] {'user_id_1': 'f1e33e06-c806-480f-aba6-7aca487aa69b', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:36:32,518 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:36:32,539 - app.routes.skills_analysis - INFO - 🎯 Preliminary analysis request: CV=maheshwor_tiwari.pdf, JD_length=40, CONFIG=None
2025-10-09 11:36:32,539 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-09 11:36:32,539 - app.routes.skills_analysis - INFO - 🏢 Extracted company name: Australia_for_UNHCR
2025-10-09 11:36:32,540 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-09 11:36:32,540 - app.routes.skills_analysis - WARNING - ⚠️ Proceeding without prior JD analysis: Please analyze the job description first before running skills analysis.
2025-10-09 11:36:32,540 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-09 11:36:32,540 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-09 11:36:32,540 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/demo@cvapp.com/cv-analysis
2025-10-09 11:36:32,541 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-09 11:36:51,730 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 11:36:58,938 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 11:36:59,237 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 11:36:59,237 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:36:59,276 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 11:36:59,276 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:36:59,326 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 11:36:59,327 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:36:59,374 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:36:59,375 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 11:36:59,375 - sqlalchemy.engine.Engine - INFO - [generated in 0.00095s] {}
2025-10-09 11:36:59,416 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:36:59,438 - app.database - INFO - Database connection successful
2025-10-09 11:36:59,439 - app.main - INFO - ✅ Database connection successful
2025-10-09 11:36:59,463 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:36:59,470 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:36:59,470 - sqlalchemy.engine.Engine - INFO - [generated in 0.00124s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:36:59,516 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:36:59,517 - sqlalchemy.engine.Engine - INFO - [cached since 0.04761s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:36:59,537 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:36:59,537 - sqlalchemy.engine.Engine - INFO - [cached since 0.06808s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:36:59,560 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:36:59,560 - sqlalchemy.engine.Engine - INFO - [cached since 0.09121s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:36:59,584 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:36:59,584 - sqlalchemy.engine.Engine - INFO - [cached since 0.1148s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:36:59,607 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:36:59,607 - sqlalchemy.engine.Engine - INFO - [cached since 0.1378s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:36:59,631 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:36:59,631 - sqlalchemy.engine.Engine - INFO - [cached since 0.162s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:36:59,649 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:36:59,650 - sqlalchemy.engine.Engine - INFO - [cached since 0.1806s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:36:59,672 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:36:59,672 - sqlalchemy.engine.Engine - INFO - [cached since 0.2031s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:36:59,691 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:36:59,692 - sqlalchemy.engine.Engine - INFO - [cached since 0.2228s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:36:59,716 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:36:59,717 - sqlalchemy.engine.Engine - INFO - [cached since 0.2475s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:36:59,740 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:36:59,762 - app.database - INFO - Database tables created successfully
2025-10-09 11:36:59,763 - app.main - INFO - ✅ Database tables ready
2025-10-09 11:36:59,763 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 11:36:59,763 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 11:37:06,699 - app.core.model_dependency - INFO - 🔄 Using model from header without provider switch: gpt-3.5-turbo
2025-10-09 11:37:06,701 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:37:06,751 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:37:06,757 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:37:06,757 - sqlalchemy.engine.Engine - INFO - [generated in 0.00050s] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:37:06,815 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:37:06,855 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:37:06,856 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:37:06,856 - sqlalchemy.engine.Engine - INFO - [cached since 0.09944s ago] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:37:06,899 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:37:06,920 - app.routes.skills_analysis - INFO - 🎯 Preliminary analysis request: CV=maheshwor_tiwari.pdf, JD_length=6014, CONFIG=None
2025-10-09 11:37:06,922 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:37:06,922 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:37:06,924 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:37:06,925 - app.routes.skills_analysis - INFO - 🏢 Extracted company name: Australia_for_UNHCR
2025-10-09 11:37:06,925 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:37:06,928 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:37:06,928 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:37:06,929 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/vampada@gmail.com/cv-analysis
2025-10-09 11:37:06,929 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:37:06,931 - app.routes.skills_analysis - INFO - 🔗 [PRELIM_ANALYSIS] JD URL (latest job_info): https://www.ethicaljobs.com.au/members/australiaforunhcr/data-analyst
2025-10-09 11:37:06,933 - app.routes.skills_analysis - INFO - 📄 [PRELIM_ANALYSIS] Latest CV selected → type=original, ts=None, json=user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 11:37:06,935 - app.routes.skills_analysis - INFO - 🧪 [PRELIM_ANALYSIS] CV content length=4864, preview='Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD in Physics and completed a Master's in Data Science, bringing over three years of experience in Python  coding, AI, and machine learning. My expertise encompasses modeling and training AI models, writing efficient Python'
2025-10-09 11:37:06,935 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 11:37:06,935 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 11:37:06,936 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 11:37:06,936 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Starting AI-powered skills analysis for maheshwor_tiwari.pdf
2025-10-09 11:37:06,936 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] CV content length: 4864 chars
2025-10-09 11:37:06,936 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] JD content length: 6014 chars
2025-10-09 11:37:06,936 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using config: default
2025-10-09 11:37:06,936 - app.routes.skills_analysis - INFO - 🧪 [SKILLS_ANALYSIS] CV preview: 'Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD '
2025-10-09 11:37:06,937 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:37:06,937 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:37:06,937 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 11:37:06,938 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: []
2025-10-09 11:37:06,938 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 11:37:06,938 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {}
2025-10-09 11:37:06,938 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI provider: None
2025-10-09 11:37:06,939 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI model: None
2025-10-09 11:37:06,939 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Provider available: False
2025-10-09 11:37:06,939 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Model from header: gpt-3.5-turbo
2025-10-09 11:37:06,940 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting CV skills with detailed structured analysis...
2025-10-09 11:37:06,940 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:37:06,941 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:37:06,941 - app.routes.skills_analysis - ERROR - ❌ [SKILLS_ANALYSIS] Error in preliminary skills analysis: No AI provider selected. Set via /ai/set-current-model.
2025-10-09 11:37:06,946 - app.routes.skills_analysis - ERROR - ❌ Preliminary analysis error (Exception): No AI provider selected. Set via /ai/set-current-model.
2025-10-09 11:37:06,947 - app.routes.skills_analysis - ERROR - Traceback: Traceback (most recent call last):
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/routes/skills_analysis.py", line 1007, in preliminary_analysis
    result = await perform_preliminary_skills_analysis(
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/routes/skills_analysis.py", line 2784, in perform_preliminary_skills_analysis
    raise e
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/routes/skills_analysis.py", line 2401, in perform_preliminary_skills_analysis
    cv_structured_response = await ai_service.generate_response(
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/ai/ai_service.py", line 279, in generate_response
    raise Exception("No AI provider selected. Set via /ai/set-current-model.")
Exception: No AI provider selected. Set via /ai/set-current-model.

2025-10-09 11:37:35,715 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 11:37:35,981 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 11:37:35,982 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:37:36,023 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 11:37:36,024 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:37:36,066 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 11:37:36,066 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:37:36,107 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:37:36,108 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 11:37:36,108 - sqlalchemy.engine.Engine - INFO - [generated in 0.00081s] {}
2025-10-09 11:37:36,147 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:37:36,170 - app.database - INFO - Database connection successful
2025-10-09 11:37:36,170 - app.main - INFO - ✅ Database connection successful
2025-10-09 11:37:36,192 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:37:36,200 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:37:36,201 - sqlalchemy.engine.Engine - INFO - [generated in 0.00084s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:37:36,244 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:37:36,244 - sqlalchemy.engine.Engine - INFO - [cached since 0.04396s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:37:36,268 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:37:36,268 - sqlalchemy.engine.Engine - INFO - [cached since 0.06827s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:37:36,292 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:37:36,292 - sqlalchemy.engine.Engine - INFO - [cached since 0.09208s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:37:36,315 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:37:36,315 - sqlalchemy.engine.Engine - INFO - [cached since 0.1149s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:37:36,339 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:37:36,339 - sqlalchemy.engine.Engine - INFO - [cached since 0.1387s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:37:36,361 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:37:36,362 - sqlalchemy.engine.Engine - INFO - [cached since 0.1614s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:37:36,380 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:37:36,381 - sqlalchemy.engine.Engine - INFO - [cached since 0.1807s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:37:36,404 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:37:36,404 - sqlalchemy.engine.Engine - INFO - [cached since 0.2038s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:37:36,427 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:37:36,427 - sqlalchemy.engine.Engine - INFO - [cached since 0.2272s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:37:36,445 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:37:36,445 - sqlalchemy.engine.Engine - INFO - [cached since 0.245s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:37:36,467 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:37:36,492 - app.database - INFO - Database tables created successfully
2025-10-09 11:37:36,492 - app.main - INFO - ✅ Database tables ready
2025-10-09 11:37:36,492 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 11:37:36,492 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 11:38:05,510 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 11:38:05,900 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 11:38:05,901 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:38:05,948 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 11:38:05,948 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:38:05,992 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 11:38:05,993 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:38:06,036 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:38:06,037 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 11:38:06,037 - sqlalchemy.engine.Engine - INFO - [generated in 0.00062s] {}
2025-10-09 11:38:06,076 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:38:06,098 - app.database - INFO - Database connection successful
2025-10-09 11:38:06,098 - app.main - INFO - ✅ Database connection successful
2025-10-09 11:38:06,121 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:38:06,132 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:38:06,132 - sqlalchemy.engine.Engine - INFO - [generated in 0.00064s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:38:06,170 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:38:06,171 - sqlalchemy.engine.Engine - INFO - [cached since 0.03934s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:38:06,194 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:38:06,194 - sqlalchemy.engine.Engine - INFO - [cached since 0.06284s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:38:06,221 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:38:06,221 - sqlalchemy.engine.Engine - INFO - [cached since 0.08967s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:38:06,245 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:38:06,245 - sqlalchemy.engine.Engine - INFO - [cached since 0.1141s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:38:06,267 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:38:06,268 - sqlalchemy.engine.Engine - INFO - [cached since 0.1364s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:38:06,290 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:38:06,291 - sqlalchemy.engine.Engine - INFO - [cached since 0.1593s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:38:06,312 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:38:06,312 - sqlalchemy.engine.Engine - INFO - [cached since 0.1811s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:38:06,335 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:38:06,336 - sqlalchemy.engine.Engine - INFO - [cached since 0.2045s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:38:06,358 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:38:06,358 - sqlalchemy.engine.Engine - INFO - [cached since 0.2266s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:38:06,381 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:38:06,381 - sqlalchemy.engine.Engine - INFO - [cached since 0.25s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:38:06,405 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:38:06,422 - app.database - INFO - Database tables created successfully
2025-10-09 11:38:06,422 - app.main - INFO - ✅ Database tables ready
2025-10-09 11:38:06,422 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 11:38:06,422 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 11:39:10,163 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:39:10,166 - app.routes.cv_simple - INFO - Listed 1 CV files
2025-10-09 11:39:10,170 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:39:10,174 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:39:21,568 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:39:21,573 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:39:21,573 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] {'user_id_1': 'c8eea46f-911e-4917-8181-529e33d4c981', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:39:21,642 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_api_keys (user_id, provider, encrypted_key, key_hash, is_valid, last_validated, created_at, updated_at) VALUES (%(user_id)s, %(provider)s, %(encrypted_key)s, %(key_hash)s, %(is_valid)s, %(last_validated)s, now(), now()) RETURNING user_api_keys.id, user_api_keys.created_at, user_api_keys.updated_at
2025-10-09 11:39:21,642 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] {'user_id': 'c8eea46f-911e-4917-8181-529e33d4c981', 'provider': 'openai', 'encrypted_key': 'Z0FBQUFBQm81d1E1VFVKaDhxWUw0Vkx4dDNSMG1IRGROY3RiX0tKR2JsWGZTZ2JkVnRtblJwMmVFeDJDQzloZFYxOWxCUUIwOGNKUk1SbzN4RVFud2x5Z1VHT19uNEZvaHlSVG9nOTRJYVhiM09LY2dUVGtlQWM9', 'key_hash': 'f803d8dfd23a3c2ca3d3216b6098b0f93e003069a9d3eb3beaf1fc0fc138fece', 'is_valid': False, 'last_validated': None}
2025-10-09 11:39:21,662 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:39:21,685 - app.services.user_api_key_manager - INFO - Created new API key for user demo@cvapp.com and provider openai
2025-10-09 11:39:22,794 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 401 Unauthorized"
2025-10-09 11:39:22,801 - app.ai.providers.openai_provider - ERROR - OpenAI API key validation failed: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-place*************7890. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-10-09 11:39:22,820 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:39:22,822 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:39:22,822 - sqlalchemy.engine.Engine - INFO - [cached since 1.249s ago] {'user_id_1': 'c8eea46f-911e-4917-8181-529e33d4c981', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:39:22,872 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:39:22,895 - app.ai.ai_service - INFO - 🔄 Refreshing AI providers after API key changes
2025-10-09 11:39:22,919 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:39:22,919 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:39:22,920 - sqlalchemy.engine.Engine - INFO - [cached since 1.347s ago] {'user_id_1': 'c8eea46f-911e-4917-8181-529e33d4c981', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:39:22,966 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:39:23,010 - app.ai.ai_service - INFO - ✅ Initialized openai provider for user with model gpt-4o
2025-10-09 11:39:23,031 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:39:23,033 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:39:23,033 - sqlalchemy.engine.Engine - INFO - [cached since 1.461s ago] {'user_id_1': 'c8eea46f-911e-4917-8181-529e33d4c981', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 11:39:23,072 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:39:23,123 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:39:23,123 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:39:23,124 - sqlalchemy.engine.Engine - INFO - [cached since 1.551s ago] {'user_id_1': 'c8eea46f-911e-4917-8181-529e33d4c981', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 11:39:23,168 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:39:23,192 - app.routes.api_keys - INFO - 🔄 Refreshed AI providers after setting openai API key for user demo@cvapp.com
2025-10-09 11:39:23,237 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:39:23,240 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 11:39:23,241 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] {'user_id_1': 'c8eea46f-911e-4917-8181-529e33d4c981', 'param_1': 1}
2025-10-09 11:39:23,281 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:39:23,326 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:39:23,327 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:39:23,328 - sqlalchemy.engine.Engine - INFO - [cached since 1.755s ago] {'user_id_1': 'c8eea46f-911e-4917-8181-529e33d4c981', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:39:23,378 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:39:23,422 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:39:23,423 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:39:23,423 - sqlalchemy.engine.Engine - INFO - [cached since 1.851s ago] {'user_id_1': 'c8eea46f-911e-4917-8181-529e33d4c981', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:39:23,471 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:39:23,495 - app.routes.skills_analysis - INFO - 🎯 Preliminary analysis request: CV=maheshwor_tiwari.pdf, JD_length=40, CONFIG=None
2025-10-09 11:39:23,496 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-09 11:39:23,497 - app.routes.skills_analysis - INFO - 🏢 Extracted company name: Australia_for_UNHCR
2025-10-09 11:39:23,499 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-09 11:39:23,500 - app.routes.skills_analysis - WARNING - ⚠️ Proceeding without prior JD analysis: Please analyze the job description first before running skills analysis.
2025-10-09 11:39:23,501 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-09 11:39:23,501 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-09 11:39:23,502 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/demo@cvapp.com/cv-analysis
2025-10-09 11:39:23,502 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/demo@cvapp.com/cv-analysis for demo@cvapp.com
2025-10-09 11:39:42,931 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:39:42,933 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:39:42,933 - sqlalchemy.engine.Engine - INFO - [cached since 21.36s ago] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:39:42,987 - sqlalchemy.engine.Engine - INFO - UPDATE user_api_keys SET encrypted_key=%(encrypted_key)s, is_valid=%(is_valid)s, updated_at=%(updated_at)s WHERE user_api_keys.id = %(user_api_keys_id)s
2025-10-09 11:39:42,987 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] {'encrypted_key': 'Z0FBQUFBQm81d1JPaVZXdGkyb0dFMml3Y1ozSThpYVktTi1yVndjSVZwNm1LeXFlT05xbmItMkxrbjQyNzlHd2R3Qzh1SGluUVRxOTRFVFpUWldHci1HLXZsSHA2TzM0R3lTRFhEMy0xSWt4YVlFR ... (118 characters truncated) ... RU0M4cDl3SS1ScUdZWm1hMVVuZk0ybWp2UWIxUlIxd3ZSVUFBQnRlcklTeUI5SDdQX3RJWVQtZ3RuNnVhYjVzUWRvVWN2dmRKdFdESEYzc2xPdXZsVFdnYTNCNC1wdG5WZFp6RDIwTWlDMXR0d1U9', 'is_valid': False, 'updated_at': datetime.datetime(2025, 10, 9, 0, 39, 42, 984608), 'user_api_keys_id': 11}
2025-10-09 11:39:43,007 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:39:43,032 - app.services.user_api_key_manager - INFO - Updated API key for user vampada@gmail.com and provider openai
2025-10-09 11:39:43,878 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 11:39:43,913 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:39:43,920 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:39:43,921 - sqlalchemy.engine.Engine - INFO - [cached since 22.35s ago] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:39:44,034 - sqlalchemy.engine.Engine - INFO - UPDATE user_api_keys SET is_valid=%(is_valid)s, last_validated=%(last_validated)s, updated_at=now() WHERE user_api_keys.id = %(user_api_keys_id)s
2025-10-09 11:39:44,035 - sqlalchemy.engine.Engine - INFO - [generated in 0.00085s] {'is_valid': True, 'last_validated': datetime.datetime(2025, 10, 9, 0, 39, 44, 33193), 'user_api_keys_id': 11}
2025-10-09 11:39:44,053 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:39:44,076 - app.ai.ai_service - INFO - 🔄 Refreshing AI providers after API key changes
2025-10-09 11:39:44,100 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:39:44,101 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:39:44,101 - sqlalchemy.engine.Engine - INFO - [cached since 22.53s ago] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:39:44,141 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:39:44,199 - app.ai.ai_service - INFO - ✅ Initialized openai provider for user with model gpt-4o
2025-10-09 11:39:44,218 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:39:44,219 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:39:44,219 - sqlalchemy.engine.Engine - INFO - [cached since 22.65s ago] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 11:39:44,265 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:39:44,307 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:39:44,308 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:39:44,309 - sqlalchemy.engine.Engine - INFO - [cached since 22.74s ago] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 11:39:44,350 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:39:44,371 - app.routes.api_keys - INFO - 🔄 Refreshed AI providers after setting openai API key for user vampada@gmail.com
2025-10-09 11:39:47,864 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:39:47,866 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s
2025-10-09 11:39:47,866 - sqlalchemy.engine.Engine - INFO - [generated in 0.00050s] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c'}
2025-10-09 11:39:47,913 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:39:47,986 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:39:47,990 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 11:39:47,992 - sqlalchemy.engine.Engine - INFO - [cached since 24.75s ago] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'param_1': 1}
2025-10-09 11:39:48,036 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:39:48,088 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:39:48,090 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:39:48,091 - sqlalchemy.engine.Engine - INFO - [cached since 26.52s ago] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:39:48,130 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:39:48,172 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:39:48,172 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:39:48,173 - sqlalchemy.engine.Engine - INFO - [cached since 26.6s ago] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:39:48,218 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:39:48,241 - app.routes.skills_analysis - INFO - 🎯 Preliminary analysis request: CV=maheshwor_tiwari.pdf, JD_length=40, CONFIG=None
2025-10-09 11:39:48,241 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:39:48,241 - app.routes.skills_analysis - INFO - 🏢 Extracted company name: Australia_for_UNHCR
2025-10-09 11:39:48,242 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:39:48,245 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:39:48,245 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:39:48,246 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/vampada@gmail.com/cv-analysis
2025-10-09 11:39:48,246 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:39:48,248 - app.routes.skills_analysis - INFO - 🔗 [PRELIM_ANALYSIS] JD URL (latest job_info): https://www.ethicaljobs.com.au/members/australiaforunhcr/data-analyst
2025-10-09 11:39:48,248 - app.routes.skills_analysis - INFO - 📄 [PRELIM_ANALYSIS] Latest CV selected → type=original, ts=None, json=user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 11:39:48,250 - app.routes.skills_analysis - INFO - 🧪 [PRELIM_ANALYSIS] CV content length=4864, preview='Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD in Physics and completed a Master's in Data Science, bringing over three years of experience in Python  coding, AI, and machine learning. My expertise encompasses modeling and training AI models, writing efficient Python'
2025-10-09 11:39:48,250 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 11:39:48,250 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 11:39:48,250 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 11:39:48,250 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Starting AI-powered skills analysis for maheshwor_tiwari.pdf
2025-10-09 11:39:48,250 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] CV content length: 4864 chars
2025-10-09 11:39:48,250 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] JD content length: 40 chars
2025-10-09 11:39:48,251 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using config: default
2025-10-09 11:39:48,251 - app.routes.skills_analysis - INFO - 🧪 [SKILLS_ANALYSIS] CV preview: 'Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD '
2025-10-09 11:39:48,251 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI provider: openai
2025-10-09 11:39:48,251 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI model: gpt-4o
2025-10-09 11:39:48,251 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Provider available: True
2025-10-09 11:39:48,251 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Model from header: gpt-4o
2025-10-09 11:39:48,251 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting CV skills with detailed structured analysis...
2025-10-09 11:39:48,252 - app.routes.skills_analysis - ERROR - ❌ [SKILLS_ANALYSIS] Error in preliminary skills analysis: No API key configured for provider 'openai' for this user.
2025-10-09 11:39:48,257 - app.routes.skills_analysis - ERROR - ❌ Preliminary analysis error (Exception): No API key configured for provider 'openai' for this user.
2025-10-09 11:39:48,257 - app.routes.skills_analysis - ERROR - Traceback: Traceback (most recent call last):
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/routes/skills_analysis.py", line 1007, in preliminary_analysis
    result = await perform_preliminary_skills_analysis(
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/routes/skills_analysis.py", line 2784, in perform_preliminary_skills_analysis
    raise e
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/routes/skills_analysis.py", line 2401, in perform_preliminary_skills_analysis
    cv_structured_response = await ai_service.generate_response(
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/ai/ai_service.py", line 284, in generate_response
    raise Exception(f"No API key configured for provider '{resolved_provider_name}' for this user.")
Exception: No API key configured for provider 'openai' for this user.

2025-10-09 11:39:49,946 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:39:50,535 - app.modules.cv.preview - INFO - CV content extracted: maheshwor_tiwari.pdf (4864 characters)
2025-10-09 11:39:50,536 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:39:50,538 - app.routes.cv_organized - INFO - CV saved as text: user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 11:39:50,539 - app.routes.cv_organized - INFO - Processing maheshwor_tiwari.pdf for structured CV format (background)...
2025-10-09 11:39:50,539 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:39:50,539 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:39:50,940 - app.services.enhanced_cv_upload_service - INFO - Text extracted successfully: 4864 characters
2025-10-09 11:39:50,941 - app.services.structured_cv_parser - ERROR - Error in LLM parsing: No API key configured for provider 'openai' for this user.
2025-10-09 11:39:50,941 - app.services.structured_cv_parser - ERROR - Error parsing CV content with LLM: No API key configured for provider 'openai' for this user.
2025-10-09 11:39:50,941 - app.services.enhanced_cv_upload_service - INFO - CV parsed from raw text content
2025-10-09 11:39:50,944 - app.services.structured_cv_parser - INFO - Successfully saved structured CV to user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 11:39:50,944 - app.services.enhanced_cv_upload_service - INFO - Structured CV saved as original_cv.json: user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.json (replaced existing)
2025-10-09 11:39:50,946 - app.services.enhanced_cv_upload_service - INFO - Existing CV processed successfully: maheshwor_tiwari.pdf
2025-10-09 11:39:50,946 - app.routes.cv_organized - INFO - ✅ Background: CV saved as structured JSON: user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 11:39:51,035 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:39:51,604 - app.routes.cv_simple - INFO - CV content extracted: maheshwor_tiwari.pdf (4864 characters)
2025-10-09 11:40:00,053 - app.utils.directory_utils - ERROR - ❌ Failed to create cv-analysis directories: User email must be provided
2025-10-09 11:40:01,569 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 11:40:18,990 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 11:40:19,351 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 11:40:19,352 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:40:19,398 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 11:40:19,398 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:40:19,443 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 11:40:19,443 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:40:19,493 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:40:19,494 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 11:40:19,494 - sqlalchemy.engine.Engine - INFO - [generated in 0.00116s] {}
2025-10-09 11:40:19,538 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:40:19,562 - app.database - INFO - Database connection successful
2025-10-09 11:40:19,562 - app.main - INFO - ✅ Database connection successful
2025-10-09 11:40:19,584 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:40:19,589 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:40:19,589 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:40:19,629 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:40:19,629 - sqlalchemy.engine.Engine - INFO - [cached since 0.04057s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:40:19,648 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:40:19,648 - sqlalchemy.engine.Engine - INFO - [cached since 0.05936s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:40:19,670 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:40:19,670 - sqlalchemy.engine.Engine - INFO - [cached since 0.08127s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:40:19,693 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:40:19,694 - sqlalchemy.engine.Engine - INFO - [cached since 0.105s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:40:19,718 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:40:19,718 - sqlalchemy.engine.Engine - INFO - [cached since 0.1296s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:40:19,743 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:40:19,743 - sqlalchemy.engine.Engine - INFO - [cached since 0.1545s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:40:19,767 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:40:19,768 - sqlalchemy.engine.Engine - INFO - [cached since 0.1788s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:40:19,789 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:40:19,789 - sqlalchemy.engine.Engine - INFO - [cached since 0.2001s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:40:19,814 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:40:19,814 - sqlalchemy.engine.Engine - INFO - [cached since 0.2253s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:40:19,838 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:40:19,839 - sqlalchemy.engine.Engine - INFO - [cached since 0.2499s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:40:19,862 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:40:19,879 - app.database - INFO - Database tables created successfully
2025-10-09 11:40:19,879 - app.main - INFO - ✅ Database tables ready
2025-10-09 11:40:19,879 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 11:40:19,879 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 11:40:19,895 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:40:19,898 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:40:19,898 - app.services.job_extraction_service - ERROR - AI service error: 
2025-10-09 11:40:19,948 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:40:19,950 - app.services.job_extraction_service - INFO - ♻️ [JOB_EXTRACTION] Job already exists in saved_jobs.json: Data Analyst at Australia for UNHCR
2025-10-09 11:40:20,973 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:40:20,976 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 11:40:20,977 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'param_1': 1}
2025-10-09 11:40:21,020 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:40:21,061 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:40:21,064 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:40:21,064 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:40:21,112 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:40:21,154 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:40:21,155 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:40:21,155 - sqlalchemy.engine.Engine - INFO - [cached since 0.09141s ago] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:40:21,197 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:40:21,221 - app.routes.skills_analysis - INFO - 🎯 Preliminary analysis request: CV=maheshwor_tiwari.pdf, JD_length=40, CONFIG=None
2025-10-09 11:40:21,222 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:40:21,223 - app.routes.skills_analysis - INFO - 🏢 Extracted company name: Australia_for_UNHCR
2025-10-09 11:40:21,223 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:40:21,226 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:40:21,227 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:40:21,228 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/vampada@gmail.com/cv-analysis
2025-10-09 11:40:21,229 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:40:21,232 - app.routes.skills_analysis - INFO - 🔗 [PRELIM_ANALYSIS] JD URL (latest job_info): https://www.ethicaljobs.com.au/members/australiaforunhcr/data-analyst
2025-10-09 11:40:21,234 - app.routes.skills_analysis - INFO - 📄 [PRELIM_ANALYSIS] Latest CV selected → type=original, ts=None, json=user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 11:40:21,235 - app.routes.skills_analysis - INFO - 🧪 [PRELIM_ANALYSIS] CV content length=4864, preview='Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD in Physics and completed a Master's in Data Science, bringing over three years of experience in Python  coding, AI, and machine learning. My expertise encompasses modeling and training AI models, writing efficient Python'
2025-10-09 11:40:21,235 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 11:40:21,236 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 11:40:21,236 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 11:40:21,236 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Starting AI-powered skills analysis for maheshwor_tiwari.pdf
2025-10-09 11:40:21,236 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] CV content length: 4864 chars
2025-10-09 11:40:21,237 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] JD content length: 40 chars
2025-10-09 11:40:21,237 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using config: default
2025-10-09 11:40:21,237 - app.routes.skills_analysis - INFO - 🧪 [SKILLS_ANALYSIS] CV preview: 'Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD '
2025-10-09 11:40:21,237 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'openai'
2025-10-09 11:40:21,238 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: []
2025-10-09 11:40:21,238 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: openai
2025-10-09 11:40:21,238 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {}
2025-10-09 11:40:21,239 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI provider: openai
2025-10-09 11:40:21,239 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI model: gpt-4o
2025-10-09 11:40:21,239 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Provider available: False
2025-10-09 11:40:21,239 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Model from header: gpt-4o
2025-10-09 11:40:21,239 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting CV skills with detailed structured analysis...
2025-10-09 11:40:21,240 - app.routes.skills_analysis - ERROR - ❌ [SKILLS_ANALYSIS] Error in preliminary skills analysis: name 'current_user' is not defined
2025-10-09 11:40:21,243 - app.routes.skills_analysis - ERROR - ❌ Preliminary analysis error (NameError): name 'current_user' is not defined
2025-10-09 11:40:21,246 - app.routes.skills_analysis - ERROR - Traceback: Traceback (most recent call last):
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/routes/skills_analysis.py", line 1007, in preliminary_analysis
    result = await perform_preliminary_skills_analysis(
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/routes/skills_analysis.py", line 2787, in perform_preliminary_skills_analysis
    raise e
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/routes/skills_analysis.py", line 2405, in perform_preliminary_skills_analysis
    user=current_user
NameError: name 'current_user' is not defined

2025-10-09 11:40:37,385 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 11:40:42,068 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 11:40:42,407 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 11:40:42,408 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:40:42,454 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 11:40:42,454 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:40:42,492 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 11:40:42,493 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:40:42,535 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:40:42,536 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 11:40:42,536 - sqlalchemy.engine.Engine - INFO - [generated in 0.00066s] {}
2025-10-09 11:40:42,579 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:40:42,598 - app.database - INFO - Database connection successful
2025-10-09 11:40:42,598 - app.main - INFO - ✅ Database connection successful
2025-10-09 11:40:42,619 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:40:42,624 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:40:42,624 - sqlalchemy.engine.Engine - INFO - [generated in 0.00082s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:40:42,666 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:40:42,666 - sqlalchemy.engine.Engine - INFO - [cached since 0.04254s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:40:42,690 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:40:42,690 - sqlalchemy.engine.Engine - INFO - [cached since 0.06688s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:40:42,712 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:40:42,713 - sqlalchemy.engine.Engine - INFO - [cached since 0.08928s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:40:42,738 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:40:42,739 - sqlalchemy.engine.Engine - INFO - [cached since 0.1152s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:40:42,758 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:40:42,759 - sqlalchemy.engine.Engine - INFO - [cached since 0.1352s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:40:42,782 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:40:42,782 - sqlalchemy.engine.Engine - INFO - [cached since 0.1588s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:40:42,805 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:40:42,806 - sqlalchemy.engine.Engine - INFO - [cached since 0.182s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:40:42,833 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:40:42,833 - sqlalchemy.engine.Engine - INFO - [cached since 0.2096s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:40:42,856 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:40:42,857 - sqlalchemy.engine.Engine - INFO - [cached since 0.2332s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:40:42,878 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:40:42,878 - sqlalchemy.engine.Engine - INFO - [cached since 0.255s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:40:42,901 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:40:42,922 - app.database - INFO - Database tables created successfully
2025-10-09 11:40:42,923 - app.main - INFO - ✅ Database tables ready
2025-10-09 11:40:42,923 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 11:40:42,923 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 11:40:43,528 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 11:40:51,858 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 11:40:52,147 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 11:40:52,147 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:40:52,183 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 11:40:52,184 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:40:52,228 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 11:40:52,229 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:40:52,274 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:40:52,275 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 11:40:52,275 - sqlalchemy.engine.Engine - INFO - [generated in 0.00056s] {}
2025-10-09 11:40:52,315 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:40:52,335 - app.database - INFO - Database connection successful
2025-10-09 11:40:52,336 - app.main - INFO - ✅ Database connection successful
2025-10-09 11:40:52,360 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:40:52,365 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:40:52,365 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:40:52,401 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:40:52,401 - sqlalchemy.engine.Engine - INFO - [cached since 0.03642s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:40:52,424 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:40:52,424 - sqlalchemy.engine.Engine - INFO - [cached since 0.05941s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:40:52,447 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:40:52,447 - sqlalchemy.engine.Engine - INFO - [cached since 0.08252s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:40:52,471 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:40:52,471 - sqlalchemy.engine.Engine - INFO - [cached since 0.1066s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:40:52,494 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:40:52,494 - sqlalchemy.engine.Engine - INFO - [cached since 0.1297s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:40:52,517 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:40:52,518 - sqlalchemy.engine.Engine - INFO - [cached since 0.1531s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:40:52,541 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:40:52,541 - sqlalchemy.engine.Engine - INFO - [cached since 0.1762s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:40:52,566 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:40:52,567 - sqlalchemy.engine.Engine - INFO - [cached since 0.202s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:40:52,589 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:40:52,589 - sqlalchemy.engine.Engine - INFO - [cached since 0.2244s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:40:52,620 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:40:52,620 - sqlalchemy.engine.Engine - INFO - [cached since 0.2557s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:40:52,649 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:40:52,669 - app.database - INFO - Database tables created successfully
2025-10-09 11:40:52,669 - app.main - INFO - ✅ Database tables ready
2025-10-09 11:40:52,669 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 11:40:52,669 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 11:40:57,963 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:40:57,966 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 11:40:57,966 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'param_1': 1}
2025-10-09 11:40:58,007 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:40:58,055 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:40:58,057 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:40:58,058 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:40:58,102 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:40:58,146 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:40:58,146 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:40:58,146 - sqlalchemy.engine.Engine - INFO - [cached since 0.08919s ago] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:40:58,186 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:40:58,209 - app.routes.skills_analysis - INFO - 🎯 Preliminary analysis request: CV=maheshwor_tiwari.pdf, JD_length=40, CONFIG=None
2025-10-09 11:40:58,210 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:40:58,211 - app.routes.skills_analysis - INFO - 🏢 Extracted company name: Australia_for_UNHCR
2025-10-09 11:40:58,211 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:40:58,213 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:40:58,214 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:40:58,214 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/vampada@gmail.com/cv-analysis
2025-10-09 11:40:58,214 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:40:58,216 - app.routes.skills_analysis - INFO - 🔗 [PRELIM_ANALYSIS] JD URL (latest job_info): https://www.ethicaljobs.com.au/members/australiaforunhcr/data-analyst
2025-10-09 11:40:58,217 - app.routes.skills_analysis - INFO - 📄 [PRELIM_ANALYSIS] Latest CV selected → type=original, ts=None, json=user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 11:40:58,218 - app.routes.skills_analysis - INFO - 🧪 [PRELIM_ANALYSIS] CV content length=4864, preview='Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD in Physics and completed a Master's in Data Science, bringing over three years of experience in Python  coding, AI, and machine learning. My expertise encompasses modeling and training AI models, writing efficient Python'
2025-10-09 11:40:58,220 - app.routes.skills_analysis - ERROR - ❌ Preliminary analysis error (NameError): name 'current_user' is not defined
2025-10-09 11:40:58,220 - app.routes.skills_analysis - ERROR - Traceback: Traceback (most recent call last):
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/routes/skills_analysis.py", line 1015, in preliminary_analysis
    current_user=current_user
NameError: name 'current_user' is not defined

2025-10-09 11:41:16,531 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 11:41:21,488 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 11:41:21,766 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 11:41:21,766 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:41:21,808 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 11:41:21,808 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:41:21,849 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 11:41:21,849 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:41:21,895 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:41:21,895 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 11:41:21,895 - sqlalchemy.engine.Engine - INFO - [generated in 0.00060s] {}
2025-10-09 11:41:21,937 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:41:21,961 - app.database - INFO - Database connection successful
2025-10-09 11:41:21,962 - app.main - INFO - ✅ Database connection successful
2025-10-09 11:41:21,985 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:41:21,991 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:41:21,991 - sqlalchemy.engine.Engine - INFO - [generated in 0.00069s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:41:22,036 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:41:22,036 - sqlalchemy.engine.Engine - INFO - [cached since 0.04557s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:41:22,059 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:41:22,060 - sqlalchemy.engine.Engine - INFO - [cached since 0.06889s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:41:22,083 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:41:22,083 - sqlalchemy.engine.Engine - INFO - [cached since 0.09228s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:41:22,106 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:41:22,106 - sqlalchemy.engine.Engine - INFO - [cached since 0.1156s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:41:22,130 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:41:22,130 - sqlalchemy.engine.Engine - INFO - [cached since 0.1397s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:41:22,155 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:41:22,156 - sqlalchemy.engine.Engine - INFO - [cached since 0.1648s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:41:22,180 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:41:22,180 - sqlalchemy.engine.Engine - INFO - [cached since 0.1896s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:41:22,203 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:41:22,203 - sqlalchemy.engine.Engine - INFO - [cached since 0.2121s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:41:22,221 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:41:22,221 - sqlalchemy.engine.Engine - INFO - [cached since 0.2307s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:41:22,244 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:41:22,244 - sqlalchemy.engine.Engine - INFO - [cached since 0.2535s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:41:22,269 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:41:22,291 - app.database - INFO - Database tables created successfully
2025-10-09 11:41:22,291 - app.main - INFO - ✅ Database tables ready
2025-10-09 11:41:22,292 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 11:41:22,292 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 11:41:26,254 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:41:26,257 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 11:41:26,257 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'param_1': 1}
2025-10-09 11:41:26,300 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:41:26,345 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:41:26,348 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:41:26,348 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:41:26,388 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:41:26,428 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:41:26,429 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:41:26,429 - sqlalchemy.engine.Engine - INFO - [cached since 0.0815s ago] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:41:26,473 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:41:26,494 - app.routes.skills_analysis - INFO - 🎯 Preliminary analysis request: CV=maheshwor_tiwari.pdf, JD_length=40, CONFIG=None
2025-10-09 11:41:26,495 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:41:26,496 - app.routes.skills_analysis - INFO - 🏢 Extracted company name: Australia_for_UNHCR
2025-10-09 11:41:26,496 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:41:26,498 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:41:26,498 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:41:26,498 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/vampada@gmail.com/cv-analysis
2025-10-09 11:41:26,498 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:41:26,499 - app.routes.skills_analysis - INFO - 🔗 [PRELIM_ANALYSIS] JD URL (latest job_info): https://www.ethicaljobs.com.au/members/australiaforunhcr/data-analyst
2025-10-09 11:41:26,500 - app.routes.skills_analysis - INFO - 📄 [PRELIM_ANALYSIS] Latest CV selected → type=original, ts=None, json=user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 11:41:26,501 - app.routes.skills_analysis - INFO - 🧪 [PRELIM_ANALYSIS] CV content length=4864, preview='Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD in Physics and completed a Master's in Data Science, bringing over three years of experience in Python  coding, AI, and machine learning. My expertise encompasses modeling and training AI models, writing efficient Python'
2025-10-09 11:41:26,501 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 11:41:26,501 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 11:41:26,501 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 11:41:26,501 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Starting AI-powered skills analysis for maheshwor_tiwari.pdf
2025-10-09 11:41:26,501 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] CV content length: 4864 chars
2025-10-09 11:41:26,501 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] JD content length: 40 chars
2025-10-09 11:41:26,502 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using config: default
2025-10-09 11:41:26,502 - app.routes.skills_analysis - INFO - 🧪 [SKILLS_ANALYSIS] CV preview: 'Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD '
2025-10-09 11:41:26,502 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'openai'
2025-10-09 11:41:26,502 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: []
2025-10-09 11:41:26,502 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: openai
2025-10-09 11:41:26,502 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {}
2025-10-09 11:41:26,502 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI provider: openai
2025-10-09 11:41:26,502 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI model: gpt-4o
2025-10-09 11:41:26,503 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Provider available: False
2025-10-09 11:41:26,503 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Model from header: gpt-4o
2025-10-09 11:41:26,503 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting CV skills with detailed structured analysis...
2025-10-09 11:41:26,522 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:41:26,522 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:41:26,522 - sqlalchemy.engine.Engine - INFO - [cached since 0.1748s ago] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:41:26,567 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:41:26,616 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-4o
2025-10-09 11:42:07,474 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 11:42:07,484 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] Starting response parsing...
2025-10-09 11:42:07,484 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] Raw response preview: ## SOFT SKILLS:

**EXPLICIT (directly stated):**
- Communication - "Presented Python-enabled research findings at international conferences, demonstrating technical expertise and communication skills."
- Teamwork - "Led engaging physics tutorials for master’s students, enhancing understanding and promoting teamwork."
- Collaboration - "Mentored students on projects, collaborated with faculty, and fostered student engagement."
- Problem-solving - "Utilized advanced Python programming for computat...
2025-10-09 11:42:07,484 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] FULL CV RESPONSE: ## SOFT SKILLS:

**EXPLICIT (directly stated):**
- Communication - "Presented Python-enabled research findings at international conferences, demonstrating technical expertise and communication skills."
- Teamwork - "Led engaging physics tutorials for master’s students, enhancing understanding and promoting teamwork."
- Collaboration - "Mentored students on projects, collaborated with faculty, and fostered student engagement."
- Problem-solving - "Utilized advanced Python programming for computational modeling and solving complex research problems."

**STRONGLY IMPLIED (very likely based on responsibilities):**
- Analytical Thinking - "Analyzed customer support data with Python to optimize response times and enhance operational efficiency."
- Innovation - "Conducting innovative research, and creating advanced visualizations that convert complex data into actionable insights."
- Detail-oriented - "Ensuring 99% data accuracy and improving data integrity and operational efficiency."

## TECHNICAL SKILLS:

**EXPLICIT (directly stated):**
- Python - "Specialized in Python programming"
- Pandas - "using libraries such as Pandas"
- NumPy - "using libraries such as Pandas, NumPy"
- scikit-learn - "and scikit-learn"
- SQL - "Proficient in SQL"
- PostgreSQL - "complex relational databases like PostgreSQL"
- MySQL - "PostgreSQL and MySQL"
- Tableau - "creating interactive dashboards and visualizations using Tableau"
- Power BI - "Tableau, Power BI"
- Matplotlib - "Power BI, and Matplotlib"
- GitHub - "Experienced with GitHub for version control"
- Docker - "Docker for containerization"
- Snowflake - "Snowflake for cloud data warehousing"
- Visual Studio Code - "Adept at leveraging tools like Visual Studio Code"
- Google Analytics - "Integrated Google Analytics data with Python for advanced analysis"
- Excel - "Excel for data-driven solutions and reporting"
- Seaborn - "using Python libraries like Matplotlib and Seaborn"

**STRONGLY IMPLIED (very likely based on responsibilities):**
- Machine Learning - "Developed machine learning models in Python for predictive analytics"
- Data Analysis - "Designed and implemented Python scripts for data cleaning, preprocessing, and analysis"
- Data Pipelines - "Designing and deploying robust data pipelines"
- AI - "Leveraged AI techniques to automate repetitive tasks"

## DOMAIN KEYWORDS:

**EXPLICIT:**
- Data Science - "completed a Master's in Data Science"
- Physics - "I hold a PhD in Physics"
- Predictive Analytics - "Developed machine learning models in Python for predictive analytics"
- Research - "Conducting innovative research"
- Data-driven Decision-making - "building comprehensive dashboards that support data-driven decision-making"
- Customer Behavior Insights - "enhancing customer behavior insights"
- Operational Efficiency - "enhance operational efficiency"
- Strategic Decision-making - "meeting strict deadlines for strategic decision-making"
- Customer Satisfaction - "significantly improving customer satisfaction and decision-making processes"

**STRONGLY IMPLIED:**
- Education - "Lecturer and Course Facilitator"
- Academic Research - "Research Assistant"

## CONTEXT EVIDENCE:

**Soft Skills:**
- Communication: "Presented Python-enabled research findings at international conferences, demonstrating technical expertise and communication skills."
- Teamwork: "Led engaging physics tutorials for master’s students, enhancing understanding and promoting teamwork."
- Collaboration: "Mentored students on projects, collaborated with faculty, and fostered student engagement."
- Problem-solving: "Utilized advanced Python programming for computational modeling and solving complex research problems."

**Technical Skills:**
- Python: "Specialized in Python programming"
- Pandas: "using libraries such as Pandas"
- NumPy: "using libraries such as Pandas, NumPy"
- scikit-learn: "and scikit-learn"
- SQL: "Proficient in SQL"
- PostgreSQL: "complex relational databases like PostgreSQL"
- MySQL: "PostgreSQL and MySQL"
- Tableau: "creating interactive dashboards and visualizations using Tableau"
- Power BI: "Tableau, Power BI"
- Matplotlib: "Power BI, and Matplotlib"
- GitHub: "Experienced with GitHub for version control"
- Docker: "Docker for containerization"
- Snowflake: "Snowflake for cloud data warehousing"
- Visual Studio Code: "Adept at leveraging tools like Visual Studio Code"
- Google Analytics: "Integrated Google Analytics data with Python for advanced analysis"
- Excel: "Excel for data-driven solutions and reporting"
- Seaborn: "using Python libraries like Matplotlib and Seaborn"

**Domain Keywords:**
- Data Science: "completed a Master's in Data Science"
- Physics: "I hold a PhD in Physics"
- Predictive Analytics: "Developed machine learning models in Python for predictive analytics"
- Research: "Conducting innovative research"
- Data-driven Decision-making: "building comprehensive dashboards that support data-driven decision-making"
- Customer Behavior Insights: "enhancing customer behavior insights"
- Operational Efficiency: "enhance operational efficiency"
- Strategic Decision-making: "meeting strict deadlines for strategic decision-making"
- Customer Satisfaction: "significantly improving customer satisfaction and decision-making processes"

```python
SOFT_SKILLS = ["Communication", "Teamwork", "Collaboration", "Problem-solving", "Analytical Thinking", "Innovation", "Detail-oriented"]
TECHNICAL_SKILLS = ["Python", "Pandas", "NumPy", "scikit-learn", "SQL", "PostgreSQL", "MySQL", "Tableau", "Power BI", "Matplotlib", "GitHub", "Docker", "Snowflake", "Visual Studio Code", "Google Analytics", "Excel", "Seaborn", "Machine Learning", "Data Analysis", "Data Pipelines", "AI"]
DOMAIN_KEYWORDS = ["Data Science", "Physics", "Predictive Analytics", "Research", "Data-driven Decision-making", "Customer Behavior Insights", "Operational Efficiency", "Strategic Decision-making", "Customer Satisfaction", "Education", "Academic Research"]
```
2025-10-09 11:42:07,486 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Successfully extracted 39 total skills using multi-format parser
2025-10-09 11:42:07,486 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated soft_skills: 7 valid skills
2025-10-09 11:42:07,486 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated technical_skills: 21 valid skills
2025-10-09 11:42:07,487 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated domain_keywords: 11 valid skills
2025-10-09 11:42:07,487 - app.services.skill_extraction.response_parser - INFO - 📊 [CV] Parsing completed:
2025-10-09 11:42:07,487 - app.services.skill_extraction.response_parser - INFO -    Soft Skills (7): ['Communication', 'Teamwork', 'Collaboration']...
2025-10-09 11:42:07,487 - app.services.skill_extraction.response_parser - INFO -    Technical Skills (21): ['Python', 'Pandas', 'NumPy']...
2025-10-09 11:42:07,487 - app.services.skill_extraction.response_parser - INFO -    Domain Keywords (11): ['Data Science', 'Physics', 'Predictive Analytics']...
2025-10-09 11:42:07,487 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting JD skills with detailed structured analysis...
2025-10-09 11:42:07,507 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:42:07,508 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:42:07,509 - sqlalchemy.engine.Engine - INFO - [cached since 41.16s ago] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:42:07,555 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:42:07,603 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-4o
2025-10-09 11:42:17,406 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 11:42:17,409 - app.services.skill_extraction.response_parser - INFO - 🔍 [JD] Starting response parsing...
2025-10-09 11:42:17,409 - app.services.skill_extraction.response_parser - INFO - 🔍 [JD] Raw response preview: ## SOFT SKILLS:

**EXPLICIT (directly stated):**
- Communication
- Teamwork
- Problem-solving
- Analytical Thinking
- Detail-oriented
- Self-motivated

**STRONGLY IMPLIED (very likely based on responsibilities):**
- Adaptability
- Organization

## TECHNICAL SKILLS:

**EXPLICIT (directly stated):**
- Python
- SQL
- Power BI
- Tableau
- Excel
- R
- Google Analytics
- Data Visualization
- Data Cleaning
- Data Mining
- Statistical Analysis
- Machine Learning
- ETL Processes
- Database Management

**...
2025-10-09 11:42:17,409 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Successfully extracted 32 total skills using multi-format parser
2025-10-09 11:42:17,410 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated soft_skills: 8 valid skills
2025-10-09 11:42:17,410 - app.services.skill_extraction.response_parser - WARNING - ⚠️ [JD] Filtered out 1 invalid technical_skills: ['R']
2025-10-09 11:42:17,410 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated technical_skills: 15 valid skills
2025-10-09 11:42:17,410 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated domain_keywords: 8 valid skills
2025-10-09 11:42:17,410 - app.services.skill_extraction.response_parser - INFO - 📊 [JD] Parsing completed:
2025-10-09 11:42:17,410 - app.services.skill_extraction.response_parser - INFO -    Soft Skills (8): ['Communication', 'Teamwork', 'Problem-solving']...
2025-10-09 11:42:17,410 - app.services.skill_extraction.response_parser - INFO -    Technical Skills (15): ['Python', 'SQL', 'Power BI']...
2025-10-09 11:42:17,410 - app.services.skill_extraction.response_parser - INFO -    Domain Keywords (8): ['Non-profit Sector', 'Humanitarian Aid', 'Data-driven Decision Making']...
2025-10-09 11:42:17,411 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using structured analysis as comprehensive analysis...
2025-10-09 11:42:17,411 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Technical Skills (21): ['Python', 'Pandas', 'NumPy', 'scikit-learn', 'SQL', 'PostgreSQL', 'MySQL', 'Tableau', 'Power BI', 'Matplotlib', 'GitHub', 'Docker', 'Snowflake', 'Visual Studio Code', 'Google Analytics', 'Excel', 'Seaborn', 'Machine Learning', 'Data Analysis', 'Data Pipelines', 'AI']
2025-10-09 11:42:17,411 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Soft Skills (7): ['Communication', 'Teamwork', 'Collaboration', 'Problem-solving', 'Analytical Thinking', 'Innovation', 'Detail-oriented']
2025-10-09 11:42:17,411 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Domain Keywords (11): ['Data Science', 'Physics', 'Predictive Analytics', 'Research', 'Data-driven Decision-making', 'Customer Behavior Insights', 'Operational Efficiency', 'Strategic Decision-making', 'Customer Satisfaction', 'Education', 'Academic Research']
2025-10-09 11:42:17,411 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Technical Skills (15): ['Python', 'SQL', 'Power BI', 'Tableau', 'Excel', 'Google Analytics', 'Data Visualization', 'Data Cleaning', 'Data Mining', 'Statistical Analysis', 'Machine Learning', 'ETL Processes', 'Database Management', 'Data Modeling', 'Predictive Analytics']
2025-10-09 11:42:17,411 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Soft Skills (8): ['Communication', 'Teamwork', 'Problem-solving', 'Analytical Thinking', 'Detail-oriented', 'Self-motivated', 'Adaptability', 'Organization']
2025-10-09 11:42:17,411 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Domain Keywords (8): ['Non-profit Sector', 'Humanitarian Aid', 'Data-driven Decision Making', 'Stakeholder Engagement', 'Reporting', 'Performance Metrics', 'Fundraising Analysis', 'Donor Insights']
2025-10-09 11:42:17,412 - app.routes.skills_analysis - ERROR - ❌ [SKILLS_ANALYSIS] Error in preliminary skills analysis: local variable 'datetime' referenced before assignment
2025-10-09 11:42:17,415 - app.routes.skills_analysis - ERROR - ❌ Preliminary analysis error (UnboundLocalError): local variable 'datetime' referenced before assignment
2025-10-09 11:42:17,416 - app.routes.skills_analysis - ERROR - Traceback: Traceback (most recent call last):
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/routes/skills_analysis.py", line 1008, in preliminary_analysis
    result = await perform_preliminary_skills_analysis(
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/routes/skills_analysis.py", line 2801, in perform_preliminary_skills_analysis
    raise e
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/routes/skills_analysis.py", line 2529, in perform_preliminary_skills_analysis
    "analysis_timestamp": datetime.now().isoformat(),
UnboundLocalError: local variable 'datetime' referenced before assignment

2025-10-09 11:42:30,576 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 11:42:35,912 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 11:42:36,274 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 11:42:36,275 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:42:36,321 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 11:42:36,322 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:42:36,370 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 11:42:36,371 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:42:36,416 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:42:36,416 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 11:42:36,416 - sqlalchemy.engine.Engine - INFO - [generated in 0.00059s] {}
2025-10-09 11:42:36,467 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:42:36,491 - app.database - INFO - Database connection successful
2025-10-09 11:42:36,491 - app.main - INFO - ✅ Database connection successful
2025-10-09 11:42:36,536 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:42:36,543 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:42:36,543 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:42:36,589 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:42:36,589 - sqlalchemy.engine.Engine - INFO - [cached since 0.04652s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:42:36,613 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:42:36,614 - sqlalchemy.engine.Engine - INFO - [cached since 0.07085s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:42:36,654 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:42:36,655 - sqlalchemy.engine.Engine - INFO - [cached since 0.1118s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:42:36,676 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:42:36,677 - sqlalchemy.engine.Engine - INFO - [cached since 0.1339s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:42:36,732 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:42:36,732 - sqlalchemy.engine.Engine - INFO - [cached since 0.1894s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:42:36,812 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:42:36,812 - sqlalchemy.engine.Engine - INFO - [cached since 0.2691s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:42:36,830 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:42:36,830 - sqlalchemy.engine.Engine - INFO - [cached since 0.2875s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:42:36,853 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:42:36,853 - sqlalchemy.engine.Engine - INFO - [cached since 0.3102s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:42:36,877 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:42:36,877 - sqlalchemy.engine.Engine - INFO - [cached since 0.3343s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:42:36,901 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:42:36,902 - sqlalchemy.engine.Engine - INFO - [cached since 0.3586s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:42:36,929 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:42:36,950 - app.database - INFO - Database tables created successfully
2025-10-09 11:42:36,951 - app.main - INFO - ✅ Database tables ready
2025-10-09 11:42:36,951 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 11:42:36,951 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 11:42:39,782 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:42:39,786 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 11:42:39,787 - sqlalchemy.engine.Engine - INFO - [generated in 0.00054s] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'param_1': 1}
2025-10-09 11:42:39,831 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:42:39,875 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:42:39,879 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:42:39,880 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:42:39,929 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:42:39,968 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:42:39,969 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:42:39,969 - sqlalchemy.engine.Engine - INFO - [cached since 0.0895s ago] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:42:40,012 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:42:40,034 - app.routes.skills_analysis - INFO - 🎯 Preliminary analysis request: CV=maheshwor_tiwari.pdf, JD_length=40, CONFIG=None
2025-10-09 11:42:40,034 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:42:40,035 - app.routes.skills_analysis - INFO - 🏢 Extracted company name: Australia_for_UNHCR
2025-10-09 11:42:40,035 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:42:40,037 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:42:40,038 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:42:40,038 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/vampada@gmail.com/cv-analysis
2025-10-09 11:42:40,038 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:42:40,040 - app.routes.skills_analysis - INFO - 🔗 [PRELIM_ANALYSIS] JD URL (latest job_info): https://www.ethicaljobs.com.au/members/australiaforunhcr/data-analyst
2025-10-09 11:42:40,042 - app.routes.skills_analysis - INFO - 📄 [PRELIM_ANALYSIS] Latest CV selected → type=original, ts=None, json=user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 11:42:40,043 - app.routes.skills_analysis - INFO - 🧪 [PRELIM_ANALYSIS] CV content length=4864, preview='Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD in Physics and completed a Master's in Data Science, bringing over three years of experience in Python  coding, AI, and machine learning. My expertise encompasses modeling and training AI models, writing efficient Python'
2025-10-09 11:42:40,043 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 11:42:40,043 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 11:42:40,043 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 11:42:40,043 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Starting AI-powered skills analysis for maheshwor_tiwari.pdf
2025-10-09 11:42:40,043 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] CV content length: 4864 chars
2025-10-09 11:42:40,044 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] JD content length: 40 chars
2025-10-09 11:42:40,044 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using config: default
2025-10-09 11:42:40,044 - app.routes.skills_analysis - INFO - 🧪 [SKILLS_ANALYSIS] CV preview: 'Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD '
2025-10-09 11:42:40,044 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'openai'
2025-10-09 11:42:40,044 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: []
2025-10-09 11:42:40,044 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: openai
2025-10-09 11:42:40,045 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {}
2025-10-09 11:42:40,045 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI provider: openai
2025-10-09 11:42:40,045 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI model: gpt-4o
2025-10-09 11:42:40,045 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Provider available: False
2025-10-09 11:42:40,045 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Model from header: gpt-4o
2025-10-09 11:42:40,045 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting CV skills with detailed structured analysis...
2025-10-09 11:42:40,063 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:42:40,064 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:42:40,064 - sqlalchemy.engine.Engine - INFO - [cached since 0.185s ago] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:42:40,107 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:42:40,155 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-4o
2025-10-09 11:42:55,093 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 11:42:55,103 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] Starting response parsing...
2025-10-09 11:42:55,103 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] Raw response preview: ## SOFT SKILLS:

**EXPLICIT (directly stated):**
- Communication - "Presented Python-enabled research findings at international conferences, demonstrating technical expertise and communication skills."
- Teamwork - "Led engaging physics tutorials for master’s students, enhancing understanding and promoting teamwork."
- Collaboration - "Mentored students on projects, collaborated with faculty, and fostered student engagement."
- Problem-solving - "Utilized advanced Python programming for computat...
2025-10-09 11:42:55,104 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] FULL CV RESPONSE: ## SOFT SKILLS:

**EXPLICIT (directly stated):**
- Communication - "Presented Python-enabled research findings at international conferences, demonstrating technical expertise and communication skills."
- Teamwork - "Led engaging physics tutorials for master’s students, enhancing understanding and promoting teamwork."
- Collaboration - "Mentored students on projects, collaborated with faculty, and fostered student engagement."
- Problem-solving - "Utilized advanced Python programming for computational modeling and solving complex research problems."

**STRONGLY IMPLIED (very likely based on responsibilities):**
- Analytical Thinking - "Analyzed customer support data with Python to optimize response times and enhance operational efficiency."
- Innovation - "Conducting innovative research, and creating advanced visualizations that convert complex data into actionable insights."

## TECHNICAL SKILLS:

**EXPLICIT (directly stated):**
- Python - "Specialized in Python programming"
- Pandas - "using libraries such as Pandas"
- NumPy - "using libraries such as Pandas, NumPy"
- scikit-learn - "and scikit-learn"
- SQL - "Proficient in SQL"
- PostgreSQL - "complex relational databases like PostgreSQL"
- MySQL - "PostgreSQL and MySQL"
- Tableau - "creating interactive dashboards and visualizations using Tableau"
- Power BI - "Tableau, Power BI"
- Matplotlib - "Power BI, and Matplotlib"
- GitHub - "Experienced with GitHub for version control"
- Docker - "Docker for containerization"
- Snowflake - "Snowflake for cloud data warehousing"
- Visual Studio Code - "Adept at leveraging tools like Visual Studio Code"
- Google Analytics - "Integrated Google Analytics data with Python for advanced analysis"
- Excel - "and Excel for data-driven solutions and reporting"
- Seaborn - "using Python libraries like Matplotlib and Seaborn"

**STRONGLY IMPLIED (very likely based on responsibilities):**
- Machine Learning - "Developed machine learning models in Python for predictive analytics"
- AI - "Leveraged AI techniques to automate repetitive tasks"

## DOMAIN KEYWORDS:

**EXPLICIT:**
- Data Science - "completed a Master's in Data Science"
- Physics - "I hold a PhD in Physics"
- Data Pipelines - "designing and deploying robust data pipelines"
- Predictive Analytics - "Developed machine learning models in Python for predictive analytics"
- Data Cleaning - "Designed and implemented Python scripts for data cleaning"
- Data Preprocessing - "Leveraged Python for data preprocessing and analysis"
- Data Analysis - "Specialized in Python programming, including data analysis"
- Research - "conducting innovative research"
- Dashboards - "building comprehensive dashboards that support data-driven decision-making"
- Visualization - "creating advanced visualizations that convert complex data into actionable insights"

**STRONGLY IMPLIED:**
- Data-driven Decision-making - "enabling data-driven business decisions"
- Customer Behavior Insights - "enhancing customer behavior insights"

## CONTEXT EVIDENCE:

**Soft Skills:**
- Communication: "Presented Python-enabled research findings at international conferences, demonstrating technical expertise and communication skills."
- Teamwork: "Led engaging physics tutorials for master’s students, enhancing understanding and promoting teamwork."
- Collaboration: "Mentored students on projects, collaborated with faculty, and fostered student engagement."
- Problem-solving: "Utilized advanced Python programming for computational modeling and solving complex research problems."

**Technical Skills:**
- Python: "Specialized in Python programming"
- Pandas: "using libraries such as Pandas"
- NumPy: "using libraries such as Pandas, NumPy"
- scikit-learn: "and scikit-learn"
- SQL: "Proficient in SQL"
- PostgreSQL: "complex relational databases like PostgreSQL"
- MySQL: "PostgreSQL and MySQL"
- Tableau: "creating interactive dashboards and visualizations using Tableau"
- Power BI: "Tableau, Power BI"
- Matplotlib: "Power BI, and Matplotlib"
- GitHub: "Experienced with GitHub for version control"
- Docker: "Docker for containerization"
- Snowflake: "Snowflake for cloud data warehousing"
- Visual Studio Code: "Adept at leveraging tools like Visual Studio Code"
- Google Analytics: "Integrated Google Analytics data with Python for advanced analysis"
- Excel: "and Excel for data-driven solutions and reporting"
- Seaborn: "using Python libraries like Matplotlib and Seaborn"

**Domain Keywords:**
- Data Science: "completed a Master's in Data Science"
- Physics: "I hold a PhD in Physics"
- Data Pipelines: "designing and deploying robust data pipelines"
- Predictive Analytics: "Developed machine learning models in Python for predictive analytics"
- Data Cleaning: "Designed and implemented Python scripts for data cleaning"
- Data Preprocessing: "Leveraged Python for data preprocessing and analysis"
- Data Analysis: "Specialized in Python programming, including data analysis"
- Research: "conducting innovative research"
- Dashboards: "building comprehensive dashboards that support data-driven decision-making"
- Visualization: "creating advanced visualizations that convert complex data into actionable insights"

```python
SOFT_SKILLS = ["Communication", "Teamwork", "Collaboration", "Problem-solving", "Analytical Thinking", "Innovation"]
TECHNICAL_SKILLS = ["Python", "Pandas", "NumPy", "scikit-learn", "SQL", "PostgreSQL", "MySQL", "Tableau", "Power BI", "Matplotlib", "GitHub", "Docker", "Snowflake", "Visual Studio Code", "Google Analytics", "Excel", "Seaborn", "Machine Learning", "AI"]
DOMAIN_KEYWORDS = ["Data Science", "Physics", "Data Pipelines", "Predictive Analytics", "Data Cleaning", "Data Preprocessing", "Data Analysis", "Research", "Dashboards", "Visualization", "Data-driven Decision-making", "Customer Behavior Insights"]
```
2025-10-09 11:42:55,105 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Successfully extracted 37 total skills using multi-format parser
2025-10-09 11:42:55,105 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated soft_skills: 6 valid skills
2025-10-09 11:42:55,105 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated technical_skills: 19 valid skills
2025-10-09 11:42:55,105 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated domain_keywords: 12 valid skills
2025-10-09 11:42:55,106 - app.services.skill_extraction.response_parser - INFO - 📊 [CV] Parsing completed:
2025-10-09 11:42:55,106 - app.services.skill_extraction.response_parser - INFO -    Soft Skills (6): ['Communication', 'Teamwork', 'Collaboration']...
2025-10-09 11:42:55,106 - app.services.skill_extraction.response_parser - INFO -    Technical Skills (19): ['Python', 'Pandas', 'NumPy']...
2025-10-09 11:42:55,106 - app.services.skill_extraction.response_parser - INFO -    Domain Keywords (12): ['Data Science', 'Physics', 'Data Pipelines']...
2025-10-09 11:42:55,106 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting JD skills with detailed structured analysis...
2025-10-09 11:42:55,126 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:42:55,127 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:42:55,127 - sqlalchemy.engine.Engine - INFO - [cached since 15.25s ago] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:42:55,169 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:42:55,213 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-4o
2025-10-09 11:43:04,717 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 11:43:04,719 - app.services.skill_extraction.response_parser - INFO - 🔍 [JD] Starting response parsing...
2025-10-09 11:43:04,720 - app.services.skill_extraction.response_parser - INFO - 🔍 [JD] Raw response preview: ## SOFT SKILLS:

**EXPLICIT (directly stated):**
- Communication - "Effective communication skills"
- Teamwork - "Ability to work collaboratively in a team environment"
- Problem-solving - "Strong problem-solving skills"
- Analytical Thinking - "Analytical mindset"
- Detail-oriented - "Attention to detail"
- Self-motivated - "Self-motivated and proactive"

**STRONGLY IMPLIED (very likely based on responsibilities):**
- Adaptability - "Adapt to changing priorities and deadlines"
- Time Management...
2025-10-09 11:43:04,720 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Successfully extracted 33 total skills using multi-format parser
2025-10-09 11:43:04,721 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated soft_skills: 8 valid skills
2025-10-09 11:43:04,721 - app.services.skill_extraction.response_parser - WARNING - ⚠️ [JD] Filtered out 1 invalid technical_skills: ['R']
2025-10-09 11:43:04,721 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated technical_skills: 17 valid skills
2025-10-09 11:43:04,721 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated domain_keywords: 7 valid skills
2025-10-09 11:43:04,721 - app.services.skill_extraction.response_parser - INFO - 📊 [JD] Parsing completed:
2025-10-09 11:43:04,721 - app.services.skill_extraction.response_parser - INFO -    Soft Skills (8): ['Communication', 'Teamwork', 'Problem-solving']...
2025-10-09 11:43:04,721 - app.services.skill_extraction.response_parser - INFO -    Technical Skills (17): ['Python', 'SQL', 'Excel']...
2025-10-09 11:43:04,722 - app.services.skill_extraction.response_parser - INFO -    Domain Keywords (7): ['Nonprofit Sector', 'Humanitarian Aid', 'Fundraising']...
2025-10-09 11:43:04,722 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using structured analysis as comprehensive analysis...
2025-10-09 11:43:04,722 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Technical Skills (19): ['Python', 'Pandas', 'NumPy', 'scikit-learn', 'SQL', 'PostgreSQL', 'MySQL', 'Tableau', 'Power BI', 'Matplotlib', 'GitHub', 'Docker', 'Snowflake', 'Visual Studio Code', 'Google Analytics', 'Excel', 'Seaborn', 'Machine Learning', 'AI']
2025-10-09 11:43:04,722 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Soft Skills (6): ['Communication', 'Teamwork', 'Collaboration', 'Problem-solving', 'Analytical Thinking', 'Innovation']
2025-10-09 11:43:04,722 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Domain Keywords (12): ['Data Science', 'Physics', 'Data Pipelines', 'Predictive Analytics', 'Data Cleaning', 'Data Preprocessing', 'Data Analysis', 'Research', 'Dashboards', 'Visualization', 'Data-driven Decision-making', 'Customer Behavior Insights']
2025-10-09 11:43:04,722 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Technical Skills (17): ['Python', 'SQL', 'Excel', 'Power BI', 'Tableau', 'Data Visualization', 'Data Analysis', 'Statistical Analysis', 'Machine Learning', 'ETL', 'Data Warehousing', 'Google Analytics', 'AWS', 'Azure', 'APIs', 'Data Cleaning', 'Data Modeling']
2025-10-09 11:43:04,722 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Soft Skills (8): ['Communication', 'Teamwork', 'Problem-solving', 'Analytical Thinking', 'Detail-oriented', 'Self-motivated', 'Adaptability', 'Time Management']
2025-10-09 11:43:04,723 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Domain Keywords (7): ['Nonprofit Sector', 'Humanitarian Aid', 'Fundraising', 'Donor Management', 'Reporting', 'Stakeholder Engagement', 'Data-driven Decision Making']
2025-10-09 11:43:04,723 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] Analysis completed successfully
2025-10-09 11:43:04,723 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 11:43:04,724 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:43:04,724 - app.services.skill_extraction.result_saver - INFO - 📁 Result saver initialized with base directory: user/vampada@gmail.com/cv-analysis
2025-10-09 11:43:04,724 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:43:04,725 - app.routes.skills_analysis - INFO - 🔍 [COMPANY_DETECTION] Looking in: user/vampada@gmail.com/cv-analysis/applied_companies
2025-10-09 11:43:04,725 - app.routes.skills_analysis - INFO - 📁 [COMPANY_DETECTION] Found company folder: Australia_for_UNHCR with 3 job_info files
2025-10-09 11:43:04,725 - app.routes.skills_analysis - INFO - 🏢 [COMPANY_DETECTION] Using most recent company folder: Australia_for_UNHCR
2025-10-09 11:43:04,726 - app.routes.skills_analysis - INFO - 📋 [COMPANY_DETECTION] Job info company: Australia for UNHCR
2025-10-09 11:43:04,727 - app.services.skill_extraction.result_saver - INFO - 🏢 Using provided company name: Australia_for_UNHCR -> Australia_for_UNHCR
2025-10-09 11:43:04,727 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:43:04,727 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/vampada@gmail.com/cv-analysis
2025-10-09 11:43:04,728 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:43:04,728 - app.services.skill_extraction.result_saver - INFO - 💾 Structured CV already exists, preserving it: user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 11:43:04,729 - app.services.skill_extraction.result_saver - INFO - 💾 Structured CV preserved, skipping save: user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 11:43:04,730 - app.services.skill_extraction.result_saver - INFO - 💾 Analysis results saved (JSON) to: user/vampada@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_114304.json
2025-10-09 11:43:04,730 - app.routes.skills_analysis - INFO - 📁 [FILE_SAVE] Results saved to: user/vampada@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_114304.json
2025-10-09 11:43:04,730 - app.routes.skills_analysis - INFO - 🔍 [ANALYZE_MATCH] Starting analyze match assessment...
2025-10-09 11:43:04,752 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:43:04,753 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:43:04,754 - sqlalchemy.engine.Engine - INFO - [cached since 24.87s ago] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:43:04,801 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:43:04,845 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-4o
2025-10-09 11:43:12,699 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 11:43:12,703 - app.routes.skills_analysis - INFO - ✅ [ANALYZE_MATCH] Analysis completed (length: 2470 chars)
2025-10-09 11:43:12,704 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:43:12,705 - app.services.skill_extraction.result_saver - INFO - 📂 Found existing analysis file: user/vampada@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_114304.json
2025-10-09 11:43:12,706 - app.services.skill_extraction.result_saver - INFO - 🔍 Looking for analysis file in: user/vampada@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 11:43:12,707 - app.services.skill_extraction.result_saver - INFO - 📄 Using existing file: user/vampada@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_114304.json
2025-10-09 11:43:12,709 - app.services.skill_extraction.result_saver - INFO - 📁 [ANALYZE_MATCH] Results appended to: user/vampada@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_114304.json
2025-10-09 11:43:12,709 - app.routes.skills_analysis - INFO - 📁 [ANALYZE_MATCH] Results appended to: user/vampada@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_114304.json
2025-10-09 11:43:12,710 - app.routes.skills_analysis - INFO - 🔍 [PREEXTRACTED_COMPARISON] Starting pre-extracted skills semantic comparison...
2025-10-09 11:43:12,713 - app.services.skill_extraction.preextracted_comparator - INFO - 🔍 [EXACT_MATCHES] Found 3 exact matches: {'technical_skills': [{'jd_skill': 'Excel', 'cv_skill': 'Excel', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Google Analytics', 'cv_skill': 'Google Analytics', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Machine Learning', 'cv_skill': 'Machine Learning', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Power BI', 'cv_skill': 'Power BI', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Python', 'cv_skill': 'Python', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'SQL', 'cv_skill': 'SQL', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Tableau', 'cv_skill': 'Tableau', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}], 'soft_skills': [{'jd_skill': 'Analytical Thinking', 'cv_skill': 'Analytical Thinking', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Communication', 'cv_skill': 'Communication', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Problem-solving', 'cv_skill': 'Problem-solving', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Teamwork', 'cv_skill': 'Teamwork', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}], 'domain_keywords': []}
2025-10-09 11:43:12,715 - app.services.skill_extraction.preextracted_comparator - WARNING - ⚠️ [COMPARISON] JSON mode failed: No API key configured for provider 'openai' for this user., falling back to text mode
2025-10-09 11:43:12,716 - app.routes.skills_analysis - ERROR - ❌ [PREEXTRACTED_COMPARISON] Error: No API key configured for provider 'openai' for this user.
2025-10-09 11:43:12,717 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:43:12,720 - app.routes.skills_analysis - INFO - ♻️ [PIPELINE] (preliminary-analysis) JD file already exists: user/vampada@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/jd_original_20251009_114019.json
2025-10-09 11:43:12,722 - app.routes.skills_analysis - INFO - ♻️ [JOBS] Job already exists in saved_jobs.json: Data Analyst at Australia for UNHCR
2025-10-09 11:43:12,722 - app.routes.skills_analysis - INFO - 🚀 [PIPELINE] (preliminary-analysis) scheduling for company: Australia_for_UNHCR
2025-10-09 11:43:12,722 - app.routes.skills_analysis - INFO - 🚀 [PIPELINE] Scheduling JD analysis and CV–JD matching for 'Australia_for_UNHCR'...
2025-10-09 11:43:12,724 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:43:12,725 - app.routes.skills_analysis - INFO - 🔧 [PIPELINE] Starting JD analysis for Australia_for_UNHCR (force_refresh=True)
2025-10-09 11:43:12,725 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:43:12,726 - app.services.jd_analysis.jd_analyzer - INFO - 🔄 Analyzing JD for Australia_for_UNHCR (force_refresh=True)
2025-10-09 11:43:12,727 - app.services.jd_analysis.jd_analyzer - INFO - 📄 Analyzing JD file: user/vampada@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/jd_original_20251009_114019.json
2025-10-09 11:43:12,728 - app.services.jd_analysis.jd_analyzer - ERROR - JD analysis failed: No API key configured for provider 'openai' for this user.
2025-10-09 11:43:12,729 - app.services.jd_analysis.jd_analyzer - ERROR - Failed to analyze JD file user/vampada@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/jd_original_20251009_114019.json: Failed to analyze job description: No API key configured for provider 'openai' for this user.
2025-10-09 11:43:12,729 - app.services.jd_analysis.jd_analyzer - ERROR - Failed to analyze and save company JD Australia_for_UNHCR: Failed to analyze job description file: Failed to analyze job description: No API key configured for provider 'openai' for this user.
2025-10-09 11:43:12,729 - app.routes.skills_analysis - ERROR - ❌ [PIPELINE] JD analysis failed for Australia_for_UNHCR: Failed to analyze job description file: Failed to analyze job description: No API key configured for provider 'openai' for this user.
2025-10-09 11:43:12,729 - app.routes.skills_analysis - INFO - 🔧 [PIPELINE] Starting CV–JD matching for Australia_for_UNHCR
2025-10-09 11:43:12,730 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:43:12,731 - app.routes.skills_analysis - WARNING - ⚠️ [PIPELINE] Could not preselect CV TXT for matching: No module named 'app.services.dynamic_cv_selector'
2025-10-09 11:43:12,731 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🔍 [CV_JD_MATCHER] No explicit CV path provided, using unified selector for Australia_for_UNHCR
2025-10-09 11:43:12,731 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:43:12,732 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:43:12,732 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/vampada@gmail.com/cv-analysis
2025-10-09 11:43:12,735 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:43:12,737 - app.services.jd_usage_tracker - ERROR - ❌ [JD_TRACKER] Error checking JD usage: Either jd_url or jd_text must be provided
2025-10-09 11:43:12,739 - app.services.cv_jd_matching.cv_jd_matcher - INFO - ✅ [CV_JD_MATCHER] Selected CV → type=original, ts=None, path=user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 11:43:12,741 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 📄 [CV_JD_MATCHER] Read CV from: user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 11:43:12,742 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🧪 [CV_JD_MATCHER] CV content length=4864, preview='Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD in Physics and completed a Master's in Data Science, bringing over three years of experience in Python  coding, AI, and machine learning. My expertise encompasses modeling and training AI models, writing efficient Python'
2025-10-09 11:43:12,742 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:43:12,745 - app.routes.skills_analysis - ERROR - ❌ [PIPELINE] CV-JD matching failed for Australia_for_UNHCR: JD analysis file not found: user/vampada@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_jd_analysis.json
2025-10-09 11:43:12,754 - app.routes.skills_analysis - ERROR - [PIPELINE] CV-JD matching traceback: Traceback (most recent call last):
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/routes/skills_analysis.py", line 402, in _run_pipeline
    await match_and_save_cv_jd(
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/services/cv_jd_matching/cv_jd_matcher.py", line 526, in match_and_save_cv_jd
    result = await matcher.match_cv_against_jd(company_name, cv_file_path, jd_analysis_data, temperature)
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/services/cv_jd_matching/cv_jd_matcher.py", line 349, in match_cv_against_jd
    jd_analysis_data = self._read_jd_analysis(company_name)
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/services/cv_jd_matching/cv_jd_matcher.py", line 168, in _read_jd_analysis
    raise FileNotFoundError(f"JD analysis file not found: {analysis_file}")
FileNotFoundError: JD analysis file not found: user/vampada@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_jd_analysis.json

2025-10-09 11:43:12,754 - app.routes.skills_analysis - INFO - 🔍 [PIPELINE] Starting component analysis for Australia_for_UNHCR
2025-10-09 11:43:12,760 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:43:12,761 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:43:12,761 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:43:12,761 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/vampada@gmail.com/cv-analysis
2025-10-09 11:43:12,762 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Latest CV selected → type=original, ts=None, json=user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 11:43:12,762 - app.routes.skills_analysis - INFO - 🧪 [PIPELINE] CV content length=4864, preview='Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD in Physics and completed a Master's in Data Science, bringing over three years of experience in Python  coding, AI, and machine learning. My expertise encompasses modeling and training AI models, writing efficient Python'
2025-10-09 11:43:12,763 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:43:12,763 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Required files found, proceeding with component analysis
2025-10-09 11:43:12,764 - app.services.ats.modular_ats_orchestrator - INFO - ===== [MODULAR ATS] Starting component analysis for: Australia_for_UNHCR =====
2025-10-09 11:43:12,764 - app.services.ats.component_assembler - INFO - ===== [ASSEMBLER] Starting component assembly for: Australia_for_UNHCR =====
2025-10-09 11:43:12,764 - app.services.ats.component_assembler - INFO - 📄 [ASSEMBLER] Using CV text provided by caller
2025-10-09 11:43:12,772 - app.services.ats.component_assembler - WARNING - [ASSEMBLER] Match results not found: user/vampada@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/cv_jd_match_results.json
2025-10-09 11:43:12,772 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Starting parallel component analyses...
2025-10-09 11:43:12,776 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Requesting skills relevance analysis...
2025-10-09 11:43:12,777 - app.services.ats.component_assembler - ERROR - [ASSEMBLER] Failed to calculate requirement bonus: CV-JD matching file not found for bonus calculation: expected pattern 'Australia_for_UNHCR_cv_jd_matching_<timestamp>.json' in user/vampada@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 11:43:12,777 - app.services.ats.components.skills_relevance_analyzer - ERROR - [SKILLS] Analysis failed: No API key configured for provider 'openai' for this user.
2025-10-09 11:43:12,777 - app.services.ats.components.skills_relevance_analyzer - WARNING - [SKILLS] Returning fallback response due to analysis error
2025-10-09 11:43:12,778 - app.services.ats.components.experience_analyzer - INFO - [EXPERIENCE] Requesting experience alignment analysis...
2025-10-09 11:43:12,778 - app.services.ats.components.experience_analyzer - ERROR - [EXPERIENCE] Analysis failed: No API key configured for provider 'openai' for this user.
2025-10-09 11:43:12,778 - app.services.ats.components.industry_analyzer - INFO - [INDUSTRY] Requesting industry fit analysis...
2025-10-09 11:43:12,778 - app.services.ats.components.industry_analyzer - ERROR - [INDUSTRY] Analysis failed: No API key configured for provider 'openai' for this user.
2025-10-09 11:43:12,785 - app.services.ats.components.seniority_analyzer - INFO - [SENIORITY] Requesting role seniority analysis...
2025-10-09 11:43:12,785 - app.services.ats.components.seniority_analyzer - ERROR - [SENIORITY] Analysis failed: No API key configured for provider 'openai' for this user.
2025-10-09 11:43:12,785 - app.services.ats.components.technical_analyzer - INFO - [TECHNICAL] Requesting technical depth analysis...
2025-10-09 11:43:12,786 - app.services.ats.components.technical_analyzer - ERROR - [TECHNICAL] Analysis failed: No API key configured for provider 'openai' for this user.
2025-10-09 11:43:12,788 - app.services.ats.component_assembler - ERROR - [ASSEMBLER] Experience analysis failed: Experience analysis failed: No API key configured for provider 'openai' for this user.
2025-10-09 11:43:12,788 - app.services.ats.component_assembler - ERROR - [ASSEMBLER] Assembly failed for Australia_for_UNHCR: Experience analysis failed: No API key configured for provider 'openai' for this user.
2025-10-09 11:43:12,789 - app.services.ats.modular_ats_orchestrator - ERROR - [MODULAR ATS] Component analysis failed for Australia_for_UNHCR: Experience analysis failed: No API key configured for provider 'openai' for this user.
2025-10-09 11:43:12,789 - app.routes.skills_analysis - ERROR - ❌ [PIPELINE] Component analysis failed for Australia_for_UNHCR: Experience analysis failed: No API key configured for provider 'openai' for this user.
2025-10-09 11:43:12,799 - app.routes.skills_analysis - ERROR - [PIPELINE] Component analysis traceback: Traceback (most recent call last):
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/services/ats/components/experience_analyzer.py", line 102, in analyze
    response = await ai_service.generate_response(
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/ai/ai_service.py", line 284, in generate_response
    raise Exception(f"No API key configured for provider '{resolved_provider_name}' for this user.")
Exception: No API key configured for provider 'openai' for this user.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/routes/skills_analysis.py", line 468, in _run_pipeline
    component_result = await user_orchestrator.run_component_analysis(cname, cv_text=cv_text_for_analysis or None)
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/services/ats/modular_ats_orchestrator.py", line 53, in run_component_analysis
    result = await self.assembler.assemble_analysis(company, cv_text=cv_text, jd_url="")
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/services/ats/component_assembler.py", line 624, in assemble_analysis
    component_results = await self._run_component_analyses(cv_text, jd_text, matched_skills, company)
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/services/ats/component_assembler.py", line 248, in _run_component_analyses
    raise result
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/services/ats/components/experience_analyzer.py", line 132, in analyze
    raise ValueError(f"Experience analysis failed: {str(e)}")
ValueError: Experience analysis failed: No API key configured for provider 'openai' for this user.

2025-10-09 11:43:12,801 - app.routes.skills_analysis - INFO - 📋 [PIPELINE] Creating input recommendation file for Australia_for_UNHCR
2025-10-09 11:43:12,802 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:43:12,803 - app.services.ats_recommendation_service - WARNING - No preextracted comparison entries found in user/vampada@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_114304.json
2025-10-09 11:43:12,804 - app.services.ats_recommendation_service - WARNING - No component analysis entries found in user/vampada@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_114304.json
2025-10-09 11:43:12,804 - app.services.ats_recommendation_service - WARNING - No ATS calculation entries found in user/vampada@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_114304.json
2025-10-09 11:43:12,804 - app.services.ats_recommendation_service - INFO - Successfully extracted comprehensive recommendation data for Australia_for_UNHCR
2025-10-09 11:43:12,805 - app.services.ats_recommendation_service - INFO - Successfully created recommendation file: user/vampada@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_114312.json
2025-10-09 11:43:12,826 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:43:12,830 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 11:43:12,830 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] {'email_1': 'vampada@gmail.com'}
2025-10-09 11:43:12,878 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 11:43:12,878 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 11:43:12,904 - sqlalchemy.engine.Engine - INFO - INSERT INTO companies (user_id, name, display_name, jd_url, created_at, updated_at) VALUES (%(user_id)s, %(name)s, %(display_name)s, %(jd_url)s, now(), now()) RETURNING companies.id, companies.created_at, companies.updated_at
2025-10-09 11:43:12,904 - sqlalchemy.engine.Engine - INFO - [generated in 0.00076s] {'user_id': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'name': 'Australia_for_UNHCR', 'display_name': 'Australia for UNHCR', 'jd_url': None}
2025-10-09 11:43:12,929 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 11:43:12,929 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] {'user_id': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'company_id': 13, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_114312.json', 'file_path': 'user/vampada@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_114312.json', 'file_size': 6166, 'sha256': '9518ed1f5f1107e05eedfa4e1bfdf66f545c345809d7383b2da0b55d714d564e', 'timestamp': '20251009_114312'}
2025-10-09 11:43:12,958 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 11:43:12,959 - sqlalchemy.engine.Engine - INFO - [generated in 0.00209s] {'user_id': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'company_id': 13, 'kind': 'input_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 143}
2025-10-09 11:43:12,981 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:43:13,005 - app.services.ats_recommendation_service - INFO - Successfully created AI recommendation prompt: user/vampada@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_prompt_recommendation.py
2025-10-09 11:43:13,006 - app.services.ats_recommendation_service - INFO - 🤖 [TRIGGER] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-09 11:43:13,006 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:43:13,006 - app.services.ats_recommendation_service - INFO - 📋 [TRIGGER] AI generation scheduled as background task for Australia_for_UNHCR
2025-10-09 11:43:13,006 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Input recommendation file created for Australia_for_UNHCR
2025-10-09 11:43:13,006 - app.routes.skills_analysis - INFO - 🤖 [PIPELINE] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-09 11:43:13,007 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:43:13,009 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-09 11:43:13,011 - app.services.ai_recommendation_generator - INFO - 🟡 [AI GENERATOR] Input recommendation is newer (ai_mtime=0, input_mtime=1759970592.8057218); regenerating AI recommendation
2025-10-09 11:43:13,012 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:43:13,012 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:43:13,012 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/vampada@gmail.com/cv-analysis
2025-10-09 11:43:13,013 - app.services.ai_recommendation_generator - INFO - ✅ [AI GENERATOR] CV is fresh - no updates since input recommendation
2025-10-09 11:43:13,015 - app.services.ai_recommendation_generator - INFO - 📋 [AI GENERATOR] Generated AI prompt for Australia_for_UNHCR using centralized template (11177 characters)
2025-10-09 11:43:13,016 - app.services.ai_recommendation_generator - INFO - 🧠 [AI GENERATOR] Executing AI prompt for Australia_for_UNHCR
2025-10-09 11:43:13,016 - app.services.ai_recommendation_generator - ERROR - Error executing AI prompt: No API key configured for provider 'openai' for this user.
2025-10-09 11:43:13,016 - app.services.ai_recommendation_generator - ERROR - Failed to get AI response for Australia_for_UNHCR
2025-10-09 11:43:13,016 - app.routes.skills_analysis - WARNING - ⚠️ [PIPELINE] AI recommendation generation failed for Australia_for_UNHCR
2025-10-09 11:43:13,017 - app.routes.skills_analysis - INFO - ⏭️ [PIPELINE] Skipping tailored CV generation for Australia_for_UNHCR (AI recommendation failed)
2025-10-09 11:43:13,017 - app.routes.skills_analysis - INFO - 📋 [PIPELINE] Pipeline summary for Australia_for_UNHCR:
2025-10-09 11:43:13,017 - app.routes.skills_analysis - INFO -    ✅ Successful: ['input_recommendation']
2025-10-09 11:43:13,017 - app.routes.skills_analysis - INFO -    ❌ Failed: ['jd_analysis', 'cv_jd_matching', 'component_analysis', 'ai_recommendation', 'tailored_cv']
2025-10-09 11:43:13,018 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-09 11:43:13,019 - app.services.ai_recommendation_generator - INFO - 🟡 [AI GENERATOR] Input recommendation is newer (ai_mtime=0, input_mtime=1759970592.8057218); regenerating AI recommendation
2025-10-09 11:43:13,020 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:43:13,023 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:43:13,024 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/vampada@gmail.com/cv-analysis
2025-10-09 11:43:13,028 - app.services.ai_recommendation_generator - INFO - ✅ [AI GENERATOR] CV is fresh - no updates since input recommendation
2025-10-09 11:43:13,030 - app.services.ai_recommendation_generator - INFO - 📋 [AI GENERATOR] Generated AI prompt for Australia_for_UNHCR using centralized template (11177 characters)
2025-10-09 11:43:13,031 - app.services.ai_recommendation_generator - INFO - 🧠 [AI GENERATOR] Executing AI prompt for Australia_for_UNHCR
2025-10-09 11:43:13,031 - app.services.ai_recommendation_generator - ERROR - Error executing AI prompt: No API key configured for provider 'openai' for this user.
2025-10-09 11:43:13,031 - app.services.ai_recommendation_generator - ERROR - Failed to get AI response for Australia_for_UNHCR
2025-10-09 11:43:13,031 - app.services.ats_recommendation_service - WARNING - ⚠️ [TRIGGER] AI recommendation generation failed for Australia_for_UNHCR
2025-10-09 11:43:13,344 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 11:43:18,949 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 11:43:19,268 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 11:43:19,269 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:43:19,315 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 11:43:19,316 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:43:19,357 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 11:43:19,358 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:43:19,405 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:43:19,405 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 11:43:19,406 - sqlalchemy.engine.Engine - INFO - [generated in 0.00104s] {}
2025-10-09 11:43:19,444 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:43:19,467 - app.database - INFO - Database connection successful
2025-10-09 11:43:19,467 - app.main - INFO - ✅ Database connection successful
2025-10-09 11:43:19,494 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:43:19,499 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:43:19,499 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:43:19,545 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:43:19,546 - sqlalchemy.engine.Engine - INFO - [cached since 0.04732s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:43:19,574 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:43:19,574 - sqlalchemy.engine.Engine - INFO - [cached since 0.07563s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:43:19,601 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:43:19,601 - sqlalchemy.engine.Engine - INFO - [cached since 0.1025s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:43:19,627 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:43:19,627 - sqlalchemy.engine.Engine - INFO - [cached since 0.129s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:43:19,654 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:43:19,655 - sqlalchemy.engine.Engine - INFO - [cached since 0.1561s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:43:19,684 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:43:19,685 - sqlalchemy.engine.Engine - INFO - [cached since 0.1862s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:43:19,709 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:43:19,709 - sqlalchemy.engine.Engine - INFO - [cached since 0.2109s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:43:19,733 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:43:19,733 - sqlalchemy.engine.Engine - INFO - [cached since 0.235s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:43:19,757 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:43:19,758 - sqlalchemy.engine.Engine - INFO - [cached since 0.2594s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:43:19,782 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:43:19,783 - sqlalchemy.engine.Engine - INFO - [cached since 0.2842s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:43:19,817 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:43:19,840 - app.database - INFO - Database tables created successfully
2025-10-09 11:43:19,840 - app.main - INFO - ✅ Database tables ready
2025-10-09 11:43:19,840 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 11:43:19,840 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 11:43:34,380 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 11:43:42,061 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 11:43:42,364 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 11:43:42,365 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:43:42,411 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 11:43:42,412 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:43:42,451 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 11:43:42,451 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:43:42,499 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:43:42,499 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 11:43:42,499 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] {}
2025-10-09 11:43:42,540 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:43:42,559 - app.database - INFO - Database connection successful
2025-10-09 11:43:42,559 - app.main - INFO - ✅ Database connection successful
2025-10-09 11:43:42,584 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:43:42,591 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:43:42,592 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:43:42,629 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:43:42,629 - sqlalchemy.engine.Engine - INFO - [cached since 0.03811s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:43:42,647 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:43:42,647 - sqlalchemy.engine.Engine - INFO - [cached since 0.05631s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:43:42,671 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:43:42,671 - sqlalchemy.engine.Engine - INFO - [cached since 0.08019s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:43:42,694 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:43:42,694 - sqlalchemy.engine.Engine - INFO - [cached since 0.1029s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:43:42,717 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:43:42,718 - sqlalchemy.engine.Engine - INFO - [cached since 0.1266s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:43:42,742 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:43:42,742 - sqlalchemy.engine.Engine - INFO - [cached since 0.1508s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:43:42,765 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:43:42,765 - sqlalchemy.engine.Engine - INFO - [cached since 0.1743s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:43:42,788 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:43:42,789 - sqlalchemy.engine.Engine - INFO - [cached since 0.1976s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:43:42,811 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:43:42,812 - sqlalchemy.engine.Engine - INFO - [cached since 0.2209s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:43:42,834 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:43:42,835 - sqlalchemy.engine.Engine - INFO - [cached since 0.2435s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:43:42,859 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:43:42,881 - app.database - INFO - Database tables created successfully
2025-10-09 11:43:42,881 - app.main - INFO - ✅ Database tables ready
2025-10-09 11:43:42,881 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 11:43:42,882 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 11:43:42,914 - app.core.model_dependency - INFO - 🔄 Using model from header without provider switch: gpt-4o
2025-10-09 11:43:42,915 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:43:42,952 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:43:42,955 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:43:42,955 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:43:43,009 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:43:43,046 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:43:43,048 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:43:43,048 - sqlalchemy.engine.Engine - INFO - [cached since 0.09335s ago] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:43:43,092 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:43:43,117 - app.routes.skills_analysis - INFO - 🎯 Preliminary analysis request: CV=maheshwor_tiwari.pdf, JD_length=6014, CONFIG=None
2025-10-09 11:43:43,117 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:43:43,117 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:43:43,118 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:43:43,118 - app.routes.skills_analysis - INFO - 🏢 Extracted company name: Australia_for_UNHCR
2025-10-09 11:43:43,119 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:43:43,121 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:43:43,121 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:43:43,121 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/vampada@gmail.com/cv-analysis
2025-10-09 11:43:43,122 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:43:43,124 - app.routes.skills_analysis - INFO - 🔗 [PRELIM_ANALYSIS] JD URL (latest job_info): https://www.ethicaljobs.com.au/members/australiaforunhcr/data-analyst
2025-10-09 11:43:43,126 - app.routes.skills_analysis - INFO - 📄 [PRELIM_ANALYSIS] Latest CV selected → type=original, ts=None, json=user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 11:43:43,128 - app.routes.skills_analysis - INFO - 🧪 [PRELIM_ANALYSIS] CV content length=4864, preview='Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD in Physics and completed a Master's in Data Science, bringing over three years of experience in Python  coding, AI, and machine learning. My expertise encompasses modeling and training AI models, writing efficient Python'
2025-10-09 11:43:43,128 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 11:43:43,128 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 11:43:43,129 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 11:43:43,129 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Starting AI-powered skills analysis for maheshwor_tiwari.pdf
2025-10-09 11:43:43,129 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] CV content length: 4864 chars
2025-10-09 11:43:43,130 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] JD content length: 6014 chars
2025-10-09 11:43:43,130 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using config: default
2025-10-09 11:43:43,130 - app.routes.skills_analysis - INFO - 🧪 [SKILLS_ANALYSIS] CV preview: 'Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD '
2025-10-09 11:43:43,130 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:43:43,130 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:43:43,130 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 11:43:43,131 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: []
2025-10-09 11:43:43,131 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 11:43:43,131 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {}
2025-10-09 11:43:43,131 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI provider: None
2025-10-09 11:43:43,131 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI model: None
2025-10-09 11:43:43,131 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Provider available: False
2025-10-09 11:43:43,131 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Model from header: gpt-4o
2025-10-09 11:43:43,131 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting CV skills with detailed structured analysis...
2025-10-09 11:43:43,132 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:43:43,132 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:43:43,151 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:43:43,152 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:43:43,153 - sqlalchemy.engine.Engine - INFO - [cached since 0.1981s ago] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:43:43,198 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:43:43,221 - app.ai.ai_service - INFO - Auto-selected provider openai based on user's API key
2025-10-09 11:43:43,246 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:43:43,247 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:43:43,248 - sqlalchemy.engine.Engine - INFO - [cached since 0.2933s ago] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:43:43,304 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:43:43,372 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-4o
2025-10-09 11:43:58,164 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 11:43:58,176 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] Starting response parsing...
2025-10-09 11:43:58,176 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] Raw response preview: ## SOFT SKILLS:

**EXPLICIT (directly stated):**
- Communication - "Presented Python-enabled research findings at international conferences, demonstrating technical expertise and communication skills."
- Teamwork - "Led engaging physics tutorials for master’s students, enhancing understanding and promoting teamwork."
- Collaboration - "Mentored students on projects, collaborated with faculty, and fostered student engagement."
- Problem-solving - "Utilized advanced Python programming for computat...
2025-10-09 11:43:58,176 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] FULL CV RESPONSE: ## SOFT SKILLS:

**EXPLICIT (directly stated):**
- Communication - "Presented Python-enabled research findings at international conferences, demonstrating technical expertise and communication skills."
- Teamwork - "Led engaging physics tutorials for master’s students, enhancing understanding and promoting teamwork."
- Collaboration - "Mentored students on projects, collaborated with faculty, and fostered student engagement."
- Problem-solving - "Utilized advanced Python programming for computational modeling and solving complex research problems."

**STRONGLY IMPLIED (very likely based on responsibilities):**
- Analytical Thinking - "Analyzed customer support data with Python to optimize response times and enhance operational efficiency."
- Innovation - "Conducting innovative research, and creating advanced visualizations that convert complex data into actionable insights."
- Detail-oriented - "Ensuring 99% data accuracy and improving data integrity and operational efficiency."

## TECHNICAL SKILLS:

**EXPLICIT (directly stated):**
- Python - "Specialized in Python programming"
- Pandas - "using libraries such as Pandas"
- NumPy - "using libraries such as Pandas, NumPy"
- scikit-learn - "and scikit-learn"
- SQL - "Proficient in SQL"
- PostgreSQL - "complex relational databases like PostgreSQL"
- MySQL - "PostgreSQL and MySQL"
- Tableau - "creating interactive dashboards and visualizations using Tableau"
- Power BI - "Tableau, Power BI"
- Matplotlib - "Power BI, and Matplotlib"
- GitHub - "Experienced with GitHub for version control"
- Docker - "Docker for containerization"
- Snowflake - "Snowflake for cloud data warehousing"
- Visual Studio Code - "Adept at leveraging tools like Visual Studio Code"
- Google Analytics - "Integrated Google Analytics data with Python for advanced analysis"
- Excel - "Excel for data-driven solutions and reporting"
- Seaborn - "using Python libraries like Matplotlib and Seaborn"

**STRONGLY IMPLIED (very likely based on responsibilities):**
- Machine Learning - "Developed machine learning models in Python for predictive analytics"
- AI - "Leveraged AI techniques to automate repetitive tasks"

## DOMAIN KEYWORDS:

**EXPLICIT:**
- Data Science - "completed a Master's in Data Science"
- Physics - "I hold a PhD in Physics"
- Data Pipelines - "designing and deploying robust data pipelines"
- Predictive Analytics - "Developed machine learning models in Python for predictive analytics"
- Data Cleaning - "Designed and implemented Python scripts for data cleaning"
- Data Preprocessing - "Leveraged Python for data preprocessing and analysis"
- Data Analysis - "Specialized in Python programming, including data analysis"
- Research - "conducting innovative research"
- Dashboards - "building comprehensive dashboards that support data-driven decision-making"
- Data-driven Decision-making - "building comprehensive dashboards that support data-driven decision-making"

**STRONGLY IMPLIED:**
- Customer Behavior Insights - "enhancing customer behavior insights"
- Operational Efficiency - "enhance operational efficiency"

## CONTEXT EVIDENCE:

**Soft Skills:**
- Communication: "Presented Python-enabled research findings at international conferences, demonstrating technical expertise and communication skills."
- Teamwork: "Led engaging physics tutorials for master’s students, enhancing understanding and promoting teamwork."
- Collaboration: "Mentored students on projects, collaborated with faculty, and fostered student engagement."
- Problem-solving: "Utilized advanced Python programming for computational modeling and solving complex research problems."

**Technical Skills:**
- Python: "Specialized in Python programming"
- Pandas: "using libraries such as Pandas"
- NumPy: "using libraries such as Pandas, NumPy"
- scikit-learn: "and scikit-learn"
- SQL: "Proficient in SQL"
- PostgreSQL: "complex relational databases like PostgreSQL"
- MySQL: "PostgreSQL and MySQL"
- Tableau: "creating interactive dashboards and visualizations using Tableau"
- Power BI: "Tableau, Power BI"
- Matplotlib: "Power BI, and Matplotlib"
- GitHub: "Experienced with GitHub for version control"
- Docker: "Docker for containerization"
- Snowflake: "Snowflake for cloud data warehousing"
- Visual Studio Code: "Adept at leveraging tools like Visual Studio Code"
- Google Analytics: "Integrated Google Analytics data with Python for advanced analysis"
- Excel: "Excel for data-driven solutions and reporting"
- Seaborn: "using Python libraries like Matplotlib and Seaborn"

**Domain Keywords:**
- Data Science: "completed a Master's in Data Science"
- Physics: "I hold a PhD in Physics"
- Data Pipelines: "designing and deploying robust data pipelines"
- Predictive Analytics: "Developed machine learning models in Python for predictive analytics"
- Data Cleaning: "Designed and implemented Python scripts for data cleaning"
- Data Preprocessing: "Leveraged Python for data preprocessing and analysis"
- Data Analysis: "Specialized in Python programming, including data analysis"
- Research: "conducting innovative research"
- Dashboards: "building comprehensive dashboards that support data-driven decision-making"
- Data-driven Decision-making: "building comprehensive dashboards that support data-driven decision-making"

```python
SOFT_SKILLS = ["Communication", "Teamwork", "Collaboration", "Problem-solving", "Analytical Thinking", "Innovation", "Detail-oriented"]
TECHNICAL_SKILLS = ["Python", "Pandas", "NumPy", "scikit-learn", "SQL", "PostgreSQL", "MySQL", "Tableau", "Power BI", "Matplotlib", "GitHub", "Docker", "Snowflake", "Visual Studio Code", "Google Analytics", "Excel", "Seaborn", "Machine Learning", "AI"]
DOMAIN_KEYWORDS = ["Data Science", "Physics", "Data Pipelines", "Predictive Analytics", "Data Cleaning", "Data Preprocessing", "Data Analysis", "Research", "Dashboards", "Data-driven Decision-making", "Customer Behavior Insights", "Operational Efficiency"]
```
2025-10-09 11:43:58,178 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Successfully extracted 38 total skills using multi-format parser
2025-10-09 11:43:58,178 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated soft_skills: 7 valid skills
2025-10-09 11:43:58,179 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated technical_skills: 19 valid skills
2025-10-09 11:43:58,179 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated domain_keywords: 12 valid skills
2025-10-09 11:43:58,179 - app.services.skill_extraction.response_parser - INFO - 📊 [CV] Parsing completed:
2025-10-09 11:43:58,179 - app.services.skill_extraction.response_parser - INFO -    Soft Skills (7): ['Communication', 'Teamwork', 'Collaboration']...
2025-10-09 11:43:58,179 - app.services.skill_extraction.response_parser - INFO -    Technical Skills (19): ['Python', 'Pandas', 'NumPy']...
2025-10-09 11:43:58,180 - app.services.skill_extraction.response_parser - INFO -    Domain Keywords (12): ['Data Science', 'Physics', 'Data Pipelines']...
2025-10-09 11:43:58,180 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting JD skills with detailed structured analysis...
2025-10-09 11:43:58,180 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:43:58,180 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:43:58,202 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:43:58,203 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:43:58,203 - sqlalchemy.engine.Engine - INFO - [cached since 15.25s ago] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:43:58,247 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:43:58,269 - app.ai.ai_service - INFO - Auto-selected provider openai based on user's API key
2025-10-09 11:43:58,292 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:43:58,293 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:43:58,293 - sqlalchemy.engine.Engine - INFO - [cached since 15.34s ago] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:43:58,337 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:43:58,384 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-4o
2025-10-09 11:44:44,757 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 11:44:44,760 - app.services.skill_extraction.response_parser - INFO - 🔍 [JD] Starting response parsing...
2025-10-09 11:44:44,761 - app.services.skill_extraction.response_parser - INFO - 🔍 [JD] Raw response preview: ## SOFT SKILLS:
**EXPLICIT (directly stated):**
- Communication - "Excellent communication and customer service skills"
- Teamwork - "collaborative and inclusive team players"
- Organization - "organised and detail-oriented"
- Problem-solving - "strong analytical and problem-solving skills"
- Stakeholder Management - "Strong stakeholder management skills"
- Customer Service - "Excellent communication and customer service skills"

**STRONGLY IMPLIED (very likely based on responsibilities):**
- An...
2025-10-09 11:44:44,761 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Successfully extracted 31 total skills using multi-format parser
2025-10-09 11:44:44,761 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated soft_skills: 10 valid skills
2025-10-09 11:44:44,762 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated technical_skills: 12 valid skills
2025-10-09 11:44:44,762 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated domain_keywords: 9 valid skills
2025-10-09 11:44:44,762 - app.services.skill_extraction.response_parser - INFO - 📊 [JD] Parsing completed:
2025-10-09 11:44:44,762 - app.services.skill_extraction.response_parser - INFO -    Soft Skills (10): ['Communication', 'Teamwork', 'Organization']...
2025-10-09 11:44:44,762 - app.services.skill_extraction.response_parser - INFO -    Technical Skills (12): ['SQL', 'Power BI', 'Tableau']...
2025-10-09 11:44:44,762 - app.services.skill_extraction.response_parser - INFO -    Domain Keywords (9): ['Fundraising', 'International Aid and Development', 'Not For Profit (NFP)']...
2025-10-09 11:44:44,762 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using structured analysis as comprehensive analysis...
2025-10-09 11:44:44,763 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Technical Skills (19): ['Python', 'Pandas', 'NumPy', 'scikit-learn', 'SQL', 'PostgreSQL', 'MySQL', 'Tableau', 'Power BI', 'Matplotlib', 'GitHub', 'Docker', 'Snowflake', 'Visual Studio Code', 'Google Analytics', 'Excel', 'Seaborn', 'Machine Learning', 'AI']
2025-10-09 11:44:44,763 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Soft Skills (7): ['Communication', 'Teamwork', 'Collaboration', 'Problem-solving', 'Analytical Thinking', 'Innovation', 'Detail-oriented']
2025-10-09 11:44:44,763 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Domain Keywords (12): ['Data Science', 'Physics', 'Data Pipelines', 'Predictive Analytics', 'Data Cleaning', 'Data Preprocessing', 'Data Analysis', 'Research', 'Dashboards', 'Data-driven Decision-making', 'Customer Behavior Insights', 'Operational Efficiency']
2025-10-09 11:44:44,763 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Technical Skills (12): ['SQL', 'Power BI', 'Tableau', 'Excel', 'VBA', 'Data Mining', 'Data Warehouse', 'BI Tools', 'Data Analysis', 'Report Creation', 'Data Extraction', 'Segmentation']
2025-10-09 11:44:44,763 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Soft Skills (10): ['Communication', 'Teamwork', 'Organization', 'Problem-solving', 'Stakeholder Management', 'Customer Service', 'Analytical Thinking', 'Detail-oriented', 'Self-motivated', 'Project Management']
2025-10-09 11:44:44,763 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Domain Keywords (9): ['Fundraising', 'International Aid and Development', 'Not For Profit (NFP)', 'Humanitarian', 'Marketing Campaigns', 'Donor-centricity', 'Evidence-based Decision Making', 'Business Intelligence', 'Data-driven Decision-making']
2025-10-09 11:44:44,763 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] Analysis completed successfully
2025-10-09 11:44:44,764 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 11:44:44,764 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:44:44,764 - app.services.skill_extraction.result_saver - INFO - 📁 Result saver initialized with base directory: user/vampada@gmail.com/cv-analysis
2025-10-09 11:44:44,764 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:44:44,765 - app.routes.skills_analysis - INFO - 🔍 [COMPANY_DETECTION] Looking in: user/vampada@gmail.com/cv-analysis/applied_companies
2025-10-09 11:44:44,766 - app.routes.skills_analysis - INFO - 📁 [COMPANY_DETECTION] Found company folder: Australia_for_UNHCR with 3 job_info files
2025-10-09 11:44:44,767 - app.routes.skills_analysis - INFO - 🏢 [COMPANY_DETECTION] Using most recent company folder: Australia_for_UNHCR
2025-10-09 11:44:44,769 - app.routes.skills_analysis - INFO - 📋 [COMPANY_DETECTION] Job info company: Australia for UNHCR
2025-10-09 11:44:44,771 - app.services.skill_extraction.result_saver - INFO - 🏢 Using provided company name: Australia_for_UNHCR -> Australia_for_UNHCR
2025-10-09 11:44:44,772 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:44:44,772 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/vampada@gmail.com/cv-analysis
2025-10-09 11:44:44,772 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:44:44,774 - app.services.skill_extraction.result_saver - INFO - 💾 Structured CV already exists, preserving it: user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 11:44:44,774 - app.services.skill_extraction.result_saver - INFO - 💾 Structured CV preserved, skipping save: user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 11:44:44,777 - app.services.skill_extraction.result_saver - INFO - 💾 Analysis results saved (JSON) to: user/vampada@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_114444.json
2025-10-09 11:44:44,777 - app.routes.skills_analysis - INFO - 📁 [FILE_SAVE] Results saved to: user/vampada@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_114444.json
2025-10-09 11:44:44,777 - app.routes.skills_analysis - INFO - 🔍 [ANALYZE_MATCH] Starting analyze match assessment...
2025-10-09 11:44:44,781 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:44:44,781 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:44:44,801 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:44:44,802 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:44:44,802 - sqlalchemy.engine.Engine - INFO - [cached since 61.85s ago] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:44:44,843 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:44:44,865 - app.ai.ai_service - INFO - Auto-selected provider openai based on user's API key
2025-10-09 11:44:44,885 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:44:44,887 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:44:44,887 - sqlalchemy.engine.Engine - INFO - [cached since 61.93s ago] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:44:44,928 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:44:45,014 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-4o
2025-10-09 11:44:59,194 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 11:44:59,198 - app.routes.skills_analysis - INFO - ✅ [ANALYZE_MATCH] Analysis completed (length: 2735 chars)
2025-10-09 11:44:59,198 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:44:59,200 - app.services.skill_extraction.result_saver - INFO - 📂 Found existing analysis file: user/vampada@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_114444.json
2025-10-09 11:44:59,200 - app.services.skill_extraction.result_saver - INFO - 🔍 Looking for analysis file in: user/vampada@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 11:44:59,201 - app.services.skill_extraction.result_saver - INFO - 📄 Using existing file: user/vampada@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_114444.json
2025-10-09 11:44:59,204 - app.services.skill_extraction.result_saver - INFO - 📁 [ANALYZE_MATCH] Results appended to: user/vampada@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_114444.json
2025-10-09 11:44:59,204 - app.routes.skills_analysis - INFO - 📁 [ANALYZE_MATCH] Results appended to: user/vampada@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_114444.json
2025-10-09 11:44:59,205 - app.routes.skills_analysis - INFO - 🔍 [PREEXTRACTED_COMPARISON] Starting pre-extracted skills semantic comparison...
2025-10-09 11:44:59,208 - app.services.skill_extraction.preextracted_comparator - INFO - 🔍 [EXACT_MATCHES] Found 3 exact matches: {'technical_skills': [{'jd_skill': 'Excel', 'cv_skill': 'Excel', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Power BI', 'cv_skill': 'Power BI', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'SQL', 'cv_skill': 'SQL', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Tableau', 'cv_skill': 'Tableau', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}], 'soft_skills': [{'jd_skill': 'Analytical Thinking', 'cv_skill': 'Analytical Thinking', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Communication', 'cv_skill': 'Communication', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Detail-oriented', 'cv_skill': 'Detail-oriented', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Problem-solving', 'cv_skill': 'Problem-solving', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Teamwork', 'cv_skill': 'Teamwork', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}], 'domain_keywords': [{'jd_skill': 'Data-driven Decision-making', 'cv_skill': 'Data-driven Decision-making', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}]}
2025-10-09 11:44:59,210 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:44:59,210 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:44:59,210 - app.services.skill_extraction.preextracted_comparator - WARNING - ⚠️ [COMPARISON] JSON mode failed: No AI provider selected. Set via /ai/set-current-model., falling back to text mode
2025-10-09 11:44:59,211 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:44:59,211 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:44:59,212 - app.routes.skills_analysis - ERROR - ❌ [PREEXTRACTED_COMPARISON] Error: No AI provider selected. Set via /ai/set-current-model.
2025-10-09 11:44:59,212 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:44:59,212 - app.routes.skills_analysis - INFO - ♻️ [PIPELINE] (preliminary-analysis) JD file already exists: user/vampada@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/jd_original_20251009_114019.json
2025-10-09 11:44:59,214 - app.routes.skills_analysis - INFO - ♻️ [JOBS] Job already exists in saved_jobs.json: Data Analyst at Australia for UNHCR
2025-10-09 11:44:59,214 - app.routes.skills_analysis - INFO - 🚀 [PIPELINE] (preliminary-analysis) scheduling for company: Australia_for_UNHCR
2025-10-09 11:44:59,215 - app.routes.skills_analysis - INFO - 🚀 [PIPELINE] Scheduling JD analysis and CV–JD matching for 'Australia_for_UNHCR'...
2025-10-09 11:44:59,217 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:44:59,218 - app.routes.skills_analysis - INFO - 🔧 [PIPELINE] Starting JD analysis for Australia_for_UNHCR (force_refresh=True)
2025-10-09 11:44:59,218 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:44:59,219 - app.services.jd_analysis.jd_analyzer - INFO - 🔄 Analyzing JD for Australia_for_UNHCR (force_refresh=True)
2025-10-09 11:44:59,220 - app.services.jd_analysis.jd_analyzer - INFO - 📄 Analyzing JD file: user/vampada@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/jd_original_20251009_114019.json
2025-10-09 11:44:59,221 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:44:59,221 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:44:59,221 - app.services.jd_analysis.jd_analyzer - ERROR - JD analysis failed: No AI provider selected. Set via /ai/set-current-model.
2025-10-09 11:44:59,221 - app.services.jd_analysis.jd_analyzer - ERROR - Failed to analyze JD file user/vampada@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/jd_original_20251009_114019.json: Failed to analyze job description: No AI provider selected. Set via /ai/set-current-model.
2025-10-09 11:44:59,221 - app.services.jd_analysis.jd_analyzer - ERROR - Failed to analyze and save company JD Australia_for_UNHCR: Failed to analyze job description file: Failed to analyze job description: No AI provider selected. Set via /ai/set-current-model.
2025-10-09 11:44:59,222 - app.routes.skills_analysis - ERROR - ❌ [PIPELINE] JD analysis failed for Australia_for_UNHCR: Failed to analyze job description file: Failed to analyze job description: No AI provider selected. Set via /ai/set-current-model.
2025-10-09 11:44:59,222 - app.routes.skills_analysis - INFO - 🔧 [PIPELINE] Starting CV–JD matching for Australia_for_UNHCR
2025-10-09 11:44:59,222 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:44:59,223 - app.routes.skills_analysis - WARNING - ⚠️ [PIPELINE] Could not preselect CV TXT for matching: No module named 'app.services.dynamic_cv_selector'
2025-10-09 11:44:59,223 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🔍 [CV_JD_MATCHER] No explicit CV path provided, using unified selector for Australia_for_UNHCR
2025-10-09 11:44:59,224 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:44:59,224 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:44:59,225 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/vampada@gmail.com/cv-analysis
2025-10-09 11:44:59,227 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:44:59,227 - app.services.jd_usage_tracker - ERROR - ❌ [JD_TRACKER] Error checking JD usage: Either jd_url or jd_text must be provided
2025-10-09 11:44:59,227 - app.services.cv_jd_matching.cv_jd_matcher - INFO - ✅ [CV_JD_MATCHER] Selected CV → type=original, ts=None, path=user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 11:44:59,229 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 📄 [CV_JD_MATCHER] Read CV from: user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 11:44:59,229 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🧪 [CV_JD_MATCHER] CV content length=4864, preview='Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD in Physics and completed a Master's in Data Science, bringing over three years of experience in Python  coding, AI, and machine learning. My expertise encompasses modeling and training AI models, writing efficient Python'
2025-10-09 11:44:59,230 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:44:59,231 - app.routes.skills_analysis - ERROR - ❌ [PIPELINE] CV-JD matching failed for Australia_for_UNHCR: JD analysis file not found: user/vampada@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_jd_analysis.json
2025-10-09 11:44:59,236 - app.routes.skills_analysis - ERROR - [PIPELINE] CV-JD matching traceback: Traceback (most recent call last):
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/routes/skills_analysis.py", line 402, in _run_pipeline
    await match_and_save_cv_jd(
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/services/cv_jd_matching/cv_jd_matcher.py", line 526, in match_and_save_cv_jd
    result = await matcher.match_cv_against_jd(company_name, cv_file_path, jd_analysis_data, temperature)
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/services/cv_jd_matching/cv_jd_matcher.py", line 349, in match_cv_against_jd
    jd_analysis_data = self._read_jd_analysis(company_name)
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/services/cv_jd_matching/cv_jd_matcher.py", line 168, in _read_jd_analysis
    raise FileNotFoundError(f"JD analysis file not found: {analysis_file}")
FileNotFoundError: JD analysis file not found: user/vampada@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_jd_analysis.json

2025-10-09 11:44:59,237 - app.routes.skills_analysis - INFO - 🔍 [PIPELINE] Starting component analysis for Australia_for_UNHCR
2025-10-09 11:44:59,238 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:44:59,238 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:44:59,239 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:44:59,239 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/vampada@gmail.com/cv-analysis
2025-10-09 11:44:59,240 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Latest CV selected → type=original, ts=None, json=user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/vampada@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 11:44:59,241 - app.routes.skills_analysis - INFO - 🧪 [PIPELINE] CV content length=4864, preview='Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD in Physics and completed a Master's in Data Science, bringing over three years of experience in Python  coding, AI, and machine learning. My expertise encompasses modeling and training AI models, writing efficient Python'
2025-10-09 11:44:59,241 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:44:59,243 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Required files found, proceeding with component analysis
2025-10-09 11:44:59,243 - app.services.ats.modular_ats_orchestrator - INFO - ===== [MODULAR ATS] Starting component analysis for: Australia_for_UNHCR =====
2025-10-09 11:44:59,243 - app.services.ats.component_assembler - INFO - ===== [ASSEMBLER] Starting component assembly for: Australia_for_UNHCR =====
2025-10-09 11:44:59,244 - app.services.ats.component_assembler - INFO - 📄 [ASSEMBLER] Using CV text provided by caller
2025-10-09 11:44:59,253 - app.services.ats.component_assembler - WARNING - [ASSEMBLER] Match results not found: user/vampada@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/cv_jd_match_results.json
2025-10-09 11:44:59,254 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Starting parallel component analyses...
2025-10-09 11:44:59,256 - app.services.ats.component_assembler - ERROR - [ASSEMBLER] Failed to calculate requirement bonus: CV-JD matching file not found for bonus calculation: expected pattern 'Australia_for_UNHCR_cv_jd_matching_<timestamp>.json' in user/vampada@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 11:44:59,256 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Requesting skills relevance analysis...
2025-10-09 11:44:59,257 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:44:59,257 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:44:59,257 - app.services.ats.components.skills_relevance_analyzer - ERROR - [SKILLS] Analysis failed: No AI provider selected. Set via /ai/set-current-model.
2025-10-09 11:44:59,258 - app.services.ats.components.skills_relevance_analyzer - WARNING - [SKILLS] Returning fallback response due to analysis error
2025-10-09 11:44:59,258 - app.services.ats.components.experience_analyzer - INFO - [EXPERIENCE] Requesting experience alignment analysis...
2025-10-09 11:44:59,258 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:44:59,258 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:44:59,259 - app.services.ats.components.experience_analyzer - ERROR - [EXPERIENCE] Analysis failed: No AI provider selected. Set via /ai/set-current-model.
2025-10-09 11:44:59,259 - app.services.ats.components.industry_analyzer - INFO - [INDUSTRY] Requesting industry fit analysis...
2025-10-09 11:44:59,259 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:44:59,259 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:44:59,259 - app.services.ats.components.industry_analyzer - ERROR - [INDUSTRY] Analysis failed: No AI provider selected. Set via /ai/set-current-model.
2025-10-09 11:44:59,267 - app.services.ats.components.seniority_analyzer - INFO - [SENIORITY] Requesting role seniority analysis...
2025-10-09 11:44:59,267 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:44:59,267 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:44:59,267 - app.services.ats.components.seniority_analyzer - ERROR - [SENIORITY] Analysis failed: No AI provider selected. Set via /ai/set-current-model.
2025-10-09 11:44:59,268 - app.services.ats.components.technical_analyzer - INFO - [TECHNICAL] Requesting technical depth analysis...
2025-10-09 11:44:59,268 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:44:59,268 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:44:59,268 - app.services.ats.components.technical_analyzer - ERROR - [TECHNICAL] Analysis failed: No AI provider selected. Set via /ai/set-current-model.
2025-10-09 11:44:59,270 - app.services.ats.component_assembler - ERROR - [ASSEMBLER] Experience analysis failed: Experience analysis failed: No AI provider selected. Set via /ai/set-current-model.
2025-10-09 11:44:59,270 - app.services.ats.component_assembler - ERROR - [ASSEMBLER] Assembly failed for Australia_for_UNHCR: Experience analysis failed: No AI provider selected. Set via /ai/set-current-model.
2025-10-09 11:44:59,270 - app.services.ats.modular_ats_orchestrator - ERROR - [MODULAR ATS] Component analysis failed for Australia_for_UNHCR: Experience analysis failed: No AI provider selected. Set via /ai/set-current-model.
2025-10-09 11:44:59,271 - app.routes.skills_analysis - ERROR - ❌ [PIPELINE] Component analysis failed for Australia_for_UNHCR: Experience analysis failed: No AI provider selected. Set via /ai/set-current-model.
2025-10-09 11:44:59,277 - app.routes.skills_analysis - ERROR - [PIPELINE] Component analysis traceback: Traceback (most recent call last):
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/services/ats/components/experience_analyzer.py", line 102, in analyze
    response = await ai_service.generate_response(
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/ai/ai_service.py", line 279, in generate_response
    raise Exception("No AI provider selected. Set via /ai/set-current-model.")
Exception: No AI provider selected. Set via /ai/set-current-model.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/routes/skills_analysis.py", line 468, in _run_pipeline
    component_result = await user_orchestrator.run_component_analysis(cname, cv_text=cv_text_for_analysis or None)
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/services/ats/modular_ats_orchestrator.py", line 53, in run_component_analysis
    result = await self.assembler.assemble_analysis(company, cv_text=cv_text, jd_url="")
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/services/ats/component_assembler.py", line 624, in assemble_analysis
    component_results = await self._run_component_analyses(cv_text, jd_text, matched_skills, company)
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/services/ats/component_assembler.py", line 248, in _run_component_analyses
    raise result
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/services/ats/components/experience_analyzer.py", line 132, in analyze
    raise ValueError(f"Experience analysis failed: {str(e)}")
ValueError: Experience analysis failed: No AI provider selected. Set via /ai/set-current-model.

2025-10-09 11:44:59,277 - app.routes.skills_analysis - INFO - 📋 [PIPELINE] Creating input recommendation file for Australia_for_UNHCR
2025-10-09 11:44:59,277 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:44:59,278 - app.services.ats_recommendation_service - WARNING - No preextracted comparison entries found in user/vampada@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_114444.json
2025-10-09 11:44:59,278 - app.services.ats_recommendation_service - WARNING - No component analysis entries found in user/vampada@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_114444.json
2025-10-09 11:44:59,278 - app.services.ats_recommendation_service - WARNING - No ATS calculation entries found in user/vampada@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_114444.json
2025-10-09 11:44:59,279 - app.services.ats_recommendation_service - INFO - Successfully extracted comprehensive recommendation data for Australia_for_UNHCR
2025-10-09 11:44:59,279 - app.services.ats_recommendation_service - INFO - Successfully created recommendation file: user/vampada@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_114459.json
2025-10-09 11:44:59,300 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:44:59,305 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 11:44:59,306 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] {'email_1': 'vampada@gmail.com'}
2025-10-09 11:44:59,344 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 11:44:59,345 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] {'user_id_1': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 11:44:59,369 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 11:44:59,370 - sqlalchemy.engine.Engine - INFO - [generated in 0.00081s] {'user_id': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'company_id': 13, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_114459.json', 'file_path': 'user/vampada@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_114459.json', 'file_size': 6486, 'sha256': '864c260ffc7c64590cfe7b907ec91ae43b19d183c79c0155880d6003dfe3b89b', 'timestamp': '20251009_114459'}
2025-10-09 11:44:59,393 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 11:44:59,393 - sqlalchemy.engine.Engine - INFO - [generated in 0.00057s] {'user_id': 'a15de508-91fb-4aae-9a2e-6a933b63272c', 'company_id': 13, 'kind': 'input_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 144}
2025-10-09 11:44:59,414 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:44:59,437 - app.services.ats_recommendation_service - INFO - Successfully created AI recommendation prompt: user/vampada@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_prompt_recommendation.py
2025-10-09 11:44:59,437 - app.services.ats_recommendation_service - INFO - 🤖 [TRIGGER] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-09 11:44:59,438 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:44:59,438 - app.services.ats_recommendation_service - INFO - 📋 [TRIGGER] AI generation scheduled as background task for Australia_for_UNHCR
2025-10-09 11:44:59,438 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Input recommendation file created for Australia_for_UNHCR
2025-10-09 11:44:59,438 - app.routes.skills_analysis - INFO - 🤖 [PIPELINE] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-09 11:44:59,439 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:44:59,439 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-09 11:44:59,441 - app.services.ai_recommendation_generator - INFO - 🟡 [AI GENERATOR] Input recommendation is newer (ai_mtime=0, input_mtime=1759970699.279708); regenerating AI recommendation
2025-10-09 11:44:59,442 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:44:59,442 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:44:59,442 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/vampada@gmail.com/cv-analysis
2025-10-09 11:44:59,444 - app.services.ai_recommendation_generator - INFO - ✅ [AI GENERATOR] CV is fresh - no updates since input recommendation
2025-10-09 11:44:59,445 - app.services.ai_recommendation_generator - INFO - 📋 [AI GENERATOR] Generated AI prompt for Australia_for_UNHCR using centralized template (11236 characters)
2025-10-09 11:44:59,445 - app.services.ai_recommendation_generator - INFO - 🧠 [AI GENERATOR] Executing AI prompt for Australia_for_UNHCR
2025-10-09 11:44:59,446 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:44:59,446 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:44:59,446 - app.services.ai_recommendation_generator - ERROR - Error executing AI prompt: No AI provider selected. Set via /ai/set-current-model.
2025-10-09 11:44:59,446 - app.services.ai_recommendation_generator - ERROR - Failed to get AI response for Australia_for_UNHCR
2025-10-09 11:44:59,446 - app.routes.skills_analysis - WARNING - ⚠️ [PIPELINE] AI recommendation generation failed for Australia_for_UNHCR
2025-10-09 11:44:59,446 - app.routes.skills_analysis - INFO - ⏭️ [PIPELINE] Skipping tailored CV generation for Australia_for_UNHCR (AI recommendation failed)
2025-10-09 11:44:59,446 - app.routes.skills_analysis - INFO - 📋 [PIPELINE] Pipeline summary for Australia_for_UNHCR:
2025-10-09 11:44:59,447 - app.routes.skills_analysis - INFO -    ✅ Successful: ['input_recommendation']
2025-10-09 11:44:59,447 - app.routes.skills_analysis - INFO -    ❌ Failed: ['jd_analysis', 'cv_jd_matching', 'component_analysis', 'ai_recommendation', 'tailored_cv']
2025-10-09 11:44:59,447 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-09 11:44:59,448 - app.services.ai_recommendation_generator - INFO - 🟡 [AI GENERATOR] Input recommendation is newer (ai_mtime=0, input_mtime=1759970699.279708); regenerating AI recommendation
2025-10-09 11:44:59,449 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:44:59,450 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:44:59,451 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/vampada@gmail.com/cv-analysis
2025-10-09 11:44:59,456 - app.services.ai_recommendation_generator - INFO - ✅ [AI GENERATOR] CV is fresh - no updates since input recommendation
2025-10-09 11:44:59,458 - app.services.ai_recommendation_generator - INFO - 📋 [AI GENERATOR] Generated AI prompt for Australia_for_UNHCR using centralized template (11236 characters)
2025-10-09 11:44:59,458 - app.services.ai_recommendation_generator - INFO - 🧠 [AI GENERATOR] Executing AI prompt for Australia_for_UNHCR
2025-10-09 11:44:59,458 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:44:59,459 - app.ai.ai_config - WARNING - No AI providers available - please configure API keys
2025-10-09 11:44:59,459 - app.services.ai_recommendation_generator - ERROR - Error executing AI prompt: No AI provider selected. Set via /ai/set-current-model.
2025-10-09 11:44:59,459 - app.services.ai_recommendation_generator - ERROR - Failed to get AI response for Australia_for_UNHCR
2025-10-09 11:44:59,459 - app.services.ats_recommendation_service - WARNING - ⚠️ [TRIGGER] AI recommendation generation failed for Australia_for_UNHCR
2025-10-09 11:44:59,490 - app.routes.skills_analysis - INFO - 📊 [API] Fetching analysis results for company: Australia_for_UNHCR
2025-10-09 11:44:59,491 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/vampada@gmail.com/cv-analysis for vampada@gmail.com
2025-10-09 11:44:59,491 - app.utils.path_debug - INFO - 
📌 Starting get_analysis_results
2025-10-09 11:44:59,491 - app.utils.path_debug - INFO -   📂 User base dir: user/vampada@gmail.com/cv-analysis
2025-10-09 11:44:59,492 - app.utils.path_debug - INFO -   📂 Company dir: user/vampada@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 11:44:59,492 - app.utils.path_debug - INFO -   📂 Using analysis file: user/vampada@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_114444.json
2025-10-09 11:44:59,493 - app.utils.path_debug - INFO -   ✅ Loaded analysis file, size: 27377 bytes
2025-10-09 11:44:59,864 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 11:45:05,772 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 11:45:06,092 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 11:45:06,093 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:45:06,134 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 11:45:06,135 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:45:06,178 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 11:45:06,178 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:45:06,224 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:45:06,225 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 11:45:06,225 - sqlalchemy.engine.Engine - INFO - [generated in 0.00075s] {}
2025-10-09 11:45:06,264 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:45:06,287 - app.database - INFO - Database connection successful
2025-10-09 11:45:06,287 - app.main - INFO - ✅ Database connection successful
2025-10-09 11:45:06,311 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:45:06,319 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:45:06,320 - sqlalchemy.engine.Engine - INFO - [generated in 0.00151s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:45:06,361 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:45:06,362 - sqlalchemy.engine.Engine - INFO - [cached since 0.04303s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:45:06,383 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:45:06,384 - sqlalchemy.engine.Engine - INFO - [cached since 0.0651s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:45:06,405 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:45:06,406 - sqlalchemy.engine.Engine - INFO - [cached since 0.08703s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:45:06,429 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:45:06,429 - sqlalchemy.engine.Engine - INFO - [cached since 0.1107s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:45:06,452 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:45:06,452 - sqlalchemy.engine.Engine - INFO - [cached since 0.1338s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:45:06,476 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:45:06,476 - sqlalchemy.engine.Engine - INFO - [cached since 0.1577s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:45:06,499 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:45:06,501 - sqlalchemy.engine.Engine - INFO - [cached since 0.1823s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:45:06,529 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:45:06,530 - sqlalchemy.engine.Engine - INFO - [cached since 0.2116s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:45:06,550 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:45:06,550 - sqlalchemy.engine.Engine - INFO - [cached since 0.2319s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:45:06,569 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:45:06,569 - sqlalchemy.engine.Engine - INFO - [cached since 0.2506s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:45:06,592 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:45:06,610 - app.database - INFO - Database tables created successfully
2025-10-09 11:45:06,611 - app.main - INFO - ✅ Database tables ready
2025-10-09 11:45:06,611 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 11:45:06,612 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 11:47:24,233 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 11:47:30,297 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 11:47:30,601 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 11:47:30,601 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:47:30,641 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 11:47:30,641 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:47:30,684 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 11:47:30,684 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:47:30,731 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:47:30,731 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 11:47:30,731 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] {}
2025-10-09 11:47:30,764 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:47:30,787 - app.database - INFO - Database connection successful
2025-10-09 11:47:30,787 - app.main - INFO - ✅ Database connection successful
2025-10-09 11:47:30,810 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:47:30,815 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:47:30,815 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:47:30,857 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:47:30,857 - sqlalchemy.engine.Engine - INFO - [cached since 0.0422s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:47:30,879 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:47:30,879 - sqlalchemy.engine.Engine - INFO - [cached since 0.06419s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:47:30,901 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:47:30,902 - sqlalchemy.engine.Engine - INFO - [cached since 0.08675s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:47:30,925 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:47:30,926 - sqlalchemy.engine.Engine - INFO - [cached since 0.111s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:47:30,948 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:47:30,949 - sqlalchemy.engine.Engine - INFO - [cached since 0.1338s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:47:30,970 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:47:30,970 - sqlalchemy.engine.Engine - INFO - [cached since 0.1554s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:47:30,992 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:47:30,992 - sqlalchemy.engine.Engine - INFO - [cached since 0.1777s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:47:31,016 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:47:31,016 - sqlalchemy.engine.Engine - INFO - [cached since 0.2017s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:47:31,038 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:47:31,039 - sqlalchemy.engine.Engine - INFO - [cached since 0.2239s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:47:31,061 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:47:31,062 - sqlalchemy.engine.Engine - INFO - [cached since 0.2468s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:47:31,084 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:47:31,100 - app.database - INFO - Database tables created successfully
2025-10-09 11:47:31,100 - app.main - INFO - ✅ Database tables ready
2025-10-09 11:47:31,100 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 11:47:31,100 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 11:48:47,360 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 11:48:47,698 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 11:48:47,698 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:48:47,739 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 11:48:47,739 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:48:47,780 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 11:48:47,780 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:48:47,820 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:48:47,820 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 11:48:47,820 - sqlalchemy.engine.Engine - INFO - [generated in 0.00065s] {}
2025-10-09 11:48:47,854 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:48:47,871 - app.database - INFO - Database connection successful
2025-10-09 11:48:47,872 - app.main - INFO - ✅ Database connection successful
2025-10-09 11:48:47,894 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:48:47,904 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:48:47,904 - sqlalchemy.engine.Engine - INFO - [generated in 0.00072s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:48:47,940 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:48:47,940 - sqlalchemy.engine.Engine - INFO - [cached since 0.03655s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:48:47,966 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:48:47,967 - sqlalchemy.engine.Engine - INFO - [cached since 0.06308s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:48:47,990 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:48:47,990 - sqlalchemy.engine.Engine - INFO - [cached since 0.08647s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:48:48,013 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:48:48,013 - sqlalchemy.engine.Engine - INFO - [cached since 0.1095s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:48:48,036 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:48:48,036 - sqlalchemy.engine.Engine - INFO - [cached since 0.1326s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:48:48,060 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:48:48,060 - sqlalchemy.engine.Engine - INFO - [cached since 0.1566s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:48:48,080 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:48:48,080 - sqlalchemy.engine.Engine - INFO - [cached since 0.1766s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:48:48,102 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:48:48,102 - sqlalchemy.engine.Engine - INFO - [cached since 0.1987s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:48:48,125 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:48:48,126 - sqlalchemy.engine.Engine - INFO - [cached since 0.2221s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:48:48,148 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:48:48,148 - sqlalchemy.engine.Engine - INFO - [cached since 0.2443s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:48:48,170 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:48:48,188 - app.database - INFO - Database tables created successfully
2025-10-09 11:48:48,188 - app.main - INFO - ✅ Database tables ready
2025-10-09 11:48:48,188 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 11:48:48,188 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 11:49:54,181 - app.main - WARNING - 🚫 Auth failed (403) for GET /api/ai/status
2025-10-09 11:50:08,572 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 11:50:15,466 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 11:50:15,774 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 11:50:15,774 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:50:15,812 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 11:50:15,812 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:50:15,856 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 11:50:15,856 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:50:15,898 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:50:15,898 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 11:50:15,898 - sqlalchemy.engine.Engine - INFO - [generated in 0.00060s] {}
2025-10-09 11:50:15,936 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:50:15,970 - app.database - INFO - Database connection successful
2025-10-09 11:50:15,971 - app.main - INFO - ✅ Database connection successful
2025-10-09 11:50:15,995 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:50:16,000 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:50:16,000 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:50:16,039 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:50:16,040 - sqlalchemy.engine.Engine - INFO - [cached since 0.03965s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:50:16,063 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:50:16,063 - sqlalchemy.engine.Engine - INFO - [cached since 0.063s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:50:16,085 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:50:16,086 - sqlalchemy.engine.Engine - INFO - [cached since 0.08598s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:50:16,107 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:50:16,107 - sqlalchemy.engine.Engine - INFO - [cached since 0.1074s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:50:16,129 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:50:16,129 - sqlalchemy.engine.Engine - INFO - [cached since 0.1295s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:50:16,149 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:50:16,149 - sqlalchemy.engine.Engine - INFO - [cached since 0.1491s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:50:16,171 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:50:16,171 - sqlalchemy.engine.Engine - INFO - [cached since 0.1712s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:50:16,192 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:50:16,192 - sqlalchemy.engine.Engine - INFO - [cached since 0.1926s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:50:16,214 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:50:16,214 - sqlalchemy.engine.Engine - INFO - [cached since 0.2144s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:50:16,236 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:50:16,236 - sqlalchemy.engine.Engine - INFO - [cached since 0.2363s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:50:16,259 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:50:16,281 - app.database - INFO - Database tables created successfully
2025-10-09 11:50:16,282 - app.main - INFO - ✅ Database tables ready
2025-10-09 11:50:16,282 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 11:50:16,282 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 11:50:27,702 - app.routes.auth - INFO - 🔵 [LOGIN] Starting login process
2025-10-09 11:50:27,702 - app.routes.auth - INFO - 🔵 [LOGIN] Raw credentials: email='munna@gmail.com' password='munnaa'
2025-10-09 11:50:27,703 - app.routes.auth - INFO - 🔵 [LOGIN] Email: 'munna@gmail.com', Password length: 6
2025-10-09 11:50:27,703 - app.routes.auth - INFO - 🔵 [LOGIN] Attempting authentication
2025-10-09 11:50:27,703 - app.core.auth - INFO - 🔵 [AUTH] Starting authentication for email: 'munna@gmail.com'
2025-10-09 11:50:27,703 - app.core.auth - INFO - 🔵 [AUTH] Normalized inputs - email: 'munna@gmail.com', password length: 6
2025-10-09 11:50:27,703 - app.core.auth - INFO - 🔵 [AUTH] Using provided database session
2025-10-09 11:50:27,703 - app.core.auth - INFO - 🔵 [AUTH] Querying database for user: 'munna@gmail.com'
2025-10-09 11:50:27,758 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:50:27,761 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 11:50:27,762 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] {'email_1': 'munna@gmail.com', 'param_1': 1}
2025-10-09 11:50:27,801 - app.core.auth - INFO - 🔵 [AUTH] User found: munna@gmail.com (ID: 4df52e53-b78f-45e9-8946-3b6c00618693, Active: True)
2025-10-09 11:50:27,801 - app.core.auth - INFO - 🔵 [AUTH] Verifying password
2025-10-09 11:50:28,403 - app.core.auth - INFO - 🔵 [AUTH] Password verification successful for user: 'munna@gmail.com'
2025-10-09 11:50:28,403 - app.core.auth - INFO - ✅ [AUTH] Authentication successful
2025-10-09 11:50:28,403 - app.routes.auth - INFO - 🔵 [LOGIN] Authentication successful for user: munna@gmail.com (ID: 4df52e53-b78f-45e9-8946-3b6c00618693)
2025-10-09 11:50:28,403 - app.routes.auth - INFO - 🔵 [LOGIN] Ensuring user directories exist for: munna@gmail.com
2025-10-09 11:50:28,404 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:50:28,404 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 11:50:28,405 - app.routes.auth - INFO - 🔵 [LOGIN] User directories verified/created successfully
2025-10-09 11:50:28,405 - app.routes.auth - INFO - 🔵 [LOGIN] Creating JWT tokens
2025-10-09 11:50:28,406 - app.routes.auth - INFO - 🔵 [LOGIN] Tokens created successfully
2025-10-09 11:50:28,406 - app.routes.auth - INFO - ✅ [LOGIN] Login successful for user: munna@gmail.com (ID: 4df52e53-b78f-45e9-8946-3b6c00618693)
2025-10-09 11:50:28,409 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:50:29,427 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:50:29,433 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:50:29,436 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:50:29,437 - app.routes.cv_simple - INFO - Listed 1 CV files
2025-10-09 11:50:29,707 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 📄 Tailored CV content request for Australia_for_UNHCR from user 4df52e53-b78f-45e9-8946-3b6c00618693
2025-10-09 11:50:29,709 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:50:29,709 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:50:29,710 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 11:50:29,715 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ Served TAILORED CV content: Australia_for_UNHCR_tailored_cv_20251008_202541.txt from tailored folder (3731 characters)
2025-10-09 11:50:45,043 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:50:45,047 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:50:45,047 - sqlalchemy.engine.Engine - INFO - [generated in 0.00050s] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:50:45,101 - sqlalchemy.engine.Engine - INFO - UPDATE user_api_keys SET encrypted_key=%(encrypted_key)s, is_valid=%(is_valid)s, updated_at=%(updated_at)s WHERE user_api_keys.id = %(user_api_keys_id)s
2025-10-09 11:50:45,101 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] {'encrypted_key': 'Z0FBQUFBQm81d2JsdWR3Z2YwV1UtQVh5ZkctUy0xeGVoQldIZWhLZm80em1nYVdqR1NNcHB4ZUlMcFJKNlBpQ3k2Njh1UGJyQ1BMQnZnbV8yNG9BYW1WdktOUnE2NEFrcnZhcUVuM1BxRENibFVWd ... (118 characters truncated) ... xYlRzLTRzaWd2SU5UdXBQNnZqYXNwSEZUdWtYWEVOTWFCTjRqY042bmFfMVAtUDd3QnZTbTc3cUNnZlE1d3kwM3VxWE1ZRUJaUnFhUGhMX2lHUERtc3lMT3JQckVibXlhNENINl8zNVFidi1tOGs9', 'is_valid': False, 'updated_at': datetime.datetime(2025, 10, 9, 0, 50, 45, 98223), 'user_api_keys_id': 10}
2025-10-09 11:50:45,139 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:50:45,155 - app.services.user_api_key_manager - INFO - Updated API key for user munna@gmail.com and provider openai
2025-10-09 11:50:45,602 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 11:50:45,644 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:50:45,646 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 11:50:45,646 - sqlalchemy.engine.Engine - INFO - [cached since 0.5992s ago] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 11:50:45,715 - sqlalchemy.engine.Engine - INFO - UPDATE user_api_keys SET is_valid=%(is_valid)s, last_validated=%(last_validated)s, updated_at=now() WHERE user_api_keys.id = %(user_api_keys_id)s
2025-10-09 11:50:45,716 - sqlalchemy.engine.Engine - INFO - [generated in 0.00057s] {'is_valid': True, 'last_validated': datetime.datetime(2025, 10, 9, 0, 50, 45, 714522), 'user_api_keys_id': 10}
2025-10-09 11:50:45,738 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:50:45,756 - app.ai.ai_service - INFO - 🔄 Refreshing AI providers after API key changes
2025-10-09 11:50:46,672 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 11:50:46,691 - app.ai.ai_service - INFO - ✅ Initialized openai provider with model gpt-4o
2025-10-09 11:50:46,691 - app.routes.api_keys - INFO - 🔄 Refreshed AI providers after setting openai API key for user munna@gmail.com
2025-10-09 11:50:51,091 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:50:51,430 - app.modules.cv.preview - INFO - CV content extracted: maheshwor_tiwari.pdf (4864 characters)
2025-10-09 11:50:51,432 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:50:51,435 - app.routes.cv_organized - INFO - CV saved as text: user/munna@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 11:50:51,436 - app.routes.cv_organized - INFO - Processing maheshwor_tiwari.pdf for structured CV format (background)...
2025-10-09 11:50:51,437 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:50:51,438 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:50:52,168 - app.services.enhanced_cv_upload_service - INFO - Text extracted successfully: 4864 characters
2025-10-09 11:50:52,169 - app.ai.ai_config - INFO - Auto-selected provider: openai with model: gpt-4o
2025-10-09 11:50:52,169 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-4o
2025-10-09 11:51:42,393 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 11:51:42,455 - app.services.structured_cv_parser - ERROR - Failed to parse LLM response as JSON: Expecting value: line 1 column 1 (char 0)
2025-10-09 11:51:42,459 - app.services.enhanced_cv_upload_service - INFO - CV parsed from raw text content
2025-10-09 11:51:42,464 - app.services.structured_cv_parser - INFO - Successfully saved structured CV to user/munna@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 11:51:42,465 - app.services.enhanced_cv_upload_service - INFO - Structured CV saved as original_cv.json: user/munna@gmail.com/cv-analysis/cvs/original/original_cv.json (replaced existing)
2025-10-09 11:51:42,567 - app.services.enhanced_cv_upload_service - INFO - Existing CV processed successfully: maheshwor_tiwari.pdf
2025-10-09 11:51:42,575 - app.routes.cv_organized - INFO - ✅ Background: CV saved as structured JSON: user/munna@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 11:51:42,616 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:51:43,245 - app.routes.cv_simple - INFO - CV content extracted: maheshwor_tiwari.pdf (4864 characters)
2025-10-09 11:51:43,250 - app.utils.directory_utils - ERROR - ❌ Failed to create cv-analysis directories: User email must be provided
2025-10-09 11:51:53,119 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:51:54,338 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 11:51:54,348 - app.ai.ai_service - INFO - ✅ Initialized openai provider with model gpt-4o
2025-10-09 11:51:55,130 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 11:51:55,143 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-4o
2025-10-09 11:51:56,256 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 11:51:56,260 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:51:56,261 - app.services.job_extraction_service - INFO - ♻️ [JOB_EXTRACTION] Job already exists in saved_jobs.json: Data Analyst at Australia for UNHCR
2025-10-09 11:51:57,590 - app.ai.ai_service - INFO - ✅ Switched to model gpt-4o
2025-10-09 11:51:57,591 - app.core.model_dependency - INFO - 🔄 Switched to model from header: gpt-4o
2025-10-09 11:51:57,593 - app.routes.skills_analysis - INFO - 🎯 Preliminary analysis request: CV=maheshwor_tiwari.pdf, JD_length=6014, CONFIG=None
2025-10-09 11:51:57,593 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-4o
2025-10-09 11:51:59,021 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 11:51:59,023 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:51:59,023 - app.routes.skills_analysis - INFO - 🏢 Extracted company name: Australia_for_UNHCR
2025-10-09 11:51:59,024 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:51:59,025 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:51:59,026 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:51:59,026 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 11:51:59,026 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:51:59,027 - app.routes.skills_analysis - INFO - 🔗 [PRELIM_ANALYSIS] JD URL (latest job_info): https://www.ethicaljobs.com.au/members/australiaforunhcr/data-analyst
2025-10-09 11:51:59,029 - app.routes.skills_analysis - INFO - 📄 [PRELIM_ANALYSIS] Latest CV selected → type=tailored, ts=20251008_202541, json=user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202541.json, txt=user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202541.txt
2025-10-09 11:51:59,032 - app.routes.skills_analysis - INFO - 🧪 [PRELIM_ANALYSIS] CV content length=3731, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • SQL, Python, Excel, Power BI, Data Analysis, Business Intelligence  EXPERIENCE Data Analyst         Jul 2024 – Present The Bitrates, Sydney, New South Wales, Australia  • Designed and implemented Python scripts for data cleaning, preprocessing, and analysis, improving data pipeline efficiency b'
2025-10-09 11:51:59,032 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 11:51:59,032 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 11:51:59,032 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 11:51:59,033 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Starting AI-powered skills analysis for maheshwor_tiwari.pdf
2025-10-09 11:51:59,033 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] CV content length: 3731 chars
2025-10-09 11:51:59,033 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] JD content length: 6014 chars
2025-10-09 11:51:59,033 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using config: default
2025-10-09 11:51:59,033 - app.routes.skills_analysis - INFO - 🧪 [SKILLS_ANALYSIS] CV preview: 'Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • SQL, Python, Excel, Power BI, Data Analysis, Business Intelligence  EXPERIE'
2025-10-09 11:51:59,033 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI provider: openai
2025-10-09 11:51:59,033 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI model: gpt-4o
2025-10-09 11:51:59,033 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Provider available: True
2025-10-09 11:51:59,034 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Model from header: gpt-4o
2025-10-09 11:51:59,034 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting CV skills with detailed structured analysis...
2025-10-09 11:51:59,034 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-4o
2025-10-09 11:52:21,580 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 11:52:21,586 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] Starting response parsing...
2025-10-09 11:52:21,587 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] Raw response preview: ## SOFT SKILLS:

**EXPLICIT (directly stated):**
- Communication - "Presented Python-enabled research findings at international conferences, demonstrating technical expertise and communication skills."
- Teamwork - "Led engaging physics tutorials for master’s students, enhancing understanding and promoting teamwork."
- Collaboration - "Collaborated with the development team to enhance analytics capabilities."
- Detail-oriented - "significantly improving customer satisfaction and decision-making ...
2025-10-09 11:52:21,587 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] FULL CV RESPONSE: ## SOFT SKILLS:

**EXPLICIT (directly stated):**
- Communication - "Presented Python-enabled research findings at international conferences, demonstrating technical expertise and communication skills."
- Teamwork - "Led engaging physics tutorials for master’s students, enhancing understanding and promoting teamwork."
- Collaboration - "Collaborated with the development team to enhance analytics capabilities."
- Detail-oriented - "significantly improving customer satisfaction and decision-making processes with a detail-oriented approach."

**STRONGLY IMPLIED (very likely based on responsibilities):**
- Problem-solving - "Utilized advanced Python programming for computational modeling and solving complex research problems."
- Analytical Thinking - "Developed 5 machine learning models in Python for predictive analytics, enabling data-driven business decisions."
- Time Management - "meeting strict deadlines for strategic decision-making."

## TECHNICAL SKILLS:

**EXPLICIT (directly stated):**
- SQL - "SQL"
- Python - "Python"
- Excel - "Excel"
- Power BI - "Power BI"
- Data Analysis - "Data Analysis"
- Business Intelligence - "Business Intelligence"
- Machine Learning - "Developed 5 machine learning models in Python for predictive analytics."
- AI - "Leveraged AI techniques to automate repetitive tasks."
- Matplotlib - "using Python libraries like Matplotlib and Seaborn."
- Seaborn - "using Python libraries like Matplotlib and Seaborn."
- Google Analytics - "Integrated Google Analytics data with Python for advanced analysis."
- Tableau - "producing Tableau dashboards that improved decision-making."

## DOMAIN KEYWORDS:

**EXPLICIT:**
- Predictive Analytics - "Developed 5 machine learning models in Python for predictive analytics."
- Data Pipeline - "improving data pipeline efficiency by 30%."
- Customer Behavior Insights - "enhancing customer behavior insights and business intelligence strategies."
- Operational Efficiency - "Analyzed customer support data with Python to optimize response times and enhance operational efficiency."
- Strategic Decision-making - "meeting strict deadlines for strategic decision-making."
- Customer Satisfaction - "significantly improving customer satisfaction and decision-making processes."

**STRONGLY IMPLIED:**
- Data Cleaning - "Designed and implemented Python scripts for data cleaning, preprocessing, and analysis."

## CONTEXT EVIDENCE:

**Soft Skills:**
- Communication: "Presented Python-enabled research findings at international conferences, demonstrating technical expertise and communication skills."
- Teamwork: "Led engaging physics tutorials for master’s students, enhancing understanding and promoting teamwork."
- Collaboration: "Collaborated with the development team to enhance analytics capabilities."
- Detail-oriented: "significantly improving customer satisfaction and decision-making processes with a detail-oriented approach."

**Technical Skills:**
- Python: "Designed and implemented Python scripts for data cleaning, preprocessing, and analysis."
- SQL: "SQL"
- Excel: "Excel"
- Power BI: "Power BI"
- Data Analysis: "Data Analysis"
- Business Intelligence: "Business Intelligence"
- Machine Learning: "Developed 5 machine learning models in Python for predictive analytics."
- AI: "Leveraged AI techniques to automate repetitive tasks."
- Matplotlib: "using Python libraries like Matplotlib and Seaborn."
- Seaborn: "using Python libraries like Matplotlib and Seaborn."
- Google Analytics: "Integrated Google Analytics data with Python for advanced analysis."
- Tableau: "producing Tableau dashboards that improved decision-making."

**Domain Keywords:**
- Predictive Analytics: "Developed 5 machine learning models in Python for predictive analytics."
- Data Pipeline: "improving data pipeline efficiency by 30%."
- Customer Behavior Insights: "enhancing customer behavior insights and business intelligence strategies."
- Operational Efficiency: "Analyzed customer support data with Python to optimize response times and enhance operational efficiency."
- Strategic Decision-making: "meeting strict deadlines for strategic decision-making."
- Customer Satisfaction: "significantly improving customer satisfaction and decision-making processes."

```python
SOFT_SKILLS = ["Communication", "Teamwork", "Collaboration", "Detail-oriented", "Problem-solving", "Analytical Thinking", "Time Management"]
TECHNICAL_SKILLS = ["SQL", "Python", "Excel", "Power BI", "Data Analysis", "Business Intelligence", "Machine Learning", "AI", "Matplotlib", "Seaborn", "Google Analytics", "Tableau"]
DOMAIN_KEYWORDS = ["Predictive Analytics", "Data Pipeline", "Customer Behavior Insights", "Operational Efficiency", "Strategic Decision-making", "Customer Satisfaction", "Data Cleaning"]
```
2025-10-09 11:52:21,590 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Successfully extracted 26 total skills using multi-format parser
2025-10-09 11:52:21,590 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated soft_skills: 7 valid skills
2025-10-09 11:52:21,590 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated technical_skills: 12 valid skills
2025-10-09 11:52:21,592 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated domain_keywords: 7 valid skills
2025-10-09 11:52:21,592 - app.services.skill_extraction.response_parser - INFO - 📊 [CV] Parsing completed:
2025-10-09 11:52:21,592 - app.services.skill_extraction.response_parser - INFO -    Soft Skills (7): ['Communication', 'Teamwork', 'Collaboration']...
2025-10-09 11:52:21,592 - app.services.skill_extraction.response_parser - INFO -    Technical Skills (12): ['SQL', 'Python', 'Excel']...
2025-10-09 11:52:21,593 - app.services.skill_extraction.response_parser - INFO -    Domain Keywords (7): ['Predictive Analytics', 'Data Pipeline', 'Customer Behavior Insights']...
2025-10-09 11:52:21,593 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting JD skills with detailed structured analysis...
2025-10-09 11:52:21,593 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-4o
2025-10-09 11:52:55,851 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 11:52:55,852 - app.services.skill_extraction.response_parser - INFO - 🔍 [JD] Starting response parsing...
2025-10-09 11:52:55,852 - app.services.skill_extraction.response_parser - INFO - 🔍 [JD] Raw response preview: ## SOFT SKILLS:

**EXPLICIT (directly stated):**
- Communication - "Excellent communication and customer service skills"
- Teamwork - "collaborative and inclusive team players"
- Organization - "organised and detail-oriented"
- Problem-solving - "strong analytical and problem-solving skills"
- Analytical Thinking - "strong analytical and problem-solving skills"
- Stakeholder Management - "Strong stakeholder management skills"
- Customer Service - "Excellent communication and customer service ski...
2025-10-09 11:52:55,853 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Successfully extracted 35 total skills using multi-format parser
2025-10-09 11:52:55,853 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated soft_skills: 11 valid skills
2025-10-09 11:52:55,854 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated technical_skills: 13 valid skills
2025-10-09 11:52:55,854 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated domain_keywords: 11 valid skills
2025-10-09 11:52:55,855 - app.services.skill_extraction.response_parser - INFO - 📊 [JD] Parsing completed:
2025-10-09 11:52:55,855 - app.services.skill_extraction.response_parser - INFO -    Soft Skills (11): ['Communication', 'Teamwork', 'Organization']...
2025-10-09 11:52:55,855 - app.services.skill_extraction.response_parser - INFO -    Technical Skills (13): ['SQL', 'Power BI', 'Tableau']...
2025-10-09 11:52:55,856 - app.services.skill_extraction.response_parser - INFO -    Domain Keywords (11): ['International Aid and Development', 'Fundraising', 'Not For Profit (NFP)']...
2025-10-09 11:52:55,856 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using structured analysis as comprehensive analysis...
2025-10-09 11:52:55,856 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Technical Skills (12): ['SQL', 'Python', 'Excel', 'Power BI', 'Data Analysis', 'Business Intelligence', 'Machine Learning', 'AI', 'Matplotlib', 'Seaborn', 'Google Analytics', 'Tableau']
2025-10-09 11:52:55,856 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Soft Skills (7): ['Communication', 'Teamwork', 'Collaboration', 'Detail-oriented', 'Problem-solving', 'Analytical Thinking', 'Time Management']
2025-10-09 11:52:55,856 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Domain Keywords (7): ['Predictive Analytics', 'Data Pipeline', 'Customer Behavior Insights', 'Operational Efficiency', 'Strategic Decision-making', 'Customer Satisfaction', 'Data Cleaning']
2025-10-09 11:52:55,857 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Technical Skills (13): ['SQL', 'Power BI', 'Tableau', 'Excel', 'VBA', 'Data Mining', 'Data Warehouse', 'BI Tools', 'Project Management', 'Data Analysis', 'Report Creation', 'Segmentation', 'Data Extraction']
2025-10-09 11:52:55,857 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Soft Skills (11): ['Communication', 'Teamwork', 'Organization', 'Problem-solving', 'Analytical Thinking', 'Stakeholder Management', 'Customer Service', 'Time Management', 'Detail-oriented', 'Self-motivated', 'Results-driven']
2025-10-09 11:52:55,857 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Domain Keywords (11): ['International Aid and Development', 'Fundraising', 'Not For Profit (NFP)', 'Humanitarian Emergencies', 'Donor-centricity', 'Multi-channel Communication', 'Evidence-based Decision Making', 'Data-driven Business Decision-making', 'Marketing Campaigns', 'Data Governance', 'Data Quality']
2025-10-09 11:52:55,857 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] Analysis completed successfully
2025-10-09 11:52:55,858 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 11:52:55,858 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:52:55,858 - app.services.skill_extraction.result_saver - INFO - 📁 Result saver initialized with base directory: user/munna@gmail.com/cv-analysis
2025-10-09 11:52:55,859 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:52:55,859 - app.routes.skills_analysis - INFO - 🔍 [COMPANY_DETECTION] Looking in: user/munna@gmail.com/cv-analysis/applied_companies
2025-10-09 11:52:55,860 - app.routes.skills_analysis - INFO - 📁 [COMPANY_DETECTION] Found company folder: Australia_for_UNHCR with 2 job_info files
2025-10-09 11:52:55,860 - app.routes.skills_analysis - INFO - 🏢 [COMPANY_DETECTION] Using most recent company folder: Australia_for_UNHCR
2025-10-09 11:52:55,860 - app.routes.skills_analysis - INFO - 📋 [COMPANY_DETECTION] Job info company: Australia for UNHCR
2025-10-09 11:52:55,861 - app.services.skill_extraction.result_saver - INFO - 🏢 Using provided company name: Australia_for_UNHCR -> Australia_for_UNHCR
2025-10-09 11:52:55,861 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:52:55,862 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 11:52:55,862 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:52:55,863 - app.services.skill_extraction.result_saver - INFO - 💾 Structured CV already exists, preserving it: user/munna@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 11:52:55,863 - app.services.skill_extraction.result_saver - INFO - 💾 Structured CV preserved, skipping save: user/munna@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 11:52:55,865 - app.services.skill_extraction.result_saver - INFO - 💾 Analysis results saved (JSON) to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_115255.json
2025-10-09 11:52:55,865 - app.routes.skills_analysis - INFO - 📁 [FILE_SAVE] Results saved to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_115255.json
2025-10-09 11:52:55,865 - app.routes.skills_analysis - INFO - 🔍 [ANALYZE_MATCH] Starting analyze match assessment...
2025-10-09 11:52:55,868 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-4o
2025-10-09 11:53:05,629 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 11:53:05,634 - app.routes.skills_analysis - INFO - ✅ [ANALYZE_MATCH] Analysis completed (length: 2534 chars)
2025-10-09 11:53:05,634 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:53:05,635 - app.services.skill_extraction.result_saver - INFO - 📂 Found existing analysis file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_115255.json
2025-10-09 11:53:05,636 - app.services.skill_extraction.result_saver - INFO - 🔍 Looking for analysis file in: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 11:53:05,636 - app.services.skill_extraction.result_saver - INFO - 📄 Using existing file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_115255.json
2025-10-09 11:53:05,639 - app.services.skill_extraction.result_saver - INFO - 📁 [ANALYZE_MATCH] Results appended to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_115255.json
2025-10-09 11:53:05,639 - app.routes.skills_analysis - INFO - 📁 [ANALYZE_MATCH] Results appended to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_115255.json
2025-10-09 11:53:05,639 - app.routes.skills_analysis - INFO - 🔍 [PREEXTRACTED_COMPARISON] Starting pre-extracted skills semantic comparison...
2025-10-09 11:53:05,643 - app.services.skill_extraction.preextracted_comparator - INFO - 🔍 [EXACT_MATCHES] Found 3 exact matches: {'technical_skills': [{'jd_skill': 'Data Analysis', 'cv_skill': 'Data Analysis', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Excel', 'cv_skill': 'Excel', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Power BI', 'cv_skill': 'Power BI', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'SQL', 'cv_skill': 'SQL', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Tableau', 'cv_skill': 'Tableau', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}], 'soft_skills': [{'jd_skill': 'Analytical Thinking', 'cv_skill': 'Analytical Thinking', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Communication', 'cv_skill': 'Communication', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Detail-oriented', 'cv_skill': 'Detail-oriented', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Problem-solving', 'cv_skill': 'Problem-solving', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Teamwork', 'cv_skill': 'Teamwork', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Time Management', 'cv_skill': 'Time Management', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}], 'domain_keywords': []}
2025-10-09 11:53:05,645 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-4o
2025-10-09 11:53:14,834 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 11:53:14,843 - app.services.skill_extraction.preextracted_comparator - WARNING - ⚠️ [COMPARISON] JSON mode failed: Failed to parse JSON from model output, falling back to text mode
2025-10-09 11:53:14,845 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-4o
2025-10-09 11:53:25,838 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 11:53:25,844 - app.routes.skills_analysis - INFO - ✅ [PREEXTRACTED_COMPARISON] Completed (length: 6849 chars)
2025-10-09 11:53:25,844 - app.services.skill_extraction.result_saver - INFO - 🏢 [PREEXTRACTED_COMPARISON] Inferred company from saved_file_path: Australia_for_UNHCR
2025-10-09 11:53:25,848 - app.services.skill_extraction.result_saver - INFO - 📁 [PREEXTRACTED_COMPARISON] Results appended to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_115255.json
2025-10-09 11:53:25,849 - app.routes.skills_analysis - INFO - 📁 [PREEXTRACTED_COMPARISON] Results appended to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_115255.json
2025-10-09 11:53:25,849 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:53:25,850 - app.routes.skills_analysis - INFO - ♻️ [PIPELINE] (preliminary-analysis) JD file already exists: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/jd_original_20251009_115156.json
2025-10-09 11:53:25,851 - app.routes.skills_analysis - INFO - ♻️ [JOBS] Job already exists in saved_jobs.json: Data Analyst at Australia for UNHCR
2025-10-09 11:53:25,851 - app.routes.skills_analysis - INFO - 🚀 [PIPELINE] (preliminary-analysis) scheduling for company: Australia_for_UNHCR
2025-10-09 11:53:25,851 - app.routes.skills_analysis - INFO - 🚀 [PIPELINE] Scheduling JD analysis and CV–JD matching for 'Australia_for_UNHCR'...
2025-10-09 11:53:25,867 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:53:25,868 - app.routes.skills_analysis - INFO - 🔧 [PIPELINE] Starting JD analysis for Australia_for_UNHCR (force_refresh=True)
2025-10-09 11:53:25,868 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:53:25,868 - app.services.jd_analysis.jd_analyzer - INFO - 🔄 Analyzing JD for Australia_for_UNHCR (force_refresh=True)
2025-10-09 11:53:25,877 - app.services.jd_analysis.jd_analyzer - INFO - 📄 Analyzing JD file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/jd_original_20251009_115156.json
2025-10-09 11:53:25,877 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-4o
2025-10-09 11:53:28,323 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 11:53:28,328 - app.services.jd_analysis.jd_analyzer - INFO - ✅ JD analysis completed. Found 0 required and 0 preferred keywords
2025-10-09 11:53:28,331 - app.services.jd_analysis.jd_analyzer - INFO - ♻️ JD analysis already exists, reusing: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_jd_analysis_20251008_201603.json
2025-10-09 11:53:28,331 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] JD analysis saved for Australia_for_UNHCR at: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_jd_analysis_20251008_201603.json
2025-10-09 11:53:28,335 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:53:28,335 - app.services.jd_usage_tracker - ERROR - ❌ [JD_TRACKER] Error recording JD usage: Either jd_url or jd_text must be provided
2025-10-09 11:53:28,336 - app.routes.skills_analysis - INFO - 📝 [PIPELINE] JD usage recorded for Australia_for_UNHCR
2025-10-09 11:53:28,336 - app.routes.skills_analysis - INFO - 🔧 [PIPELINE] Starting CV–JD matching for Australia_for_UNHCR
2025-10-09 11:53:28,337 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:53:28,338 - app.routes.skills_analysis - WARNING - ⚠️ [PIPELINE] Could not preselect CV TXT for matching: No module named 'app.services.dynamic_cv_selector'
2025-10-09 11:53:28,339 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🔍 [CV_JD_MATCHER] No explicit CV path provided, using unified selector for Australia_for_UNHCR
2025-10-09 11:53:28,339 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:53:28,340 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:53:28,340 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 11:53:28,340 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:53:28,341 - app.services.jd_usage_tracker - ERROR - ❌ [JD_TRACKER] Error checking JD usage: Either jd_url or jd_text must be provided
2025-10-09 11:53:28,342 - app.services.cv_jd_matching.cv_jd_matcher - INFO - ✅ [CV_JD_MATCHER] Selected CV → type=original, ts=None, path=user/munna@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 11:53:28,345 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 📄 [CV_JD_MATCHER] Read CV from: user/munna@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 11:53:28,345 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🧪 [CV_JD_MATCHER] CV content length=4864, preview='Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD in Physics and completed a Master's in Data Science, bringing over three years of experience in Python  coding, AI, and machine learning. My expertise encompasses modeling and training AI models, writing efficient Python'
2025-10-09 11:53:28,346 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🔍 Found 15 required and 4 preferred keywords
2025-10-09 11:53:28,346 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-4o
2025-10-09 11:53:34,046 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 11:53:34,048 - app.services.cv_jd_matching.cv_jd_matcher - INFO - ✅ CV-JD matching completed. Found 6 matched required keywords
2025-10-09 11:53:34,049 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:53:34,049 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:53:34,050 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 💾 Saved CV-JD match results to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_cv_jd_matching_20251009_115334.json
2025-10-09 11:53:34,050 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] CV–JD match results saved for Australia_for_UNHCR
2025-10-09 11:53:34,050 - app.routes.skills_analysis - INFO - 🔍 [PIPELINE] Starting component analysis for Australia_for_UNHCR
2025-10-09 11:53:34,053 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:53:34,053 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:53:34,054 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:53:34,054 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 11:53:34,055 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Latest CV selected → type=tailored, ts=20251008_202541, json=user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202541.json, txt=user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202541.txt
2025-10-09 11:53:34,058 - app.routes.skills_analysis - INFO - 🧪 [PIPELINE] CV content length=3731, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • SQL, Python, Excel, Power BI, Data Analysis, Business Intelligence  EXPERIENCE Data Analyst         Jul 2024 – Present The Bitrates, Sydney, New South Wales, Australia  • Designed and implemented Python scripts for data cleaning, preprocessing, and analysis, improving data pipeline efficiency b'
2025-10-09 11:53:34,058 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:53:34,059 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Required files found, proceeding with component analysis
2025-10-09 11:53:34,059 - app.services.ats.modular_ats_orchestrator - INFO - ===== [MODULAR ATS] Starting component analysis for: Australia_for_UNHCR =====
2025-10-09 11:53:34,059 - app.services.ats.component_assembler - INFO - ===== [ASSEMBLER] Starting component assembly for: Australia_for_UNHCR =====
2025-10-09 11:53:34,059 - app.services.ats.component_assembler - INFO - 📄 [ASSEMBLER] Using CV text provided by caller
2025-10-09 11:53:34,068 - app.services.ats.component_assembler - WARNING - [ASSEMBLER] Match results not found: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/cv_jd_match_results.json
2025-10-09 11:53:34,069 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Starting parallel component analyses...
2025-10-09 11:53:34,073 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Requesting skills relevance analysis...
2025-10-09 11:53:34,074 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-4o
2025-10-09 11:53:34,075 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Requirement bonus using match file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_cv_jd_matching_20251009_115334.json
2025-10-09 11:53:34,082 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Using existing match_counts from file
2025-10-09 11:53:34,083 - app.services.ats.requirement_bonus_calculator - INFO - [ATS][BONUS] required_total=15 matched_required=6 missing_required=9 required_bonus=3.00 required_penalty=-4.00 preferred_total=4 matched_preferred=1 missing_preferred=3 preferred_bonus=0.20 preferred_penalty=-0.45 total_bonus=-1.25
2025-10-09 11:53:34,090 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Requirement bonus calculated: -1.25 points
2025-10-09 11:54:06,817 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 11:54:06,822 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Raw response length: 4960
2025-10-09 11:54:06,822 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Raw response preview: ```json
{
  "skills_analysis": [
    {
      "skill": "SQL",
      "cv_evidence": "Not explicitly mentioned in the CV.",
      "jd_application": "Data mining, analysis, and developing reports.",
     
2025-10-09 11:54:06,823 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Cleaned response: {
  "skills_analysis": [
    {
      "skill": "SQL",
      "cv_evidence": "Not explicitly mentioned in the CV.",
      "jd_application": "Data mining, analysis, and developing reports.",
      "contex
2025-10-09 11:54:06,824 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Direct parse successful
2025-10-09 11:54:06,824 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Analysis completed. Score: 70.0
2025-10-09 11:54:06,824 - app.services.ats.components.experience_analyzer - INFO - [EXPERIENCE] Requesting experience alignment analysis...
2025-10-09 11:54:06,825 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-4o
2025-10-09 11:54:15,980 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 11:54:15,985 - app.services.ats.components.experience_analyzer - INFO - [EXPERIENCE] Analysis completed. Score: 70.0
2025-10-09 11:54:15,986 - app.services.ats.components.industry_analyzer - INFO - [INDUSTRY] Requesting industry fit analysis...
2025-10-09 11:54:15,986 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-4o
2025-10-09 11:54:24,303 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 11:54:24,307 - app.services.ats.components.industry_analyzer - INFO - [INDUSTRY] Analysis completed. Score: 35.0
2025-10-09 11:54:24,314 - app.services.ats.components.seniority_analyzer - INFO - [SENIORITY] Requesting role seniority analysis...
2025-10-09 11:54:24,314 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-4o
2025-10-09 11:54:36,556 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 11:54:36,557 - app.services.ats.components.seniority_analyzer - INFO - [SENIORITY] Analysis completed. Score: 45.0
2025-10-09 11:54:36,558 - app.services.ats.components.technical_analyzer - INFO - [TECHNICAL] Requesting technical depth analysis...
2025-10-09 11:54:36,558 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-4o
2025-10-09 11:54:38,964 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 11:54:38,967 - app.services.ats.components.technical_analyzer - INFO - [TECHNICAL] Analysis completed. Score: 90.0
2025-10-09 11:54:38,971 - app.services.ats.component_assembler - INFO - [ASSEMBLER] All component analyses completed successfully
2025-10-09 11:54:38,972 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Validating cross-analyzer consistency...
2025-10-09 11:54:38,972 - app.services.ats.components.consistency_validator - ERROR - [CONSISTENCY] Validation failed: unsupported operand type(s) for -: 'str' and 'int'
2025-10-09 11:54:38,972 - app.services.ats.component_assembler - WARNING - [ASSEMBLER] Inconsistencies detected in analysis results
2025-10-09 11:54:38,972 - app.services.ats.component_assembler - WARNING - [ASSEMBLER] Confidence score: 100%
2025-10-09 11:54:38,977 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Results saved to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_115255.json
2025-10-09 11:54:38,977 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Starting ATS score calculation...
2025-10-09 11:54:38,979 - app.services.ats.ats_score_calculator - INFO - [ATS] Starting comprehensive ATS score calculation
2025-10-09 11:54:38,979 - app.services.ats.ats_score_calculator - INFO - [ATS] Match rates - Tech: 46.15%, Domain: 27.27%, Soft: 54.55%
2025-10-09 11:54:38,980 - app.services.ats.ats_score_calculator - INFO - [ATS] Missing counts - Tech: 7, Domain: 8, Soft: 5
2025-10-09 11:54:38,980 - app.services.ats.ats_score_calculator - INFO - [ATS] Category 1 - Tech: 9.2, Domain: 1.4, Soft: 8.2, Total: 18.8
2025-10-09 11:54:38,980 - app.services.ats.ats_score_calculator - INFO - [ATS] Category 2 - Core: 15.9, Exp: 5.0, Potential: 6.0, Company: 0.4, Total: 27.4
2025-10-09 11:54:38,980 - app.services.ats.ats_score_calculator - INFO - [ATS] Final ATS Score: 44.9/100 (❌ Poor fit)
2025-10-09 11:54:38,982 - app.services.ats.component_assembler - INFO - [ASSEMBLER] ATS calculation completed. Score: 44.9/100 (❌ Poor fit)
2025-10-09 11:54:38,982 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:54:38,985 - app.services.ats_recommendation_service - INFO - Final ATS Score: 44.900999999999996
2025-10-09 11:54:38,985 - app.services.ats_recommendation_service - INFO - Category Status: ❌ Poor fit
2025-10-09 11:54:38,985 - app.services.ats_recommendation_service - INFO - Successfully extracted comprehensive recommendation data for Australia_for_UNHCR
2025-10-09 11:54:38,989 - app.services.ats_recommendation_service - INFO - Successfully created recommendation file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_115438.json
2025-10-09 11:54:39,023 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:54:39,032 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 11:54:39,033 - sqlalchemy.engine.Engine - INFO - [generated in 0.00108s] {'email_1': 'munna@gmail.com'}
2025-10-09 11:54:39,084 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 11:54:39,085 - sqlalchemy.engine.Engine - INFO - [generated in 0.00061s] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 11:54:39,114 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 11:54:39,114 - sqlalchemy.engine.Engine - INFO - [generated in 0.00051s] {'user_id': '4df52e53-b78f-45e9-8946-3b6c00618693', 'company_id': 12, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_115438.json', 'file_path': 'user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_115438.json', 'file_size': 29320, 'sha256': '283f79a11f1ace5cd8156858766989dec3391208a28d14f2e7bf3c83bb3e1e51', 'timestamp': '20251009_115438'}
2025-10-09 11:54:39,140 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 11:54:39,140 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] {'user_id': '4df52e53-b78f-45e9-8946-3b6c00618693', 'company_id': 12, 'kind': 'input_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 145}
2025-10-09 11:54:39,160 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:54:39,197 - app.services.ats_recommendation_service - INFO - Successfully created AI recommendation prompt: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_prompt_recommendation.py
2025-10-09 11:54:39,198 - app.services.ats_recommendation_service - INFO - 🤖 [TRIGGER] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-09 11:54:39,198 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:54:39,198 - app.services.ats_recommendation_service - INFO - 📋 [TRIGGER] AI generation scheduled as background task for Australia_for_UNHCR
2025-10-09 11:54:39,198 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Recommendation file created for Australia_for_UNHCR
2025-10-09 11:54:39,199 - app.services.ats.component_assembler - INFO - ===== [ASSEMBLER] Completed assembly. Scores: skills=70.0 exp=70.0 industry=35.0 seniority=45.0 tech=90.0 =====
2025-10-09 11:54:39,199 - app.services.ats.modular_ats_orchestrator - INFO - ===== [MODULAR ATS] Component analysis completed for: Australia_for_UNHCR =====
2025-10-09 11:54:39,199 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Component analysis completed for Australia_for_UNHCR
2025-10-09 11:54:39,199 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] Component scores extracted: 23 scores
2025-10-09 11:54:39,199 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] skills_relevance: 70.0
2025-10-09 11:54:39,199 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] experience_alignment: 70.0
2025-10-09 11:54:39,199 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] industry_fit: 35.0
2025-10-09 11:54:39,200 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] role_seniority: 45.0
2025-10-09 11:54:39,200 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] technical_depth: 90.0
2025-10-09 11:54:39,201 - app.routes.skills_analysis - INFO - 🎯 [PIPELINE] ATS Score calculated: 44.900999999999996
2025-10-09 11:54:39,201 - app.routes.skills_analysis - INFO - 📋 [PIPELINE] Creating input recommendation file for Australia_for_UNHCR
2025-10-09 11:54:39,202 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:54:39,203 - app.services.ats_recommendation_service - INFO - Final ATS Score: 44.900999999999996
2025-10-09 11:54:39,204 - app.services.ats_recommendation_service - INFO - Category Status: ❌ Poor fit
2025-10-09 11:54:39,204 - app.services.ats_recommendation_service - INFO - Successfully extracted comprehensive recommendation data for Australia_for_UNHCR
2025-10-09 11:54:39,206 - app.services.ats_recommendation_service - INFO - Successfully created recommendation file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_115439.json
2025-10-09 11:54:39,223 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:54:39,224 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 11:54:39,224 - sqlalchemy.engine.Engine - INFO - [cached since 0.1929s ago] {'email_1': 'munna@gmail.com'}
2025-10-09 11:54:39,268 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 11:54:39,269 - sqlalchemy.engine.Engine - INFO - [cached since 0.1845s ago] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 11:54:39,290 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 11:54:39,291 - sqlalchemy.engine.Engine - INFO - [cached since 0.177s ago] {'user_id': '4df52e53-b78f-45e9-8946-3b6c00618693', 'company_id': 12, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_115439.json', 'file_path': 'user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_115439.json', 'file_size': 29320, 'sha256': '283f79a11f1ace5cd8156858766989dec3391208a28d14f2e7bf3c83bb3e1e51', 'timestamp': '20251009_115439'}
2025-10-09 11:54:39,332 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:54:39,348 - app.services.ats_recommendation_service - WARNING - ⚠️ [DB] Failed to register input recommendation: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "uq_company_files_dedupe"
DETAIL:  Key (user_id, company_id, file_type, sha256)=(4df52e53-b78f-45e9-8946-3b6c00618693, 12, input_recommendation, 283f79a11f1ace5cd8156858766989dec3391208a28d14f2e7bf3c83bb3e1e51) already exists.

[SQL: INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at]
[parameters: {'user_id': '4df52e53-b78f-45e9-8946-3b6c00618693', 'company_id': 12, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_115439.json', 'file_path': 'user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_115439.json', 'file_size': 29320, 'sha256': '283f79a11f1ace5cd8156858766989dec3391208a28d14f2e7bf3c83bb3e1e51', 'timestamp': '20251009_115439'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-10-09 11:54:39,349 - app.services.ats_recommendation_service - INFO - Successfully created AI recommendation prompt: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_prompt_recommendation.py
2025-10-09 11:54:39,350 - app.services.ats_recommendation_service - INFO - 🤖 [TRIGGER] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-09 11:54:39,350 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:54:39,351 - app.services.ats_recommendation_service - INFO - 📋 [TRIGGER] AI generation scheduled as background task for Australia_for_UNHCR
2025-10-09 11:54:39,351 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Input recommendation file created for Australia_for_UNHCR
2025-10-09 11:54:39,351 - app.routes.skills_analysis - INFO - 🤖 [PIPELINE] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-09 11:54:39,352 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:54:39,352 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-09 11:54:39,356 - app.services.ai_recommendation_generator - INFO - 🟡 [AI GENERATOR] Input recommendation is newer (ai_mtime=1759915511.1994045, input_mtime=1759971279.206811); regenerating AI recommendation
2025-10-09 11:54:39,356 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:54:39,356 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:54:39,357 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 11:54:39,359 - app.services.ai_recommendation_generator - ERROR - ❌ [AI GENERATOR] Error checking CV freshness: 'str' object has no attribute 'timestamp'
2025-10-09 11:54:39,361 - app.services.ai_recommendation_generator - INFO - 📋 [AI GENERATOR] Generated AI prompt for Australia_for_UNHCR using centralized template (12313 characters)
2025-10-09 11:54:39,362 - app.services.ai_recommendation_generator - INFO - 🧠 [AI GENERATOR] Executing AI prompt for Australia_for_UNHCR
2025-10-09 11:54:39,362 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-4o
2025-10-09 11:54:57,711 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 11:54:57,716 - app.services.ai_recommendation_generator - INFO - 🧠 [AI GENERATOR] AI response generated - Provider: openai, Model: gpt-4o
2025-10-09 11:54:57,718 - app.services.ai_recommendation_generator - INFO - 💰 [AI GENERATOR] Cost: $0.0279, Tokens: 3494
2025-10-09 11:54:57,720 - app.services.ai_recommendation_generator - INFO - 💾 [AI GENERATOR] Saved AI recommendation: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_115457.json (3.9KB)
2025-10-09 11:54:57,739 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:54:57,740 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 11:54:57,741 - sqlalchemy.engine.Engine - INFO - [cached since 18.71s ago] {'email_1': 'munna@gmail.com'}
2025-10-09 11:54:57,781 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 11:54:57,782 - sqlalchemy.engine.Engine - INFO - [cached since 18.7s ago] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 11:54:57,805 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 11:54:57,806 - sqlalchemy.engine.Engine - INFO - [cached since 18.69s ago] {'user_id': '4df52e53-b78f-45e9-8946-3b6c00618693', 'company_id': 12, 'file_type': 'ai_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_ai_recommendation_20251009_115457.json', 'file_path': 'user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_115457.json', 'file_size': 3999, 'sha256': '3206f4857b2b7ca7a3c8d66297ecdbc587769899cf9806cf167e6404dbf8adfb', 'timestamp': '20251009_115457'}
2025-10-09 11:54:57,828 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 11:54:57,828 - sqlalchemy.engine.Engine - INFO - [cached since 18.69s ago] {'user_id': '4df52e53-b78f-45e9-8946-3b6c00618693', 'company_id': 12, 'kind': 'ai_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 147}
2025-10-09 11:54:57,851 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:54:57,868 - app.services.ai_recommendation_generator - INFO - ✅ [AI GENERATOR] AI recommendation generated and saved for Australia_for_UNHCR
2025-10-09 11:54:57,868 - app.services.ai_recommendation_generator - INFO - 📄 File: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251008_202511.json
2025-10-09 11:54:57,869 - app.services.ai_recommendation_generator - INFO - 💰 Cost: $0.0279
2025-10-09 11:54:57,869 - app.services.ai_recommendation_generator - INFO - 🔤 Tokens: 3494
2025-10-09 11:54:57,870 - app.services.ai_recommendation_generator - INFO - 🚀 [AI GENERATOR] Starting automatic CV tailoring for Australia_for_UNHCR
2025-10-09 11:54:57,871 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:54:57,872 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded CV optimization framework from /Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/tailored_cv/prompts/framework.md
2025-10-09 11:54:57,872 - app.tailored_cv.services.cv_tailoring_service - INFO - Loading real data for Australia_for_UNHCR
2025-10-09 11:54:57,873 - app.tailored_cv.services.cv_tailoring_service - INFO - Company folder: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 11:54:57,873 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:54:57,873 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:54:57,873 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 11:54:57,875 - app.tailored_cv.services.cv_tailoring_service - INFO - 📄 [TAILORING] Using latest CV via unified selector → type=tailored, ts=20251008_202541, path=user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202541.json
2025-10-09 11:54:57,875 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [DEBUG] Loading CV from user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202541.json
2025-10-09 11:54:57,876 - app.tailored_cv.services.cv_tailoring_service - INFO - - First 200 chars: {   "contact": {     "name": "Maheshwor Tiwari",     "phone": "0414 032 507",     "email": "maheshtwari99@gmail.com",     "linkedin": "",     "location": "Hurstville, NSW, 2220",     "website": ""   }
2025-10-09 11:54:57,877 - app.tailored_cv.services.recommendation_parser - INFO - 📂 Loading CV from: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202541.json
2025-10-09 11:54:57,877 - app.tailored_cv.services.recommendation_parser - INFO - 📋 CV format check:
2025-10-09 11:54:57,877 - app.tailored_cv.services.recommendation_parser - INFO -   - Top-level keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 11:54:57,878 - app.tailored_cv.services.recommendation_parser - INFO -   - Has metadata: False
2025-10-09 11:54:57,878 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Detected tailored structured CV format (contact/experience/skills)
2025-10-09 11:54:57,878 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Successfully normalized tailored structured CV
2025-10-09 11:54:57,878 - app.tailored_cv.services.cv_tailoring_service - INFO - - Parsed CV data keys: ['contact', 'education', 'experience', 'skills']
2025-10-09 11:54:57,878 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Skills already in SkillCategory format
2025-10-09 11:54:57,879 - app.tailored_cv.services.cv_tailoring_service - INFO - - Final CV object attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__repr__', '__repr_args__', '__repr_name__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_check_frozen', '_copy_and_set_values', '_get_value', '_iter', 'construct', 'contact', 'copy', 'created_at', 'dict', 'education', 'experience', 'experience_level', 'from_orm', 'json', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'projects', 'schema', 'schema_json', 'skills', 'total_years_experience', 'update_forward_refs', 'updated_at', 'validate']
2025-10-09 11:54:57,890 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Parsed recommendation for Australia_for_UNHCR
2025-10-09 11:54:57,890 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded real CV and recommendation for Australia_for_UNHCR
2025-10-09 11:54:57,890 - app.tailored_cv.services.cv_tailoring_service - INFO - 🎯 Starting CV tailoring for Australia_for_UNHCR - Senior Data Analyst
2025-10-09 11:54:57,891 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [DEBUG] Validating CV structure:
2025-10-09 11:54:57,891 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV object type: <class 'app.tailored_cv.models.cv_models.OriginalCV'>
2025-10-09 11:54:57,892 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__repr__', '__repr_args__', '__repr_name__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_check_frozen', '_copy_and_set_values', '_get_value', '_iter', 'construct', 'contact', 'copy', 'created_at', 'dict', 'education', 'experience', 'experience_level', 'from_orm', 'json', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'projects', 'schema', 'schema_json', 'skills', 'total_years_experience', 'update_forward_refs', 'updated_at', 'validate']
2025-10-09 11:54:57,894 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV data: {
  "contact": {
    "name": "Maheshwor Tiwari",
    "phone": "0414 032 507",
    "email": "maheshtwari99@gmail.com",
    "linkedin": "",
    "location": "Hurstville, NSW, 2220",
    "website": ""
  },
  "education": [
    {
      "institution": "Charles Darwin University, Sydney, Australia",
      "degree": "Master of Data Science",
      "location": "Sydney, Australia",
      "graduation_date": "Mar 2023 - Nov 2024",
      "gpa": "GPA",
      "relevant_coursework": [],
      "honors": []
    },
    {
      "institution": "CY Cergy Paris University, Cergy, France",
      "degree": "PhD in Physics",
      "location": "Cergy, France",
      "graduation_date": "Oct 2018 - Sep 2022",
      "gpa": "",
      "relevant_coursework": [],
      "honors": []
    },
    {
      "institution": "CY Cergy Paris University, Cergy, France",
      "degree": "Master of Theoretical Physics",
      "location": "Cergy, France",
      "graduation_date": "Sep 2016 - Jun 2018",
      "gpa": "",
      "relevant_coursework": [],
      "honors": []
    }
  ],
  "experience": [
    {
      "company": "The Bitrates",
      "title": "Data Analyst",
      "location": "Sydney, New South Wales, Australia",
      "start_date": "Jul 2024",
      "end_date": "Present",
      "duration": null,
      "bullets": [
        "\u2022 Designed and implemented Python scripts for data cleaning, preprocessing, and analysis, improving data pipeline efficiency by 30%.",
        "\u2022 Developed 5 machine learning models in Python for predictive analytics, enabling data-driven business decisions.",
        "\u2022 Leveraged AI techniques to automate repetitive tasks, reducing manual effort and improving productivity by 25%.",
        "\u2022 Built 7 dynamic dashboards and visualizations using Python libraries like Matplotlib and Seaborn to communicate insights effectively.",
        "\u2022 Integrated Google Analytics data with Python for advanced analysis, enhancing customer behavior insights and business intelligence strategies."
      ],
      "skills_used": null
    },
    {
      "company": "iBuild Building Solutions",
      "title": "Data Analyst",
      "location": "Victoria, Australia",
      "start_date": "Mar 2024",
      "end_date": "Jun 2024",
      "duration": null,
      "bullets": [
        "\u2022 Automated data extraction and structuring of population datasets using Python, improving data accuracy and team collaboration.",
        "\u2022 Analyzed customer support data with Python to optimize response times and enhance operational efficiency.",
        "\u2022 Developed 3 Python-based solutions to generate actionable insights, meeting strict deadlines for strategic decision-making.",
        "\u2022 Designed 5 Python scripts to create dynamic reports and dashboards, significantly improving customer satisfaction and decision-making processes with a detail-oriented approach."
      ],
      "skills_used": null
    },
    {
      "company": "Property Console",
      "title": "Software engineer and Analyst",
      "location": "Sydney, Australia",
      "start_date": "Jun 2023",
      "end_date": "Nov 2023",
      "duration": null,
      "bullets": [
        "\u2022 Built Python scripts to track key metrics, ensuring 99% data accuracy and improving data integrity and operational efficiency.",
        "\u2022 Collaborated with the development team to enhance analytics capabilities, using Python to improve data processing speed by 25%.",
        "\u2022 Leveraged Python for data preprocessing and analysis, producing Tableau dashboards that improved decision-making.",
        "\u2022 Supported 3 cross-functional teams with Python-driven insights, enabling customer-focused initiatives."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Research Assistant",
      "location": "Cergy-Pontoise, France",
      "start_date": "Oct 2018",
      "end_date": "Sep 2022",
      "duration": null,
      "bullets": [
        "\u2022 Utilized advanced Python programming for computational modeling and solving complex research problems.",
        "\u2022 Developed Python-based workflows to manage and analyze large datasets across multiple research projects.",
        "\u2022 Presented Python-enabled research findings at international conferences, demonstrating technical expertise and communication skills."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Lecturer and Course Facilitator",
      "location": "Cergy-Pontoise, France",
      "start_date": "Sep 2019",
      "end_date": "Jun 2022",
      "duration": null,
      "bullets": [
        "\u2022 Led engaging physics tutorials for master\u2019s students, enhancing understanding and promoting teamwork.",
        "\u2022 Designed course materials, assignments, and exams, strengthening the learning experience.",
        "\u2022 Mentored students on projects, collaborated with faculty, and fostered student engagement."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Research Intern",
      "location": "Cergy-Pontoise, France",
      "start_date": "Feb 2018",
      "end_date": "Jun 2018",
      "duration": null,
      "bullets": [
        "\u2022 Developed proficiency in Python programming by researching the effect of magnetic fields on 2D materials.",
        "\u2022 Managed and analyzed complex data sets, improving their accuracy and reliability.",
        "\u2022 Used dashboard using Power BI to present research findings and participated in weekly reviews, improving collaboration and research skills."
      ],
      "skills_used": null
    }
  ],
  "projects": null,
  "skills": [
    {
      "category": "Technical Skills",
      "skills": [
        "SQL",
        "Python",
        "Excel",
        "Power BI"
      ]
    },
    {
      "category": "Other Skills",
      "skills": [
        "Data Analysis",
        "Business Intelligence"
      ]
    }
  ],
  "experience_level": null,
  "total_years_experience": null,
  "created_at": null,
  "updated_at": null
}
2025-10-09 11:54:57,895 - app.tailored_cv.services.cv_tailoring_service - INFO - [f399c066] 🎯 Starting CV tailoring for Australia_for_UNHCR with strategy: education_last
2025-10-09 11:54:57,895 - app.tailored_cv.services.cv_tailoring_service - INFO - [f399c066] Initial stats:
2025-10-09 11:54:57,895 - app.tailored_cv.services.cv_tailoring_service - INFO - [f399c066] - Experience entries: 6
2025-10-09 11:54:57,895 - app.tailored_cv.services.cv_tailoring_service - INFO - [f399c066] - Total bullets: 22
2025-10-09 11:54:57,896 - app.tailored_cv.services.cv_tailoring_service - INFO - [f399c066] - Skills categories: 2
2025-10-09 11:54:57,896 - app.tailored_cv.services.cv_tailoring_service - INFO - [f399c066] - Total skills: 6
2025-10-09 11:54:57,896 - app.tailored_cv.services.cv_tailoring_service - INFO - [f399c066] Critical gaps to address: Fundraising, VBA, Data Warehouse, Data Extraction, Analytical
2025-10-09 11:54:57,896 - app.tailored_cv.services.cv_tailoring_service - INFO - [f399c066] Technical enhancements needed: 
2025-10-09 11:54:57,899 - app.tailored_cv.services.cv_tailoring_service - INFO - [f399c066] 🤖 Generating tailored CV using AI service...
2025-10-09 11:54:57,899 - app.tailored_cv.services.cv_tailoring_service - INFO - [f399c066] Attempt 1/5 with temp=0.0
2025-10-09 11:54:57,900 - app.tailored_cv.services.cv_tailoring_service - INFO - [f399c066] - System prompt length: 10574
2025-10-09 11:54:57,900 - app.tailored_cv.services.cv_tailoring_service - INFO - [f399c066] - User prompt length: 12828
2025-10-09 11:54:57,901 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-4o
2025-10-09 11:55:46,437 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 11:55:46,456 - app.tailored_cv.services.cv_tailoring_service - INFO - [f399c066] AI response stats:
2025-10-09 11:55:46,456 - app.tailored_cv.services.cv_tailoring_service - INFO - [f399c066] - Content length: 6697
2025-10-09 11:55:46,457 - app.tailored_cv.services.cv_tailoring_service - INFO - [f399c066] - First 300 chars: ```json {   "contact": {     "name": "Maheshwor Tiwari",     "phone": "0414 032 507",     "email": "maheshtwari99@gmail.com",     "location": "Hurstville, NSW, 2220",     "linkedin": "",     "website": ""   },   "experience": [     {       "company": "The Bitrates",       "title": "Data Analyst",   ...
2025-10-09 11:55:46,457 - app.tailored_cv.services.cv_tailoring_service - INFO - Starting JSON extraction from content length: 6697
2025-10-09 11:55:46,457 - app.tailored_cv.services.cv_tailoring_service - INFO - Found ```json markers, extracting content
2025-10-09 11:55:46,457 - app.tailored_cv.services.cv_tailoring_service - INFO - Extracted JSON from markdown block, length: 6685
2025-10-09 11:55:46,458 - app.tailored_cv.services.cv_tailoring_service - INFO - [f399c066] 🔍 Starting JSON validation
2025-10-09 11:55:46,459 - app.tailored_cv.services.cv_tailoring_service - INFO - [f399c066] CV created with excellent quality: 90.9% quantification
2025-10-09 11:55:46,460 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ JSON structure and Impact Formula validation passed (20/22 bullets with quantification)
2025-10-09 11:55:46,460 - app.tailored_cv.services.cv_tailoring_service - INFO - ℹ️ Skipping placeholder checks; proceeding with generated data as-is.
2025-10-09 11:55:46,461 - app.tailored_cv.services.cv_tailoring_service - INFO - [f399c066] 🔍 Starting keyword integration validation
2025-10-09 11:55:46,461 - app.tailored_cv.services.cv_tailoring_service - INFO - [f399c066] Scanning experience bullets:
2025-10-09 11:55:46,461 - app.tailored_cv.services.cv_tailoring_service - INFO - [f399c066] - Experience 1: 5 bullets
2025-10-09 11:55:46,461 - app.tailored_cv.services.cv_tailoring_service - INFO - [f399c066] - Experience 2: 4 bullets
2025-10-09 11:55:46,461 - app.tailored_cv.services.cv_tailoring_service - INFO - [f399c066] - Experience 3: 4 bullets
2025-10-09 11:55:46,462 - app.tailored_cv.services.cv_tailoring_service - INFO - [f399c066] - Experience 4: 3 bullets
2025-10-09 11:55:46,462 - app.tailored_cv.services.cv_tailoring_service - INFO - [f399c066] - Experience 5: 3 bullets
2025-10-09 11:55:46,462 - app.tailored_cv.services.cv_tailoring_service - INFO - [f399c066] - Experience 6: 3 bullets
2025-10-09 11:55:46,463 - app.tailored_cv.services.cv_tailoring_service - INFO - [f399c066] Scanning skills:
2025-10-09 11:55:46,464 - app.tailored_cv.services.cv_tailoring_service - INFO - [f399c066] - Category 1: 7 skills
2025-10-09 11:55:46,464 - app.tailored_cv.services.cv_tailoring_service - INFO - [f399c066] - Category 2: 5 skills
2025-10-09 11:55:46,465 - app.tailored_cv.services.cv_tailoring_service - WARNING - ⚠️ Some keywords not found but within acceptable range: Fundraising
2025-10-09 11:55:46,466 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Keyword integration validation passed - 6/7 critical keywords found
2025-10-09 11:55:46,466 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Keyword integration validation passed - 7 critical keywords found
2025-10-09 11:55:46,466 - app.tailored_cv.services.cv_tailoring_service - INFO - [f399c066] ✅ AI generation successful on attempt 1
2025-10-09 11:55:46,472 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-4o
2025-10-09 11:55:47,058 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 11:55:47,060 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ CV tailoring completed successfully. Estimated ATS score: 85
2025-10-09 11:55:47,067 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Saved tailored CV to user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.json
2025-10-09 11:55:47,067 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Saved tailored CV text to user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.txt
2025-10-09 11:55:47,067 - app.services.ai_recommendation_generator - INFO - ✅ [AI GENERATOR] Tailored CV saved automatically to user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.json
2025-10-09 11:55:47,067 - app.services.ai_recommendation_generator - INFO - 📊 [AI GENERATOR] Estimated ATS score: 85
2025-10-09 11:55:47,067 - app.services.ai_recommendation_generator - INFO - 🎯 [AI GENERATOR] CV tailoring completed automatically for Australia_for_UNHCR
2025-10-09 11:55:47,068 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] AI recommendation generated for Australia_for_UNHCR
2025-10-09 11:55:47,068 - app.routes.skills_analysis - INFO - 🎯 [PIPELINE] Starting tailored CV generation for Australia_for_UNHCR
2025-10-09 11:55:47,068 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:55:47,069 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded CV optimization framework from /Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/tailored_cv/prompts/framework.md
2025-10-09 11:55:47,070 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:55:47,072 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Found AI recommendation file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_115457.json
2025-10-09 11:55:47,073 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Tailored CV found: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.txt
2025-10-09 11:55:47,073 - app.routes.skills_analysis - INFO - 📋 [PIPELINE] Pipeline summary for Australia_for_UNHCR:
2025-10-09 11:55:47,073 - app.routes.skills_analysis - INFO -    ✅ Successful: ['jd_analysis', 'cv_jd_matching', 'component_analysis', 'input_recommendation', 'ai_recommendation', 'tailored_cv']
2025-10-09 11:55:47,073 - app.routes.skills_analysis - INFO -    🎉 All steps completed successfully!
2025-10-09 11:55:47,075 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-09 11:55:47,076 - app.services.ai_recommendation_generator - INFO - 🟢 [AI GENERATOR] Latest AI recommendation (Australia_for_UNHCR_ai_recommendation_20251009_115457.json) is up-to-date vs input (Australia_for_UNHCR_input_recommendation_20251009_115439.json); skipping regeneration
2025-10-09 11:55:47,077 - app.services.ats_recommendation_service - INFO - ✅ [TRIGGER] AI recommendation generated successfully for Australia_for_UNHCR
2025-10-09 11:55:47,077 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-09 11:55:47,078 - app.services.ai_recommendation_generator - INFO - 🟢 [AI GENERATOR] Latest AI recommendation (Australia_for_UNHCR_ai_recommendation_20251009_115457.json) is up-to-date vs input (Australia_for_UNHCR_input_recommendation_20251009_115439.json); skipping regeneration
2025-10-09 11:55:47,079 - app.services.ats_recommendation_service - INFO - ✅ [TRIGGER] AI recommendation generated successfully for Australia_for_UNHCR
2025-10-09 11:55:47,181 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 11:55:54,035 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 11:55:54,320 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 11:55:54,320 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:55:54,361 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 11:55:54,361 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:55:54,395 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 11:55:54,396 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:55:54,431 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:55:54,432 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 11:55:54,432 - sqlalchemy.engine.Engine - INFO - [generated in 0.00087s] {}
2025-10-09 11:55:54,471 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:55:54,488 - app.database - INFO - Database connection successful
2025-10-09 11:55:54,488 - app.main - INFO - ✅ Database connection successful
2025-10-09 11:55:54,511 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:55:54,518 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:55:54,518 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:55:54,555 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:55:54,555 - sqlalchemy.engine.Engine - INFO - [cached since 0.03735s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:55:54,577 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:55:54,578 - sqlalchemy.engine.Engine - INFO - [cached since 0.05963s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:55:54,601 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:55:54,602 - sqlalchemy.engine.Engine - INFO - [cached since 0.084s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:55:54,623 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:55:54,624 - sqlalchemy.engine.Engine - INFO - [cached since 0.1056s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:55:54,648 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:55:54,648 - sqlalchemy.engine.Engine - INFO - [cached since 0.1302s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:55:54,675 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:55:54,675 - sqlalchemy.engine.Engine - INFO - [cached since 0.1571s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:55:54,698 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:55:54,698 - sqlalchemy.engine.Engine - INFO - [cached since 0.1801s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:55:54,718 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:55:54,720 - sqlalchemy.engine.Engine - INFO - [cached since 0.2017s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:55:54,753 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:55:54,753 - sqlalchemy.engine.Engine - INFO - [cached since 0.2354s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:55:54,774 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:55:54,775 - sqlalchemy.engine.Engine - INFO - [cached since 0.2568s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:55:54,798 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:55:54,814 - app.database - INFO - Database tables created successfully
2025-10-09 11:55:54,814 - app.main - INFO - ✅ Database tables ready
2025-10-09 11:55:54,814 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 11:55:54,815 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 11:55:54,826 - app.routes.skills_analysis - INFO - 📊 [API] Fetching analysis results for company: Australia_for_UNHCR
2025-10-09 11:55:54,826 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:55:54,827 - app.utils.path_debug - INFO - 
📌 Starting get_analysis_results
2025-10-09 11:55:54,827 - app.utils.path_debug - INFO -   📂 User base dir: user/munna@gmail.com/cv-analysis
2025-10-09 11:55:54,827 - app.utils.path_debug - INFO -   📂 Company dir: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 11:55:54,828 - app.utils.path_debug - INFO -   📂 Using analysis file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_115255.json
2025-10-09 11:55:54,830 - app.utils.path_debug - INFO -   ✅ Loaded analysis file, size: 48291 bytes
2025-10-09 11:56:07,177 - app.routes.skills_analysis - INFO - 📊 [API] Fetching analysis results for company: Australia_for_UNHCR
2025-10-09 11:56:07,179 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:56:07,179 - app.utils.path_debug - INFO - 
📌 Starting get_analysis_results
2025-10-09 11:56:07,179 - app.utils.path_debug - INFO -   📂 User base dir: user/munna@gmail.com/cv-analysis
2025-10-09 11:56:07,179 - app.utils.path_debug - INFO -   📂 Company dir: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 11:56:07,180 - app.utils.path_debug - INFO -   📂 Using analysis file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_115255.json
2025-10-09 11:56:07,182 - app.utils.path_debug - INFO -   ✅ Loaded analysis file, size: 48291 bytes
2025-10-09 11:56:29,612 - app.routes.ai_recommendations - INFO - 🔍 [AI_RECOMMENDATIONS] Fetching for company: Australia_for_UNHCR, user: munna@gmail.com
2025-10-09 11:56:29,613 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:56:29,613 - app.routes.ai_recommendations - INFO - 🔍 [AI_RECOMMENDATIONS] Searching in: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 11:56:29,614 - app.routes.ai_recommendations - INFO - ✅ [AI_RECOMMENDATIONS] Found file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_115457.json
2025-10-09 11:56:29,614 - app.routes.ai_recommendations - INFO - ✅ [AI_RECOMMENDATIONS] Successfully loaded recommendation, content length: 3615
2025-10-09 11:56:44,954 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:56:45,004 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 📄 Tailored CV content request for Australia_for_UNHCR from user 4df52e53-b78f-45e9-8946-3b6c00618693
2025-10-09 11:56:45,004 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:56:45,005 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 11:56:45,005 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 11:56:45,007 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ Served TAILORED CV content: Australia_for_UNHCR_tailored_cv_20251009_115547.txt from tailored folder (4113 characters)
2025-10-09 11:56:56,311 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 11:57:18,069 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 11:57:18,447 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 11:57:18,447 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:57:18,487 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 11:57:18,487 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:57:18,527 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 11:57:18,529 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:57:18,566 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:57:18,567 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 11:57:18,567 - sqlalchemy.engine.Engine - INFO - [generated in 0.00082s] {}
2025-10-09 11:57:18,608 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:57:18,622 - app.database - INFO - Database connection successful
2025-10-09 11:57:18,623 - app.main - INFO - ✅ Database connection successful
2025-10-09 11:57:18,644 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:57:18,654 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:18,655 - sqlalchemy.engine.Engine - INFO - [generated in 0.00073s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:18,694 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:18,695 - sqlalchemy.engine.Engine - INFO - [cached since 0.04052s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:18,715 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:18,715 - sqlalchemy.engine.Engine - INFO - [cached since 0.06104s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:18,738 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:18,739 - sqlalchemy.engine.Engine - INFO - [cached since 0.08439s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:18,762 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:18,762 - sqlalchemy.engine.Engine - INFO - [cached since 0.1077s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:18,782 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:18,782 - sqlalchemy.engine.Engine - INFO - [cached since 0.1279s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:18,805 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:18,805 - sqlalchemy.engine.Engine - INFO - [cached since 0.1509s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:18,828 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:18,828 - sqlalchemy.engine.Engine - INFO - [cached since 0.174s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:18,848 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:18,849 - sqlalchemy.engine.Engine - INFO - [cached since 0.1944s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:18,869 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:18,870 - sqlalchemy.engine.Engine - INFO - [cached since 0.2155s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:18,892 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:18,892 - sqlalchemy.engine.Engine - INFO - [cached since 0.238s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:18,913 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:57:18,990 - app.database - INFO - Database tables created successfully
2025-10-09 11:57:18,990 - app.main - INFO - ✅ Database tables ready
2025-10-09 11:57:18,990 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 11:57:18,991 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 11:57:19,922 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 11:57:24,105 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 11:57:24,386 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 11:57:24,386 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:57:24,422 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 11:57:24,422 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:57:24,457 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 11:57:24,458 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:57:24,505 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:57:24,505 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 11:57:24,505 - sqlalchemy.engine.Engine - INFO - [generated in 0.00056s] {}
2025-10-09 11:57:24,539 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:57:24,561 - app.database - INFO - Database connection successful
2025-10-09 11:57:24,562 - app.main - INFO - ✅ Database connection successful
2025-10-09 11:57:24,585 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:57:24,591 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:24,592 - sqlalchemy.engine.Engine - INFO - [generated in 0.00091s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:24,635 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:24,636 - sqlalchemy.engine.Engine - INFO - [cached since 0.0446s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:24,656 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:24,656 - sqlalchemy.engine.Engine - INFO - [cached since 0.06534s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:24,681 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:24,681 - sqlalchemy.engine.Engine - INFO - [cached since 0.09021s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:24,704 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:24,704 - sqlalchemy.engine.Engine - INFO - [cached since 0.1133s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:24,728 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:24,728 - sqlalchemy.engine.Engine - INFO - [cached since 0.1372s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:24,753 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:24,753 - sqlalchemy.engine.Engine - INFO - [cached since 0.1623s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:24,777 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:24,778 - sqlalchemy.engine.Engine - INFO - [cached since 0.1864s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:24,801 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:24,802 - sqlalchemy.engine.Engine - INFO - [cached since 0.2105s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:24,823 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:24,823 - sqlalchemy.engine.Engine - INFO - [cached since 0.2317s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:24,844 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:24,845 - sqlalchemy.engine.Engine - INFO - [cached since 0.2534s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:24,868 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:57:24,890 - app.database - INFO - Database tables created successfully
2025-10-09 11:57:24,890 - app.main - INFO - ✅ Database tables ready
2025-10-09 11:57:24,890 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 11:57:24,890 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 11:57:26,405 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 11:57:33,481 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 11:57:33,755 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 11:57:33,755 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:57:33,801 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 11:57:33,801 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:57:33,840 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 11:57:33,840 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:57:33,881 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:57:33,882 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 11:57:33,882 - sqlalchemy.engine.Engine - INFO - [generated in 0.00073s] {}
2025-10-09 11:57:33,920 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:57:33,937 - app.database - INFO - Database connection successful
2025-10-09 11:57:33,937 - app.main - INFO - ✅ Database connection successful
2025-10-09 11:57:33,954 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:57:33,962 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:33,963 - sqlalchemy.engine.Engine - INFO - [generated in 0.00055s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:34,001 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:34,002 - sqlalchemy.engine.Engine - INFO - [cached since 0.0396s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:34,024 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:34,025 - sqlalchemy.engine.Engine - INFO - [cached since 0.0626s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:34,047 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:34,049 - sqlalchemy.engine.Engine - INFO - [cached since 0.08642s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:34,068 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:34,069 - sqlalchemy.engine.Engine - INFO - [cached since 0.1065s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:34,099 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:34,099 - sqlalchemy.engine.Engine - INFO - [cached since 0.1374s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:34,133 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:34,134 - sqlalchemy.engine.Engine - INFO - [cached since 0.1714s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:34,151 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:34,151 - sqlalchemy.engine.Engine - INFO - [cached since 0.1888s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:34,176 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:34,177 - sqlalchemy.engine.Engine - INFO - [cached since 0.2152s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:34,198 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:34,198 - sqlalchemy.engine.Engine - INFO - [cached since 0.2363s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:34,220 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:34,220 - sqlalchemy.engine.Engine - INFO - [cached since 0.2583s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:34,244 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:57:34,266 - app.database - INFO - Database tables created successfully
2025-10-09 11:57:34,269 - app.main - INFO - ✅ Database tables ready
2025-10-09 11:57:34,269 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 11:57:34,270 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 11:57:34,473 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 11:57:38,400 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 11:57:38,659 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 11:57:38,660 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:57:38,697 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 11:57:38,698 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:57:38,741 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 11:57:38,741 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:57:38,788 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:57:38,789 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 11:57:38,789 - sqlalchemy.engine.Engine - INFO - [generated in 0.00143s] {}
2025-10-09 11:57:38,822 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:57:38,845 - app.database - INFO - Database connection successful
2025-10-09 11:57:38,845 - app.main - INFO - ✅ Database connection successful
2025-10-09 11:57:38,861 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:57:38,873 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:38,874 - sqlalchemy.engine.Engine - INFO - [generated in 0.00111s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:38,912 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:38,913 - sqlalchemy.engine.Engine - INFO - [cached since 0.04025s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:38,937 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:38,937 - sqlalchemy.engine.Engine - INFO - [cached since 0.06448s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:38,961 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:38,961 - sqlalchemy.engine.Engine - INFO - [cached since 0.08871s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:38,983 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:38,984 - sqlalchemy.engine.Engine - INFO - [cached since 0.1113s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:39,006 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:39,007 - sqlalchemy.engine.Engine - INFO - [cached since 0.1344s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:39,026 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:39,027 - sqlalchemy.engine.Engine - INFO - [cached since 0.1541s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:39,050 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:39,050 - sqlalchemy.engine.Engine - INFO - [cached since 0.1777s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:39,074 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:39,075 - sqlalchemy.engine.Engine - INFO - [cached since 0.2021s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:39,100 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:39,101 - sqlalchemy.engine.Engine - INFO - [cached since 0.228s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:39,125 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:39,125 - sqlalchemy.engine.Engine - INFO - [cached since 0.2528s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:39,147 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:57:39,170 - app.database - INFO - Database tables created successfully
2025-10-09 11:57:39,170 - app.main - INFO - ✅ Database tables ready
2025-10-09 11:57:39,171 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 11:57:39,171 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 11:57:40,585 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 11:57:47,364 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 11:57:47,626 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 11:57:47,626 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:57:47,662 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 11:57:47,662 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:57:47,713 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 11:57:47,713 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:57:47,754 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:57:47,754 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 11:57:47,754 - sqlalchemy.engine.Engine - INFO - [generated in 0.00060s] {}
2025-10-09 11:57:47,799 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:57:47,822 - app.database - INFO - Database connection successful
2025-10-09 11:57:47,822 - app.main - INFO - ✅ Database connection successful
2025-10-09 11:57:47,844 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:57:47,849 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:47,849 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:47,890 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:47,891 - sqlalchemy.engine.Engine - INFO - [cached since 0.04171s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:47,913 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:47,914 - sqlalchemy.engine.Engine - INFO - [cached since 0.06452s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:47,935 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:47,936 - sqlalchemy.engine.Engine - INFO - [cached since 0.08653s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:47,959 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:47,960 - sqlalchemy.engine.Engine - INFO - [cached since 0.1109s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:47,981 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:47,981 - sqlalchemy.engine.Engine - INFO - [cached since 0.1324s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:48,004 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:48,004 - sqlalchemy.engine.Engine - INFO - [cached since 0.1548s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:48,026 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:48,027 - sqlalchemy.engine.Engine - INFO - [cached since 0.1776s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:48,049 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:48,049 - sqlalchemy.engine.Engine - INFO - [cached since 0.2001s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:48,068 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:48,068 - sqlalchemy.engine.Engine - INFO - [cached since 0.2188s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:48,091 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:48,091 - sqlalchemy.engine.Engine - INFO - [cached since 0.2419s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:48,114 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:57:48,131 - app.database - INFO - Database tables created successfully
2025-10-09 11:57:48,131 - app.main - INFO - ✅ Database tables ready
2025-10-09 11:57:48,132 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 11:57:48,132 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 11:57:52,690 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 11:57:56,791 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 11:57:57,074 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 11:57:57,074 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:57:57,115 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 11:57:57,115 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:57:57,154 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 11:57:57,154 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:57:57,198 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:57:57,198 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 11:57:57,198 - sqlalchemy.engine.Engine - INFO - [generated in 0.00059s] {}
2025-10-09 11:57:57,240 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:57:57,262 - app.database - INFO - Database connection successful
2025-10-09 11:57:57,262 - app.main - INFO - ✅ Database connection successful
2025-10-09 11:57:57,286 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:57:57,295 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:57,295 - sqlalchemy.engine.Engine - INFO - [generated in 0.00076s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:57,335 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:57,336 - sqlalchemy.engine.Engine - INFO - [cached since 0.04141s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:57,359 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:57,360 - sqlalchemy.engine.Engine - INFO - [cached since 0.06534s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:57,381 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:57,382 - sqlalchemy.engine.Engine - INFO - [cached since 0.08763s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:57,403 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:57,403 - sqlalchemy.engine.Engine - INFO - [cached since 0.1088s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:57,427 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:57,427 - sqlalchemy.engine.Engine - INFO - [cached since 0.1328s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:57,450 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:57,450 - sqlalchemy.engine.Engine - INFO - [cached since 0.1563s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:57,474 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:57,474 - sqlalchemy.engine.Engine - INFO - [cached since 0.1798s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:57,497 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:57,497 - sqlalchemy.engine.Engine - INFO - [cached since 0.2028s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:57,519 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:57,519 - sqlalchemy.engine.Engine - INFO - [cached since 0.2248s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:57,542 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:57:57,543 - sqlalchemy.engine.Engine - INFO - [cached since 0.2486s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:57:57,565 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:57:57,583 - app.database - INFO - Database tables created successfully
2025-10-09 11:57:57,583 - app.main - INFO - ✅ Database tables ready
2025-10-09 11:57:57,583 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 11:57:57,584 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 11:57:58,853 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 11:58:03,234 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 11:58:03,544 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 11:58:03,545 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:58:03,587 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 11:58:03,587 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:58:03,628 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 11:58:03,628 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:58:03,672 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:58:03,673 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 11:58:03,673 - sqlalchemy.engine.Engine - INFO - [generated in 0.00084s] {}
2025-10-09 11:58:03,714 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:58:03,736 - app.database - INFO - Database connection successful
2025-10-09 11:58:03,736 - app.main - INFO - ✅ Database connection successful
2025-10-09 11:58:03,762 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:58:03,769 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:03,770 - sqlalchemy.engine.Engine - INFO - [generated in 0.00057s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:03,820 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:03,820 - sqlalchemy.engine.Engine - INFO - [cached since 0.05139s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:03,842 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:03,842 - sqlalchemy.engine.Engine - INFO - [cached since 0.07313s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:03,865 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:03,865 - sqlalchemy.engine.Engine - INFO - [cached since 0.0964s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:03,888 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:03,889 - sqlalchemy.engine.Engine - INFO - [cached since 0.1197s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:03,912 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:03,913 - sqlalchemy.engine.Engine - INFO - [cached since 0.1438s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:03,936 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:03,936 - sqlalchemy.engine.Engine - INFO - [cached since 0.1672s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:03,962 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:03,962 - sqlalchemy.engine.Engine - INFO - [cached since 0.1932s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:03,984 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:03,985 - sqlalchemy.engine.Engine - INFO - [cached since 0.2158s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:04,014 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:04,014 - sqlalchemy.engine.Engine - INFO - [cached since 0.2452s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:04,042 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:04,045 - sqlalchemy.engine.Engine - INFO - [cached since 0.275s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:04,075 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:58:04,100 - app.database - INFO - Database tables created successfully
2025-10-09 11:58:04,100 - app.main - INFO - ✅ Database tables ready
2025-10-09 11:58:04,101 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 11:58:04,101 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 11:58:05,815 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 11:58:09,791 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 11:58:10,083 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 11:58:10,084 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:58:10,131 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 11:58:10,131 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:58:10,176 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 11:58:10,176 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:58:10,225 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:58:10,225 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 11:58:10,226 - sqlalchemy.engine.Engine - INFO - [generated in 0.00137s] {}
2025-10-09 11:58:10,269 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:58:10,290 - app.database - INFO - Database connection successful
2025-10-09 11:58:10,290 - app.main - INFO - ✅ Database connection successful
2025-10-09 11:58:10,310 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:58:10,316 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:10,316 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:10,355 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:10,355 - sqlalchemy.engine.Engine - INFO - [cached since 0.03944s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:10,376 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:10,377 - sqlalchemy.engine.Engine - INFO - [cached since 0.06101s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:10,402 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:10,402 - sqlalchemy.engine.Engine - INFO - [cached since 0.08636s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:10,422 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:10,423 - sqlalchemy.engine.Engine - INFO - [cached since 0.1073s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:10,445 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:10,446 - sqlalchemy.engine.Engine - INFO - [cached since 0.1301s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:10,469 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:10,470 - sqlalchemy.engine.Engine - INFO - [cached since 0.1541s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:10,490 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:10,491 - sqlalchemy.engine.Engine - INFO - [cached since 0.1759s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:10,514 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:10,514 - sqlalchemy.engine.Engine - INFO - [cached since 0.1988s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:10,533 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:10,533 - sqlalchemy.engine.Engine - INFO - [cached since 0.2174s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:10,553 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:10,553 - sqlalchemy.engine.Engine - INFO - [cached since 0.2375s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:10,575 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:58:10,599 - app.database - INFO - Database tables created successfully
2025-10-09 11:58:10,599 - app.main - INFO - ✅ Database tables ready
2025-10-09 11:58:10,599 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 11:58:10,599 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 11:58:15,543 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 11:58:19,672 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 11:58:20,086 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 11:58:20,086 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:58:20,124 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 11:58:20,125 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:58:20,172 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 11:58:20,173 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:58:20,217 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:58:20,217 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 11:58:20,217 - sqlalchemy.engine.Engine - INFO - [generated in 0.00059s] {}
2025-10-09 11:58:20,264 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:58:20,288 - app.database - INFO - Database connection successful
2025-10-09 11:58:20,290 - app.main - INFO - ✅ Database connection successful
2025-10-09 11:58:20,312 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:58:20,318 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:20,318 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:20,359 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:20,360 - sqlalchemy.engine.Engine - INFO - [cached since 0.04236s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:20,383 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:20,383 - sqlalchemy.engine.Engine - INFO - [cached since 0.06567s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:20,407 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:20,407 - sqlalchemy.engine.Engine - INFO - [cached since 0.08957s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:20,431 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:20,431 - sqlalchemy.engine.Engine - INFO - [cached since 0.1134s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:20,453 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:20,453 - sqlalchemy.engine.Engine - INFO - [cached since 0.1356s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:20,476 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:20,476 - sqlalchemy.engine.Engine - INFO - [cached since 0.1583s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:20,498 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:20,499 - sqlalchemy.engine.Engine - INFO - [cached since 0.1809s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:20,522 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:20,522 - sqlalchemy.engine.Engine - INFO - [cached since 0.2045s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:20,546 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:20,546 - sqlalchemy.engine.Engine - INFO - [cached since 0.2283s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:20,568 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:20,568 - sqlalchemy.engine.Engine - INFO - [cached since 0.2501s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:20,592 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:58:20,614 - app.database - INFO - Database tables created successfully
2025-10-09 11:58:20,614 - app.main - INFO - ✅ Database tables ready
2025-10-09 11:58:20,615 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 11:58:20,615 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 11:58:21,928 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 11:58:25,916 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 11:58:26,171 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 11:58:26,172 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:58:26,219 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 11:58:26,220 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:58:26,272 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 11:58:26,272 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:58:26,313 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:58:26,314 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 11:58:26,314 - sqlalchemy.engine.Engine - INFO - [generated in 0.00056s] {}
2025-10-09 11:58:26,353 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:58:26,375 - app.database - INFO - Database connection successful
2025-10-09 11:58:26,375 - app.main - INFO - ✅ Database connection successful
2025-10-09 11:58:26,391 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:58:26,397 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:26,397 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:26,434 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:26,435 - sqlalchemy.engine.Engine - INFO - [cached since 0.03799s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:26,458 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:26,458 - sqlalchemy.engine.Engine - INFO - [cached since 0.06151s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:26,481 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:26,481 - sqlalchemy.engine.Engine - INFO - [cached since 0.08444s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:26,504 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:26,504 - sqlalchemy.engine.Engine - INFO - [cached since 0.1076s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:26,528 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:26,528 - sqlalchemy.engine.Engine - INFO - [cached since 0.1312s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:26,551 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:26,551 - sqlalchemy.engine.Engine - INFO - [cached since 0.1541s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:26,574 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:26,574 - sqlalchemy.engine.Engine - INFO - [cached since 0.1772s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:26,596 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:26,596 - sqlalchemy.engine.Engine - INFO - [cached since 0.1994s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:26,618 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:26,619 - sqlalchemy.engine.Engine - INFO - [cached since 0.2219s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:26,638 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:26,638 - sqlalchemy.engine.Engine - INFO - [cached since 0.2413s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:26,660 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:58:26,677 - app.database - INFO - Database tables created successfully
2025-10-09 11:58:26,677 - app.main - INFO - ✅ Database tables ready
2025-10-09 11:58:26,677 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 11:58:26,678 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 11:58:32,684 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 11:58:40,635 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 11:58:40,945 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 11:58:40,945 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:58:40,991 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 11:58:41,008 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:58:41,048 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 11:58:41,049 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:58:41,089 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:58:41,090 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 11:58:41,093 - sqlalchemy.engine.Engine - INFO - [generated in 0.00105s] {}
2025-10-09 11:58:41,127 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:58:41,144 - app.database - INFO - Database connection successful
2025-10-09 11:58:41,144 - app.main - INFO - ✅ Database connection successful
2025-10-09 11:58:41,161 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:58:41,166 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:41,167 - sqlalchemy.engine.Engine - INFO - [generated in 0.00054s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:41,206 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:41,206 - sqlalchemy.engine.Engine - INFO - [cached since 0.03976s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:41,227 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:41,228 - sqlalchemy.engine.Engine - INFO - [cached since 0.06147s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:41,249 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:41,250 - sqlalchemy.engine.Engine - INFO - [cached since 0.08344s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:41,271 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:41,271 - sqlalchemy.engine.Engine - INFO - [cached since 0.105s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:41,292 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:41,292 - sqlalchemy.engine.Engine - INFO - [cached since 0.126s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:41,318 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:41,318 - sqlalchemy.engine.Engine - INFO - [cached since 0.1517s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:41,341 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:41,341 - sqlalchemy.engine.Engine - INFO - [cached since 0.1749s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:41,359 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:41,359 - sqlalchemy.engine.Engine - INFO - [cached since 0.193s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:41,381 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:41,382 - sqlalchemy.engine.Engine - INFO - [cached since 0.2152s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:41,403 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:41,403 - sqlalchemy.engine.Engine - INFO - [cached since 0.2371s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:41,441 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:58:41,464 - app.database - INFO - Database tables created successfully
2025-10-09 11:58:41,465 - app.main - INFO - ✅ Database tables ready
2025-10-09 11:58:41,465 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 11:58:41,465 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 11:58:41,667 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 11:58:49,560 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 11:58:49,870 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 11:58:49,871 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:58:49,924 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 11:58:49,925 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:58:50,025 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 11:58:50,025 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:58:50,065 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:58:50,065 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 11:58:50,065 - sqlalchemy.engine.Engine - INFO - [generated in 0.00076s] {}
2025-10-09 11:58:50,105 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:58:50,123 - app.database - INFO - Database connection successful
2025-10-09 11:58:50,124 - app.main - INFO - ✅ Database connection successful
2025-10-09 11:58:50,145 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:58:50,152 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:50,152 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:50,199 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:50,200 - sqlalchemy.engine.Engine - INFO - [cached since 0.04779s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:50,231 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:50,232 - sqlalchemy.engine.Engine - INFO - [cached since 0.07995s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:50,254 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:50,255 - sqlalchemy.engine.Engine - INFO - [cached since 0.1029s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:50,278 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:50,279 - sqlalchemy.engine.Engine - INFO - [cached since 0.1269s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:50,301 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:50,302 - sqlalchemy.engine.Engine - INFO - [cached since 0.1498s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:50,324 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:50,325 - sqlalchemy.engine.Engine - INFO - [cached since 0.1729s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:50,346 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:50,347 - sqlalchemy.engine.Engine - INFO - [cached since 0.1949s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:50,364 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:50,365 - sqlalchemy.engine.Engine - INFO - [cached since 0.2129s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:50,389 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:50,389 - sqlalchemy.engine.Engine - INFO - [cached since 0.2372s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:50,412 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:50,412 - sqlalchemy.engine.Engine - INFO - [cached since 0.2606s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:50,434 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:58:50,451 - app.database - INFO - Database tables created successfully
2025-10-09 11:58:50,452 - app.main - INFO - ✅ Database tables ready
2025-10-09 11:58:50,452 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 11:58:50,452 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 11:58:50,857 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 11:58:55,386 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 11:58:55,667 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 11:58:55,667 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:58:55,704 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 11:58:55,704 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:58:55,749 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 11:58:55,749 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:58:55,791 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:58:55,791 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 11:58:55,791 - sqlalchemy.engine.Engine - INFO - [generated in 0.00061s] {}
2025-10-09 11:58:55,825 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:58:55,858 - app.database - INFO - Database connection successful
2025-10-09 11:58:55,858 - app.main - INFO - ✅ Database connection successful
2025-10-09 11:58:55,876 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:58:55,880 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:55,881 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:55,926 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:55,926 - sqlalchemy.engine.Engine - INFO - [cached since 0.04614s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:55,950 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:55,950 - sqlalchemy.engine.Engine - INFO - [cached since 0.07011s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:55,974 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:55,974 - sqlalchemy.engine.Engine - INFO - [cached since 0.09386s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:55,996 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:55,997 - sqlalchemy.engine.Engine - INFO - [cached since 0.1164s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:56,021 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:56,022 - sqlalchemy.engine.Engine - INFO - [cached since 0.1413s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:56,044 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:56,044 - sqlalchemy.engine.Engine - INFO - [cached since 0.1639s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:56,066 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:56,066 - sqlalchemy.engine.Engine - INFO - [cached since 0.1861s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:56,089 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:56,090 - sqlalchemy.engine.Engine - INFO - [cached since 0.2099s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:56,113 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:56,113 - sqlalchemy.engine.Engine - INFO - [cached since 0.2332s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:56,136 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:58:56,136 - sqlalchemy.engine.Engine - INFO - [cached since 0.256s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:58:56,161 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:58:56,183 - app.database - INFO - Database tables created successfully
2025-10-09 11:58:56,183 - app.main - INFO - ✅ Database tables ready
2025-10-09 11:58:56,183 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 11:58:56,183 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 11:58:56,990 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 11:59:01,860 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 11:59:02,130 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 11:59:02,130 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:59:02,173 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 11:59:02,174 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:59:02,214 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 11:59:02,214 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:59:02,262 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:59:02,262 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 11:59:02,263 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] {}
2025-10-09 11:59:02,304 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:59:02,326 - app.database - INFO - Database connection successful
2025-10-09 11:59:02,327 - app.main - INFO - ✅ Database connection successful
2025-10-09 11:59:02,344 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:59:02,349 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:02,349 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:02,395 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:02,395 - sqlalchemy.engine.Engine - INFO - [cached since 0.0463s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:02,416 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:02,416 - sqlalchemy.engine.Engine - INFO - [cached since 0.0677s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:02,441 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:02,441 - sqlalchemy.engine.Engine - INFO - [cached since 0.09244s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:02,463 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:02,463 - sqlalchemy.engine.Engine - INFO - [cached since 0.1148s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:02,487 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:02,487 - sqlalchemy.engine.Engine - INFO - [cached since 0.1386s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:02,511 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:02,512 - sqlalchemy.engine.Engine - INFO - [cached since 0.1629s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:02,536 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:02,536 - sqlalchemy.engine.Engine - INFO - [cached since 0.1878s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:02,555 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:02,555 - sqlalchemy.engine.Engine - INFO - [cached since 0.2062s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:02,578 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:02,578 - sqlalchemy.engine.Engine - INFO - [cached since 0.2298s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:02,603 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:02,604 - sqlalchemy.engine.Engine - INFO - [cached since 0.2549s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:02,628 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:59:02,647 - app.database - INFO - Database tables created successfully
2025-10-09 11:59:02,647 - app.main - INFO - ✅ Database tables ready
2025-10-09 11:59:02,647 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 11:59:02,647 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 11:59:05,167 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 11:59:09,187 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 11:59:09,477 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 11:59:09,477 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:59:09,520 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 11:59:09,521 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:59:09,565 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 11:59:09,566 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:59:09,608 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:59:09,608 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 11:59:09,608 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] {}
2025-10-09 11:59:09,650 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:59:09,670 - app.database - INFO - Database connection successful
2025-10-09 11:59:09,670 - app.main - INFO - ✅ Database connection successful
2025-10-09 11:59:09,695 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:59:09,699 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:09,700 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:09,738 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:09,739 - sqlalchemy.engine.Engine - INFO - [cached since 0.03958s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:09,763 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:09,764 - sqlalchemy.engine.Engine - INFO - [cached since 0.06504s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:09,788 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:09,868 - sqlalchemy.engine.Engine - INFO - [cached since 0.1685s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:09,894 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:09,894 - sqlalchemy.engine.Engine - INFO - [cached since 0.1951s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:09,917 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:09,918 - sqlalchemy.engine.Engine - INFO - [cached since 0.2187s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:09,946 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:09,946 - sqlalchemy.engine.Engine - INFO - [cached since 0.2468s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:09,967 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:09,969 - sqlalchemy.engine.Engine - INFO - [cached since 0.2701s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:09,992 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:09,993 - sqlalchemy.engine.Engine - INFO - [cached since 0.294s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:10,013 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:10,014 - sqlalchemy.engine.Engine - INFO - [cached since 0.3143s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:10,036 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:10,037 - sqlalchemy.engine.Engine - INFO - [cached since 0.3379s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:10,061 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:59:10,084 - app.database - INFO - Database tables created successfully
2025-10-09 11:59:10,086 - app.main - INFO - ✅ Database tables ready
2025-10-09 11:59:10,087 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 11:59:10,087 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 11:59:14,624 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 11:59:19,063 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 11:59:19,317 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 11:59:19,317 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:59:19,353 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 11:59:19,353 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:59:19,393 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 11:59:19,394 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:59:19,434 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:59:19,434 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 11:59:19,434 - sqlalchemy.engine.Engine - INFO - [generated in 0.00065s] {}
2025-10-09 11:59:19,477 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:59:19,499 - app.database - INFO - Database connection successful
2025-10-09 11:59:19,500 - app.main - INFO - ✅ Database connection successful
2025-10-09 11:59:19,516 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:59:19,522 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:19,522 - sqlalchemy.engine.Engine - INFO - [generated in 0.00062s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:19,558 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:19,559 - sqlalchemy.engine.Engine - INFO - [cached since 0.03684s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:19,582 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:19,583 - sqlalchemy.engine.Engine - INFO - [cached since 0.06086s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:19,606 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:19,607 - sqlalchemy.engine.Engine - INFO - [cached since 0.08477s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:19,630 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:19,630 - sqlalchemy.engine.Engine - INFO - [cached since 0.1084s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:19,655 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:19,655 - sqlalchemy.engine.Engine - INFO - [cached since 0.1335s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:19,680 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:19,681 - sqlalchemy.engine.Engine - INFO - [cached since 0.1588s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:19,705 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:19,705 - sqlalchemy.engine.Engine - INFO - [cached since 0.1833s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:19,723 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:19,724 - sqlalchemy.engine.Engine - INFO - [cached since 0.2019s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:19,746 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:19,746 - sqlalchemy.engine.Engine - INFO - [cached since 0.2242s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:19,769 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:19,770 - sqlalchemy.engine.Engine - INFO - [cached since 0.2477s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:19,792 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:59:19,814 - app.database - INFO - Database tables created successfully
2025-10-09 11:59:19,815 - app.main - INFO - ✅ Database tables ready
2025-10-09 11:59:19,815 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 11:59:19,815 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 11:59:26,668 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 11:59:34,541 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 11:59:34,833 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 11:59:34,834 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:59:34,879 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 11:59:34,880 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:59:34,924 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 11:59:34,925 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:59:34,968 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:59:34,968 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 11:59:34,969 - sqlalchemy.engine.Engine - INFO - [generated in 0.00148s] {}
2025-10-09 11:59:35,011 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:59:35,037 - app.database - INFO - Database connection successful
2025-10-09 11:59:35,037 - app.main - INFO - ✅ Database connection successful
2025-10-09 11:59:35,055 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:59:35,061 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:35,062 - sqlalchemy.engine.Engine - INFO - [generated in 0.00132s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:35,103 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:35,104 - sqlalchemy.engine.Engine - INFO - [cached since 0.0425s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:35,131 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:35,131 - sqlalchemy.engine.Engine - INFO - [cached since 0.07029s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:35,153 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:35,154 - sqlalchemy.engine.Engine - INFO - [cached since 0.0925s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:35,175 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:35,176 - sqlalchemy.engine.Engine - INFO - [cached since 0.1144s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:35,198 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:35,199 - sqlalchemy.engine.Engine - INFO - [cached since 0.1376s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:35,223 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:35,224 - sqlalchemy.engine.Engine - INFO - [cached since 0.1629s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:35,247 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:35,247 - sqlalchemy.engine.Engine - INFO - [cached since 0.1861s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:35,271 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:35,271 - sqlalchemy.engine.Engine - INFO - [cached since 0.2103s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:35,292 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:35,292 - sqlalchemy.engine.Engine - INFO - [cached since 0.2311s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:35,315 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:35,315 - sqlalchemy.engine.Engine - INFO - [cached since 0.2542s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:35,338 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:59:35,355 - app.database - INFO - Database tables created successfully
2025-10-09 11:59:35,355 - app.main - INFO - ✅ Database tables ready
2025-10-09 11:59:35,355 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 11:59:35,356 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 11:59:36,164 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 11:59:40,696 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 11:59:40,981 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 11:59:40,982 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:59:41,017 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 11:59:41,019 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:59:41,059 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 11:59:41,060 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:59:41,107 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:59:41,107 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 11:59:41,107 - sqlalchemy.engine.Engine - INFO - [generated in 0.00071s] {}
2025-10-09 11:59:41,143 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:59:41,156 - app.database - INFO - Database connection successful
2025-10-09 11:59:41,156 - app.main - INFO - ✅ Database connection successful
2025-10-09 11:59:41,175 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:59:41,184 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:41,185 - sqlalchemy.engine.Engine - INFO - [generated in 0.00063s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:41,232 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:41,232 - sqlalchemy.engine.Engine - INFO - [cached since 0.04859s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:41,255 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:41,256 - sqlalchemy.engine.Engine - INFO - [cached since 0.07215s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:41,273 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:41,274 - sqlalchemy.engine.Engine - INFO - [cached since 0.09002s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:41,296 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:41,303 - sqlalchemy.engine.Engine - INFO - [cached since 0.1193s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:41,322 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:41,324 - sqlalchemy.engine.Engine - INFO - [cached since 0.1394s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:41,342 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:41,343 - sqlalchemy.engine.Engine - INFO - [cached since 0.1589s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:41,364 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:41,365 - sqlalchemy.engine.Engine - INFO - [cached since 0.1811s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:41,386 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:41,387 - sqlalchemy.engine.Engine - INFO - [cached since 0.2031s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:41,408 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:41,409 - sqlalchemy.engine.Engine - INFO - [cached since 0.2249s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:41,431 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:41,432 - sqlalchemy.engine.Engine - INFO - [cached since 0.2481s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:41,455 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:59:41,476 - app.database - INFO - Database tables created successfully
2025-10-09 11:59:41,476 - app.main - INFO - ✅ Database tables ready
2025-10-09 11:59:41,477 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 11:59:41,477 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 11:59:41,679 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 11:59:46,207 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 11:59:46,466 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 11:59:46,466 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:59:46,509 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 11:59:46,509 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:59:46,549 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 11:59:46,549 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:59:46,595 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:59:46,596 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 11:59:46,596 - sqlalchemy.engine.Engine - INFO - [generated in 0.00059s] {}
2025-10-09 11:59:46,628 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:59:46,651 - app.database - INFO - Database connection successful
2025-10-09 11:59:46,651 - app.main - INFO - ✅ Database connection successful
2025-10-09 11:59:46,674 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:59:46,695 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:46,695 - sqlalchemy.engine.Engine - INFO - [generated in 0.00065s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:46,734 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:46,735 - sqlalchemy.engine.Engine - INFO - [cached since 0.04003s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:46,756 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:46,756 - sqlalchemy.engine.Engine - INFO - [cached since 0.06119s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:46,777 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:46,779 - sqlalchemy.engine.Engine - INFO - [cached since 0.0846s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:46,797 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:46,797 - sqlalchemy.engine.Engine - INFO - [cached since 0.1024s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:46,819 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:46,819 - sqlalchemy.engine.Engine - INFO - [cached since 0.1245s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:46,842 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:46,843 - sqlalchemy.engine.Engine - INFO - [cached since 0.1479s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:46,865 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:46,865 - sqlalchemy.engine.Engine - INFO - [cached since 0.1703s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:46,888 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:46,888 - sqlalchemy.engine.Engine - INFO - [cached since 0.1934s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:46,910 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:46,910 - sqlalchemy.engine.Engine - INFO - [cached since 0.2154s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:46,927 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:46,927 - sqlalchemy.engine.Engine - INFO - [cached since 0.2327s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:46,949 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:59:46,966 - app.database - INFO - Database tables created successfully
2025-10-09 11:59:46,966 - app.main - INFO - ✅ Database tables ready
2025-10-09 11:59:46,967 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 11:59:46,967 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 11:59:47,170 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 11:59:51,239 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 11:59:51,517 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 11:59:51,518 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:59:51,560 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 11:59:51,560 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:59:51,606 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 11:59:51,606 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:59:51,652 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:59:51,653 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 11:59:51,653 - sqlalchemy.engine.Engine - INFO - [generated in 0.00061s] {}
2025-10-09 11:59:51,693 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:59:51,711 - app.database - INFO - Database connection successful
2025-10-09 11:59:51,712 - app.main - INFO - ✅ Database connection successful
2025-10-09 11:59:51,736 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:59:51,741 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:51,742 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:51,779 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:51,779 - sqlalchemy.engine.Engine - INFO - [cached since 0.03784s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:51,802 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:51,802 - sqlalchemy.engine.Engine - INFO - [cached since 0.06085s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:51,821 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:51,821 - sqlalchemy.engine.Engine - INFO - [cached since 0.08012s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:51,847 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:51,848 - sqlalchemy.engine.Engine - INFO - [cached since 0.1065s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:51,875 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:51,876 - sqlalchemy.engine.Engine - INFO - [cached since 0.1348s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:51,915 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:51,915 - sqlalchemy.engine.Engine - INFO - [cached since 0.1743s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:51,945 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:51,946 - sqlalchemy.engine.Engine - INFO - [cached since 0.2048s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:51,968 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:51,968 - sqlalchemy.engine.Engine - INFO - [cached since 0.2271s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:51,991 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:51,991 - sqlalchemy.engine.Engine - INFO - [cached since 0.25s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:52,015 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:52,015 - sqlalchemy.engine.Engine - INFO - [cached since 0.2741s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:52,040 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:59:52,058 - app.database - INFO - Database tables created successfully
2025-10-09 11:59:52,058 - app.main - INFO - ✅ Database tables ready
2025-10-09 11:59:52,058 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 11:59:52,058 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 11:59:53,479 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 11:59:58,048 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 11:59:58,342 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 11:59:58,343 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:59:58,393 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 11:59:58,393 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:59:58,443 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 11:59:58,443 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 11:59:58,485 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:59:58,486 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 11:59:58,486 - sqlalchemy.engine.Engine - INFO - [generated in 0.00095s] {}
2025-10-09 11:59:58,522 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 11:59:58,537 - app.database - INFO - Database connection successful
2025-10-09 11:59:58,538 - app.main - INFO - ✅ Database connection successful
2025-10-09 11:59:58,559 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 11:59:58,567 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:58,569 - sqlalchemy.engine.Engine - INFO - [generated in 0.00172s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:58,628 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:58,628 - sqlalchemy.engine.Engine - INFO - [cached since 0.06093s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:58,650 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:58,650 - sqlalchemy.engine.Engine - INFO - [cached since 0.08294s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:58,672 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:58,673 - sqlalchemy.engine.Engine - INFO - [cached since 0.1057s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:58,694 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:58,694 - sqlalchemy.engine.Engine - INFO - [cached since 0.1273s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:58,716 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:58,717 - sqlalchemy.engine.Engine - INFO - [cached since 0.1494s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:58,738 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:58,739 - sqlalchemy.engine.Engine - INFO - [cached since 0.1715s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:58,761 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:58,761 - sqlalchemy.engine.Engine - INFO - [cached since 0.1939s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:58,793 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:58,793 - sqlalchemy.engine.Engine - INFO - [cached since 0.2262s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:58,814 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:58,814 - sqlalchemy.engine.Engine - INFO - [cached since 0.2469s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:58,831 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 11:59:58,831 - sqlalchemy.engine.Engine - INFO - [cached since 0.2642s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 11:59:58,853 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 11:59:58,868 - app.database - INFO - Database tables created successfully
2025-10-09 11:59:58,869 - app.main - INFO - ✅ Database tables ready
2025-10-09 11:59:58,869 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 11:59:58,869 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 11:59:59,071 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:00:03,186 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:00:03,460 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:00:03,460 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:00:03,501 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:00:03,501 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:00:03,539 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:00:03,540 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:00:03,585 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:00:03,585 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:00:03,586 - sqlalchemy.engine.Engine - INFO - [generated in 0.00065s] {}
2025-10-09 12:00:03,631 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:00:03,654 - app.database - INFO - Database connection successful
2025-10-09 12:00:03,654 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:00:03,671 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:00:03,680 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:00:03,681 - sqlalchemy.engine.Engine - INFO - [generated in 0.00080s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:00:03,718 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:00:03,718 - sqlalchemy.engine.Engine - INFO - [cached since 0.03825s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:00:03,743 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:00:03,744 - sqlalchemy.engine.Engine - INFO - [cached since 0.06372s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:00:03,766 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:00:03,766 - sqlalchemy.engine.Engine - INFO - [cached since 0.08615s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:00:03,789 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:00:03,789 - sqlalchemy.engine.Engine - INFO - [cached since 0.1094s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:00:03,813 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:00:03,814 - sqlalchemy.engine.Engine - INFO - [cached since 0.1338s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:00:03,836 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:00:03,837 - sqlalchemy.engine.Engine - INFO - [cached since 0.1568s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:00:03,860 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:00:03,860 - sqlalchemy.engine.Engine - INFO - [cached since 0.1803s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:00:03,882 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:00:03,882 - sqlalchemy.engine.Engine - INFO - [cached since 0.2025s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:00:03,906 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:00:03,909 - sqlalchemy.engine.Engine - INFO - [cached since 0.2289s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:00:03,930 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:00:03,931 - sqlalchemy.engine.Engine - INFO - [cached since 0.2508s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:00:03,957 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:00:03,979 - app.database - INFO - Database tables created successfully
2025-10-09 12:00:03,980 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:00:03,980 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:00:03,980 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:00:06,704 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:02:52,603 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:02:52,934 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:02:52,934 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:02:52,968 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:02:52,968 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:02:53,013 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:02:53,013 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:02:53,054 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:02:53,054 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:02:53,054 - sqlalchemy.engine.Engine - INFO - [generated in 0.00062s] {}
2025-10-09 12:02:53,088 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:02:53,109 - app.database - INFO - Database connection successful
2025-10-09 12:02:53,109 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:02:53,127 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:02:53,135 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:02:53,136 - sqlalchemy.engine.Engine - INFO - [generated in 0.00057s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:02:53,182 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:02:53,183 - sqlalchemy.engine.Engine - INFO - [cached since 0.04766s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:02:53,207 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:02:53,208 - sqlalchemy.engine.Engine - INFO - [cached since 0.07265s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:02:53,232 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:02:53,232 - sqlalchemy.engine.Engine - INFO - [cached since 0.09718s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:02:53,254 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:02:53,255 - sqlalchemy.engine.Engine - INFO - [cached since 0.1195s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:02:53,274 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:02:53,274 - sqlalchemy.engine.Engine - INFO - [cached since 0.1392s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:02:53,297 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:02:53,298 - sqlalchemy.engine.Engine - INFO - [cached since 0.1628s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:02:53,315 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:02:53,315 - sqlalchemy.engine.Engine - INFO - [cached since 0.1801s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:02:53,337 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:02:53,338 - sqlalchemy.engine.Engine - INFO - [cached since 0.2027s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:02:53,361 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:02:53,361 - sqlalchemy.engine.Engine - INFO - [cached since 0.2263s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:02:53,385 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:02:53,385 - sqlalchemy.engine.Engine - INFO - [cached since 0.25s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:02:53,407 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:02:53,429 - app.database - INFO - Database tables created successfully
2025-10-09 12:02:53,429 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:02:53,429 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:02:53,429 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:02:59,080 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:03:07,317 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:03:07,579 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:03:07,579 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:03:07,622 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:03:07,622 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:03:07,666 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:03:07,666 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:03:07,706 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:03:07,707 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:03:07,707 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] {}
2025-10-09 12:03:07,746 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:03:07,763 - app.database - INFO - Database connection successful
2025-10-09 12:03:07,764 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:03:07,786 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:03:07,791 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:03:07,791 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:03:07,832 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:03:07,833 - sqlalchemy.engine.Engine - INFO - [cached since 0.04212s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:03:07,855 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:03:07,855 - sqlalchemy.engine.Engine - INFO - [cached since 0.06451s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:03:07,877 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:03:07,878 - sqlalchemy.engine.Engine - INFO - [cached since 0.08688s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:03:07,900 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:03:07,901 - sqlalchemy.engine.Engine - INFO - [cached since 0.1101s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:03:07,923 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:03:07,923 - sqlalchemy.engine.Engine - INFO - [cached since 0.1328s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:03:07,947 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:03:07,947 - sqlalchemy.engine.Engine - INFO - [cached since 0.1567s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:03:07,969 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:03:07,969 - sqlalchemy.engine.Engine - INFO - [cached since 0.1787s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:03:07,992 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:03:07,993 - sqlalchemy.engine.Engine - INFO - [cached since 0.202s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:03:08,017 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:03:08,017 - sqlalchemy.engine.Engine - INFO - [cached since 0.2268s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:03:08,042 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:03:08,042 - sqlalchemy.engine.Engine - INFO - [cached since 0.2513s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:03:08,066 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:03:08,088 - app.database - INFO - Database tables created successfully
2025-10-09 12:03:08,088 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:03:08,088 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:03:08,088 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:03:18,494 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:03:23,283 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:03:23,554 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:03:23,554 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:03:23,601 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:03:23,602 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:03:23,644 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:03:23,645 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:03:23,692 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:03:23,693 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:03:23,693 - sqlalchemy.engine.Engine - INFO - [generated in 0.00094s] {}
2025-10-09 12:03:23,736 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:03:23,752 - app.database - INFO - Database connection successful
2025-10-09 12:03:23,753 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:03:23,775 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:03:23,784 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:03:23,784 - sqlalchemy.engine.Engine - INFO - [generated in 0.00059s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:03:23,825 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:03:23,826 - sqlalchemy.engine.Engine - INFO - [cached since 0.04204s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:03:23,849 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:03:23,849 - sqlalchemy.engine.Engine - INFO - [cached since 0.06544s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:03:23,872 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:03:23,872 - sqlalchemy.engine.Engine - INFO - [cached since 0.08822s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:03:23,890 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:03:23,890 - sqlalchemy.engine.Engine - INFO - [cached since 0.1066s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:03:23,911 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:03:23,912 - sqlalchemy.engine.Engine - INFO - [cached since 0.1281s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:03:23,935 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:03:23,936 - sqlalchemy.engine.Engine - INFO - [cached since 0.1519s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:03:23,958 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:03:23,959 - sqlalchemy.engine.Engine - INFO - [cached since 0.175s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:03:23,982 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:03:23,983 - sqlalchemy.engine.Engine - INFO - [cached since 0.1989s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:03:24,005 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:03:24,006 - sqlalchemy.engine.Engine - INFO - [cached since 0.2221s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:03:24,029 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:03:24,030 - sqlalchemy.engine.Engine - INFO - [cached since 0.2461s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:03:24,053 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:03:24,070 - app.database - INFO - Database tables created successfully
2025-10-09 12:03:24,070 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:03:24,071 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:03:24,071 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:03:32,033 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:03:36,704 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:03:36,977 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:03:36,978 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:03:37,020 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:03:37,020 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:03:37,065 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:03:37,066 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:03:37,114 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:03:37,115 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:03:37,115 - sqlalchemy.engine.Engine - INFO - [generated in 0.00071s] {}
2025-10-09 12:03:37,154 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:03:37,171 - app.database - INFO - Database connection successful
2025-10-09 12:03:37,171 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:03:37,189 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:03:37,194 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:03:37,194 - sqlalchemy.engine.Engine - INFO - [generated in 0.00070s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:03:37,237 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:03:37,237 - sqlalchemy.engine.Engine - INFO - [cached since 0.04349s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:03:37,260 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:03:37,260 - sqlalchemy.engine.Engine - INFO - [cached since 0.06662s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:03:37,283 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:03:37,284 - sqlalchemy.engine.Engine - INFO - [cached since 0.08998s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:03:37,306 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:03:37,306 - sqlalchemy.engine.Engine - INFO - [cached since 0.1123s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:03:37,331 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:03:37,332 - sqlalchemy.engine.Engine - INFO - [cached since 0.1381s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:03:37,352 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:03:37,352 - sqlalchemy.engine.Engine - INFO - [cached since 0.1584s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:03:37,374 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:03:37,375 - sqlalchemy.engine.Engine - INFO - [cached since 0.181s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:03:37,398 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:03:37,398 - sqlalchemy.engine.Engine - INFO - [cached since 0.2044s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:03:37,420 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:03:37,421 - sqlalchemy.engine.Engine - INFO - [cached since 0.2268s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:03:37,442 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:03:37,442 - sqlalchemy.engine.Engine - INFO - [cached since 0.2487s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:03:37,467 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:03:37,488 - app.database - INFO - Database tables created successfully
2025-10-09 12:03:37,489 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:03:37,489 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:03:37,489 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:03:46,318 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:03:51,003 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:03:51,308 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:03:51,308 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:03:51,368 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:03:51,368 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:03:51,407 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:03:51,408 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:03:51,452 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:03:51,452 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:03:51,452 - sqlalchemy.engine.Engine - INFO - [generated in 0.00059s] {}
2025-10-09 12:03:51,489 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:03:51,511 - app.database - INFO - Database connection successful
2025-10-09 12:03:51,511 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:03:51,534 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:03:51,543 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:03:51,543 - sqlalchemy.engine.Engine - INFO - [generated in 0.00051s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:03:51,582 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:03:51,583 - sqlalchemy.engine.Engine - INFO - [cached since 0.04033s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:03:51,607 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:03:51,608 - sqlalchemy.engine.Engine - INFO - [cached since 0.06517s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:03:51,633 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:03:51,633 - sqlalchemy.engine.Engine - INFO - [cached since 0.0906s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:03:51,653 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:03:51,653 - sqlalchemy.engine.Engine - INFO - [cached since 0.1105s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:03:51,677 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:03:51,677 - sqlalchemy.engine.Engine - INFO - [cached since 0.1349s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:03:51,699 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:03:51,700 - sqlalchemy.engine.Engine - INFO - [cached since 0.1571s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:03:51,722 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:03:51,722 - sqlalchemy.engine.Engine - INFO - [cached since 0.1799s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:03:51,742 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:03:51,743 - sqlalchemy.engine.Engine - INFO - [cached since 0.2002s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:03:51,766 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:03:51,767 - sqlalchemy.engine.Engine - INFO - [cached since 0.2244s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:03:51,790 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:03:51,791 - sqlalchemy.engine.Engine - INFO - [cached since 0.2483s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:03:51,812 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:03:51,832 - app.database - INFO - Database tables created successfully
2025-10-09 12:03:51,832 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:03:51,833 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:03:51,833 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:04:03,927 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:04:08,971 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:04:09,223 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:04:09,223 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:04:09,270 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:04:09,271 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:04:09,309 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:04:09,309 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:04:09,344 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:04:09,345 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:04:09,345 - sqlalchemy.engine.Engine - INFO - [generated in 0.00059s] {}
2025-10-09 12:04:09,376 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:04:09,400 - app.database - INFO - Database connection successful
2025-10-09 12:04:09,400 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:04:09,418 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:04:09,425 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:04:09,426 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:04:09,466 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:04:09,466 - sqlalchemy.engine.Engine - INFO - [cached since 0.04127s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:04:09,488 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:04:09,489 - sqlalchemy.engine.Engine - INFO - [cached since 0.06361s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:04:09,510 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:04:09,510 - sqlalchemy.engine.Engine - INFO - [cached since 0.08476s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:04:09,534 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:04:09,534 - sqlalchemy.engine.Engine - INFO - [cached since 0.1088s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:04:09,555 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:04:09,556 - sqlalchemy.engine.Engine - INFO - [cached since 0.1305s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:04:09,578 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:04:09,578 - sqlalchemy.engine.Engine - INFO - [cached since 0.1531s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:04:09,601 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:04:09,602 - sqlalchemy.engine.Engine - INFO - [cached since 0.1764s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:04:09,622 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:04:09,623 - sqlalchemy.engine.Engine - INFO - [cached since 0.1975s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:04:09,659 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:04:09,659 - sqlalchemy.engine.Engine - INFO - [cached since 0.2343s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:04:09,684 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:04:09,685 - sqlalchemy.engine.Engine - INFO - [cached since 0.2596s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:04:09,703 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:04:09,722 - app.database - INFO - Database tables created successfully
2025-10-09 12:04:09,723 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:04:09,724 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:04:09,724 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:04:43,686 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:04:43,998 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:04:43,998 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:04:44,039 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:04:44,039 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:04:44,081 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:04:44,082 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:04:44,124 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:04:44,125 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:04:44,125 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] {}
2025-10-09 12:04:44,167 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:04:44,185 - app.database - INFO - Database connection successful
2025-10-09 12:04:44,185 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:04:44,202 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:04:44,207 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:04:44,207 - sqlalchemy.engine.Engine - INFO - [generated in 0.00054s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:04:44,244 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:04:44,244 - sqlalchemy.engine.Engine - INFO - [cached since 0.03763s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:04:44,268 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:04:44,268 - sqlalchemy.engine.Engine - INFO - [cached since 0.06098s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:04:44,291 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:04:44,291 - sqlalchemy.engine.Engine - INFO - [cached since 0.0846s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:04:44,315 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:04:44,315 - sqlalchemy.engine.Engine - INFO - [cached since 0.1086s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:04:44,341 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:04:44,341 - sqlalchemy.engine.Engine - INFO - [cached since 0.1342s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:04:44,363 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:04:44,364 - sqlalchemy.engine.Engine - INFO - [cached since 0.1568s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:04:44,387 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:04:44,387 - sqlalchemy.engine.Engine - INFO - [cached since 0.1804s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:04:44,410 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:04:44,410 - sqlalchemy.engine.Engine - INFO - [cached since 0.2031s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:04:44,432 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:04:44,432 - sqlalchemy.engine.Engine - INFO - [cached since 0.2256s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:04:44,455 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:04:44,456 - sqlalchemy.engine.Engine - INFO - [cached since 0.249s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:04:44,479 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:04:44,496 - app.database - INFO - Database tables created successfully
2025-10-09 12:04:44,497 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:04:44,497 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:04:44,497 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:06:00,346 - app.routes.auth - INFO - 🔵 [LOGIN] Starting login process
2025-10-09 12:06:00,347 - app.routes.auth - INFO - 🔵 [LOGIN] Raw credentials: email='munna@gmail.com' password='munnaa'
2025-10-09 12:06:00,347 - app.routes.auth - INFO - 🔵 [LOGIN] Email: 'munna@gmail.com', Password length: 6
2025-10-09 12:06:00,348 - app.routes.auth - INFO - 🔵 [LOGIN] Attempting authentication
2025-10-09 12:06:00,348 - app.core.auth - INFO - 🔵 [AUTH] Starting authentication for email: 'munna@gmail.com'
2025-10-09 12:06:00,348 - app.core.auth - INFO - 🔵 [AUTH] Normalized inputs - email: 'munna@gmail.com', password length: 6
2025-10-09 12:06:00,349 - app.core.auth - INFO - 🔵 [AUTH] Using provided database session
2025-10-09 12:06:00,349 - app.core.auth - INFO - 🔵 [AUTH] Querying database for user: 'munna@gmail.com'
2025-10-09 12:06:00,417 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:06:00,426 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 12:06:00,427 - sqlalchemy.engine.Engine - INFO - [generated in 0.00114s] {'email_1': 'munna@gmail.com', 'param_1': 1}
2025-10-09 12:06:00,466 - app.core.auth - INFO - 🔵 [AUTH] User found: munna@gmail.com (ID: 4df52e53-b78f-45e9-8946-3b6c00618693, Active: True)
2025-10-09 12:06:00,467 - app.core.auth - INFO - 🔵 [AUTH] Verifying password
2025-10-09 12:06:00,890 - app.core.auth - INFO - 🔵 [AUTH] Password verification successful for user: 'munna@gmail.com'
2025-10-09 12:06:00,890 - app.core.auth - INFO - ✅ [AUTH] Authentication successful
2025-10-09 12:06:00,890 - app.routes.auth - INFO - 🔵 [LOGIN] Authentication successful for user: munna@gmail.com (ID: 4df52e53-b78f-45e9-8946-3b6c00618693)
2025-10-09 12:06:00,891 - app.routes.auth - INFO - 🔵 [LOGIN] Ensuring user directories exist for: munna@gmail.com
2025-10-09 12:06:00,891 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:06:00,891 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 12:06:00,891 - app.routes.auth - INFO - 🔵 [LOGIN] User directories verified/created successfully
2025-10-09 12:06:00,892 - app.routes.auth - INFO - 🔵 [LOGIN] Creating JWT tokens
2025-10-09 12:06:00,892 - app.routes.auth - INFO - 🔵 [LOGIN] Tokens created successfully
2025-10-09 12:06:00,892 - app.routes.auth - INFO - ✅ [LOGIN] Login successful for user: munna@gmail.com (ID: 4df52e53-b78f-45e9-8946-3b6c00618693)
2025-10-09 12:06:00,894 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:06:01,694 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:06:01,696 - app.routes.cv_simple - INFO - Listed 1 CV files
2025-10-09 12:06:01,699 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:06:01,704 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:06:01,859 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 📄 Tailored CV content request for Australia_for_UNHCR from user 4df52e53-b78f-45e9-8946-3b6c00618693
2025-10-09 12:06:01,860 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:06:01,860 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:06:01,861 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 12:06:01,863 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ Served TAILORED CV content: Australia_for_UNHCR_tailored_cv_20251009_115547.txt from tailored folder (4113 characters)
2025-10-09 12:06:09,722 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:06:10,088 - app.modules.cv.preview - INFO - CV content extracted: maheshwor_tiwari.pdf (4864 characters)
2025-10-09 12:06:10,089 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:06:10,091 - app.routes.cv_organized - INFO - CV saved as text: user/munna@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 12:06:10,091 - app.routes.cv_organized - INFO - Processing maheshwor_tiwari.pdf for structured CV format (background)...
2025-10-09 12:06:10,092 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:06:10,092 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:06:10,376 - app.services.enhanced_cv_upload_service - INFO - Text extracted successfully: 4864 characters
2025-10-09 12:06:10,376 - app.services.structured_cv_parser - ERROR - Error in LLM parsing: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:06:10,377 - app.services.structured_cv_parser - ERROR - Error parsing CV content with LLM: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:06:10,377 - app.services.enhanced_cv_upload_service - INFO - CV parsed from raw text content
2025-10-09 12:06:10,378 - app.services.structured_cv_parser - INFO - Successfully saved structured CV to user/munna@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 12:06:10,379 - app.services.enhanced_cv_upload_service - INFO - Structured CV saved as original_cv.json: user/munna@gmail.com/cv-analysis/cvs/original/original_cv.json (replaced existing)
2025-10-09 12:06:10,379 - app.services.enhanced_cv_upload_service - INFO - Existing CV processed successfully: maheshwor_tiwari.pdf
2025-10-09 12:06:10,379 - app.routes.cv_organized - INFO - ✅ Background: CV saved as structured JSON: user/munna@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 12:06:10,388 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:06:10,942 - app.routes.cv_simple - INFO - CV content extracted: maheshwor_tiwari.pdf (4864 characters)
2025-10-09 12:06:19,658 - app.utils.directory_utils - ERROR - ❌ Failed to create cv-analysis directories: User email must be provided
2025-10-09 12:06:22,878 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:06:22,887 - app.services.enhanced_ai_service - ERROR - Error in enhanced AI service: _validate_provider_api_key() missing 1 required positional argument: 'user'
2025-10-09 12:06:22,888 - app.services.job_extraction_service - ERROR - AI service error: 
2025-10-09 12:06:22,937 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:06:22,939 - app.services.job_extraction_service - INFO - ♻️ [JOB_EXTRACTION] Job already exists in saved_jobs.json: Data Analyst at Australia for UNHCR
2025-10-09 12:06:27,793 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 12:06:27,793 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: []
2025-10-09 12:06:27,793 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 12:06:27,794 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {}
2025-10-09 12:06:27,794 - app.ai.ai_service - ERROR - ❌ No current provider available for model switching
2025-10-09 12:06:27,794 - app.core.model_dependency - WARNING - ⚠️ Failed to switch to header model gpt-3.5-turbo
2025-10-09 12:07:15,874 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 12:07:15,875 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: []
2025-10-09 12:07:15,875 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 12:07:15,875 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {}
2025-10-09 12:07:15,875 - app.ai.ai_service - ERROR - ❌ No current provider available for model switching
2025-10-09 12:07:15,875 - app.core.model_dependency - WARNING - ⚠️ Failed to switch to header model gpt-3.5-turbo
2025-10-09 12:08:53,679 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:09:03,226 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:09:03,577 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:09:03,577 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:09:03,617 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:09:03,617 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:09:03,659 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:09:03,660 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:09:03,708 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:09:03,708 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:09:03,709 - sqlalchemy.engine.Engine - INFO - [generated in 0.00113s] {}
2025-10-09 12:09:03,741 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:09:03,763 - app.database - INFO - Database connection successful
2025-10-09 12:09:03,763 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:09:03,786 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:09:03,793 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:03,793 - sqlalchemy.engine.Engine - INFO - [generated in 0.00070s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:03,827 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:03,827 - sqlalchemy.engine.Engine - INFO - [cached since 0.03483s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:03,850 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:03,851 - sqlalchemy.engine.Engine - INFO - [cached since 0.05804s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:03,873 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:03,874 - sqlalchemy.engine.Engine - INFO - [cached since 0.08187s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:03,898 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:03,899 - sqlalchemy.engine.Engine - INFO - [cached since 0.1065s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:03,920 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:03,921 - sqlalchemy.engine.Engine - INFO - [cached since 0.128s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:03,944 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:03,944 - sqlalchemy.engine.Engine - INFO - [cached since 0.1519s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:03,965 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:03,966 - sqlalchemy.engine.Engine - INFO - [cached since 0.1732s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:03,987 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:03,987 - sqlalchemy.engine.Engine - INFO - [cached since 0.1948s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:04,011 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:04,011 - sqlalchemy.engine.Engine - INFO - [cached since 0.2187s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:04,030 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:04,031 - sqlalchemy.engine.Engine - INFO - [cached since 0.2385s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:04,054 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:09:04,070 - app.database - INFO - Database tables created successfully
2025-10-09 12:09:04,070 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:09:04,071 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:09:04,071 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:09:08,309 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:09:12,715 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:09:12,994 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:09:12,994 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:09:13,034 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:09:13,035 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:09:13,074 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:09:13,074 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:09:13,113 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:09:13,114 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:09:13,114 - sqlalchemy.engine.Engine - INFO - [generated in 0.00088s] {}
2025-10-09 12:09:13,151 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:09:13,173 - app.database - INFO - Database connection successful
2025-10-09 12:09:13,173 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:09:13,189 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:09:13,197 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:13,197 - sqlalchemy.engine.Engine - INFO - [generated in 0.00057s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:13,237 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:13,238 - sqlalchemy.engine.Engine - INFO - [cached since 0.041s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:13,260 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:13,260 - sqlalchemy.engine.Engine - INFO - [cached since 0.06373s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:13,283 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:13,283 - sqlalchemy.engine.Engine - INFO - [cached since 0.08679s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:13,304 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:13,305 - sqlalchemy.engine.Engine - INFO - [cached since 0.1083s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:13,328 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:13,328 - sqlalchemy.engine.Engine - INFO - [cached since 0.1316s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:13,350 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:13,351 - sqlalchemy.engine.Engine - INFO - [cached since 0.1542s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:13,372 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:13,373 - sqlalchemy.engine.Engine - INFO - [cached since 0.176s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:13,394 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:13,395 - sqlalchemy.engine.Engine - INFO - [cached since 0.1982s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:13,417 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:13,418 - sqlalchemy.engine.Engine - INFO - [cached since 0.2212s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:13,440 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:13,441 - sqlalchemy.engine.Engine - INFO - [cached since 0.2444s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:13,462 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:09:13,479 - app.database - INFO - Database tables created successfully
2025-10-09 12:09:13,479 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:09:13,480 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:09:13,480 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:09:17,146 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:09:24,981 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:09:25,226 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:09:25,227 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:09:25,270 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:09:25,270 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:09:25,307 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:09:25,307 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:09:25,350 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:09:25,350 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:09:25,350 - sqlalchemy.engine.Engine - INFO - [generated in 0.00060s] {}
2025-10-09 12:09:25,389 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:09:25,404 - app.database - INFO - Database connection successful
2025-10-09 12:09:25,405 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:09:25,427 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:09:25,432 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:25,432 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:25,466 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:25,466 - sqlalchemy.engine.Engine - INFO - [cached since 0.0346s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:25,490 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:25,490 - sqlalchemy.engine.Engine - INFO - [cached since 0.05857s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:25,511 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:25,511 - sqlalchemy.engine.Engine - INFO - [cached since 0.07985s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:25,555 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:25,589 - sqlalchemy.engine.Engine - INFO - [cached since 0.1571s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:25,628 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:25,629 - sqlalchemy.engine.Engine - INFO - [cached since 0.1978s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:25,653 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:25,654 - sqlalchemy.engine.Engine - INFO - [cached since 0.2221s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:25,674 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:25,674 - sqlalchemy.engine.Engine - INFO - [cached since 0.2425s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:25,697 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:25,698 - sqlalchemy.engine.Engine - INFO - [cached since 0.2661s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:25,719 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:25,719 - sqlalchemy.engine.Engine - INFO - [cached since 0.2878s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:25,741 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:25,742 - sqlalchemy.engine.Engine - INFO - [cached since 0.3102s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:25,766 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:09:25,779 - app.database - INFO - Database tables created successfully
2025-10-09 12:09:25,779 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:09:25,779 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:09:25,779 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:09:26,717 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:09:31,004 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:09:31,262 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:09:31,263 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:09:31,307 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:09:31,307 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:09:31,345 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:09:31,345 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:09:31,390 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:09:31,391 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:09:31,391 - sqlalchemy.engine.Engine - INFO - [generated in 0.00059s] {}
2025-10-09 12:09:31,422 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:09:31,440 - app.database - INFO - Database connection successful
2025-10-09 12:09:31,441 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:09:31,458 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:09:31,466 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:31,467 - sqlalchemy.engine.Engine - INFO - [generated in 0.00125s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:31,508 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:31,509 - sqlalchemy.engine.Engine - INFO - [cached since 0.04272s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:31,532 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:31,532 - sqlalchemy.engine.Engine - INFO - [cached since 0.06638s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:31,558 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:31,558 - sqlalchemy.engine.Engine - INFO - [cached since 0.09233s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:31,583 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:31,583 - sqlalchemy.engine.Engine - INFO - [cached since 0.1172s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:31,608 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:31,608 - sqlalchemy.engine.Engine - INFO - [cached since 0.1421s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:31,632 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:31,632 - sqlalchemy.engine.Engine - INFO - [cached since 0.1665s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:31,656 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:31,656 - sqlalchemy.engine.Engine - INFO - [cached since 0.1904s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:31,676 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:31,677 - sqlalchemy.engine.Engine - INFO - [cached since 0.2109s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:31,700 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:31,702 - sqlalchemy.engine.Engine - INFO - [cached since 0.236s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:31,722 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:31,738 - sqlalchemy.engine.Engine - INFO - [cached since 0.2724s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:31,759 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:09:31,781 - app.database - INFO - Database tables created successfully
2025-10-09 12:09:31,782 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:09:31,782 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:09:31,782 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:09:31,986 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:09:46,968 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:09:47,330 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:09:47,330 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:09:47,366 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:09:47,368 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:09:47,415 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:09:47,415 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:09:47,457 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:09:47,458 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:09:47,458 - sqlalchemy.engine.Engine - INFO - [generated in 0.00102s] {}
2025-10-09 12:09:47,493 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:09:47,518 - app.database - INFO - Database connection successful
2025-10-09 12:09:47,520 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:09:47,543 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:09:47,555 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:47,557 - sqlalchemy.engine.Engine - INFO - [generated in 0.00246s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:47,595 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:47,596 - sqlalchemy.engine.Engine - INFO - [cached since 0.04146s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:47,618 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:47,620 - sqlalchemy.engine.Engine - INFO - [cached since 0.06584s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:47,640 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:47,640 - sqlalchemy.engine.Engine - INFO - [cached since 0.08595s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:47,664 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:47,665 - sqlalchemy.engine.Engine - INFO - [cached since 0.1103s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:47,694 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:47,694 - sqlalchemy.engine.Engine - INFO - [cached since 0.1401s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:47,713 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:47,714 - sqlalchemy.engine.Engine - INFO - [cached since 0.1594s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:47,738 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:47,738 - sqlalchemy.engine.Engine - INFO - [cached since 0.184s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:47,759 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:47,759 - sqlalchemy.engine.Engine - INFO - [cached since 0.2051s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:47,780 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:47,781 - sqlalchemy.engine.Engine - INFO - [cached since 0.2264s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:47,801 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:47,802 - sqlalchemy.engine.Engine - INFO - [cached since 0.2475s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:47,828 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:09:47,846 - app.database - INFO - Database tables created successfully
2025-10-09 12:09:47,846 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:09:47,846 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:09:47,847 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:09:47,876 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 12:09:47,877 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: []
2025-10-09 12:09:47,877 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 12:09:47,877 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {}
2025-10-09 12:09:47,877 - app.ai.ai_service - ERROR - ❌ No current provider available for model switching
2025-10-09 12:09:47,877 - app.core.model_dependency - WARNING - ⚠️ Failed to switch to header model gpt-3.5-turbo
2025-10-09 12:09:50,676 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:09:57,111 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:09:57,350 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:09:57,351 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:09:57,392 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:09:57,392 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:09:57,431 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:09:57,431 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:09:57,470 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:09:57,471 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:09:57,471 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] {}
2025-10-09 12:09:57,508 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:09:57,523 - app.database - INFO - Database connection successful
2025-10-09 12:09:57,524 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:09:57,547 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:09:57,551 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:57,552 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:57,595 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:57,595 - sqlalchemy.engine.Engine - INFO - [cached since 0.04395s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:57,617 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:57,617 - sqlalchemy.engine.Engine - INFO - [cached since 0.06558s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:57,635 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:57,635 - sqlalchemy.engine.Engine - INFO - [cached since 0.08411s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:57,657 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:57,658 - sqlalchemy.engine.Engine - INFO - [cached since 0.1065s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:57,680 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:57,680 - sqlalchemy.engine.Engine - INFO - [cached since 0.1292s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:57,704 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:57,704 - sqlalchemy.engine.Engine - INFO - [cached since 0.1529s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:57,727 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:57,727 - sqlalchemy.engine.Engine - INFO - [cached since 0.1758s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:57,756 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:57,756 - sqlalchemy.engine.Engine - INFO - [cached since 0.2046s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:57,780 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:57,781 - sqlalchemy.engine.Engine - INFO - [cached since 0.2295s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:57,804 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:09:57,805 - sqlalchemy.engine.Engine - INFO - [cached since 0.2533s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:09:57,826 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:09:57,842 - app.database - INFO - Database tables created successfully
2025-10-09 12:09:57,842 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:09:57,842 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:09:57,843 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:10:02,183 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:10:13,960 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:10:14,265 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:10:14,266 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:10:14,306 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:10:14,307 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:10:14,358 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:10:14,358 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:10:14,398 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:10:14,399 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:10:14,399 - sqlalchemy.engine.Engine - INFO - [generated in 0.00127s] {}
2025-10-09 12:10:14,440 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:10:14,463 - app.database - INFO - Database connection successful
2025-10-09 12:10:14,464 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:10:14,486 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:10:14,495 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:14,495 - sqlalchemy.engine.Engine - INFO - [generated in 0.00079s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:14,532 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:14,533 - sqlalchemy.engine.Engine - INFO - [cached since 0.03805s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:14,556 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:14,556 - sqlalchemy.engine.Engine - INFO - [cached since 0.06139s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:14,578 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:14,579 - sqlalchemy.engine.Engine - INFO - [cached since 0.08444s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:14,598 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:14,599 - sqlalchemy.engine.Engine - INFO - [cached since 0.1045s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:14,618 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:14,619 - sqlalchemy.engine.Engine - INFO - [cached since 0.1244s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:14,637 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:14,638 - sqlalchemy.engine.Engine - INFO - [cached since 0.1431s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:14,660 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:14,661 - sqlalchemy.engine.Engine - INFO - [cached since 0.1666s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:14,681 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:14,682 - sqlalchemy.engine.Engine - INFO - [cached since 0.1874s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:14,706 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:14,706 - sqlalchemy.engine.Engine - INFO - [cached since 0.2117s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:14,727 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:14,729 - sqlalchemy.engine.Engine - INFO - [cached since 0.2341s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:14,755 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:10:14,772 - app.database - INFO - Database tables created successfully
2025-10-09 12:10:14,772 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:10:14,772 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:10:14,772 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:10:14,811 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 12:10:14,811 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: []
2025-10-09 12:10:14,811 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 12:10:14,812 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {}
2025-10-09 12:10:14,812 - app.ai.ai_service - ERROR - ❌ No current provider available for model switching
2025-10-09 12:10:14,812 - app.core.model_dependency - WARNING - ⚠️ Failed to switch to header model gpt-3.5-turbo
2025-10-09 12:10:17,361 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:10:21,843 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:10:22,120 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:10:22,120 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:10:22,155 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:10:22,156 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:10:22,194 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:10:22,195 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:10:22,236 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:10:22,236 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:10:22,236 - sqlalchemy.engine.Engine - INFO - [generated in 0.00059s] {}
2025-10-09 12:10:22,274 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:10:22,297 - app.database - INFO - Database connection successful
2025-10-09 12:10:22,297 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:10:22,313 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:10:22,318 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:22,318 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:22,356 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:22,356 - sqlalchemy.engine.Engine - INFO - [cached since 0.03805s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:22,377 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:22,378 - sqlalchemy.engine.Engine - INFO - [cached since 0.05983s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:22,400 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:22,400 - sqlalchemy.engine.Engine - INFO - [cached since 0.08228s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:22,432 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:22,432 - sqlalchemy.engine.Engine - INFO - [cached since 0.1139s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:22,454 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:22,455 - sqlalchemy.engine.Engine - INFO - [cached since 0.1365s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:22,473 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:22,473 - sqlalchemy.engine.Engine - INFO - [cached since 0.1553s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:22,496 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:22,496 - sqlalchemy.engine.Engine - INFO - [cached since 0.1783s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:22,520 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:22,521 - sqlalchemy.engine.Engine - INFO - [cached since 0.2029s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:22,541 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:22,541 - sqlalchemy.engine.Engine - INFO - [cached since 0.2235s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:22,564 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:22,565 - sqlalchemy.engine.Engine - INFO - [cached since 0.2468s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:22,588 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:10:22,611 - app.database - INFO - Database tables created successfully
2025-10-09 12:10:22,611 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:10:22,611 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:10:22,611 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:10:25,202 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:10:29,612 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:10:29,880 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:10:29,880 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:10:29,922 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:10:29,922 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:10:29,965 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:10:29,966 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:10:30,008 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:10:30,008 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:10:30,008 - sqlalchemy.engine.Engine - INFO - [generated in 0.00070s] {}
2025-10-09 12:10:30,046 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:10:30,063 - app.database - INFO - Database connection successful
2025-10-09 12:10:30,063 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:10:30,086 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:10:30,092 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:30,092 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:30,135 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:30,136 - sqlalchemy.engine.Engine - INFO - [cached since 0.04426s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:30,157 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:30,157 - sqlalchemy.engine.Engine - INFO - [cached since 0.06541s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:30,175 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:30,176 - sqlalchemy.engine.Engine - INFO - [cached since 0.08382s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:30,197 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:30,197 - sqlalchemy.engine.Engine - INFO - [cached since 0.1054s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:30,215 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:30,216 - sqlalchemy.engine.Engine - INFO - [cached since 0.1238s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:30,237 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:30,237 - sqlalchemy.engine.Engine - INFO - [cached since 0.1451s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:30,254 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:30,255 - sqlalchemy.engine.Engine - INFO - [cached since 0.1629s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:30,272 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:30,273 - sqlalchemy.engine.Engine - INFO - [cached since 0.1806s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:30,297 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:30,297 - sqlalchemy.engine.Engine - INFO - [cached since 0.2054s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:30,320 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:30,321 - sqlalchemy.engine.Engine - INFO - [cached since 0.2294s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:30,343 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:10:30,360 - app.database - INFO - Database tables created successfully
2025-10-09 12:10:30,361 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:10:30,361 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:10:30,361 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:10:34,536 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 12:10:34,537 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: []
2025-10-09 12:10:34,538 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 12:10:34,539 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {}
2025-10-09 12:10:34,539 - app.ai.ai_service - ERROR - ❌ No current provider available for model switching
2025-10-09 12:10:34,539 - app.core.model_dependency - WARNING - ⚠️ Failed to switch to header model gpt-3.5-turbo
2025-10-09 12:10:37,391 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 12:10:37,391 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: []
2025-10-09 12:10:37,391 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 12:10:37,392 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {}
2025-10-09 12:10:37,392 - app.ai.ai_service - ERROR - ❌ No current provider available for model switching
2025-10-09 12:10:37,392 - app.core.model_dependency - WARNING - ⚠️ Failed to switch to header model gpt-3.5-turbo
2025-10-09 12:10:41,326 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:10:46,566 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:10:46,837 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:10:46,837 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:10:46,880 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:10:46,880 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:10:46,924 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:10:46,925 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:10:47,004 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:10:47,005 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:10:47,005 - sqlalchemy.engine.Engine - INFO - [generated in 0.00070s] {}
2025-10-09 12:10:47,047 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:10:47,068 - app.database - INFO - Database connection successful
2025-10-09 12:10:47,068 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:10:47,091 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:10:47,096 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:47,096 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:47,138 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:47,139 - sqlalchemy.engine.Engine - INFO - [cached since 0.04328s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:47,162 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:47,162 - sqlalchemy.engine.Engine - INFO - [cached since 0.06677s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:47,185 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:47,186 - sqlalchemy.engine.Engine - INFO - [cached since 0.0909s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:47,206 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:47,206 - sqlalchemy.engine.Engine - INFO - [cached since 0.1106s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:47,229 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:47,229 - sqlalchemy.engine.Engine - INFO - [cached since 0.1336s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:47,252 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:47,252 - sqlalchemy.engine.Engine - INFO - [cached since 0.1566s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:47,275 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:47,276 - sqlalchemy.engine.Engine - INFO - [cached since 0.1803s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:47,299 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:47,299 - sqlalchemy.engine.Engine - INFO - [cached since 0.2039s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:47,322 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:47,323 - sqlalchemy.engine.Engine - INFO - [cached since 0.2271s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:47,348 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:47,348 - sqlalchemy.engine.Engine - INFO - [cached since 0.2525s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:47,371 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:10:47,387 - app.database - INFO - Database tables created successfully
2025-10-09 12:10:47,387 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:10:47,388 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:10:47,388 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:10:47,992 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:10:56,093 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:10:56,352 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:10:56,353 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:10:56,391 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:10:56,392 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:10:56,429 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:10:56,429 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:10:56,477 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:10:56,478 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:10:56,478 - sqlalchemy.engine.Engine - INFO - [generated in 0.00057s] {}
2025-10-09 12:10:56,510 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:10:56,531 - app.database - INFO - Database connection successful
2025-10-09 12:10:56,531 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:10:56,547 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:10:56,557 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:56,558 - sqlalchemy.engine.Engine - INFO - [generated in 0.00086s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:56,598 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:56,600 - sqlalchemy.engine.Engine - INFO - [cached since 0.04367s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:56,620 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:56,622 - sqlalchemy.engine.Engine - INFO - [cached since 0.06451s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:56,642 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:56,642 - sqlalchemy.engine.Engine - INFO - [cached since 0.08533s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:56,665 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:56,665 - sqlalchemy.engine.Engine - INFO - [cached since 0.1083s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:56,686 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:56,686 - sqlalchemy.engine.Engine - INFO - [cached since 0.1296s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:56,718 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:56,719 - sqlalchemy.engine.Engine - INFO - [cached since 0.1617s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:56,877 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:56,878 - sqlalchemy.engine.Engine - INFO - [cached since 0.3211s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:56,902 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:56,903 - sqlalchemy.engine.Engine - INFO - [cached since 0.3464s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:56,922 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:56,922 - sqlalchemy.engine.Engine - INFO - [cached since 0.3654s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:56,943 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:10:56,944 - sqlalchemy.engine.Engine - INFO - [cached since 0.387s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:10:56,965 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:10:56,980 - app.database - INFO - Database tables created successfully
2025-10-09 12:10:56,981 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:10:56,981 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:10:56,981 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:10:57,184 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:11:01,478 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:11:01,736 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:11:01,736 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:11:01,779 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:11:01,779 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:11:01,820 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:11:01,820 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:11:01,860 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:11:01,860 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:11:01,860 - sqlalchemy.engine.Engine - INFO - [generated in 0.00060s] {}
2025-10-09 12:11:01,893 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:11:01,910 - app.database - INFO - Database connection successful
2025-10-09 12:11:01,910 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:11:01,933 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:11:01,938 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:01,938 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:01,976 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:01,976 - sqlalchemy.engine.Engine - INFO - [cached since 0.03809s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:01,998 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:01,998 - sqlalchemy.engine.Engine - INFO - [cached since 0.05982s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:02,021 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:02,021 - sqlalchemy.engine.Engine - INFO - [cached since 0.08347s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:02,045 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:02,045 - sqlalchemy.engine.Engine - INFO - [cached since 0.1071s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:02,070 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:02,071 - sqlalchemy.engine.Engine - INFO - [cached since 0.1325s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:02,091 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:02,091 - sqlalchemy.engine.Engine - INFO - [cached since 0.1534s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:02,115 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:02,115 - sqlalchemy.engine.Engine - INFO - [cached since 0.1772s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:02,137 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:02,137 - sqlalchemy.engine.Engine - INFO - [cached since 0.1995s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:02,162 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:02,162 - sqlalchemy.engine.Engine - INFO - [cached since 0.2238s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:02,183 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:02,184 - sqlalchemy.engine.Engine - INFO - [cached since 0.2458s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:02,207 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:11:02,223 - app.database - INFO - Database tables created successfully
2025-10-09 12:11:02,224 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:11:02,224 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:11:02,224 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:11:06,680 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:11:17,765 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:11:18,043 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:11:18,044 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:11:18,088 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:11:18,088 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:11:18,125 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:11:18,125 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:11:18,167 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:11:18,170 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:11:18,171 - sqlalchemy.engine.Engine - INFO - [generated in 0.00467s] {}
2025-10-09 12:11:18,204 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:11:18,223 - app.database - INFO - Database connection successful
2025-10-09 12:11:18,224 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:11:18,245 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:11:18,254 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:18,254 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:18,301 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:18,302 - sqlalchemy.engine.Engine - INFO - [cached since 0.04787s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:18,322 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:18,323 - sqlalchemy.engine.Engine - INFO - [cached since 0.06911s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:18,346 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:18,346 - sqlalchemy.engine.Engine - INFO - [cached since 0.09266s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:18,375 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:18,375 - sqlalchemy.engine.Engine - INFO - [cached since 0.1212s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:18,394 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:18,394 - sqlalchemy.engine.Engine - INFO - [cached since 0.1407s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:18,419 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:18,419 - sqlalchemy.engine.Engine - INFO - [cached since 0.1656s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:18,439 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:18,440 - sqlalchemy.engine.Engine - INFO - [cached since 0.1859s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:18,457 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:18,457 - sqlalchemy.engine.Engine - INFO - [cached since 0.2036s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:18,480 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:18,480 - sqlalchemy.engine.Engine - INFO - [cached since 0.2266s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:18,499 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:18,499 - sqlalchemy.engine.Engine - INFO - [cached since 0.2454s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:18,524 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:11:18,540 - app.database - INFO - Database tables created successfully
2025-10-09 12:11:18,540 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:11:18,540 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:11:18,540 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:11:38,672 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:11:46,709 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:11:46,997 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:11:46,998 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:11:47,044 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:11:47,044 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:11:47,083 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:11:47,084 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:11:47,136 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:11:47,136 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:11:47,136 - sqlalchemy.engine.Engine - INFO - [generated in 0.00070s] {}
2025-10-09 12:11:47,175 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:11:47,197 - app.database - INFO - Database connection successful
2025-10-09 12:11:47,198 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:11:47,220 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:11:47,226 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:47,226 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:47,262 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:47,262 - sqlalchemy.engine.Engine - INFO - [cached since 0.03711s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:47,286 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:47,286 - sqlalchemy.engine.Engine - INFO - [cached since 0.06068s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:47,306 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:47,307 - sqlalchemy.engine.Engine - INFO - [cached since 0.0812s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:47,329 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:47,330 - sqlalchemy.engine.Engine - INFO - [cached since 0.1041s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:47,351 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:47,352 - sqlalchemy.engine.Engine - INFO - [cached since 0.1265s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:47,373 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:47,373 - sqlalchemy.engine.Engine - INFO - [cached since 0.1477s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:47,395 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:47,395 - sqlalchemy.engine.Engine - INFO - [cached since 0.1697s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:47,417 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:47,417 - sqlalchemy.engine.Engine - INFO - [cached since 0.192s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:47,438 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:47,438 - sqlalchemy.engine.Engine - INFO - [cached since 0.2125s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:47,462 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:47,462 - sqlalchemy.engine.Engine - INFO - [cached since 0.2365s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:47,482 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:11:47,506 - app.database - INFO - Database tables created successfully
2025-10-09 12:11:47,506 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:11:47,506 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:11:47,506 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:11:47,709 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:11:51,978 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:11:52,225 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:11:52,225 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:11:52,267 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:11:52,286 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:11:52,327 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:11:52,327 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:11:52,369 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:11:52,370 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:11:52,370 - sqlalchemy.engine.Engine - INFO - [generated in 0.00165s] {}
2025-10-09 12:11:52,408 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:11:52,429 - app.database - INFO - Database connection successful
2025-10-09 12:11:52,429 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:11:52,451 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:11:52,458 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:52,458 - sqlalchemy.engine.Engine - INFO - [generated in 0.00151s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:52,493 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:52,494 - sqlalchemy.engine.Engine - INFO - [cached since 0.03681s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:52,519 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:52,519 - sqlalchemy.engine.Engine - INFO - [cached since 0.06216s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:52,542 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:52,542 - sqlalchemy.engine.Engine - INFO - [cached since 0.08522s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:52,564 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:52,566 - sqlalchemy.engine.Engine - INFO - [cached since 0.1091s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:52,587 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:52,587 - sqlalchemy.engine.Engine - INFO - [cached since 0.1302s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:52,611 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:52,612 - sqlalchemy.engine.Engine - INFO - [cached since 0.1541s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:52,635 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:52,636 - sqlalchemy.engine.Engine - INFO - [cached since 0.1786s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:52,657 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:52,657 - sqlalchemy.engine.Engine - INFO - [cached since 0.2001s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:52,678 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:52,679 - sqlalchemy.engine.Engine - INFO - [cached since 0.2218s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:52,701 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:52,702 - sqlalchemy.engine.Engine - INFO - [cached since 0.2448s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:52,723 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:11:52,745 - app.database - INFO - Database tables created successfully
2025-10-09 12:11:52,745 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:11:52,745 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:11:52,746 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:11:52,950 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:11:57,188 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:11:57,465 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:11:57,465 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:11:57,512 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:11:57,513 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:11:57,554 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:11:57,554 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:11:57,598 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:11:57,598 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:11:57,598 - sqlalchemy.engine.Engine - INFO - [generated in 0.00076s] {}
2025-10-09 12:11:57,637 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:11:57,655 - app.database - INFO - Database connection successful
2025-10-09 12:11:57,655 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:11:57,680 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:11:57,688 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:57,688 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:57,723 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:57,723 - sqlalchemy.engine.Engine - INFO - [cached since 0.03537s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:57,746 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:57,747 - sqlalchemy.engine.Engine - INFO - [cached since 0.05883s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:57,769 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:57,769 - sqlalchemy.engine.Engine - INFO - [cached since 0.08144s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:57,791 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:57,791 - sqlalchemy.engine.Engine - INFO - [cached since 0.1032s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:57,813 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:57,814 - sqlalchemy.engine.Engine - INFO - [cached since 0.1258s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:57,835 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:57,835 - sqlalchemy.engine.Engine - INFO - [cached since 0.1476s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:57,858 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:57,858 - sqlalchemy.engine.Engine - INFO - [cached since 0.1705s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:57,879 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:57,880 - sqlalchemy.engine.Engine - INFO - [cached since 0.1918s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:57,899 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:57,900 - sqlalchemy.engine.Engine - INFO - [cached since 0.2121s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:57,921 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:11:57,922 - sqlalchemy.engine.Engine - INFO - [cached since 0.234s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:11:57,945 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:11:57,962 - app.database - INFO - Database tables created successfully
2025-10-09 12:11:57,962 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:11:57,962 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:11:57,962 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:12:12,716 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:12:22,413 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:12:22,684 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:12:22,685 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:12:22,721 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:12:22,722 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:12:22,764 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:12:22,765 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:12:22,805 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:12:22,806 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:12:22,806 - sqlalchemy.engine.Engine - INFO - [generated in 0.00106s] {}
2025-10-09 12:12:22,861 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:12:22,884 - app.database - INFO - Database connection successful
2025-10-09 12:12:22,884 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:12:22,906 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:12:22,916 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:12:22,916 - sqlalchemy.engine.Engine - INFO - [generated in 0.00051s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:12:22,952 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:12:22,952 - sqlalchemy.engine.Engine - INFO - [cached since 0.03669s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:12:22,974 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:12:22,974 - sqlalchemy.engine.Engine - INFO - [cached since 0.05863s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:12:22,997 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:12:22,997 - sqlalchemy.engine.Engine - INFO - [cached since 0.08149s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:12:23,019 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:12:23,020 - sqlalchemy.engine.Engine - INFO - [cached since 0.1041s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:12:23,037 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:12:23,038 - sqlalchemy.engine.Engine - INFO - [cached since 0.1222s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:12:23,059 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:12:23,059 - sqlalchemy.engine.Engine - INFO - [cached since 0.1437s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:12:23,081 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:12:23,082 - sqlalchemy.engine.Engine - INFO - [cached since 0.1665s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:12:23,103 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:12:23,103 - sqlalchemy.engine.Engine - INFO - [cached since 0.1875s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:12:23,125 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:12:23,125 - sqlalchemy.engine.Engine - INFO - [cached since 0.2098s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:12:23,149 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:12:23,150 - sqlalchemy.engine.Engine - INFO - [cached since 0.2342s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:12:23,173 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:12:23,190 - app.database - INFO - Database tables created successfully
2025-10-09 12:12:23,191 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:12:23,191 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:12:23,191 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:12:23,202 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 12:12:23,203 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: []
2025-10-09 12:12:23,203 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 12:12:23,203 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {}
2025-10-09 12:12:23,203 - app.ai.ai_service - ERROR - ❌ No current provider available for model switching
2025-10-09 12:12:23,203 - app.core.model_dependency - WARNING - ⚠️ Failed to switch to header model gpt-3.5-turbo
2025-10-09 12:12:23,209 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user munna@gmail.com
2025-10-09 12:12:23,253 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:12:23,258 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 12:12:23,258 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 12:12:23,320 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:12:24,557 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 12:12:24,589 - app.ai.ai_service - INFO - ✅ Initialized openai provider with model gpt-4o for user munna@gmail.com
2025-10-09 12:12:24,607 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:12:24,608 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 12:12:24,609 - sqlalchemy.engine.Engine - INFO - [cached since 1.351s ago] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 12:12:24,648 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:12:24,671 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user munna@gmail.com and provider anthropic
2025-10-09 12:12:24,694 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:12:24,695 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 12:12:24,695 - sqlalchemy.engine.Engine - INFO - [cached since 1.437s ago] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 12:12:24,737 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:12:24,759 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user munna@gmail.com and provider deepseek
2025-10-09 12:12:24,775 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:12:24,781 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 12:12:24,782 - sqlalchemy.engine.Engine - INFO - [generated in 0.00071s] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'param_1': 1}
2025-10-09 12:12:24,815 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:12:47,347 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:12:47,349 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 12:12:47,349 - sqlalchemy.engine.Engine - INFO - [cached since 24.09s ago] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 12:12:49,422 - sqlalchemy.engine.Engine - INFO - UPDATE user_api_keys SET encrypted_key=%(encrypted_key)s, is_valid=%(is_valid)s, updated_at=%(updated_at)s WHERE user_api_keys.id = %(user_api_keys_id)s
2025-10-09 12:12:49,423 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] {'encrypted_key': 'Z0FBQUFBQm81d3dScjgyUnRDLXg5bVV2NmtUc2FIeFQ4R0JvOHNXQU9vVmpBdFJBNTczVjhsMGpRUUZQVHhfTVVWMzVTczI0REVYMFVkRkRlV20yU2U1Sno1bUFGbzhackpfRG5xZTZLUHk0d3F6Y ... (118 characters truncated) ... 5dWtMZS1GeV9iNElNbURHX3YwUGpKQ2R0MjgybmNaRmVpRDdBSWVUQlNoSld4TDQ1dWp0c0FWVS0zb0RpLVppSnE1dUpsZVJ2ZG9Dby02dmt6ell1Sk5pN01feENxTWZhNWROajdvVHpmbkNNUVU9', 'is_valid': False, 'updated_at': datetime.datetime(2025, 10, 9, 1, 12, 49, 418931), 'user_api_keys_id': 10}
2025-10-09 12:12:50,145 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:12:50,271 - app.services.user_api_key_manager - INFO - Updated API key for user munna@gmail.com and provider openai
2025-10-09 12:12:51,604 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 12:12:51,671 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:12:51,672 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 12:12:51,672 - sqlalchemy.engine.Engine - INFO - [cached since 28.42s ago] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 12:12:51,734 - sqlalchemy.engine.Engine - INFO - UPDATE user_api_keys SET is_valid=%(is_valid)s, last_validated=%(last_validated)s, updated_at=now() WHERE user_api_keys.id = %(user_api_keys_id)s
2025-10-09 12:12:51,734 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] {'is_valid': True, 'last_validated': datetime.datetime(2025, 10, 9, 1, 12, 51, 733200), 'user_api_keys_id': 10}
2025-10-09 12:12:51,756 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:12:51,780 - app.ai.ai_service - INFO - 🔄 Refreshing AI providers after API key changes
2025-10-09 12:12:51,798 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:12:51,799 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 12:12:51,799 - sqlalchemy.engine.Engine - INFO - [cached since 28.54s ago] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 12:12:51,844 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:12:53,009 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 12:12:53,021 - app.ai.ai_service - INFO - ✅ Initialized openai provider with model gpt-4o for user munna@gmail.com
2025-10-09 12:12:53,034 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:12:53,036 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 12:12:53,036 - sqlalchemy.engine.Engine - INFO - [cached since 29.78s ago] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 12:12:53,079 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:12:53,102 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user munna@gmail.com and provider anthropic
2025-10-09 12:12:53,119 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:12:53,120 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 12:12:53,120 - sqlalchemy.engine.Engine - INFO - [cached since 29.86s ago] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 12:12:53,156 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:12:53,172 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user munna@gmail.com and provider deepseek
2025-10-09 12:12:53,173 - app.routes.api_keys - INFO - 🔄 Refreshed AI providers after setting openai API key for user munna@gmail.com
2025-10-09 12:13:00,125 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 12:13:00,127 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: ['openai']
2025-10-09 12:13:00,127 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 12:13:00,916 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 12:13:00,934 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-4o', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-4o', 'is_current': False}}
2025-10-09 12:13:00,934 - app.ai.ai_service - ERROR - ❌ No current provider available for model switching
2025-10-09 12:13:00,935 - app.ai.ai_service - INFO - 🔄 Available providers: ['openai']
2025-10-09 12:13:00,935 - app.ai.ai_service - INFO - ✅ Switched to openai provider with model gpt-4o
2025-10-09 12:13:00,936 - app.core.model_dependency - INFO - 🔄 Switched to model from header: gpt-4o
2025-10-09 12:13:00,936 - app.routes.ai - INFO - 🟢 [AI_CHAT] user=munna@gmail.com provider=openai model=gpt-4o
2025-10-09 12:13:00,937 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-4o
2025-10-09 12:13:02,768 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 12:13:11,703 - app.ai.ai_service - INFO - ✅ Switched to model gpt-3.5-turbo
2025-10-09 12:13:11,703 - app.core.model_dependency - INFO - 🔄 Switched to model from header: gpt-3.5-turbo
2025-10-09 12:13:11,704 - app.routes.ai - INFO - 🟢 [AI_CHAT] user=munna@gmail.com provider=openai model=gpt-3.5-turbo
2025-10-09 12:13:11,704 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 12:13:12,691 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 12:13:28,073 - app.utils.directory_utils - ERROR - ❌ Failed to create cv-analysis directories: User email must be provided
2025-10-09 12:13:30,432 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:13:30,462 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:13:30,462 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 12:13:30,463 - sqlalchemy.engine.Engine - INFO - [cached since 67.21s ago] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 12:13:30,496 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:13:32,760 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 12:13:32,789 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:13:32,791 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 12:13:32,791 - sqlalchemy.engine.Engine - INFO - [cached since 69.53s ago] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 12:13:32,828 - sqlalchemy.engine.Engine - INFO - UPDATE user_api_keys SET last_validated=%(last_validated)s, updated_at=now() WHERE user_api_keys.id = %(user_api_keys_id)s
2025-10-09 12:13:32,828 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] {'last_validated': datetime.datetime(2025, 10, 9, 1, 13, 32, 827358), 'user_api_keys_id': 10}
2025-10-09 12:13:32,851 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:13:32,883 - app.services.enhanced_ai_service - ERROR - Error in enhanced AI service: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:13:32,883 - app.services.job_extraction_service - ERROR - AI service error: 
2025-10-09 12:13:32,927 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:13:32,928 - app.services.job_extraction_service - INFO - ♻️ [JOB_EXTRACTION] Job already exists in saved_jobs.json: Data Analyst at Australia for UNHCR
2025-10-09 12:13:34,028 - app.ai.ai_service - INFO - ✅ Switched to model gpt-3.5-turbo
2025-10-09 12:13:34,029 - app.core.model_dependency - INFO - 🔄 Switched to model from header: gpt-3.5-turbo
2025-10-09 12:13:34,030 - app.routes.skills_analysis - INFO - 🎯 Preliminary analysis request: CV=maheshwor_tiwari.pdf, JD_length=6014, CONFIG=None
2025-10-09 12:13:34,031 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:13:34,032 - app.routes.skills_analysis - INFO - 🏢 Extracted company name: Australia_for_UNHCR
2025-10-09 12:13:34,033 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:13:34,036 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:13:34,037 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:13:34,038 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 12:13:34,038 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:13:34,039 - app.routes.skills_analysis - INFO - 🔗 [PRELIM_ANALYSIS] JD URL (latest job_info): https://www.ethicaljobs.com.au/members/australiaforunhcr/data-analyst
2025-10-09 12:13:34,042 - app.routes.skills_analysis - INFO - 📄 [PRELIM_ANALYSIS] Latest CV selected → type=tailored, ts=20251009_115547, json=user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.json, txt=user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.txt
2025-10-09 12:13:34,043 - app.routes.skills_analysis - INFO - 🧪 [PRELIM_ANALYSIS] CV content length=4113, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • SQL, Python, Excel, Power BI, VBA, Analytical, Stakeholder Management, Data Warehouse, Data Extraction, Data Analysis, Business Intelligence, Results-Driven  EXPERIENCE Data Analyst         Jul 2024 – Present The Bitrates, Sydney, New South Wales, Australia  • Designed and implemented 5 Python '
2025-10-09 12:13:34,044 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 12:13:34,044 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 12:13:34,044 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 12:13:34,045 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Starting AI-powered skills analysis for maheshwor_tiwari.pdf
2025-10-09 12:13:34,045 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] CV content length: 4113 chars
2025-10-09 12:13:34,045 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] JD content length: 6014 chars
2025-10-09 12:13:34,046 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using config: default
2025-10-09 12:13:34,046 - app.routes.skills_analysis - INFO - 🧪 [SKILLS_ANALYSIS] CV preview: 'Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • SQL, Python, Excel, Power BI, VBA, Analytical, Stakeholder Management, Data'
2025-10-09 12:13:34,046 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI provider: openai
2025-10-09 12:13:34,046 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI model: gpt-3.5-turbo
2025-10-09 12:13:34,047 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Provider available: True
2025-10-09 12:13:34,047 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Model from header: gpt-3.5-turbo
2025-10-09 12:13:34,047 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting CV skills with detailed structured analysis...
2025-10-09 12:13:34,047 - app.routes.skills_analysis - ERROR - ❌ [SKILLS_ANALYSIS] Error in preliminary skills analysis: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:13:34,056 - app.routes.skills_analysis - ERROR - ❌ Preliminary analysis error (TypeError): generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:13:34,056 - app.routes.skills_analysis - ERROR - Traceback: Traceback (most recent call last):
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/routes/skills_analysis.py", line 954, in preliminary_analysis
    result = await perform_preliminary_skills_analysis(
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/routes/skills_analysis.py", line 2731, in perform_preliminary_skills_analysis
    raise e
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/routes/skills_analysis.py", line 2348, in perform_preliminary_skills_analysis
    cv_structured_response = await ai_service.generate_response(
TypeError: generate_response() missing 1 required positional argument: 'user'

2025-10-09 12:15:12,685 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:15:22,802 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:15:23,125 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:15:23,126 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:15:23,171 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:15:23,172 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:15:23,218 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:15:23,218 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:15:23,260 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:15:23,260 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:15:23,261 - sqlalchemy.engine.Engine - INFO - [generated in 0.00105s] {}
2025-10-09 12:15:23,332 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:15:23,352 - app.database - INFO - Database connection successful
2025-10-09 12:15:23,352 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:15:23,371 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:15:23,379 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:15:23,380 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:15:23,420 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:15:23,421 - sqlalchemy.engine.Engine - INFO - [cached since 0.04163s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:15:23,440 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:15:23,441 - sqlalchemy.engine.Engine - INFO - [cached since 0.06156s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:15:23,461 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:15:23,462 - sqlalchemy.engine.Engine - INFO - [cached since 0.08261s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:15:23,482 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:15:23,483 - sqlalchemy.engine.Engine - INFO - [cached since 0.1039s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:15:23,505 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:15:23,506 - sqlalchemy.engine.Engine - INFO - [cached since 0.127s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:15:23,528 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:15:23,529 - sqlalchemy.engine.Engine - INFO - [cached since 0.1496s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:15:23,554 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:15:23,554 - sqlalchemy.engine.Engine - INFO - [cached since 0.1749s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:15:23,573 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:15:23,574 - sqlalchemy.engine.Engine - INFO - [cached since 0.1947s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:15:23,596 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:15:23,597 - sqlalchemy.engine.Engine - INFO - [cached since 0.2176s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:15:23,620 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:15:23,621 - sqlalchemy.engine.Engine - INFO - [cached since 0.2417s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:15:23,644 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:15:23,666 - app.database - INFO - Database tables created successfully
2025-10-09 12:15:23,666 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:15:23,667 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:15:23,667 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:15:24,677 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:15:38,364 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:15:38,629 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:15:38,630 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:15:38,669 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:15:38,670 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:15:38,709 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:15:38,710 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:15:38,750 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:15:38,750 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:15:38,750 - sqlalchemy.engine.Engine - INFO - [generated in 0.00057s] {}
2025-10-09 12:15:38,783 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:15:38,804 - app.database - INFO - Database connection successful
2025-10-09 12:15:38,804 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:15:38,826 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:15:38,832 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:15:38,832 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:15:38,868 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:15:38,868 - sqlalchemy.engine.Engine - INFO - [cached since 0.03647s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:15:38,890 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:15:38,890 - sqlalchemy.engine.Engine - INFO - [cached since 0.05867s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:15:38,912 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:15:38,912 - sqlalchemy.engine.Engine - INFO - [cached since 0.08059s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:15:38,935 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:15:38,936 - sqlalchemy.engine.Engine - INFO - [cached since 0.1042s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:15:38,958 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:15:38,959 - sqlalchemy.engine.Engine - INFO - [cached since 0.1274s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:15:38,979 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:15:38,979 - sqlalchemy.engine.Engine - INFO - [cached since 0.1475s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:15:39,001 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:15:39,001 - sqlalchemy.engine.Engine - INFO - [cached since 0.1694s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:15:39,020 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:15:39,021 - sqlalchemy.engine.Engine - INFO - [cached since 0.1892s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:15:39,044 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:15:39,044 - sqlalchemy.engine.Engine - INFO - [cached since 0.2126s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:15:39,065 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:15:39,065 - sqlalchemy.engine.Engine - INFO - [cached since 0.2333s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:15:39,087 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:15:39,110 - app.database - INFO - Database tables created successfully
2025-10-09 12:15:39,111 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:15:39,111 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:15:39,111 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:15:42,134 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:15:50,293 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:15:50,558 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:15:50,559 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:15:50,598 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:15:50,598 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:15:50,641 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:15:50,641 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:15:50,685 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:15:50,685 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:15:50,686 - sqlalchemy.engine.Engine - INFO - [generated in 0.00067s] {}
2025-10-09 12:15:50,731 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:15:50,753 - app.database - INFO - Database connection successful
2025-10-09 12:15:50,754 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:15:50,777 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:15:50,783 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:15:50,783 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:15:50,823 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:15:50,824 - sqlalchemy.engine.Engine - INFO - [cached since 0.04139s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:15:50,846 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:15:50,847 - sqlalchemy.engine.Engine - INFO - [cached since 0.06434s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:15:50,868 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:15:50,868 - sqlalchemy.engine.Engine - INFO - [cached since 0.08583s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:15:50,891 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:15:50,892 - sqlalchemy.engine.Engine - INFO - [cached since 0.1092s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:15:50,913 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:15:50,914 - sqlalchemy.engine.Engine - INFO - [cached since 0.1313s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:15:50,936 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:15:50,936 - sqlalchemy.engine.Engine - INFO - [cached since 0.1541s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:15:50,965 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:15:50,966 - sqlalchemy.engine.Engine - INFO - [cached since 0.1832s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:15:50,989 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:15:50,989 - sqlalchemy.engine.Engine - INFO - [cached since 0.2069s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:15:51,011 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:15:51,011 - sqlalchemy.engine.Engine - INFO - [cached since 0.2288s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:15:51,032 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:15:51,032 - sqlalchemy.engine.Engine - INFO - [cached since 0.2498s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:15:51,054 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:15:51,077 - app.database - INFO - Database tables created successfully
2025-10-09 12:15:51,078 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:15:51,078 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:15:51,078 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:15:59,947 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:16:04,829 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:16:05,187 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:16:05,187 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:16:05,229 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:16:05,229 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:16:05,271 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:16:05,271 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:16:05,318 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:16:05,318 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:16:05,318 - sqlalchemy.engine.Engine - INFO - [generated in 0.00076s] {}
2025-10-09 12:16:05,357 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:16:05,378 - app.database - INFO - Database connection successful
2025-10-09 12:16:05,378 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:16:05,402 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:16:05,407 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:16:05,407 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:16:05,452 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:16:05,452 - sqlalchemy.engine.Engine - INFO - [cached since 0.0454s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:16:05,477 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:16:05,477 - sqlalchemy.engine.Engine - INFO - [cached since 0.07024s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:16:05,500 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:16:05,500 - sqlalchemy.engine.Engine - INFO - [cached since 0.09326s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:16:05,532 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:16:05,533 - sqlalchemy.engine.Engine - INFO - [cached since 0.1263s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:16:05,556 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:16:05,556 - sqlalchemy.engine.Engine - INFO - [cached since 0.1492s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:16:05,577 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:16:05,577 - sqlalchemy.engine.Engine - INFO - [cached since 0.1707s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:16:05,599 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:16:05,599 - sqlalchemy.engine.Engine - INFO - [cached since 0.1927s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:16:05,623 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:16:05,623 - sqlalchemy.engine.Engine - INFO - [cached since 0.2165s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:16:05,646 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:16:05,646 - sqlalchemy.engine.Engine - INFO - [cached since 0.2395s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:16:05,667 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:16:05,668 - sqlalchemy.engine.Engine - INFO - [cached since 0.2609s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:16:05,690 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:16:05,703 - app.database - INFO - Database tables created successfully
2025-10-09 12:16:05,704 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:16:05,704 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:16:05,704 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:16:20,603 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:16:26,040 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:16:26,372 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:16:26,373 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:16:26,412 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:16:26,413 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:16:26,458 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:16:26,458 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:16:26,503 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:16:26,503 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:16:26,504 - sqlalchemy.engine.Engine - INFO - [generated in 0.00054s] {}
2025-10-09 12:16:26,544 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:16:26,562 - app.database - INFO - Database connection successful
2025-10-09 12:16:26,562 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:16:26,585 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:16:26,594 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:16:26,595 - sqlalchemy.engine.Engine - INFO - [generated in 0.00071s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:16:26,640 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:16:26,641 - sqlalchemy.engine.Engine - INFO - [cached since 0.04653s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:16:26,664 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:16:26,664 - sqlalchemy.engine.Engine - INFO - [cached since 0.0702s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:16:26,682 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:16:26,683 - sqlalchemy.engine.Engine - INFO - [cached since 0.08856s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:16:26,708 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:16:26,708 - sqlalchemy.engine.Engine - INFO - [cached since 0.1144s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:16:26,732 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:16:26,732 - sqlalchemy.engine.Engine - INFO - [cached since 0.138s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:16:26,753 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:16:26,754 - sqlalchemy.engine.Engine - INFO - [cached since 0.1595s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:16:26,775 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:16:26,776 - sqlalchemy.engine.Engine - INFO - [cached since 0.1814s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:16:26,798 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:16:26,798 - sqlalchemy.engine.Engine - INFO - [cached since 0.204s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:16:26,822 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:16:26,822 - sqlalchemy.engine.Engine - INFO - [cached since 0.228s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:16:26,846 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:16:26,846 - sqlalchemy.engine.Engine - INFO - [cached since 0.2519s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:16:26,869 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:16:26,892 - app.database - INFO - Database tables created successfully
2025-10-09 12:16:26,892 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:16:26,893 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:16:26,893 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:16:27,056 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 12:16:27,057 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: []
2025-10-09 12:16:27,057 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 12:16:27,058 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {}
2025-10-09 12:16:27,058 - app.ai.ai_service - ERROR - ❌ No current provider available for model switching
2025-10-09 12:16:27,058 - app.core.model_dependency - WARNING - ⚠️ Failed to switch to header model gpt-3.5-turbo
2025-10-09 12:16:27,074 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user munna@gmail.com
2025-10-09 12:16:27,129 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:16:27,134 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 12:16:27,135 - sqlalchemy.engine.Engine - INFO - [generated in 0.00055s] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 12:16:27,187 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:16:27,816 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 12:16:27,909 - app.ai.ai_service - INFO - ✅ Initialized openai provider with model gpt-4o for user munna@gmail.com
2025-10-09 12:16:27,930 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:16:27,931 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 12:16:27,932 - sqlalchemy.engine.Engine - INFO - [cached since 0.7973s ago] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 12:16:27,972 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:16:27,994 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user munna@gmail.com and provider anthropic
2025-10-09 12:16:28,016 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:16:28,017 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 12:16:28,017 - sqlalchemy.engine.Engine - INFO - [cached since 0.8829s ago] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 12:16:28,062 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:16:28,083 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user munna@gmail.com and provider deepseek
2025-10-09 12:16:28,105 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:16:28,107 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 12:16:28,108 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'param_1': 1}
2025-10-09 12:16:28,150 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:16:54,767 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 12:16:54,769 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: ['openai']
2025-10-09 12:16:54,769 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 12:16:55,405 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 12:16:55,420 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-4o', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-4o', 'is_current': False}}
2025-10-09 12:16:55,420 - app.ai.ai_service - ERROR - ❌ No current provider available for model switching
2025-10-09 12:16:55,420 - app.ai.ai_service - INFO - 🔄 Available providers: ['openai']
2025-10-09 12:16:55,420 - app.ai.ai_service - INFO - ✅ Switched to openai provider with model gpt-3.5-turbo
2025-10-09 12:16:55,421 - app.core.model_dependency - INFO - 🔄 Switched to model from header: gpt-3.5-turbo
2025-10-09 12:16:55,421 - app.routes.ai - INFO - 🟢 [AI_CHAT] user=munna@gmail.com provider=openai model=gpt-3.5-turbo
2025-10-09 12:16:55,421 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 12:16:56,635 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 12:16:57,756 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:17:03,759 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:17:04,100 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:17:04,101 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:17:04,141 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:17:04,141 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:17:04,186 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:17:04,186 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:17:04,235 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:17:04,235 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:17:04,235 - sqlalchemy.engine.Engine - INFO - [generated in 0.00056s] {}
2025-10-09 12:17:04,274 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:17:04,296 - app.database - INFO - Database connection successful
2025-10-09 12:17:04,297 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:17:04,320 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:17:04,326 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:17:04,326 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:17:04,370 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:17:04,370 - sqlalchemy.engine.Engine - INFO - [cached since 0.04461s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:17:04,395 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:17:04,395 - sqlalchemy.engine.Engine - INFO - [cached since 0.06962s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:17:04,419 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:17:04,419 - sqlalchemy.engine.Engine - INFO - [cached since 0.09324s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:17:04,441 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:17:04,442 - sqlalchemy.engine.Engine - INFO - [cached since 0.1159s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:17:04,466 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:17:04,467 - sqlalchemy.engine.Engine - INFO - [cached since 0.1408s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:17:04,491 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:17:04,491 - sqlalchemy.engine.Engine - INFO - [cached since 0.1655s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:17:04,512 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:17:04,512 - sqlalchemy.engine.Engine - INFO - [cached since 0.1862s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:17:04,534 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:17:04,535 - sqlalchemy.engine.Engine - INFO - [cached since 0.2091s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:17:04,558 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:17:04,558 - sqlalchemy.engine.Engine - INFO - [cached since 0.2323s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:17:04,579 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:17:04,580 - sqlalchemy.engine.Engine - INFO - [cached since 0.254s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:17:04,604 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:17:04,626 - app.database - INFO - Database tables created successfully
2025-10-09 12:17:04,627 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:17:04,627 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:17:04,627 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:17:06,717 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 12:17:06,717 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: []
2025-10-09 12:17:06,717 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 12:17:06,717 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {}
2025-10-09 12:17:06,717 - app.ai.ai_service - ERROR - ❌ No current provider available for model switching
2025-10-09 12:17:06,718 - app.core.model_dependency - WARNING - ⚠️ Failed to switch to header model gpt-3.5-turbo
2025-10-09 12:17:06,724 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user munna@gmail.com
2025-10-09 12:17:06,779 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:17:06,783 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 12:17:06,784 - sqlalchemy.engine.Engine - INFO - [generated in 0.00050s] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 12:17:06,836 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:17:07,607 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 12:17:07,679 - app.ai.ai_service - INFO - ✅ Initialized openai provider with model gpt-4o for user munna@gmail.com
2025-10-09 12:17:07,698 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:17:07,699 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 12:17:07,699 - sqlalchemy.engine.Engine - INFO - [cached since 0.916s ago] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 12:17:07,746 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:17:07,768 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user munna@gmail.com and provider anthropic
2025-10-09 12:17:07,791 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:17:07,792 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 12:17:07,792 - sqlalchemy.engine.Engine - INFO - [cached since 1.009s ago] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 12:17:07,830 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:17:07,855 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user munna@gmail.com and provider deepseek
2025-10-09 12:17:07,877 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:17:07,880 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 12:17:07,883 - sqlalchemy.engine.Engine - INFO - [generated in 0.00318s] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'param_1': 1}
2025-10-09 12:17:07,925 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:17:30,925 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 12:17:30,926 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: ['openai']
2025-10-09 12:17:30,926 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 12:17:31,463 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 12:17:31,475 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-4o', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-4o', 'is_current': False}}
2025-10-09 12:17:31,476 - app.ai.ai_service - ERROR - ❌ No current provider available for model switching
2025-10-09 12:17:31,476 - app.ai.ai_service - INFO - 🔄 Available providers: ['openai']
2025-10-09 12:17:31,476 - app.ai.ai_service - INFO - ✅ Switched to openai provider with model gpt-4o
2025-10-09 12:17:31,477 - app.core.model_dependency - INFO - 🔄 Switched to model from header: gpt-4o
2025-10-09 12:17:31,477 - app.routes.ai - INFO - 🟢 [AI_CHAT] user=munna@gmail.com provider=openai model=gpt-4o
2025-10-09 12:17:31,478 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-4o
2025-10-09 12:17:32,576 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 12:17:37,885 - app.ai.ai_service - INFO - ✅ Switched to model gpt-4o
2025-10-09 12:17:37,885 - app.core.model_dependency - INFO - 🔄 Switched to model from header: gpt-4o
2025-10-09 12:17:37,886 - app.routes.skills_analysis - INFO - 🎯 Preliminary analysis request: CV=maheshwor_tiwari.pdf, JD_length=6014, CONFIG=None
2025-10-09 12:17:37,887 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:17:37,888 - app.routes.skills_analysis - INFO - 🏢 Extracted company name: Australia_for_UNHCR
2025-10-09 12:17:37,888 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:17:37,890 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:17:37,890 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:17:37,891 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 12:17:37,891 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:17:37,893 - app.routes.skills_analysis - INFO - 🔗 [PRELIM_ANALYSIS] JD URL (latest job_info): https://www.ethicaljobs.com.au/members/australiaforunhcr/data-analyst
2025-10-09 12:17:37,894 - app.routes.skills_analysis - INFO - 📄 [PRELIM_ANALYSIS] Latest CV selected → type=tailored, ts=20251009_115547, json=user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.json, txt=user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.txt
2025-10-09 12:17:37,896 - app.routes.skills_analysis - INFO - 🧪 [PRELIM_ANALYSIS] CV content length=4113, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • SQL, Python, Excel, Power BI, VBA, Analytical, Stakeholder Management, Data Warehouse, Data Extraction, Data Analysis, Business Intelligence, Results-Driven  EXPERIENCE Data Analyst         Jul 2024 – Present The Bitrates, Sydney, New South Wales, Australia  • Designed and implemented 5 Python '
2025-10-09 12:17:37,896 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 12:17:37,896 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 12:17:37,897 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 12:17:37,897 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Starting AI-powered skills analysis for maheshwor_tiwari.pdf
2025-10-09 12:17:37,897 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] CV content length: 4113 chars
2025-10-09 12:17:37,897 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] JD content length: 6014 chars
2025-10-09 12:17:37,897 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using config: default
2025-10-09 12:17:37,897 - app.routes.skills_analysis - INFO - 🧪 [SKILLS_ANALYSIS] CV preview: 'Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • SQL, Python, Excel, Power BI, VBA, Analytical, Stakeholder Management, Data'
2025-10-09 12:17:37,897 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI provider: openai
2025-10-09 12:17:37,897 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI model: gpt-4o
2025-10-09 12:17:37,898 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Provider available: True
2025-10-09 12:17:37,898 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Model from header: gpt-4o
2025-10-09 12:17:37,898 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting CV skills with detailed structured analysis...
2025-10-09 12:17:37,898 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-4o
2025-10-09 12:17:59,888 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 12:17:59,891 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] Starting response parsing...
2025-10-09 12:17:59,891 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] Raw response preview: ## SOFT SKILLS:

**EXPLICIT (directly stated):**
- Stakeholder Management - "improving stakeholder communication and decision-making processes"
- Results-Driven - "Results-Driven"

**STRONGLY IMPLIED (very likely based on responsibilities):**
- Teamwork - "team collaboration", "collaborated with faculty"
- Communication - "improving stakeholder communication", "enhancing stakeholder engagement"
- Problem-solving - "solving complex research problems"
- Analytical Thinking - "Analytical"
- Leaders...
2025-10-09 12:17:59,891 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] FULL CV RESPONSE: ## SOFT SKILLS:

**EXPLICIT (directly stated):**
- Stakeholder Management - "improving stakeholder communication and decision-making processes"
- Results-Driven - "Results-Driven"

**STRONGLY IMPLIED (very likely based on responsibilities):**
- Teamwork - "team collaboration", "collaborated with faculty"
- Communication - "improving stakeholder communication", "enhancing stakeholder engagement"
- Problem-solving - "solving complex research problems"
- Analytical Thinking - "Analytical"
- Leadership - "Led engaging physics tutorials"
- Mentoring - "Mentored students on projects"
- Collaboration - "collaborated with faculty", "team collaboration"

## TECHNICAL SKILLS:

**EXPLICIT (directly stated):**
- SQL - "SQL"
- Python - "Python"
- Excel - "Excel"
- Power BI - "Power BI"
- VBA - "VBA"
- Data Warehouse - "Data Warehouse"
- Data Extraction - "Data Extraction"
- Data Analysis - "Data Analysis"
- Business Intelligence - "Business Intelligence"
- Matplotlib - "using Matplotlib"
- Seaborn - "using Matplotlib and Seaborn"
- Google Analytics - "Integrated Google Analytics data"
- Machine Learning - "machine learning models"
- AI - "Leveraged AI techniques"
- Tableau - "producing Tableau dashboards"

**STRONGLY IMPLIED (very likely based on responsibilities):**
- Data Cleaning - "data cleaning and preprocessing"
- Predictive Analytics - "predictive analytics"
- Data Preprocessing - "data cleaning and preprocessing"
- Dashboards - "dynamic dashboards"
- Data Structuring - "data extraction and structuring"
- Data Processing - "improve data processing speed"

## DOMAIN KEYWORDS:

**EXPLICIT:**
- Data Pipeline - "improving data pipeline efficiency"
- Predictive Analytics - "predictive analytics"
- Customer Behavior Insights - "enhancing customer behavior insights"
- Operational Efficiency - "enhancing operational efficiency"
- Strategic Decision-Making - "strategic decision-making"
- Customer Satisfaction - "improving customer satisfaction"
- Computational Modeling - "computational modeling"
- Research Projects - "multiple research projects"
- Physics - "Led engaging physics tutorials"

**STRONGLY IMPLIED:**
- Data-Driven Business Decisions - "enabling data-driven business decisions"
- Customer-Focused Initiatives - "enabling customer-focused initiatives"

**CRITICAL OUTPUT REQUIREMENT:**

SOFT_SKILLS = ["Stakeholder Management", "Results-Driven", "Teamwork", "Communication", "Problem-solving", "Analytical Thinking", "Leadership", "Mentoring", "Collaboration"]

TECHNICAL_SKILLS = ["SQL", "Python", "Excel", "Power BI", "VBA", "Data Warehouse", "Data Extraction", "Data Analysis", "Business Intelligence", "Matplotlib", "Seaborn", "Google Analytics", "Machine Learning", "AI", "Tableau", "Data Cleaning", "Predictive Analytics", "Data Preprocessing", "Dashboards", "Data Structuring", "Data Processing"]

DOMAIN_KEYWORDS = ["Data Pipeline", "Predictive Analytics", "Customer Behavior Insights", "Operational Efficiency", "Strategic Decision-Making", "Customer Satisfaction", "Computational Modeling", "Research Projects", "Physics", "Data-Driven Business Decisions", "Customer-Focused Initiatives"]
2025-10-09 12:17:59,892 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Successfully extracted 41 total skills using multi-format parser
2025-10-09 12:17:59,892 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated soft_skills: 9 valid skills
2025-10-09 12:17:59,893 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated technical_skills: 21 valid skills
2025-10-09 12:17:59,893 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated domain_keywords: 11 valid skills
2025-10-09 12:17:59,893 - app.services.skill_extraction.response_parser - INFO - 📊 [CV] Parsing completed:
2025-10-09 12:17:59,893 - app.services.skill_extraction.response_parser - INFO -    Soft Skills (9): ['Stakeholder Management', 'Results-Driven', 'Teamwork']...
2025-10-09 12:17:59,893 - app.services.skill_extraction.response_parser - INFO -    Technical Skills (21): ['SQL', 'Python', 'Excel']...
2025-10-09 12:17:59,893 - app.services.skill_extraction.response_parser - INFO -    Domain Keywords (11): ['Data Pipeline', 'Predictive Analytics', 'Customer Behavior Insights']...
2025-10-09 12:17:59,893 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting JD skills with detailed structured analysis...
2025-10-09 12:17:59,894 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-4o
2025-10-09 12:18:21,870 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 12:18:21,880 - app.services.skill_extraction.response_parser - INFO - 🔍 [JD] Starting response parsing...
2025-10-09 12:18:21,881 - app.services.skill_extraction.response_parser - INFO - 🔍 [JD] Raw response preview: ## SOFT SKILLS:
**EXPLICIT (directly stated):**
- Communication - "Excellent communication and customer service skills"
- Teamwork - "collaborative and inclusive team players"
- Organization - "organised and detail-oriented"
- Problem-solving - "strong analytical and problem-solving skills"
- Stakeholder management - "Strong stakeholder management skills"
- Customer service - "Excellent communication and customer service skills"

**STRONGLY IMPLIED (very likely based on responsibilities):**
- An...
2025-10-09 12:18:21,882 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Successfully extracted 35 total skills using multi-format parser
2025-10-09 12:18:21,882 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated soft_skills: 10 valid skills
2025-10-09 12:18:21,882 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated technical_skills: 15 valid skills
2025-10-09 12:18:21,883 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated domain_keywords: 10 valid skills
2025-10-09 12:18:21,883 - app.services.skill_extraction.response_parser - INFO - 📊 [JD] Parsing completed:
2025-10-09 12:18:21,883 - app.services.skill_extraction.response_parser - INFO -    Soft Skills (10): ['Communication', 'Teamwork', 'Organization']...
2025-10-09 12:18:21,884 - app.services.skill_extraction.response_parser - INFO -    Technical Skills (15): ['SQL', 'Power BI', 'Tableau']...
2025-10-09 12:18:21,884 - app.services.skill_extraction.response_parser - INFO -    Domain Keywords (10): ['International Aid and Development', 'Fundraising', 'Not For Profit (NFP)']...
2025-10-09 12:18:21,884 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using structured analysis as comprehensive analysis...
2025-10-09 12:18:21,885 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Technical Skills (21): ['SQL', 'Python', 'Excel', 'Power BI', 'VBA', 'Data Warehouse', 'Data Extraction', 'Data Analysis', 'Business Intelligence', 'Matplotlib', 'Seaborn', 'Google Analytics', 'Machine Learning', 'AI', 'Tableau', 'Data Cleaning', 'Predictive Analytics', 'Data Preprocessing', 'Dashboards', 'Data Structuring', 'Data Processing']
2025-10-09 12:18:21,885 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Soft Skills (9): ['Stakeholder Management', 'Results-Driven', 'Teamwork', 'Communication', 'Problem-solving', 'Analytical Thinking', 'Leadership', 'Mentoring', 'Collaboration']
2025-10-09 12:18:21,885 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Domain Keywords (11): ['Data Pipeline', 'Predictive Analytics', 'Customer Behavior Insights', 'Operational Efficiency', 'Strategic Decision-Making', 'Customer Satisfaction', 'Computational Modeling', 'Research Projects', 'Physics', 'Data-Driven Business Decisions', 'Customer-Focused Initiatives']
2025-10-09 12:18:21,885 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Technical Skills (15): ['SQL', 'Power BI', 'Tableau', 'Excel', 'VBA', 'Data mining', 'Data warehouse', 'Business Intelligence', 'Report creation', 'Data extraction', 'Segmentation', 'Database', 'Data analysis', 'Data modeling', 'Data cleaning']
2025-10-09 12:18:21,885 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Soft Skills (10): ['Communication', 'Teamwork', 'Organization', 'Problem-solving', 'Stakeholder management', 'Customer service', 'Analytical Thinking', 'Detail-oriented', 'Self-motivated', 'Project management']
2025-10-09 12:18:21,886 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Domain Keywords (10): ['International Aid and Development', 'Fundraising', 'Not For Profit (NFP)', 'Humanitarian emergencies', 'Direct marketing campaigns', 'Multi-channel communication', 'Evidence-based decision making', 'Data-driven business decision-making', 'Donor-centricity', 'Data governance']
2025-10-09 12:18:21,886 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] Analysis completed successfully
2025-10-09 12:18:21,886 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 12:18:21,887 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:18:21,887 - app.services.skill_extraction.result_saver - INFO - 📁 Result saver initialized with base directory: user/munna@gmail.com/cv-analysis
2025-10-09 12:18:21,887 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:18:21,888 - app.routes.skills_analysis - INFO - 🔍 [COMPANY_DETECTION] Looking in: user/munna@gmail.com/cv-analysis/applied_companies
2025-10-09 12:18:21,890 - app.routes.skills_analysis - INFO - 📁 [COMPANY_DETECTION] Found company folder: Australia_for_UNHCR with 4 job_info files
2025-10-09 12:18:21,891 - app.routes.skills_analysis - INFO - 🏢 [COMPANY_DETECTION] Using most recent company folder: Australia_for_UNHCR
2025-10-09 12:18:21,892 - app.routes.skills_analysis - INFO - 📋 [COMPANY_DETECTION] Job info company: Australia for UNHCR
2025-10-09 12:18:21,892 - app.services.skill_extraction.result_saver - INFO - 🏢 Using provided company name: Australia_for_UNHCR -> Australia_for_UNHCR
2025-10-09 12:18:21,893 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:18:21,893 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 12:18:21,894 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:18:21,895 - app.services.skill_extraction.result_saver - INFO - 💾 Structured CV already exists, preserving it: user/munna@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 12:18:21,895 - app.services.skill_extraction.result_saver - INFO - 💾 Structured CV preserved, skipping save: user/munna@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 12:18:21,898 - app.services.skill_extraction.result_saver - INFO - 💾 Analysis results saved (JSON) to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_121821.json
2025-10-09 12:18:21,898 - app.routes.skills_analysis - INFO - 📁 [FILE_SAVE] Results saved to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_121821.json
2025-10-09 12:18:21,899 - app.routes.skills_analysis - INFO - 🔍 [ANALYZE_MATCH] Starting analyze match assessment...
2025-10-09 12:18:21,903 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-4o
2025-10-09 12:18:32,889 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 12:18:32,891 - app.routes.skills_analysis - INFO - ✅ [ANALYZE_MATCH] Analysis completed (length: 2704 chars)
2025-10-09 12:18:32,892 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:18:32,896 - app.services.skill_extraction.result_saver - INFO - 📂 Found existing analysis file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_121821.json
2025-10-09 12:18:32,896 - app.services.skill_extraction.result_saver - INFO - 🔍 Looking for analysis file in: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 12:18:32,896 - app.services.skill_extraction.result_saver - INFO - 📄 Using existing file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_121821.json
2025-10-09 12:18:32,901 - app.services.skill_extraction.result_saver - INFO - 📁 [ANALYZE_MATCH] Results appended to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_121821.json
2025-10-09 12:18:32,901 - app.routes.skills_analysis - INFO - 📁 [ANALYZE_MATCH] Results appended to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_121821.json
2025-10-09 12:18:32,902 - app.routes.skills_analysis - INFO - 🔍 [PREEXTRACTED_COMPARISON] Starting pre-extracted skills semantic comparison...
2025-10-09 12:18:32,907 - app.services.skill_extraction.preextracted_comparator - INFO - 🔍 [EXACT_MATCHES] Found 3 exact matches: {'technical_skills': [{'jd_skill': 'Business Intelligence', 'cv_skill': 'Business Intelligence', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Data analysis', 'cv_skill': 'Data Analysis', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Data cleaning', 'cv_skill': 'Data Cleaning', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Data extraction', 'cv_skill': 'Data Extraction', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Data warehouse', 'cv_skill': 'Data Warehouse', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Excel', 'cv_skill': 'Excel', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Power BI', 'cv_skill': 'Power BI', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'SQL', 'cv_skill': 'SQL', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Tableau', 'cv_skill': 'Tableau', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'VBA', 'cv_skill': 'VBA', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}], 'soft_skills': [{'jd_skill': 'Analytical Thinking', 'cv_skill': 'Analytical Thinking', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Communication', 'cv_skill': 'Communication', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Problem-solving', 'cv_skill': 'Problem-solving', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Stakeholder management', 'cv_skill': 'Stakeholder Management', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Teamwork', 'cv_skill': 'Teamwork', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}], 'domain_keywords': []}
2025-10-09 12:18:32,908 - app.services.skill_extraction.preextracted_comparator - WARNING - ⚠️ [COMPARISON] JSON mode failed: generate_response() missing 1 required positional argument: 'user', falling back to text mode
2025-10-09 12:18:32,910 - app.routes.skills_analysis - ERROR - ❌ [PREEXTRACTED_COMPARISON] Error: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:18:32,911 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:18:32,912 - app.routes.skills_analysis - INFO - ♻️ [PIPELINE] (preliminary-analysis) JD file already exists: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/jd_original_20251009_121332.json
2025-10-09 12:18:32,914 - app.routes.skills_analysis - INFO - ♻️ [JOBS] Job already exists in saved_jobs.json: Data Analyst at Australia for UNHCR
2025-10-09 12:18:32,914 - app.routes.skills_analysis - INFO - 🚀 [PIPELINE] (preliminary-analysis) scheduling for company: Australia_for_UNHCR
2025-10-09 12:18:32,915 - app.routes.skills_analysis - INFO - 🚀 [PIPELINE] Scheduling JD analysis and CV–JD matching for 'Australia_for_UNHCR'...
2025-10-09 12:18:32,916 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:18:32,916 - app.routes.skills_analysis - INFO - 🔧 [PIPELINE] Starting JD analysis for Australia_for_UNHCR (force_refresh=True)
2025-10-09 12:18:32,918 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:18:32,919 - app.services.jd_analysis.jd_analyzer - INFO - 🔄 Analyzing JD for Australia_for_UNHCR (force_refresh=True)
2025-10-09 12:18:32,920 - app.services.jd_analysis.jd_analyzer - INFO - 📄 Analyzing JD file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/jd_original_20251009_121332.json
2025-10-09 12:18:32,921 - app.services.jd_analysis.jd_analyzer - ERROR - JD analysis failed: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:18:32,921 - app.services.jd_analysis.jd_analyzer - ERROR - Failed to analyze JD file user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/jd_original_20251009_121332.json: Failed to analyze job description: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:18:32,921 - app.services.jd_analysis.jd_analyzer - ERROR - Failed to analyze and save company JD Australia_for_UNHCR: Failed to analyze job description file: Failed to analyze job description: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:18:32,921 - app.routes.skills_analysis - ERROR - ❌ [PIPELINE] JD analysis failed for Australia_for_UNHCR: Failed to analyze job description file: Failed to analyze job description: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:18:32,921 - app.routes.skills_analysis - INFO - 🔧 [PIPELINE] Starting CV–JD matching for Australia_for_UNHCR
2025-10-09 12:18:32,922 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:18:32,923 - app.routes.skills_analysis - WARNING - ⚠️ [PIPELINE] Could not preselect CV TXT for matching: No module named 'app.services.dynamic_cv_selector'
2025-10-09 12:18:32,923 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🔍 [CV_JD_MATCHER] No explicit CV path provided, using unified selector for Australia_for_UNHCR
2025-10-09 12:18:32,923 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:18:32,923 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:18:32,924 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 12:18:32,926 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:18:32,927 - app.services.jd_usage_tracker - ERROR - ❌ [JD_TRACKER] Error checking JD usage: Either jd_url or jd_text must be provided
2025-10-09 12:18:32,928 - app.services.cv_jd_matching.cv_jd_matcher - INFO - ✅ [CV_JD_MATCHER] Selected CV → type=original, ts=None, path=user/munna@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 12:18:32,929 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 📄 [CV_JD_MATCHER] Read CV from: user/munna@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 12:18:32,929 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🧪 [CV_JD_MATCHER] CV content length=4864, preview='Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD in Physics and completed a Master's in Data Science, bringing over three years of experience in Python  coding, AI, and machine learning. My expertise encompasses modeling and training AI models, writing efficient Python'
2025-10-09 12:18:32,930 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:18:32,932 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 📂 Loaded JD analysis from: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_jd_analysis_20251008_201603.json
2025-10-09 12:18:32,932 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 📊 Loaded JD analysis for: Australia_for_UNHCR
2025-10-09 12:18:32,932 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🔍 Found 8 required and 4 preferred keywords
2025-10-09 12:18:32,933 - app.services.cv_jd_matching.cv_jd_matcher - WARNING - ⚠️ Attempt 1/3 failed: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:18:32,933 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🔄 Retrying CV-JD matching...
2025-10-09 12:18:32,974 - app.routes.skills_analysis - INFO - 📊 [API] Fetching analysis results for company: Australia_for_UNHCR
2025-10-09 12:18:32,975 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:18:32,975 - app.utils.path_debug - INFO - 
📌 Starting get_analysis_results
2025-10-09 12:18:32,975 - app.utils.path_debug - INFO -   📂 User base dir: user/munna@gmail.com/cv-analysis
2025-10-09 12:18:32,975 - app.utils.path_debug - INFO -   📂 Company dir: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 12:18:32,976 - app.utils.path_debug - INFO -   📂 Using analysis file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_121821.json
2025-10-09 12:18:32,977 - app.utils.path_debug - INFO -   ✅ Loaded analysis file, size: 19616 bytes
2025-10-09 12:18:33,933 - app.services.cv_jd_matching.cv_jd_matcher - WARNING - ⚠️ Attempt 2/3 failed: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:18:33,934 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🔄 Retrying CV-JD matching...
2025-10-09 12:18:34,934 - app.services.cv_jd_matching.cv_jd_matcher - WARNING - ⚠️ Attempt 3/3 failed: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:18:34,935 - app.services.cv_jd_matching.cv_jd_matcher - ERROR - CV-JD matching failed: Failed after 3 attempts: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:18:34,935 - app.routes.skills_analysis - ERROR - ❌ [PIPELINE] CV-JD matching failed for Australia_for_UNHCR: Failed to match CV against JD: Failed after 3 attempts: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:18:34,940 - app.routes.skills_analysis - ERROR - [PIPELINE] CV-JD matching traceback: Traceback (most recent call last):
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/services/cv_jd_matching/cv_jd_matcher.py", line 419, in match_cv_against_jd
    raise Exception(f"Failed after {max_retries} attempts: {last_error}")
Exception: Failed after 3 attempts: generate_response() missing 1 required positional argument: 'user'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/routes/skills_analysis.py", line 399, in _run_pipeline
    await match_and_save_cv_jd(
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/services/cv_jd_matching/cv_jd_matcher.py", line 526, in match_and_save_cv_jd
    result = await matcher.match_cv_against_jd(company_name, cv_file_path, jd_analysis_data, temperature)
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/services/cv_jd_matching/cv_jd_matcher.py", line 425, in match_cv_against_jd
    raise Exception(f"Failed to match CV against JD: {e}")
Exception: Failed to match CV against JD: Failed after 3 attempts: generate_response() missing 1 required positional argument: 'user'

2025-10-09 12:18:34,940 - app.routes.skills_analysis - INFO - 🔍 [PIPELINE] Starting component analysis for Australia_for_UNHCR
2025-10-09 12:18:34,942 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:18:34,942 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:18:34,942 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:18:34,943 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 12:18:34,944 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Latest CV selected → type=tailored, ts=20251009_115547, json=user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.json, txt=user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.txt
2025-10-09 12:18:34,945 - app.routes.skills_analysis - INFO - 🧪 [PIPELINE] CV content length=4113, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • SQL, Python, Excel, Power BI, VBA, Analytical, Stakeholder Management, Data Warehouse, Data Extraction, Data Analysis, Business Intelligence, Results-Driven  EXPERIENCE Data Analyst         Jul 2024 – Present The Bitrates, Sydney, New South Wales, Australia  • Designed and implemented 5 Python '
2025-10-09 12:18:34,945 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:18:34,946 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Required files found, proceeding with component analysis
2025-10-09 12:18:34,947 - app.services.ats.modular_ats_orchestrator - INFO - ===== [MODULAR ATS] Starting component analysis for: Australia_for_UNHCR =====
2025-10-09 12:18:34,947 - app.services.ats.component_assembler - INFO - ===== [ASSEMBLER] Starting component assembly for: Australia_for_UNHCR =====
2025-10-09 12:18:34,947 - app.services.ats.component_assembler - INFO - 📄 [ASSEMBLER] Using CV text provided by caller
2025-10-09 12:18:34,961 - app.services.ats.component_assembler - WARNING - [ASSEMBLER] Match results not found: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/cv_jd_match_results.json
2025-10-09 12:18:34,962 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Starting parallel component analyses...
2025-10-09 12:18:34,964 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Requesting skills relevance analysis...
2025-10-09 12:18:34,964 - app.services.ats.components.skills_relevance_analyzer - ERROR - [SKILLS] Analysis failed: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:18:34,964 - app.services.ats.components.skills_relevance_analyzer - WARNING - [SKILLS] Returning fallback response due to analysis error
2025-10-09 12:18:34,965 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Requirement bonus using match file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_cv_jd_matching_20251009_115334.json
2025-10-09 12:18:34,965 - app.services.ats.components.experience_analyzer - INFO - [EXPERIENCE] Requesting experience alignment analysis...
2025-10-09 12:18:34,965 - app.services.ats.components.experience_analyzer - ERROR - [EXPERIENCE] Analysis failed: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:18:34,966 - app.services.ats.components.industry_analyzer - INFO - [INDUSTRY] Requesting industry fit analysis...
2025-10-09 12:18:34,966 - app.services.ats.components.industry_analyzer - ERROR - [INDUSTRY] Analysis failed: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:18:34,966 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Using existing match_counts from file
2025-10-09 12:18:34,967 - app.services.ats.requirement_bonus_calculator - INFO - [ATS][BONUS] required_total=15 matched_required=6 missing_required=9 required_bonus=3.00 required_penalty=-4.00 preferred_total=4 matched_preferred=1 missing_preferred=3 preferred_bonus=0.20 preferred_penalty=-0.45 total_bonus=-1.25
2025-10-09 12:18:34,967 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Requirement bonus calculated: -1.25 points
2025-10-09 12:18:34,973 - app.services.ats.components.seniority_analyzer - INFO - [SENIORITY] Requesting role seniority analysis...
2025-10-09 12:18:34,973 - app.services.ats.components.seniority_analyzer - ERROR - [SENIORITY] Analysis failed: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:18:34,973 - app.services.ats.components.technical_analyzer - INFO - [TECHNICAL] Requesting technical depth analysis...
2025-10-09 12:18:34,973 - app.services.ats.components.technical_analyzer - ERROR - [TECHNICAL] Analysis failed: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:18:34,974 - app.services.ats.component_assembler - ERROR - [ASSEMBLER] Experience analysis failed: Experience analysis failed: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:18:34,974 - app.services.ats.component_assembler - ERROR - [ASSEMBLER] Assembly failed for Australia_for_UNHCR: Experience analysis failed: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:18:34,974 - app.services.ats.modular_ats_orchestrator - ERROR - [MODULAR ATS] Component analysis failed for Australia_for_UNHCR: Experience analysis failed: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:18:34,974 - app.routes.skills_analysis - ERROR - ❌ [PIPELINE] Component analysis failed for Australia_for_UNHCR: Experience analysis failed: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:18:34,979 - app.routes.skills_analysis - ERROR - [PIPELINE] Component analysis traceback: Traceback (most recent call last):
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/services/ats/components/experience_analyzer.py", line 102, in analyze
    response = await ai_service.generate_response(
TypeError: generate_response() missing 1 required positional argument: 'user'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/routes/skills_analysis.py", line 465, in _run_pipeline
    component_result = await user_orchestrator.run_component_analysis(cname, cv_text=cv_text_for_analysis or None)
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/services/ats/modular_ats_orchestrator.py", line 53, in run_component_analysis
    result = await self.assembler.assemble_analysis(company, cv_text=cv_text, jd_url="")
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/services/ats/component_assembler.py", line 624, in assemble_analysis
    component_results = await self._run_component_analyses(cv_text, jd_text, matched_skills, company)
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/services/ats/component_assembler.py", line 248, in _run_component_analyses
    raise result
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/services/ats/components/experience_analyzer.py", line 132, in analyze
    raise ValueError(f"Experience analysis failed: {str(e)}")
ValueError: Experience analysis failed: generate_response() missing 1 required positional argument: 'user'

2025-10-09 12:18:34,979 - app.routes.skills_analysis - INFO - 📋 [PIPELINE] Creating input recommendation file for Australia_for_UNHCR
2025-10-09 12:18:34,979 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:18:34,980 - app.services.ats_recommendation_service - WARNING - No preextracted comparison entries found in user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_121821.json
2025-10-09 12:18:34,980 - app.services.ats_recommendation_service - WARNING - No component analysis entries found in user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_121821.json
2025-10-09 12:18:34,980 - app.services.ats_recommendation_service - WARNING - No ATS calculation entries found in user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_121821.json
2025-10-09 12:18:34,980 - app.services.ats_recommendation_service - INFO - Successfully extracted comprehensive recommendation data for Australia_for_UNHCR
2025-10-09 12:18:34,981 - app.services.ats_recommendation_service - INFO - Successfully created recommendation file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_121834.json
2025-10-09 12:18:35,013 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:18:35,020 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 12:18:35,020 - sqlalchemy.engine.Engine - INFO - [generated in 0.00068s] {'email_1': 'munna@gmail.com'}
2025-10-09 12:18:35,060 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 12:18:35,061 - sqlalchemy.engine.Engine - INFO - [generated in 0.00068s] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 12:18:35,088 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 12:18:35,088 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s] {'user_id': '4df52e53-b78f-45e9-8946-3b6c00618693', 'company_id': 12, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_121834.json', 'file_path': 'user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_121834.json', 'file_size': 6922, 'sha256': '66609b57494064576a2105f62770528b5fd5af07f64a6cc01b7afd62e9bc6d93', 'timestamp': '20251009_121834'}
2025-10-09 12:18:35,113 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 12:18:35,113 - sqlalchemy.engine.Engine - INFO - [generated in 0.00050s] {'user_id': '4df52e53-b78f-45e9-8946-3b6c00618693', 'company_id': 12, 'kind': 'input_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 148}
2025-10-09 12:18:35,142 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:18:35,166 - app.services.ats_recommendation_service - INFO - Successfully created AI recommendation prompt: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_prompt_recommendation.py
2025-10-09 12:18:35,166 - app.services.ats_recommendation_service - INFO - 🤖 [TRIGGER] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-09 12:18:35,167 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:18:35,168 - app.services.ats_recommendation_service - INFO - 📋 [TRIGGER] AI generation scheduled as background task for Australia_for_UNHCR
2025-10-09 12:18:35,168 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Input recommendation file created for Australia_for_UNHCR
2025-10-09 12:18:35,169 - app.routes.skills_analysis - INFO - 🤖 [PIPELINE] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-09 12:18:35,169 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:18:35,170 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-09 12:18:35,174 - app.services.ai_recommendation_generator - INFO - 🟡 [AI GENERATOR] Input recommendation is newer (ai_mtime=1759971297.720441, input_mtime=1759972714.9816203); regenerating AI recommendation
2025-10-09 12:18:35,174 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:18:35,175 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:18:35,176 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 12:18:35,183 - app.services.ai_recommendation_generator - ERROR - ❌ [AI GENERATOR] Error checking CV freshness: 'str' object has no attribute 'timestamp'
2025-10-09 12:18:35,188 - app.services.ai_recommendation_generator - INFO - 📋 [AI GENERATOR] Generated AI prompt for Australia_for_UNHCR using centralized template (11695 characters)
2025-10-09 12:18:35,190 - app.services.ai_recommendation_generator - INFO - 🧠 [AI GENERATOR] Executing AI prompt for Australia_for_UNHCR
2025-10-09 12:18:35,192 - app.services.ai_recommendation_generator - ERROR - Error executing AI prompt: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:18:35,192 - app.services.ai_recommendation_generator - ERROR - Failed to get AI response for Australia_for_UNHCR
2025-10-09 12:18:35,192 - app.routes.skills_analysis - WARNING - ⚠️ [PIPELINE] AI recommendation generation failed for Australia_for_UNHCR
2025-10-09 12:18:35,192 - app.routes.skills_analysis - INFO - ⏭️ [PIPELINE] Skipping tailored CV generation for Australia_for_UNHCR (AI recommendation failed)
2025-10-09 12:18:35,192 - app.routes.skills_analysis - INFO - 📋 [PIPELINE] Pipeline summary for Australia_for_UNHCR:
2025-10-09 12:18:35,193 - app.routes.skills_analysis - INFO -    ✅ Successful: ['input_recommendation']
2025-10-09 12:18:35,193 - app.routes.skills_analysis - INFO -    ❌ Failed: ['jd_analysis', 'cv_jd_matching', 'component_analysis', 'ai_recommendation', 'tailored_cv']
2025-10-09 12:18:35,193 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-09 12:18:35,194 - app.services.ai_recommendation_generator - INFO - 🟡 [AI GENERATOR] Input recommendation is newer (ai_mtime=1759971297.720441, input_mtime=1759972714.9816203); regenerating AI recommendation
2025-10-09 12:18:35,195 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:18:35,195 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:18:35,195 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 12:18:35,196 - app.services.ai_recommendation_generator - ERROR - ❌ [AI GENERATOR] Error checking CV freshness: 'str' object has no attribute 'timestamp'
2025-10-09 12:18:35,199 - app.services.ai_recommendation_generator - INFO - 📋 [AI GENERATOR] Generated AI prompt for Australia_for_UNHCR using centralized template (11695 characters)
2025-10-09 12:18:35,199 - app.services.ai_recommendation_generator - INFO - 🧠 [AI GENERATOR] Executing AI prompt for Australia_for_UNHCR
2025-10-09 12:18:35,200 - app.services.ai_recommendation_generator - ERROR - Error executing AI prompt: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:18:35,200 - app.services.ai_recommendation_generator - ERROR - Failed to get AI response for Australia_for_UNHCR
2025-10-09 12:18:35,200 - app.services.ats_recommendation_service - WARNING - ⚠️ [TRIGGER] AI recommendation generation failed for Australia_for_UNHCR
2025-10-09 12:18:35,665 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:18:41,775 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:18:42,147 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:18:42,147 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:18:42,188 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:18:42,188 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:18:42,223 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:18:42,223 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:18:42,265 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:18:42,265 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:18:42,265 - sqlalchemy.engine.Engine - INFO - [generated in 0.00065s] {}
2025-10-09 12:18:42,304 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:18:42,325 - app.database - INFO - Database connection successful
2025-10-09 12:18:42,326 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:18:42,348 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:18:42,370 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:18:42,374 - sqlalchemy.engine.Engine - INFO - [generated in 0.00499s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:18:42,421 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:18:42,424 - sqlalchemy.engine.Engine - INFO - [cached since 0.05465s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:18:42,448 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:18:42,448 - sqlalchemy.engine.Engine - INFO - [cached since 0.079s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:18:42,477 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:18:42,478 - sqlalchemy.engine.Engine - INFO - [cached since 0.1092s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:18:42,501 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:18:42,502 - sqlalchemy.engine.Engine - INFO - [cached since 0.1326s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:18:42,525 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:18:42,525 - sqlalchemy.engine.Engine - INFO - [cached since 0.1558s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:18:42,549 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:18:42,549 - sqlalchemy.engine.Engine - INFO - [cached since 0.18s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:18:42,573 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:18:42,573 - sqlalchemy.engine.Engine - INFO - [cached since 0.2041s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:18:42,597 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:18:42,598 - sqlalchemy.engine.Engine - INFO - [cached since 0.2284s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:18:42,624 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:18:42,624 - sqlalchemy.engine.Engine - INFO - [cached since 0.2549s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:18:42,643 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:18:42,643 - sqlalchemy.engine.Engine - INFO - [cached since 0.2741s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:18:42,666 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:18:42,688 - app.database - INFO - Database tables created successfully
2025-10-09 12:18:42,689 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:18:42,689 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:18:42,689 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:19:08,251 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:19:08,299 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 📄 Tailored CV content request for Australia_for_UNHCR from user 4df52e53-b78f-45e9-8946-3b6c00618693
2025-10-09 12:19:08,300 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:19:08,300 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:19:08,301 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 12:19:08,305 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ Served TAILORED CV content: Australia_for_UNHCR_tailored_cv_20251009_115547.txt from tailored folder (4113 characters)
2025-10-09 12:21:52,490 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Received request data keys: ['company', 'content']
2025-10-09 12:21:52,491 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Request data: {
  "company": "Australia_for_UNHCR",
  "content": "Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220\n\nTECHNICAL SKILLS\n\u2022 SQL, Python, Excel, Power BI, VBA, Analytical, Stakeholder Management, Data Warehouse, Data Extraction, Data Analysis, Business Intelligence, Results-Driven\n\nEXPERIENCE\nData Analyst         Jul 2024 \u2013 Present\nThe Bitrates, Sydney, New South Wales, Australia\n\n\u2022 Designed and implemented 5 Python scripts for data cleanin...
2025-10-09 12:21:52,491 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Extracted - Company: Australia_for_UNHCR
2025-10-09 12:21:52,491 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Extracted - Content type: <class 'str'>
2025-10-09 12:21:52,491 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Extracted - Content length: 1062
2025-10-09 12:21:52,492 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Starting save process for Australia_for_UNHCR
2025-10-09 12:21:52,492 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:21:52,493 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Tailored path: user/munna@gmail.com/cv-analysis/cvs/tailored
2025-10-09 12:21:52,498 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Found 4 existing TXT files in tailored folder
2025-10-09 12:21:52,498 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] - user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202217.txt
2025-10-09 12:21:52,498 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] - user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.txt
2025-10-09 12:21:52,499 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] - user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_201707.txt
2025-10-09 12:21:52,499 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] - user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202541.txt
2025-10-09 12:21:52,503 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated TXT: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202217.txt
2025-10-09 12:21:52,505 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Starting CV content parsing
2025-10-09 12:21:52,505 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Content length: 1062
2025-10-09 12:21:52,506 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Existing JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 12:21:52,506 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Processing 14 lines
2025-10-09 12:21:52,506 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing contact line: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220
2025-10-09 12:21:52,506 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: technical_skills
2025-10-09 12:21:52,506 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsed 12 skills
2025-10-09 12:21:52,507 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: experience
2025-10-09 12:21:52,507 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Added experience: Data Analyst at The Bitrates (5 bullets)
2025-10-09 12:21:52,507 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing completed successfully
2025-10-09 12:21:52,507 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Updated JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 12:21:52,508 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated JSON: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202217.json
2025-10-09 12:21:52,509 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated TXT: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.txt
2025-10-09 12:21:52,510 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Starting CV content parsing
2025-10-09 12:21:52,511 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Content length: 1062
2025-10-09 12:21:52,511 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Existing JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 12:21:52,511 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Processing 14 lines
2025-10-09 12:21:52,511 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing contact line: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220
2025-10-09 12:21:52,511 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: technical_skills
2025-10-09 12:21:52,512 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsed 12 skills
2025-10-09 12:21:52,512 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: experience
2025-10-09 12:21:52,512 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Added experience: Data Analyst at The Bitrates (5 bullets)
2025-10-09 12:21:52,512 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing completed successfully
2025-10-09 12:21:52,512 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Updated JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 12:21:52,513 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated JSON: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.json
2025-10-09 12:21:52,518 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated TXT: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_201707.txt
2025-10-09 12:21:52,520 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Starting CV content parsing
2025-10-09 12:21:52,520 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Content length: 1062
2025-10-09 12:21:52,520 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Existing JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 12:21:52,520 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Processing 14 lines
2025-10-09 12:21:52,521 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing contact line: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220
2025-10-09 12:21:52,521 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: technical_skills
2025-10-09 12:21:52,521 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsed 12 skills
2025-10-09 12:21:52,522 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: experience
2025-10-09 12:21:52,522 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Added experience: Data Analyst at The Bitrates (5 bullets)
2025-10-09 12:21:52,523 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing completed successfully
2025-10-09 12:21:52,523 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Updated JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 12:21:52,524 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated JSON: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_201707.json
2025-10-09 12:21:52,529 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated TXT: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202541.txt
2025-10-09 12:21:52,531 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Starting CV content parsing
2025-10-09 12:21:52,531 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Content length: 1062
2025-10-09 12:21:52,531 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Existing JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 12:21:52,532 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Processing 14 lines
2025-10-09 12:21:52,532 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing contact line: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220
2025-10-09 12:21:52,532 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: technical_skills
2025-10-09 12:21:52,532 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsed 12 skills
2025-10-09 12:21:52,532 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: experience
2025-10-09 12:21:52,532 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Added experience: Data Analyst at The Bitrates (5 bullets)
2025-10-09 12:21:52,533 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing completed successfully
2025-10-09 12:21:52,533 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Updated JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 12:21:52,535 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated JSON: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202541.json
2025-10-09 12:21:52,536 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Completed saving for Australia_for_UNHCR
2025-10-09 12:21:57,901 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Received request data keys: ['company', 'content']
2025-10-09 12:21:57,902 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Request data: {
  "company": "Australia_for_UNHCR",
  "content": "Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220\n\nTECHNICAL SKILLS\n\u2022 SQL, Python, Excel, Power BI, VBA, Analytical, Stakeholder Management, Data Warehouse, Data Extraction, Data Analysis, Business Intelligence, Results-Driven\n\nEXPERIENCE\nData Analyst         Jul 2024 \u2013 Present\nThe Bitrates, Sydney, New South Wales, Australia\n\n\u2022 Designed and implemented 5 Python scripts for data cleanin...
2025-10-09 12:21:57,902 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Extracted - Company: Australia_for_UNHCR
2025-10-09 12:21:57,903 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Extracted - Content type: <class 'str'>
2025-10-09 12:21:57,903 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Extracted - Content length: 670
2025-10-09 12:21:57,903 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Starting save process for Australia_for_UNHCR
2025-10-09 12:21:57,904 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:21:57,904 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Tailored path: user/munna@gmail.com/cv-analysis/cvs/tailored
2025-10-09 12:21:57,904 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Found 4 existing TXT files in tailored folder
2025-10-09 12:21:57,905 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] - user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202217.txt
2025-10-09 12:21:57,905 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] - user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.txt
2025-10-09 12:21:57,905 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] - user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_201707.txt
2025-10-09 12:21:57,905 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] - user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202541.txt
2025-10-09 12:21:57,906 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated TXT: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202217.txt
2025-10-09 12:21:57,906 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Starting CV content parsing
2025-10-09 12:21:57,907 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Content length: 670
2025-10-09 12:21:57,907 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Existing JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 12:21:57,907 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Processing 11 lines
2025-10-09 12:21:57,907 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing contact line: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220
2025-10-09 12:21:57,907 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: technical_skills
2025-10-09 12:21:57,907 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsed 12 skills
2025-10-09 12:21:57,907 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: experience
2025-10-09 12:21:57,908 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Added experience: Data Analyst at The Bitrates (2 bullets)
2025-10-09 12:21:57,908 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing completed successfully
2025-10-09 12:21:57,908 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Updated JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 12:21:57,909 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated JSON: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202217.json
2025-10-09 12:21:57,910 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated TXT: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.txt
2025-10-09 12:21:57,911 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Starting CV content parsing
2025-10-09 12:21:57,911 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Content length: 670
2025-10-09 12:21:57,911 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Existing JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 12:21:57,912 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Processing 11 lines
2025-10-09 12:21:57,912 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing contact line: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220
2025-10-09 12:21:57,913 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: technical_skills
2025-10-09 12:21:57,913 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsed 12 skills
2025-10-09 12:21:57,913 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: experience
2025-10-09 12:21:57,914 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Added experience: Data Analyst at The Bitrates (2 bullets)
2025-10-09 12:21:57,914 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing completed successfully
2025-10-09 12:21:57,915 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Updated JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 12:21:57,915 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated JSON: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.json
2025-10-09 12:21:57,916 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated TXT: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_201707.txt
2025-10-09 12:21:57,917 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Starting CV content parsing
2025-10-09 12:21:57,917 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Content length: 670
2025-10-09 12:21:57,917 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Existing JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 12:21:57,918 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Processing 11 lines
2025-10-09 12:21:57,918 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing contact line: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220
2025-10-09 12:21:57,918 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: technical_skills
2025-10-09 12:21:57,918 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsed 12 skills
2025-10-09 12:21:57,918 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: experience
2025-10-09 12:21:57,919 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Added experience: Data Analyst at The Bitrates (2 bullets)
2025-10-09 12:21:57,919 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing completed successfully
2025-10-09 12:21:57,919 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Updated JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 12:21:57,920 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated JSON: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_201707.json
2025-10-09 12:21:57,920 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated TXT: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202541.txt
2025-10-09 12:21:57,921 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Starting CV content parsing
2025-10-09 12:21:57,921 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Content length: 670
2025-10-09 12:21:57,921 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Existing JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 12:21:57,921 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Processing 11 lines
2025-10-09 12:21:57,922 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing contact line: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220
2025-10-09 12:21:57,922 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: technical_skills
2025-10-09 12:21:57,922 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsed 12 skills
2025-10-09 12:21:57,922 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: experience
2025-10-09 12:21:57,922 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Added experience: Data Analyst at The Bitrates (2 bullets)
2025-10-09 12:21:57,922 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing completed successfully
2025-10-09 12:21:57,923 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Updated JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 12:21:57,923 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated JSON: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202541.json
2025-10-09 12:21:57,923 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Completed saving for Australia_for_UNHCR
2025-10-09 12:21:58,292 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Received request data keys: ['company', 'content']
2025-10-09 12:21:58,293 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Request data: {
  "company": "Australia_for_UNHCR",
  "content": "Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220\n\nTECHNICAL SKILLS\n\u2022 SQL, Python, Excel, Power BI, VBA, Analytical, Stakeholder Management, Data Warehouse, Data Extraction, Data Analysis, Business Intelligence, Results-Driven\n\nEXPERIENCE\nData Analyst         Jul 2024 \u2013 Present\nThe Bitrates, Sydney, New South Wales, Australia\n\n\u2022 Designed and implemented 5 Python scripts for data cleanin...
2025-10-09 12:21:58,293 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Extracted - Company: Australia_for_UNHCR
2025-10-09 12:21:58,293 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Extracted - Content type: <class 'str'>
2025-10-09 12:21:58,294 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Extracted - Content length: 670
2025-10-09 12:21:58,294 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Starting save process for Australia_for_UNHCR
2025-10-09 12:21:58,295 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:21:58,296 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Tailored path: user/munna@gmail.com/cv-analysis/cvs/tailored
2025-10-09 12:21:58,297 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Found 4 existing TXT files in tailored folder
2025-10-09 12:21:58,297 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] - user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202217.txt
2025-10-09 12:21:58,298 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] - user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.txt
2025-10-09 12:21:58,298 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] - user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_201707.txt
2025-10-09 12:21:58,298 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] - user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202541.txt
2025-10-09 12:21:58,300 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated TXT: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202217.txt
2025-10-09 12:21:58,300 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Starting CV content parsing
2025-10-09 12:21:58,300 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Content length: 670
2025-10-09 12:21:58,301 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Existing JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 12:21:58,301 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Processing 11 lines
2025-10-09 12:21:58,301 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing contact line: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220
2025-10-09 12:21:58,301 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: technical_skills
2025-10-09 12:21:58,302 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsed 12 skills
2025-10-09 12:21:58,302 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: experience
2025-10-09 12:21:58,303 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Added experience: Data Analyst at The Bitrates (2 bullets)
2025-10-09 12:21:58,303 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing completed successfully
2025-10-09 12:21:58,304 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Updated JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 12:21:58,304 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated JSON: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202217.json
2025-10-09 12:21:58,306 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated TXT: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.txt
2025-10-09 12:21:58,306 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Starting CV content parsing
2025-10-09 12:21:58,306 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Content length: 670
2025-10-09 12:21:58,307 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Existing JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 12:21:58,307 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Processing 11 lines
2025-10-09 12:21:58,307 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing contact line: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220
2025-10-09 12:21:58,307 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: technical_skills
2025-10-09 12:21:58,307 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsed 12 skills
2025-10-09 12:21:58,307 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: experience
2025-10-09 12:21:58,307 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Added experience: Data Analyst at The Bitrates (2 bullets)
2025-10-09 12:21:58,308 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing completed successfully
2025-10-09 12:21:58,308 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Updated JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 12:21:58,308 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated JSON: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.json
2025-10-09 12:21:58,310 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated TXT: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_201707.txt
2025-10-09 12:21:58,311 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Starting CV content parsing
2025-10-09 12:21:58,311 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Content length: 670
2025-10-09 12:21:58,312 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Existing JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 12:21:58,312 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Processing 11 lines
2025-10-09 12:21:58,312 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing contact line: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220
2025-10-09 12:21:58,313 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: technical_skills
2025-10-09 12:21:58,314 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsed 12 skills
2025-10-09 12:21:58,314 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: experience
2025-10-09 12:21:58,315 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Added experience: Data Analyst at The Bitrates (2 bullets)
2025-10-09 12:21:58,315 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing completed successfully
2025-10-09 12:21:58,315 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Updated JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 12:21:58,316 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated JSON: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_201707.json
2025-10-09 12:21:58,317 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated TXT: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202541.txt
2025-10-09 12:21:58,319 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Starting CV content parsing
2025-10-09 12:21:58,319 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Content length: 670
2025-10-09 12:21:58,320 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Existing JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 12:21:58,321 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Processing 11 lines
2025-10-09 12:21:58,321 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing contact line: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220
2025-10-09 12:21:58,323 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: technical_skills
2025-10-09 12:21:58,323 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsed 12 skills
2025-10-09 12:21:58,324 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: experience
2025-10-09 12:21:58,324 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Added experience: Data Analyst at The Bitrates (2 bullets)
2025-10-09 12:21:58,324 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing completed successfully
2025-10-09 12:21:58,324 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Updated JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 12:21:58,325 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated JSON: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202541.json
2025-10-09 12:21:58,326 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Completed saving for Australia_for_UNHCR
2025-10-09 12:22:23,224 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:22:28,535 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:22:28,948 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:22:28,949 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:22:28,990 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:22:28,991 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:22:29,036 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:22:29,036 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:22:29,078 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:22:29,078 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:22:29,078 - sqlalchemy.engine.Engine - INFO - [generated in 0.00061s] {}
2025-10-09 12:22:29,125 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:22:29,142 - app.database - INFO - Database connection successful
2025-10-09 12:22:29,143 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:22:29,165 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:22:29,172 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:29,173 - sqlalchemy.engine.Engine - INFO - [generated in 0.00111s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:29,216 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:29,216 - sqlalchemy.engine.Engine - INFO - [cached since 0.0441s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:29,239 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:29,253 - sqlalchemy.engine.Engine - INFO - [cached since 0.08075s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:29,271 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:29,271 - sqlalchemy.engine.Engine - INFO - [cached since 0.09882s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:29,293 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:29,293 - sqlalchemy.engine.Engine - INFO - [cached since 0.121s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:29,316 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:29,317 - sqlalchemy.engine.Engine - INFO - [cached since 0.1446s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:29,340 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:29,341 - sqlalchemy.engine.Engine - INFO - [cached since 0.1685s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:29,364 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:29,364 - sqlalchemy.engine.Engine - INFO - [cached since 0.1925s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:29,389 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:29,389 - sqlalchemy.engine.Engine - INFO - [cached since 0.2174s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:29,413 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:29,413 - sqlalchemy.engine.Engine - INFO - [cached since 0.241s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:29,435 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:29,436 - sqlalchemy.engine.Engine - INFO - [cached since 0.2637s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:29,458 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:22:29,475 - app.database - INFO - Database tables created successfully
2025-10-09 12:22:29,475 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:22:29,475 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:22:29,475 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:22:29,779 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:22:34,733 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:22:35,000 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:22:35,000 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:22:35,047 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:22:35,047 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:22:35,092 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:22:35,093 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:22:35,128 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:22:35,129 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:22:35,130 - sqlalchemy.engine.Engine - INFO - [generated in 0.00233s] {}
2025-10-09 12:22:35,166 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:22:35,187 - app.database - INFO - Database connection successful
2025-10-09 12:22:35,187 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:22:35,210 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:22:35,219 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:35,219 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:35,254 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:35,255 - sqlalchemy.engine.Engine - INFO - [cached since 0.03582s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:35,277 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:35,278 - sqlalchemy.engine.Engine - INFO - [cached since 0.05883s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:35,302 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:35,302 - sqlalchemy.engine.Engine - INFO - [cached since 0.08342s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:35,325 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:35,326 - sqlalchemy.engine.Engine - INFO - [cached since 0.1072s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:35,345 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:35,345 - sqlalchemy.engine.Engine - INFO - [cached since 0.1263s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:35,372 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:35,373 - sqlalchemy.engine.Engine - INFO - [cached since 0.154s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:35,392 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:35,393 - sqlalchemy.engine.Engine - INFO - [cached since 0.1741s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:35,415 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:35,416 - sqlalchemy.engine.Engine - INFO - [cached since 0.1967s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:35,438 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:35,438 - sqlalchemy.engine.Engine - INFO - [cached since 0.2194s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:35,459 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:35,459 - sqlalchemy.engine.Engine - INFO - [cached since 0.2405s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:35,480 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:22:35,502 - app.database - INFO - Database tables created successfully
2025-10-09 12:22:35,502 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:22:35,502 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:22:35,502 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:22:36,208 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:22:40,494 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:22:40,759 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:22:40,768 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:22:40,810 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:22:40,810 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:22:40,851 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:22:40,852 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:22:40,897 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:22:40,897 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:22:40,897 - sqlalchemy.engine.Engine - INFO - [generated in 0.00056s] {}
2025-10-09 12:22:40,934 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:22:40,955 - app.database - INFO - Database connection successful
2025-10-09 12:22:40,955 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:22:40,977 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:22:40,983 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:40,984 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:41,026 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:41,027 - sqlalchemy.engine.Engine - INFO - [cached since 0.04415s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:41,048 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:41,049 - sqlalchemy.engine.Engine - INFO - [cached since 0.06539s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:41,072 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:41,074 - sqlalchemy.engine.Engine - INFO - [cached since 0.09038s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:41,102 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:41,103 - sqlalchemy.engine.Engine - INFO - [cached since 0.1203s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:41,122 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:41,123 - sqlalchemy.engine.Engine - INFO - [cached since 0.1394s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:41,145 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:41,145 - sqlalchemy.engine.Engine - INFO - [cached since 0.162s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:41,167 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:41,167 - sqlalchemy.engine.Engine - INFO - [cached since 0.1842s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:41,190 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:41,191 - sqlalchemy.engine.Engine - INFO - [cached since 0.2076s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:41,214 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:41,215 - sqlalchemy.engine.Engine - INFO - [cached since 0.2315s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:41,236 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:41,237 - sqlalchemy.engine.Engine - INFO - [cached since 0.2536s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:41,261 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:22:41,283 - app.database - INFO - Database tables created successfully
2025-10-09 12:22:41,283 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:22:41,283 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:22:41,283 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:22:43,328 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:22:47,036 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:22:47,300 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:22:47,300 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:22:47,338 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:22:47,339 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:22:47,380 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:22:47,381 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:22:47,419 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:22:47,419 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:22:47,419 - sqlalchemy.engine.Engine - INFO - [generated in 0.00059s] {}
2025-10-09 12:22:47,455 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:22:47,476 - app.database - INFO - Database connection successful
2025-10-09 12:22:47,477 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:22:47,496 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:22:47,501 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:47,501 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:47,540 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:47,540 - sqlalchemy.engine.Engine - INFO - [cached since 0.03925s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:47,563 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:47,563 - sqlalchemy.engine.Engine - INFO - [cached since 0.06205s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:47,585 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:47,586 - sqlalchemy.engine.Engine - INFO - [cached since 0.08471s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:47,611 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:47,611 - sqlalchemy.engine.Engine - INFO - [cached since 0.1099s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:47,628 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:47,629 - sqlalchemy.engine.Engine - INFO - [cached since 0.1277s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:47,652 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:47,652 - sqlalchemy.engine.Engine - INFO - [cached since 0.151s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:47,670 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:47,670 - sqlalchemy.engine.Engine - INFO - [cached since 0.1691s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:47,692 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:47,692 - sqlalchemy.engine.Engine - INFO - [cached since 0.1908s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:47,716 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:47,716 - sqlalchemy.engine.Engine - INFO - [cached since 0.2152s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:47,736 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:47,737 - sqlalchemy.engine.Engine - INFO - [cached since 0.2357s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:47,759 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:22:47,776 - app.database - INFO - Database tables created successfully
2025-10-09 12:22:47,776 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:22:47,777 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:22:47,777 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:22:48,613 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:22:52,602 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:22:52,862 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:22:52,862 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:22:52,914 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:22:52,915 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:22:52,953 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:22:52,954 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:22:52,999 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:22:53,000 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:22:53,000 - sqlalchemy.engine.Engine - INFO - [generated in 0.00069s] {}
2025-10-09 12:22:53,035 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:22:53,053 - app.database - INFO - Database connection successful
2025-10-09 12:22:53,053 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:22:53,073 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:22:53,078 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:53,079 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:53,122 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:53,122 - sqlalchemy.engine.Engine - INFO - [cached since 0.04425s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:53,143 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:53,143 - sqlalchemy.engine.Engine - INFO - [cached since 0.065s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:53,167 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:53,167 - sqlalchemy.engine.Engine - INFO - [cached since 0.08925s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:53,192 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:53,193 - sqlalchemy.engine.Engine - INFO - [cached since 0.1145s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:53,214 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:53,214 - sqlalchemy.engine.Engine - INFO - [cached since 0.1361s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:53,236 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:53,236 - sqlalchemy.engine.Engine - INFO - [cached since 0.1584s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:53,259 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:53,259 - sqlalchemy.engine.Engine - INFO - [cached since 0.181s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:53,280 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:53,280 - sqlalchemy.engine.Engine - INFO - [cached since 0.202s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:53,302 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:53,302 - sqlalchemy.engine.Engine - INFO - [cached since 0.224s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:53,325 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:22:53,326 - sqlalchemy.engine.Engine - INFO - [cached since 0.2477s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:22:53,345 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:22:53,367 - app.database - INFO - Database tables created successfully
2025-10-09 12:22:53,368 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:22:53,368 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:22:53,368 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:22:55,991 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:22:59,961 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:23:00,276 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:23:00,277 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:23:00,314 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:23:00,315 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:23:00,349 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:23:00,349 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:23:00,397 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:23:00,398 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:23:00,398 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] {}
2025-10-09 12:23:00,447 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:23:00,471 - app.database - INFO - Database connection successful
2025-10-09 12:23:00,471 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:23:00,494 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:23:00,501 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:23:00,502 - sqlalchemy.engine.Engine - INFO - [generated in 0.00175s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:23:00,545 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:23:00,546 - sqlalchemy.engine.Engine - INFO - [cached since 0.04525s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:23:00,566 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:23:00,566 - sqlalchemy.engine.Engine - INFO - [cached since 0.0656s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:23:00,592 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:23:00,593 - sqlalchemy.engine.Engine - INFO - [cached since 0.09278s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:23:00,616 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:23:00,617 - sqlalchemy.engine.Engine - INFO - [cached since 0.1163s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:23:00,638 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:23:00,639 - sqlalchemy.engine.Engine - INFO - [cached since 0.139s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:23:00,663 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:23:00,666 - sqlalchemy.engine.Engine - INFO - [cached since 0.1652s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:23:00,687 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:23:00,688 - sqlalchemy.engine.Engine - INFO - [cached since 0.1874s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:23:00,710 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:23:00,711 - sqlalchemy.engine.Engine - INFO - [cached since 0.2104s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:23:00,735 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:23:00,736 - sqlalchemy.engine.Engine - INFO - [cached since 0.2357s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:23:00,757 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:23:00,757 - sqlalchemy.engine.Engine - INFO - [cached since 0.2569s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:23:00,778 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:23:00,800 - app.database - INFO - Database tables created successfully
2025-10-09 12:23:00,801 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:23:00,801 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:23:00,801 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:23:05,242 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:23:09,113 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:23:09,378 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:23:09,379 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:23:09,560 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:23:09,560 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:23:09,596 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:23:09,597 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:23:09,632 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:23:09,633 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:23:09,633 - sqlalchemy.engine.Engine - INFO - [generated in 0.00072s] {}
2025-10-09 12:23:09,669 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:23:09,689 - app.database - INFO - Database connection successful
2025-10-09 12:23:09,689 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:23:09,708 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:23:09,714 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:23:09,714 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:23:09,754 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:23:09,755 - sqlalchemy.engine.Engine - INFO - [cached since 0.04139s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:23:09,777 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:23:09,778 - sqlalchemy.engine.Engine - INFO - [cached since 0.06414s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:23:09,798 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:23:09,799 - sqlalchemy.engine.Engine - INFO - [cached since 0.08532s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:23:09,821 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:23:09,822 - sqlalchemy.engine.Engine - INFO - [cached since 0.1085s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:23:09,845 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:23:09,846 - sqlalchemy.engine.Engine - INFO - [cached since 0.1321s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:23:09,864 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:23:09,865 - sqlalchemy.engine.Engine - INFO - [cached since 0.1514s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:23:09,889 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:23:09,889 - sqlalchemy.engine.Engine - INFO - [cached since 0.1757s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:23:09,910 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:23:09,910 - sqlalchemy.engine.Engine - INFO - [cached since 0.1971s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:23:09,933 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:23:09,933 - sqlalchemy.engine.Engine - INFO - [cached since 0.2195s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:23:09,956 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:23:09,957 - sqlalchemy.engine.Engine - INFO - [cached since 0.2434s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:23:09,979 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:23:09,996 - app.database - INFO - Database tables created successfully
2025-10-09 12:23:09,997 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:23:09,997 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:23:09,997 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:23:13,126 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:23:17,001 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:23:17,311 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:23:17,312 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:23:17,361 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:23:17,362 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:23:17,405 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:23:17,405 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:23:17,453 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:23:17,453 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:23:17,453 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] {}
2025-10-09 12:23:17,485 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:23:17,502 - app.database - INFO - Database connection successful
2025-10-09 12:23:17,503 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:23:17,519 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:23:17,525 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:23:17,525 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:23:17,564 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:23:17,565 - sqlalchemy.engine.Engine - INFO - [cached since 0.0403s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:23:17,586 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:23:17,587 - sqlalchemy.engine.Engine - INFO - [cached since 0.06222s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:23:17,610 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:23:17,610 - sqlalchemy.engine.Engine - INFO - [cached since 0.08555s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:23:17,632 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:23:17,632 - sqlalchemy.engine.Engine - INFO - [cached since 0.1077s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:23:17,655 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:23:17,656 - sqlalchemy.engine.Engine - INFO - [cached since 0.1311s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:23:17,676 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:23:17,677 - sqlalchemy.engine.Engine - INFO - [cached since 0.1522s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:23:17,700 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:23:17,700 - sqlalchemy.engine.Engine - INFO - [cached since 0.1759s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:23:17,725 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:23:17,726 - sqlalchemy.engine.Engine - INFO - [cached since 0.2013s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:23:17,748 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:23:17,749 - sqlalchemy.engine.Engine - INFO - [cached since 0.2243s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:23:17,772 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:23:17,772 - sqlalchemy.engine.Engine - INFO - [cached since 0.2477s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:23:17,790 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:23:17,807 - app.database - INFO - Database tables created successfully
2025-10-09 12:23:17,807 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:23:17,807 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:23:17,808 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:24:23,603 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:24:23,896 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:24:23,897 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:24:23,935 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:24:23,936 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:24:23,969 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:24:23,969 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:24:24,016 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:24:24,016 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:24:24,016 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] {}
2025-10-09 12:24:24,049 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:24:24,067 - app.database - INFO - Database connection successful
2025-10-09 12:24:24,067 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:24:24,085 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:24:24,090 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:24:24,090 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:24:24,132 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:24:24,133 - sqlalchemy.engine.Engine - INFO - [cached since 0.04308s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:24:24,155 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:24:24,155 - sqlalchemy.engine.Engine - INFO - [cached since 0.06553s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:24:24,179 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:24:24,180 - sqlalchemy.engine.Engine - INFO - [cached since 0.09011s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:24:24,204 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:24:24,205 - sqlalchemy.engine.Engine - INFO - [cached since 0.1153s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:24:24,228 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:24:24,228 - sqlalchemy.engine.Engine - INFO - [cached since 0.1384s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:24:24,253 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:24:24,253 - sqlalchemy.engine.Engine - INFO - [cached since 0.1636s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:24:24,276 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:24:24,277 - sqlalchemy.engine.Engine - INFO - [cached since 0.1869s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:24:24,298 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:24:24,299 - sqlalchemy.engine.Engine - INFO - [cached since 0.2093s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:24:24,322 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:24:24,323 - sqlalchemy.engine.Engine - INFO - [cached since 0.2331s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:24:24,344 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:24:24,345 - sqlalchemy.engine.Engine - INFO - [cached since 0.2552s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:24:24,367 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:24:24,391 - app.database - INFO - Database tables created successfully
2025-10-09 12:24:24,391 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:24:24,392 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:24:24,392 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:24:25,259 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 12:24:25,259 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: []
2025-10-09 12:24:25,261 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 12:24:25,262 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {}
2025-10-09 12:24:25,262 - app.ai.ai_service - ERROR - ❌ No current provider available for model switching
2025-10-09 12:24:25,262 - app.core.model_dependency - WARNING - ⚠️ Failed to switch to header model gpt-4o
2025-10-09 12:24:25,271 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user munna@gmail.com
2025-10-09 12:24:25,314 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:24:25,319 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 12:24:25,319 - sqlalchemy.engine.Engine - INFO - [generated in 0.00071s] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 12:24:25,362 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:24:26,117 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 12:24:26,131 - app.ai.ai_service - INFO - ✅ Initialized openai provider with model gpt-4o for user munna@gmail.com
2025-10-09 12:24:26,151 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:24:26,152 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 12:24:26,153 - sqlalchemy.engine.Engine - INFO - [cached since 0.8342s ago] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 12:24:26,192 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:24:26,216 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user munna@gmail.com and provider anthropic
2025-10-09 12:24:26,238 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:24:26,238 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 12:24:26,239 - sqlalchemy.engine.Engine - INFO - [cached since 0.92s ago] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 12:24:26,281 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:24:26,298 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user munna@gmail.com and provider deepseek
2025-10-09 12:24:26,320 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:24:26,323 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 12:24:26,323 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'param_1': 1}
2025-10-09 12:24:26,359 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:24:30,526 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 12:24:30,526 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: ['openai']
2025-10-09 12:24:30,526 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 12:24:31,032 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 12:24:31,045 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-4o', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-4o', 'is_current': False}}
2025-10-09 12:24:31,046 - app.ai.ai_service - ERROR - ❌ No current provider available for model switching
2025-10-09 12:24:31,046 - app.ai.ai_service - INFO - 🔄 Available providers: ['openai']
2025-10-09 12:24:31,046 - app.ai.ai_service - INFO - ✅ Switched to openai provider with model gpt-4o
2025-10-09 12:24:31,047 - app.core.model_dependency - INFO - 🔄 Switched to model from header: gpt-4o
2025-10-09 12:24:31,047 - app.routes.ai - INFO - 🟢 [AI_CHAT] user=munna@gmail.com provider=openai model=gpt-4o
2025-10-09 12:24:31,047 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-4o
2025-10-09 12:24:31,625 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 12:24:41,363 - app.ai.ai_service - INFO - ✅ Switched to model gpt-3.5-turbo
2025-10-09 12:24:41,364 - app.core.model_dependency - INFO - 🔄 Switched to model from header: gpt-3.5-turbo
2025-10-09 12:24:41,365 - app.routes.ai - INFO - 🟢 [AI_CHAT] user=munna@gmail.com provider=openai model=gpt-3.5-turbo
2025-10-09 12:24:41,365 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 12:24:41,880 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 12:24:47,120 - app.ai.ai_service - INFO - ✅ Switched to model gpt-3.5-turbo
2025-10-09 12:24:47,120 - app.core.model_dependency - INFO - 🔄 Switched to model from header: gpt-3.5-turbo
2025-10-09 12:24:47,121 - app.routes.skills_analysis - INFO - 🎯 Preliminary analysis request: CV=maheshwor_tiwari.pdf, JD_length=6014, CONFIG=None
2025-10-09 12:24:47,122 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:24:47,123 - app.routes.skills_analysis - INFO - 🏢 Extracted company name: Australia_for_UNHCR
2025-10-09 12:24:47,123 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:24:47,126 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:24:47,127 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:24:47,127 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 12:24:47,128 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:24:47,129 - app.routes.skills_analysis - INFO - 🔗 [PRELIM_ANALYSIS] JD URL (latest job_info): https://www.ethicaljobs.com.au/members/australiaforunhcr/data-analyst
2025-10-09 12:24:47,131 - app.routes.skills_analysis - INFO - 📄 [PRELIM_ANALYSIS] Latest CV selected → type=tailored, ts=20251009_115547, json=user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.json, txt=user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.txt
2025-10-09 12:24:47,133 - app.routes.skills_analysis - INFO - 🧪 [PRELIM_ANALYSIS] CV content length=670, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • SQL, Python, Excel, Power BI, VBA, Analytical, Stakeholder Management, Data Warehouse, Data Extraction, Data Analysis, Business Intelligence, Results-Driven  EXPERIENCE Data Analyst         Jul 2024 – Present The Bitrates, Sydney, New South Wales, Australia  • Designed and implemented 5 Python '
2025-10-09 12:24:47,133 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 12:24:47,133 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 12:24:47,133 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 12:24:47,133 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Starting AI-powered skills analysis for maheshwor_tiwari.pdf
2025-10-09 12:24:47,134 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] CV content length: 670 chars
2025-10-09 12:24:47,134 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] JD content length: 6014 chars
2025-10-09 12:24:47,134 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using config: default
2025-10-09 12:24:47,134 - app.routes.skills_analysis - INFO - 🧪 [SKILLS_ANALYSIS] CV preview: 'Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • SQL, Python, Excel, Power BI, VBA, Analytical, Stakeholder Management, Data'
2025-10-09 12:24:47,134 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI provider: openai
2025-10-09 12:24:47,135 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI model: gpt-3.5-turbo
2025-10-09 12:24:47,135 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Provider available: True
2025-10-09 12:24:47,135 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Model from header: gpt-3.5-turbo
2025-10-09 12:24:47,135 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting CV skills with detailed structured analysis...
2025-10-09 12:24:47,136 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 12:24:48,176 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 12:24:48,180 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] Starting response parsing...
2025-10-09 12:24:48,181 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] Raw response preview: 
**SOFT SKILLS:**
- Analytical
- Stakeholder Management
- Results-Driven

**TECHNICAL SKILLS:**
- SQL
- Python
- Excel
- Power BI
- VBA
- Data Warehouse
- Data Extraction
- Data Analysis
- Business Intelligence

**DOMAIN KEYWORDS:**
- N/A...
2025-10-09 12:24:48,182 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] FULL CV RESPONSE: 
**SOFT SKILLS:**
- Analytical
- Stakeholder Management
- Results-Driven

**TECHNICAL SKILLS:**
- SQL
- Python
- Excel
- Power BI
- VBA
- Data Warehouse
- Data Extraction
- Data Analysis
- Business Intelligence

**DOMAIN KEYWORDS:**
- N/A
2025-10-09 12:24:48,183 - app.services.skill_extraction.response_parser - WARNING - ⚠️ [CV] No SOFT_SKILLS variable found in response
2025-10-09 12:24:48,184 - app.services.skill_extraction.response_parser - WARNING - ⚠️ [CV] No TECHNICAL_SKILLS variable found in response
2025-10-09 12:24:48,185 - app.services.skill_extraction.response_parser - WARNING - ⚠️ [CV] No DOMAIN_KEYWORDS variable found in response
2025-10-09 12:24:48,185 - app.services.skill_extraction.response_parser - INFO - 🔄 [CV] Python format not found, trying markdown format...
2025-10-09 12:24:48,186 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Successfully extracted 13 total skills using multi-format parser
2025-10-09 12:24:48,187 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated soft_skills: 3 valid skills
2025-10-09 12:24:48,187 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated technical_skills: 9 valid skills
2025-10-09 12:24:48,187 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated domain_keywords: 1 valid skills
2025-10-09 12:24:48,187 - app.services.skill_extraction.response_parser - INFO - 📊 [CV] Parsing completed:
2025-10-09 12:24:48,188 - app.services.skill_extraction.response_parser - INFO -    Soft Skills (3): ['Analytical', 'Stakeholder Management', 'Results-Driven']
2025-10-09 12:24:48,188 - app.services.skill_extraction.response_parser - INFO -    Technical Skills (9): ['SQL', 'Python', 'Excel']...
2025-10-09 12:24:48,188 - app.services.skill_extraction.response_parser - INFO -    Domain Keywords (1): ['N/A']
2025-10-09 12:24:48,189 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting JD skills with detailed structured analysis...
2025-10-09 12:24:48,190 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 12:24:51,658 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 12:24:51,662 - app.services.skill_extraction.response_parser - INFO - 🔍 [JD] Starting response parsing...
2025-10-09 12:24:51,662 - app.services.skill_extraction.response_parser - INFO - 🔍 [JD] Raw response preview: ## SOFT SKILLS:
- Communication
- Leadership
- Teamwork
- Collaboration
- Negotiation
- Time Management
- Organization
- Adaptability
- Problem-solving
- Analytical Thinking
- Critical Thinking
- Creativity
- Innovation
- Detail-oriented
- Self-motivated
- Proactive
- Results-driven

## TECHNICAL SKILLS:
- Data Analysis
- Data Mining
- Business Intelligence
- Power BI
- SQL
- Excel
- Data Modeling
- Database Management
- Spreadsheets
- VBA
- Data Warehousing
- Data Extraction
- Data Segmentation...
2025-10-09 12:24:51,663 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Successfully extracted 47 total skills using multi-format parser
2025-10-09 12:24:51,663 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated soft_skills: 17 valid skills
2025-10-09 12:24:51,663 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated technical_skills: 15 valid skills
2025-10-09 12:24:51,663 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated domain_keywords: 15 valid skills
2025-10-09 12:24:51,664 - app.services.skill_extraction.response_parser - INFO - 📊 [JD] Parsing completed:
2025-10-09 12:24:51,664 - app.services.skill_extraction.response_parser - INFO -    Soft Skills (17): ['Communication', 'Leadership', 'Teamwork']...
2025-10-09 12:24:51,664 - app.services.skill_extraction.response_parser - INFO -    Technical Skills (15): ['Data Analysis', 'Data Mining', 'Business Intelligence']...
2025-10-09 12:24:51,665 - app.services.skill_extraction.response_parser - INFO -    Domain Keywords (15): ['Fundraising', 'Humanitarian Aid', 'Refugee Support']...
2025-10-09 12:24:51,665 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using structured analysis as comprehensive analysis...
2025-10-09 12:24:51,665 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Technical Skills (9): ['SQL', 'Python', 'Excel', 'Power BI', 'VBA', 'Data Warehouse', 'Data Extraction', 'Data Analysis', 'Business Intelligence']
2025-10-09 12:24:51,665 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Soft Skills (3): ['Analytical', 'Stakeholder Management', 'Results-Driven']
2025-10-09 12:24:51,665 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Domain Keywords (1): ['N/A']
2025-10-09 12:24:51,666 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Technical Skills (15): ['Data Analysis', 'Data Mining', 'Business Intelligence', 'Power BI', 'SQL', 'Excel', 'Data Modeling', 'Database Management', 'Spreadsheets', 'VBA', 'Data Warehousing', 'Data Extraction', 'Data Segmentation', 'Report Generation', 'Project Management']
2025-10-09 12:24:51,666 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Soft Skills (17): ['Communication', 'Leadership', 'Teamwork', 'Collaboration', 'Negotiation', 'Time Management', 'Organization', 'Adaptability', 'Problem-solving', 'Analytical Thinking', 'Critical Thinking', 'Creativity', 'Innovation', 'Detail-oriented', 'Self-motivated', 'Proactive', 'Results-driven']
2025-10-09 12:24:51,666 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Domain Keywords (15): ['Fundraising', 'Humanitarian Aid', 'Refugee Support', 'Donor Management', 'Direct Marketing', 'Stakeholder Management', 'Business Decision-making', 'Data-driven Strategies', 'Data Warehouse Administration', 'Business Intelligence Reporting', 'Campaign Analysis', 'Data Utilization', 'Clean Data Maintenance', 'Communication Strategies', 'Data Governance']
2025-10-09 12:24:51,666 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] Analysis completed successfully
2025-10-09 12:24:51,667 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 12:24:51,667 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:24:51,667 - app.services.skill_extraction.result_saver - INFO - 📁 Result saver initialized with base directory: user/munna@gmail.com/cv-analysis
2025-10-09 12:24:51,667 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:24:51,667 - app.routes.skills_analysis - INFO - 🔍 [COMPANY_DETECTION] Looking in: user/munna@gmail.com/cv-analysis/applied_companies
2025-10-09 12:24:51,668 - app.routes.skills_analysis - INFO - 📁 [COMPANY_DETECTION] Found company folder: Australia_for_UNHCR with 4 job_info files
2025-10-09 12:24:51,668 - app.routes.skills_analysis - INFO - 🏢 [COMPANY_DETECTION] Using most recent company folder: Australia_for_UNHCR
2025-10-09 12:24:51,668 - app.routes.skills_analysis - INFO - 📋 [COMPANY_DETECTION] Job info company: Australia for UNHCR
2025-10-09 12:24:51,669 - app.services.skill_extraction.result_saver - INFO - 🏢 Using provided company name: Australia_for_UNHCR -> Australia_for_UNHCR
2025-10-09 12:24:51,669 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:24:51,669 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 12:24:51,670 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:24:51,671 - app.services.skill_extraction.result_saver - INFO - 💾 Structured CV already exists, preserving it: user/munna@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 12:24:51,672 - app.services.skill_extraction.result_saver - INFO - 💾 Structured CV preserved, skipping save: user/munna@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 12:24:51,675 - app.services.skill_extraction.result_saver - INFO - 💾 Analysis results saved (JSON) to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_122451.json
2025-10-09 12:24:51,675 - app.routes.skills_analysis - INFO - 📁 [FILE_SAVE] Results saved to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_122451.json
2025-10-09 12:24:51,675 - app.routes.skills_analysis - INFO - 🔍 [ANALYZE_MATCH] Starting analyze match assessment...
2025-10-09 12:24:51,680 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 12:24:55,300 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 12:24:55,306 - app.routes.skills_analysis - INFO - ✅ [ANALYZE_MATCH] Analysis completed (length: 1411 chars)
2025-10-09 12:24:55,307 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:24:55,309 - app.services.skill_extraction.result_saver - INFO - 📂 Found existing analysis file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_122451.json
2025-10-09 12:24:55,309 - app.services.skill_extraction.result_saver - INFO - 🔍 Looking for analysis file in: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 12:24:55,310 - app.services.skill_extraction.result_saver - INFO - 📄 Using existing file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_122451.json
2025-10-09 12:24:55,312 - app.services.skill_extraction.result_saver - INFO - 📁 [ANALYZE_MATCH] Results appended to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_122451.json
2025-10-09 12:24:55,313 - app.routes.skills_analysis - INFO - 📁 [ANALYZE_MATCH] Results appended to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_122451.json
2025-10-09 12:24:55,313 - app.routes.skills_analysis - INFO - 🔍 [PREEXTRACTED_COMPARISON] Starting pre-extracted skills semantic comparison...
2025-10-09 12:24:55,342 - app.services.skill_extraction.preextracted_comparator - INFO - 🔍 [EXACT_MATCHES] Found 3 exact matches: {'technical_skills': [{'jd_skill': 'Business Intelligence', 'cv_skill': 'Business Intelligence', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Data Analysis', 'cv_skill': 'Data Analysis', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Data Extraction', 'cv_skill': 'Data Extraction', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Excel', 'cv_skill': 'Excel', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Power BI', 'cv_skill': 'Power BI', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'SQL', 'cv_skill': 'SQL', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'VBA', 'cv_skill': 'VBA', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}], 'soft_skills': [{'jd_skill': 'Results-driven', 'cv_skill': 'Results-Driven', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}], 'domain_keywords': []}
2025-10-09 12:24:55,345 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 12:25:04,763 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 12:25:04,767 - app.services.skill_extraction.preextracted_comparator - WARNING - ❌ [VALIDATION] technical_skills: matched 15 > CV count 9
2025-10-09 12:25:04,768 - app.services.skill_extraction.preextracted_comparator - INFO - ℹ️ [VALIDATION] technical_skills: matched 15 + missing 5 = 20 vs JD count 15 (acceptable variance)
2025-10-09 12:25:04,768 - app.services.skill_extraction.preextracted_comparator - WARNING - ❌ [VALIDATION] soft_skills: matched 12 > CV count 3
2025-10-09 12:25:04,768 - app.services.skill_extraction.preextracted_comparator - INFO - ℹ️ [VALIDATION] domain_keywords: matched 0 + missing 5 = 5 vs JD count 15 (acceptable variance)
2025-10-09 12:25:04,768 - app.services.skill_extraction.preextracted_comparator - WARNING - ❌ [VALIDATION] domain_keywords: extreme variance - processed 5 vs expected 15
2025-10-09 12:25:04,768 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] CV Skills: Tech=9, Soft=3, Domain=1
2025-10-09 12:25:04,768 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] JD Skills: Tech=15, Soft=17, Domain=15
2025-10-09 12:25:04,769 - app.services.skill_extraction.preextracted_comparator - WARNING - ❌ [VALIDATION] 3 validation error(s) found
2025-10-09 12:25:04,769 - app.services.skill_extraction.preextracted_comparator - WARNING - ⚠️ [COMPARISON] JSON results failed validation, attempting to fix inconsistencies
2025-10-09 12:25:04,769 - app.services.skill_extraction.preextracted_comparator - INFO - 🔧 [FIX] Attempting to fix inconsistent AI response
2025-10-09 12:25:04,770 - app.services.skill_extraction.preextracted_comparator - WARNING - 🔧 [FIX] technical_skills: Trimming 15 matches to 9 (CV limit)
2025-10-09 12:25:04,770 - app.services.skill_extraction.preextracted_comparator - WARNING - 🔧 [FIX] technical_skills: Too many items (20 > 15), trimming missing items
2025-10-09 12:25:04,770 - app.services.skill_extraction.preextracted_comparator - WARNING - 🔧 [FIX] soft_skills: Trimming 12 matches to 3 (CV limit)
2025-10-09 12:25:04,770 - app.services.skill_extraction.preextracted_comparator - INFO - 🔧 [FIX] domain_keywords: Adding 10 missing JD skills
2025-10-09 12:25:04,770 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [FIX] Finished fixing AI response inconsistencies
2025-10-09 12:25:04,771 - app.services.skill_extraction.preextracted_comparator - INFO - ℹ️ [VALIDATION] domain_keywords: matched 0 + missing 16 = 16 vs JD count 15 (acceptable variance)
2025-10-09 12:25:04,771 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] CV Skills: Tech=9, Soft=3, Domain=1
2025-10-09 12:25:04,771 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] JD Skills: Tech=15, Soft=17, Domain=15
2025-10-09 12:25:04,771 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [VALIDATION] Comparison results passed validation
2025-10-09 12:25:04,771 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [COMPARISON] Successfully fixed AI response inconsistencies
2025-10-09 12:25:04,771 - app.routes.skills_analysis - INFO - ✅ [PREEXTRACTED_COMPARISON] Completed (length: 6034 chars)
2025-10-09 12:25:04,772 - app.services.skill_extraction.result_saver - INFO - 🏢 [PREEXTRACTED_COMPARISON] Inferred company from saved_file_path: Australia_for_UNHCR
2025-10-09 12:25:04,774 - app.services.skill_extraction.result_saver - INFO - 📁 [PREEXTRACTED_COMPARISON] Results appended to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_122451.json
2025-10-09 12:25:04,774 - app.routes.skills_analysis - INFO - 📁 [PREEXTRACTED_COMPARISON] Results appended to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_122451.json
2025-10-09 12:25:04,774 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:25:04,775 - app.routes.skills_analysis - INFO - ♻️ [PIPELINE] (preliminary-analysis) JD file already exists: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/jd_original_20251009_121332.json
2025-10-09 12:25:04,777 - app.routes.skills_analysis - INFO - ♻️ [JOBS] Job already exists in saved_jobs.json: Data Analyst at Australia for UNHCR
2025-10-09 12:25:04,777 - app.routes.skills_analysis - INFO - 🚀 [PIPELINE] (preliminary-analysis) scheduling for company: Australia_for_UNHCR
2025-10-09 12:25:04,778 - app.routes.skills_analysis - INFO - 🚀 [PIPELINE] Scheduling JD analysis and CV–JD matching for 'Australia_for_UNHCR'...
2025-10-09 12:25:04,778 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:25:04,779 - app.routes.skills_analysis - INFO - 🔧 [PIPELINE] Starting JD analysis for Australia_for_UNHCR (force_refresh=True)
2025-10-09 12:25:04,779 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:25:04,779 - app.services.jd_analysis.jd_analyzer - INFO - 🔄 Analyzing JD for Australia_for_UNHCR (force_refresh=True)
2025-10-09 12:25:04,781 - app.services.jd_analysis.jd_analyzer - INFO - 📄 Analyzing JD file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/jd_original_20251009_121332.json
2025-10-09 12:25:04,782 - app.services.jd_analysis.jd_analyzer - ERROR - JD analysis failed: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:25:04,782 - app.services.jd_analysis.jd_analyzer - ERROR - Failed to analyze JD file user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/jd_original_20251009_121332.json: Failed to analyze job description: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:25:04,782 - app.services.jd_analysis.jd_analyzer - ERROR - Failed to analyze and save company JD Australia_for_UNHCR: Failed to analyze job description file: Failed to analyze job description: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:25:04,782 - app.routes.skills_analysis - ERROR - ❌ [PIPELINE] JD analysis failed for Australia_for_UNHCR: Failed to analyze job description file: Failed to analyze job description: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:25:04,782 - app.routes.skills_analysis - INFO - 🔧 [PIPELINE] Starting CV–JD matching for Australia_for_UNHCR
2025-10-09 12:25:04,782 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:25:04,783 - app.routes.skills_analysis - WARNING - ⚠️ [PIPELINE] Could not preselect CV TXT for matching: No module named 'app.services.dynamic_cv_selector'
2025-10-09 12:25:04,784 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🔍 [CV_JD_MATCHER] No explicit CV path provided, using unified selector for Australia_for_UNHCR
2025-10-09 12:25:04,784 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:25:04,785 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:25:04,785 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 12:25:04,787 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:25:04,787 - app.services.jd_usage_tracker - ERROR - ❌ [JD_TRACKER] Error checking JD usage: Either jd_url or jd_text must be provided
2025-10-09 12:25:04,788 - app.services.cv_jd_matching.cv_jd_matcher - INFO - ✅ [CV_JD_MATCHER] Selected CV → type=original, ts=None, path=user/munna@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 12:25:04,789 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 📄 [CV_JD_MATCHER] Read CV from: user/munna@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 12:25:04,789 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🧪 [CV_JD_MATCHER] CV content length=4864, preview='Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD in Physics and completed a Master's in Data Science, bringing over three years of experience in Python  coding, AI, and machine learning. My expertise encompasses modeling and training AI models, writing efficient Python'
2025-10-09 12:25:04,789 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:25:04,791 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 📂 Loaded JD analysis from: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_jd_analysis_20251008_201603.json
2025-10-09 12:25:04,791 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 📊 Loaded JD analysis for: Australia_for_UNHCR
2025-10-09 12:25:04,791 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🔍 Found 8 required and 4 preferred keywords
2025-10-09 12:25:04,791 - app.services.cv_jd_matching.cv_jd_matcher - WARNING - ⚠️ Attempt 1/3 failed: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:25:04,792 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🔄 Retrying CV-JD matching...
2025-10-09 12:25:04,835 - app.routes.skills_analysis - INFO - 📊 [API] Fetching analysis results for company: Australia_for_UNHCR
2025-10-09 12:25:04,835 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:25:04,836 - app.utils.path_debug - INFO - 
📌 Starting get_analysis_results
2025-10-09 12:25:04,836 - app.utils.path_debug - INFO -   📂 User base dir: user/munna@gmail.com/cv-analysis
2025-10-09 12:25:04,836 - app.utils.path_debug - INFO -   📂 Company dir: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 12:25:04,836 - app.utils.path_debug - INFO -   📂 Using analysis file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_122451.json
2025-10-09 12:25:04,837 - app.utils.path_debug - INFO -   ✅ Loaded analysis file, size: 14747 bytes
2025-10-09 12:25:05,793 - app.services.cv_jd_matching.cv_jd_matcher - WARNING - ⚠️ Attempt 2/3 failed: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:25:05,793 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🔄 Retrying CV-JD matching...
2025-10-09 12:25:06,804 - app.services.cv_jd_matching.cv_jd_matcher - WARNING - ⚠️ Attempt 3/3 failed: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:25:06,804 - app.services.cv_jd_matching.cv_jd_matcher - ERROR - CV-JD matching failed: Failed after 3 attempts: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:25:06,804 - app.routes.skills_analysis - ERROR - ❌ [PIPELINE] CV-JD matching failed for Australia_for_UNHCR: Failed to match CV against JD: Failed after 3 attempts: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:25:06,808 - app.routes.skills_analysis - ERROR - [PIPELINE] CV-JD matching traceback: Traceback (most recent call last):
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/services/cv_jd_matching/cv_jd_matcher.py", line 419, in match_cv_against_jd
    raise Exception(f"Failed after {max_retries} attempts: {last_error}")
Exception: Failed after 3 attempts: generate_response() missing 1 required positional argument: 'user'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/routes/skills_analysis.py", line 399, in _run_pipeline
    await match_and_save_cv_jd(
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/services/cv_jd_matching/cv_jd_matcher.py", line 526, in match_and_save_cv_jd
    result = await matcher.match_cv_against_jd(company_name, cv_file_path, jd_analysis_data, temperature)
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/services/cv_jd_matching/cv_jd_matcher.py", line 425, in match_cv_against_jd
    raise Exception(f"Failed to match CV against JD: {e}")
Exception: Failed to match CV against JD: Failed after 3 attempts: generate_response() missing 1 required positional argument: 'user'

2025-10-09 12:25:06,808 - app.routes.skills_analysis - INFO - 🔍 [PIPELINE] Starting component analysis for Australia_for_UNHCR
2025-10-09 12:25:06,809 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:25:06,810 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:25:06,810 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:25:06,810 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 12:25:06,811 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Latest CV selected → type=tailored, ts=20251009_115547, json=user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.json, txt=user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.txt
2025-10-09 12:25:06,812 - app.routes.skills_analysis - INFO - 🧪 [PIPELINE] CV content length=670, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • SQL, Python, Excel, Power BI, VBA, Analytical, Stakeholder Management, Data Warehouse, Data Extraction, Data Analysis, Business Intelligence, Results-Driven  EXPERIENCE Data Analyst         Jul 2024 – Present The Bitrates, Sydney, New South Wales, Australia  • Designed and implemented 5 Python '
2025-10-09 12:25:06,812 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:25:06,814 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Required files found, proceeding with component analysis
2025-10-09 12:25:06,814 - app.services.ats.modular_ats_orchestrator - INFO - ===== [MODULAR ATS] Starting component analysis for: Australia_for_UNHCR =====
2025-10-09 12:25:06,815 - app.services.ats.component_assembler - INFO - ===== [ASSEMBLER] Starting component assembly for: Australia_for_UNHCR =====
2025-10-09 12:25:06,815 - app.services.ats.component_assembler - INFO - 📄 [ASSEMBLER] Using CV text provided by caller
2025-10-09 12:25:06,823 - app.services.ats.component_assembler - WARNING - [ASSEMBLER] Match results not found: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/cv_jd_match_results.json
2025-10-09 12:25:06,824 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Starting parallel component analyses...
2025-10-09 12:25:06,825 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Requesting skills relevance analysis...
2025-10-09 12:25:06,825 - app.services.ats.components.skills_relevance_analyzer - ERROR - [SKILLS] Analysis failed: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:25:06,826 - app.services.ats.components.skills_relevance_analyzer - WARNING - [SKILLS] Returning fallback response due to analysis error
2025-10-09 12:25:06,826 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Requirement bonus using match file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_cv_jd_matching_20251009_115334.json
2025-10-09 12:25:06,826 - app.services.ats.components.experience_analyzer - INFO - [EXPERIENCE] Requesting experience alignment analysis...
2025-10-09 12:25:06,827 - app.services.ats.components.experience_analyzer - ERROR - [EXPERIENCE] Analysis failed: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:25:06,827 - app.services.ats.components.industry_analyzer - INFO - [INDUSTRY] Requesting industry fit analysis...
2025-10-09 12:25:06,827 - app.services.ats.components.industry_analyzer - ERROR - [INDUSTRY] Analysis failed: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:25:06,828 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Using existing match_counts from file
2025-10-09 12:25:06,828 - app.services.ats.requirement_bonus_calculator - INFO - [ATS][BONUS] required_total=15 matched_required=6 missing_required=9 required_bonus=3.00 required_penalty=-4.00 preferred_total=4 matched_preferred=1 missing_preferred=3 preferred_bonus=0.20 preferred_penalty=-0.45 total_bonus=-1.25
2025-10-09 12:25:06,828 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Requirement bonus calculated: -1.25 points
2025-10-09 12:25:06,833 - app.services.ats.components.seniority_analyzer - INFO - [SENIORITY] Requesting role seniority analysis...
2025-10-09 12:25:06,834 - app.services.ats.components.seniority_analyzer - ERROR - [SENIORITY] Analysis failed: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:25:06,834 - app.services.ats.components.technical_analyzer - INFO - [TECHNICAL] Requesting technical depth analysis...
2025-10-09 12:25:06,834 - app.services.ats.components.technical_analyzer - ERROR - [TECHNICAL] Analysis failed: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:25:06,834 - app.services.ats.component_assembler - ERROR - [ASSEMBLER] Experience analysis failed: Experience analysis failed: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:25:06,835 - app.services.ats.component_assembler - ERROR - [ASSEMBLER] Assembly failed for Australia_for_UNHCR: Experience analysis failed: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:25:06,835 - app.services.ats.modular_ats_orchestrator - ERROR - [MODULAR ATS] Component analysis failed for Australia_for_UNHCR: Experience analysis failed: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:25:06,835 - app.routes.skills_analysis - ERROR - ❌ [PIPELINE] Component analysis failed for Australia_for_UNHCR: Experience analysis failed: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:25:06,839 - app.routes.skills_analysis - ERROR - [PIPELINE] Component analysis traceback: Traceback (most recent call last):
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/services/ats/components/experience_analyzer.py", line 102, in analyze
    response = await ai_service.generate_response(
TypeError: generate_response() missing 1 required positional argument: 'user'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/routes/skills_analysis.py", line 465, in _run_pipeline
    component_result = await user_orchestrator.run_component_analysis(cname, cv_text=cv_text_for_analysis or None)
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/services/ats/modular_ats_orchestrator.py", line 53, in run_component_analysis
    result = await self.assembler.assemble_analysis(company, cv_text=cv_text, jd_url="")
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/services/ats/component_assembler.py", line 624, in assemble_analysis
    component_results = await self._run_component_analyses(cv_text, jd_text, matched_skills, company)
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/services/ats/component_assembler.py", line 248, in _run_component_analyses
    raise result
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/services/ats/components/experience_analyzer.py", line 132, in analyze
    raise ValueError(f"Experience analysis failed: {str(e)}")
ValueError: Experience analysis failed: generate_response() missing 1 required positional argument: 'user'

2025-10-09 12:25:06,839 - app.routes.skills_analysis - INFO - 📋 [PIPELINE] Creating input recommendation file for Australia_for_UNHCR
2025-10-09 12:25:06,840 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:25:06,841 - app.services.ats_recommendation_service - WARNING - No component analysis entries found in user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_122451.json
2025-10-09 12:25:06,841 - app.services.ats_recommendation_service - WARNING - No ATS calculation entries found in user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_122451.json
2025-10-09 12:25:06,842 - app.services.ats_recommendation_service - INFO - Successfully extracted comprehensive recommendation data for Australia_for_UNHCR
2025-10-09 12:25:06,843 - app.services.ats_recommendation_service - INFO - Successfully created recommendation file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_122506.json
2025-10-09 12:25:06,868 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:25:06,871 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 12:25:06,871 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] {'email_1': 'munna@gmail.com'}
2025-10-09 12:25:06,910 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 12:25:06,910 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 12:25:06,935 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 12:25:06,935 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] {'user_id': '4df52e53-b78f-45e9-8946-3b6c00618693', 'company_id': 12, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_122506.json', 'file_path': 'user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_122506.json', 'file_size': 11845, 'sha256': 'd4888abc6856548e23c17a6c68c8ac48e3a3af72e2928dda08a8157199276c06', 'timestamp': '20251009_122506'}
2025-10-09 12:25:06,958 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 12:25:06,958 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] {'user_id': '4df52e53-b78f-45e9-8946-3b6c00618693', 'company_id': 12, 'kind': 'input_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 149}
2025-10-09 12:25:06,980 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:25:06,999 - app.services.ats_recommendation_service - INFO - Successfully created AI recommendation prompt: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_prompt_recommendation.py
2025-10-09 12:25:06,999 - app.services.ats_recommendation_service - INFO - 🤖 [TRIGGER] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-09 12:25:06,999 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:25:07,000 - app.services.ats_recommendation_service - INFO - 📋 [TRIGGER] AI generation scheduled as background task for Australia_for_UNHCR
2025-10-09 12:25:07,000 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Input recommendation file created for Australia_for_UNHCR
2025-10-09 12:25:07,001 - app.routes.skills_analysis - INFO - 🤖 [PIPELINE] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-09 12:25:07,001 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:25:07,001 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-09 12:25:07,004 - app.services.ai_recommendation_generator - INFO - 🟡 [AI GENERATOR] Input recommendation is newer (ai_mtime=1759971297.720441, input_mtime=1759973106.8429906); regenerating AI recommendation
2025-10-09 12:25:07,005 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:25:07,005 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:25:07,006 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 12:25:07,008 - app.services.ai_recommendation_generator - ERROR - ❌ [AI GENERATOR] Error checking CV freshness: 'str' object has no attribute 'timestamp'
2025-10-09 12:25:07,009 - app.services.ai_recommendation_generator - INFO - 📋 [AI GENERATOR] Generated AI prompt for Australia_for_UNHCR using centralized template (11852 characters)
2025-10-09 12:25:07,010 - app.services.ai_recommendation_generator - INFO - 🧠 [AI GENERATOR] Executing AI prompt for Australia_for_UNHCR
2025-10-09 12:25:07,010 - app.services.ai_recommendation_generator - ERROR - Error executing AI prompt: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:25:07,010 - app.services.ai_recommendation_generator - ERROR - Failed to get AI response for Australia_for_UNHCR
2025-10-09 12:25:07,010 - app.routes.skills_analysis - WARNING - ⚠️ [PIPELINE] AI recommendation generation failed for Australia_for_UNHCR
2025-10-09 12:25:07,010 - app.routes.skills_analysis - INFO - ⏭️ [PIPELINE] Skipping tailored CV generation for Australia_for_UNHCR (AI recommendation failed)
2025-10-09 12:25:07,011 - app.routes.skills_analysis - INFO - 📋 [PIPELINE] Pipeline summary for Australia_for_UNHCR:
2025-10-09 12:25:07,011 - app.routes.skills_analysis - INFO -    ✅ Successful: ['input_recommendation']
2025-10-09 12:25:07,012 - app.routes.skills_analysis - INFO -    ❌ Failed: ['jd_analysis', 'cv_jd_matching', 'component_analysis', 'ai_recommendation', 'tailored_cv']
2025-10-09 12:25:07,012 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-09 12:25:07,013 - app.services.ai_recommendation_generator - INFO - 🟡 [AI GENERATOR] Input recommendation is newer (ai_mtime=1759971297.720441, input_mtime=1759973106.8429906); regenerating AI recommendation
2025-10-09 12:25:07,013 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:25:07,013 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:25:07,014 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 12:25:07,015 - app.services.ai_recommendation_generator - ERROR - ❌ [AI GENERATOR] Error checking CV freshness: 'str' object has no attribute 'timestamp'
2025-10-09 12:25:07,016 - app.services.ai_recommendation_generator - INFO - 📋 [AI GENERATOR] Generated AI prompt for Australia_for_UNHCR using centralized template (11852 characters)
2025-10-09 12:25:07,016 - app.services.ai_recommendation_generator - INFO - 🧠 [AI GENERATOR] Executing AI prompt for Australia_for_UNHCR
2025-10-09 12:25:07,017 - app.services.ai_recommendation_generator - ERROR - Error executing AI prompt: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:25:07,017 - app.services.ai_recommendation_generator - ERROR - Failed to get AI response for Australia_for_UNHCR
2025-10-09 12:25:07,017 - app.services.ats_recommendation_service - WARNING - ⚠️ [TRIGGER] AI recommendation generation failed for Australia_for_UNHCR
2025-10-09 12:25:07,423 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:25:13,196 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:25:13,478 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:25:13,478 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:25:13,514 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:25:13,515 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:25:13,552 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:25:13,553 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:25:13,591 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:25:13,591 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:25:13,592 - sqlalchemy.engine.Engine - INFO - [generated in 0.00086s] {}
2025-10-09 12:25:13,624 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:25:13,646 - app.database - INFO - Database connection successful
2025-10-09 12:25:13,646 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:25:13,669 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:25:13,674 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:25:13,674 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:25:13,716 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:25:13,717 - sqlalchemy.engine.Engine - INFO - [cached since 0.0429s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:25:13,738 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:25:13,738 - sqlalchemy.engine.Engine - INFO - [cached since 0.06468s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:25:13,759 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:25:13,759 - sqlalchemy.engine.Engine - INFO - [cached since 0.08548s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:25:13,782 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:25:13,782 - sqlalchemy.engine.Engine - INFO - [cached since 0.1086s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:25:13,804 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:25:13,804 - sqlalchemy.engine.Engine - INFO - [cached since 0.1303s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:25:13,829 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:25:13,829 - sqlalchemy.engine.Engine - INFO - [cached since 0.1555s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:25:13,852 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:25:13,853 - sqlalchemy.engine.Engine - INFO - [cached since 0.1791s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:25:13,875 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:25:13,875 - sqlalchemy.engine.Engine - INFO - [cached since 0.2016s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:25:13,893 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:25:13,893 - sqlalchemy.engine.Engine - INFO - [cached since 0.2195s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:25:13,917 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:25:13,917 - sqlalchemy.engine.Engine - INFO - [cached since 0.2435s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:25:13,934 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:25:13,951 - app.database - INFO - Database tables created successfully
2025-10-09 12:25:13,951 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:25:13,951 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:25:13,951 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:25:24,945 - app.routes.skills_analysis - INFO - 📊 [API] Fetching analysis results for company: Australia_for_UNHCR
2025-10-09 12:25:24,947 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:25:24,947 - app.utils.path_debug - INFO - 
📌 Starting get_analysis_results
2025-10-09 12:25:24,947 - app.utils.path_debug - INFO -   📂 User base dir: user/munna@gmail.com/cv-analysis
2025-10-09 12:25:24,947 - app.utils.path_debug - INFO -   📂 Company dir: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 12:25:24,948 - app.utils.path_debug - INFO -   📂 Using analysis file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_122451.json
2025-10-09 12:25:24,949 - app.utils.path_debug - INFO -   ✅ Loaded analysis file, size: 14747 bytes
2025-10-09 12:25:25,341 - app.routes.ai_recommendations - INFO - 🔍 [AI_RECOMMENDATIONS] Fetching for company: Australia_for_UNHCR, user: munna@gmail.com
2025-10-09 12:25:25,342 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:25:25,342 - app.routes.ai_recommendations - INFO - 🔍 [AI_RECOMMENDATIONS] Searching in: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 12:25:25,342 - app.routes.ai_recommendations - INFO - ✅ [AI_RECOMMENDATIONS] Found file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_115457.json
2025-10-09 12:25:25,343 - app.routes.ai_recommendations - INFO - ✅ [AI_RECOMMENDATIONS] Successfully loaded recommendation, content length: 3615
2025-10-09 12:30:52,664 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:30:58,527 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:30:58,841 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:30:58,841 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:30:58,888 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:30:58,888 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:30:58,933 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:30:58,934 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:30:58,973 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:30:58,974 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:30:58,974 - sqlalchemy.engine.Engine - INFO - [generated in 0.00059s] {}
2025-10-09 12:30:59,008 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:30:59,026 - app.database - INFO - Database connection successful
2025-10-09 12:30:59,027 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:30:59,044 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:30:59,053 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:30:59,054 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:30:59,096 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:30:59,096 - sqlalchemy.engine.Engine - INFO - [cached since 0.04327s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:30:59,119 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:30:59,120 - sqlalchemy.engine.Engine - INFO - [cached since 0.06692s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:30:59,142 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:30:59,143 - sqlalchemy.engine.Engine - INFO - [cached since 0.08966s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:30:59,166 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:30:59,167 - sqlalchemy.engine.Engine - INFO - [cached since 0.1137s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:30:59,188 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:30:59,188 - sqlalchemy.engine.Engine - INFO - [cached since 0.1352s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:30:59,211 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:30:59,212 - sqlalchemy.engine.Engine - INFO - [cached since 0.1586s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:30:59,235 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:30:59,235 - sqlalchemy.engine.Engine - INFO - [cached since 0.1821s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:30:59,259 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:30:59,259 - sqlalchemy.engine.Engine - INFO - [cached since 0.2058s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:30:59,283 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:30:59,284 - sqlalchemy.engine.Engine - INFO - [cached since 0.231s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:30:59,305 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:30:59,305 - sqlalchemy.engine.Engine - INFO - [cached since 0.2519s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:30:59,327 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:30:59,343 - app.database - INFO - Database tables created successfully
2025-10-09 12:30:59,344 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:30:59,344 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:30:59,344 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:31:12,920 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:31:17,913 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:31:18,205 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:31:18,206 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:31:18,254 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:31:18,254 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:31:18,297 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:31:18,297 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:31:18,351 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:31:18,352 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:31:18,352 - sqlalchemy.engine.Engine - INFO - [generated in 0.00097s] {}
2025-10-09 12:31:18,429 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:31:18,452 - app.database - INFO - Database connection successful
2025-10-09 12:31:18,452 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:31:18,472 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:31:18,478 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:31:18,478 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:31:18,510 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:31:18,510 - sqlalchemy.engine.Engine - INFO - [cached since 0.03257s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:31:18,532 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:31:18,532 - sqlalchemy.engine.Engine - INFO - [cached since 0.05457s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:31:18,554 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:31:18,555 - sqlalchemy.engine.Engine - INFO - [cached since 0.07667s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:31:18,579 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:31:18,579 - sqlalchemy.engine.Engine - INFO - [cached since 0.1016s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:31:18,607 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:31:18,607 - sqlalchemy.engine.Engine - INFO - [cached since 0.129s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:31:18,652 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:31:18,652 - sqlalchemy.engine.Engine - INFO - [cached since 0.1743s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:31:18,737 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:31:18,738 - sqlalchemy.engine.Engine - INFO - [cached since 0.2599s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:31:18,754 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:31:18,754 - sqlalchemy.engine.Engine - INFO - [cached since 0.2764s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:31:18,777 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:31:18,778 - sqlalchemy.engine.Engine - INFO - [cached since 0.2997s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:31:18,799 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:31:18,799 - sqlalchemy.engine.Engine - INFO - [cached since 0.3216s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:31:18,823 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:31:18,839 - app.database - INFO - Database tables created successfully
2025-10-09 12:31:18,839 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:31:18,840 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:31:18,840 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:31:45,348 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:31:49,953 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:31:50,227 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:31:50,228 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:31:50,271 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:31:50,271 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:31:50,306 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:31:50,307 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:31:50,347 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:31:50,357 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:31:50,360 - sqlalchemy.engine.Engine - INFO - [generated in 0.01308s] {}
2025-10-09 12:31:50,396 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:31:50,413 - app.database - INFO - Database connection successful
2025-10-09 12:31:50,414 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:31:50,437 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:31:50,443 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:31:50,443 - sqlalchemy.engine.Engine - INFO - [generated in 0.00054s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:31:50,480 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:31:50,481 - sqlalchemy.engine.Engine - INFO - [cached since 0.03846s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:31:50,504 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:31:50,505 - sqlalchemy.engine.Engine - INFO - [cached since 0.06213s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:31:50,528 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:31:50,528 - sqlalchemy.engine.Engine - INFO - [cached since 0.08556s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:31:50,553 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:31:50,553 - sqlalchemy.engine.Engine - INFO - [cached since 0.1108s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:31:50,576 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:31:50,576 - sqlalchemy.engine.Engine - INFO - [cached since 0.1336s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:31:50,600 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:31:50,600 - sqlalchemy.engine.Engine - INFO - [cached since 0.1581s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:31:50,621 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:31:50,621 - sqlalchemy.engine.Engine - INFO - [cached since 0.1786s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:31:50,642 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:31:50,643 - sqlalchemy.engine.Engine - INFO - [cached since 0.2003s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:31:50,664 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:31:50,665 - sqlalchemy.engine.Engine - INFO - [cached since 0.2227s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:31:50,686 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:31:50,687 - sqlalchemy.engine.Engine - INFO - [cached since 0.2447s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:31:50,712 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:31:50,733 - app.database - INFO - Database tables created successfully
2025-10-09 12:31:50,733 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:31:50,734 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:31:50,734 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:32:27,276 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:32:31,950 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:32:32,253 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:32:32,253 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:32:32,295 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:32:32,296 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:32:32,345 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:32:32,346 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:32:32,390 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:32:32,390 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:32:32,390 - sqlalchemy.engine.Engine - INFO - [generated in 0.00063s] {}
2025-10-09 12:32:32,429 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:32:32,451 - app.database - INFO - Database connection successful
2025-10-09 12:32:32,452 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:32:32,477 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:32:32,482 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:32:32,483 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:32:32,522 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:32:32,522 - sqlalchemy.engine.Engine - INFO - [cached since 0.04014s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:32:32,547 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:32:32,548 - sqlalchemy.engine.Engine - INFO - [cached since 0.06546s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:32:32,574 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:32:32,574 - sqlalchemy.engine.Engine - INFO - [cached since 0.09232s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:32:32,600 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:32:32,600 - sqlalchemy.engine.Engine - INFO - [cached since 0.1178s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:32:32,622 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:32:32,622 - sqlalchemy.engine.Engine - INFO - [cached since 0.1401s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:32:32,642 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:32:32,642 - sqlalchemy.engine.Engine - INFO - [cached since 0.1602s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:32:32,665 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:32:32,665 - sqlalchemy.engine.Engine - INFO - [cached since 0.1829s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:32:32,693 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:32:32,693 - sqlalchemy.engine.Engine - INFO - [cached since 0.2109s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:32:32,716 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:32:32,716 - sqlalchemy.engine.Engine - INFO - [cached since 0.2339s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:32:32,734 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:32:32,734 - sqlalchemy.engine.Engine - INFO - [cached since 0.2521s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:32:32,753 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:32:32,772 - app.database - INFO - Database tables created successfully
2025-10-09 12:32:32,772 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:32:32,773 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:32:32,773 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:32:56,785 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:33:01,216 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:33:01,494 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:33:01,494 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:33:01,536 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:33:01,537 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:33:01,575 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:33:01,576 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:33:01,623 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:33:01,623 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:33:01,624 - sqlalchemy.engine.Engine - INFO - [generated in 0.00100s] {}
2025-10-09 12:33:01,678 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:33:01,699 - app.database - INFO - Database connection successful
2025-10-09 12:33:01,700 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:33:01,724 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:33:01,733 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:33:01,733 - sqlalchemy.engine.Engine - INFO - [generated in 0.00102s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:33:01,777 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:33:01,778 - sqlalchemy.engine.Engine - INFO - [cached since 0.04513s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:33:01,800 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:33:01,801 - sqlalchemy.engine.Engine - INFO - [cached since 0.06827s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:33:01,825 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:33:01,825 - sqlalchemy.engine.Engine - INFO - [cached since 0.09295s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:33:01,844 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:33:01,844 - sqlalchemy.engine.Engine - INFO - [cached since 0.1121s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:33:01,882 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:33:01,882 - sqlalchemy.engine.Engine - INFO - [cached since 0.1498s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:33:01,901 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:33:01,902 - sqlalchemy.engine.Engine - INFO - [cached since 0.1694s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:33:01,924 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:33:01,925 - sqlalchemy.engine.Engine - INFO - [cached since 0.1923s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:33:01,945 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:33:01,945 - sqlalchemy.engine.Engine - INFO - [cached since 0.2129s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:33:01,969 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:33:01,969 - sqlalchemy.engine.Engine - INFO - [cached since 0.2365s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:33:01,992 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:33:01,992 - sqlalchemy.engine.Engine - INFO - [cached since 0.2595s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:33:02,011 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:33:02,030 - app.database - INFO - Database tables created successfully
2025-10-09 12:33:02,030 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:33:02,030 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:33:02,030 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:33:16,154 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:33:23,888 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:33:24,158 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:33:24,159 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:33:24,193 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:33:24,193 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:33:24,238 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:33:24,238 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:33:24,281 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:33:24,281 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:33:24,281 - sqlalchemy.engine.Engine - INFO - [generated in 0.00063s] {}
2025-10-09 12:33:24,321 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:33:24,338 - app.database - INFO - Database connection successful
2025-10-09 12:33:24,338 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:33:24,362 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:33:24,371 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:33:24,373 - sqlalchemy.engine.Engine - INFO - [generated in 0.00274s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:33:24,411 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:33:24,412 - sqlalchemy.engine.Engine - INFO - [cached since 0.04207s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:33:24,437 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:33:24,438 - sqlalchemy.engine.Engine - INFO - [cached since 0.06834s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:33:24,460 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:33:24,461 - sqlalchemy.engine.Engine - INFO - [cached since 0.09091s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:33:24,487 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:33:24,488 - sqlalchemy.engine.Engine - INFO - [cached since 0.1184s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:33:24,509 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:33:24,510 - sqlalchemy.engine.Engine - INFO - [cached since 0.14s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:33:24,535 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:33:24,535 - sqlalchemy.engine.Engine - INFO - [cached since 0.1654s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:33:24,558 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:33:24,558 - sqlalchemy.engine.Engine - INFO - [cached since 0.1885s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:33:24,576 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:33:24,576 - sqlalchemy.engine.Engine - INFO - [cached since 0.2064s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:33:24,599 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:33:24,599 - sqlalchemy.engine.Engine - INFO - [cached since 0.2294s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:33:24,624 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:33:24,624 - sqlalchemy.engine.Engine - INFO - [cached since 0.2548s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:33:24,648 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:33:24,670 - app.database - INFO - Database tables created successfully
2025-10-09 12:33:24,670 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:33:24,670 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:33:24,670 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:37:32,648 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:37:32,959 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:37:32,960 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:37:32,999 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:37:33,000 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:37:33,036 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:37:33,037 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:37:33,073 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:37:33,074 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:37:33,074 - sqlalchemy.engine.Engine - INFO - [generated in 0.00160s] {}
2025-10-09 12:37:33,110 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:37:33,133 - app.database - INFO - Database connection successful
2025-10-09 12:37:33,133 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:37:33,154 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:37:33,160 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:37:33,160 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:37:33,202 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:37:33,202 - sqlalchemy.engine.Engine - INFO - [cached since 0.04253s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:37:33,226 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:37:33,227 - sqlalchemy.engine.Engine - INFO - [cached since 0.06665s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:37:33,250 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:37:33,250 - sqlalchemy.engine.Engine - INFO - [cached since 0.09051s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:37:33,272 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:37:33,273 - sqlalchemy.engine.Engine - INFO - [cached since 0.1127s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:37:33,295 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:37:33,296 - sqlalchemy.engine.Engine - INFO - [cached since 0.1358s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:37:33,318 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:37:33,318 - sqlalchemy.engine.Engine - INFO - [cached since 0.1584s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:37:33,342 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:37:33,345 - sqlalchemy.engine.Engine - INFO - [cached since 0.1844s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:37:33,365 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:37:33,366 - sqlalchemy.engine.Engine - INFO - [cached since 0.2056s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:37:33,390 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:37:33,390 - sqlalchemy.engine.Engine - INFO - [cached since 0.2303s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:37:33,413 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:37:33,414 - sqlalchemy.engine.Engine - INFO - [cached since 0.2539s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:37:33,434 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:37:33,453 - app.database - INFO - Database tables created successfully
2025-10-09 12:37:33,453 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:37:33,453 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:37:33,454 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:37:34,155 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:37:34,172 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 📄 Tailored CV content request for Australia_for_UNHCR from user 4df52e53-b78f-45e9-8946-3b6c00618693
2025-10-09 12:37:34,173 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:37:34,173 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:37:34,173 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 12:37:34,176 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ Served TAILORED CV content: Australia_for_UNHCR_tailored_cv_20251009_115547.txt from tailored folder (670 characters)
2025-10-09 12:37:55,110 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 12:37:55,112 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: []
2025-10-09 12:37:55,113 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 12:37:55,113 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {}
2025-10-09 12:37:55,113 - app.ai.ai_service - ERROR - ❌ No current provider available for model switching
2025-10-09 12:37:55,113 - app.core.model_dependency - WARNING - ⚠️ Failed to switch to header model gpt-3.5-turbo
2025-10-09 12:37:55,123 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user munna@gmail.com
2025-10-09 12:37:55,172 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:37:55,176 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 12:37:55,176 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 12:37:55,224 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:37:56,335 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 12:37:56,349 - app.ai.ai_service - INFO - ✅ Initialized openai provider with model gpt-4o for user munna@gmail.com
2025-10-09 12:37:56,370 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:37:56,371 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 12:37:56,372 - sqlalchemy.engine.Engine - INFO - [cached since 1.196s ago] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 12:37:56,413 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:37:56,436 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user munna@gmail.com and provider anthropic
2025-10-09 12:37:56,458 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:37:56,460 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 12:37:56,461 - sqlalchemy.engine.Engine - INFO - [cached since 1.285s ago] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 12:37:56,506 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:37:56,531 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user munna@gmail.com and provider deepseek
2025-10-09 12:37:56,547 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:37:56,550 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 12:37:56,550 - sqlalchemy.engine.Engine - INFO - [generated in 0.00061s] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'param_1': 1}
2025-10-09 12:37:56,589 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:38:02,354 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 12:38:02,354 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: ['openai']
2025-10-09 12:38:02,354 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 12:38:02,987 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 12:38:02,997 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-4o', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-4o', 'is_current': False}}
2025-10-09 12:38:02,997 - app.ai.ai_service - ERROR - ❌ No current provider available for model switching
2025-10-09 12:38:02,997 - app.ai.ai_service - INFO - 🔄 Available providers: ['openai']
2025-10-09 12:38:02,997 - app.ai.ai_service - INFO - ✅ Switched to openai provider with model gpt-3.5-turbo
2025-10-09 12:38:02,997 - app.core.model_dependency - INFO - 🔄 Switched to model from header: gpt-3.5-turbo
2025-10-09 12:38:02,998 - app.routes.ai - INFO - 🟢 [AI_CHAT] user=munna@gmail.com provider=openai model=gpt-3.5-turbo
2025-10-09 12:38:02,998 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 12:38:03,691 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 12:38:08,078 - app.ai.ai_service - INFO - ✅ Switched to model gpt-3.5-turbo
2025-10-09 12:38:08,078 - app.core.model_dependency - INFO - 🔄 Switched to model from header: gpt-3.5-turbo
2025-10-09 12:38:08,079 - app.routes.skills_analysis - INFO - 🎯 Preliminary analysis request: CV=maheshwor_tiwari.pdf, JD_length=6014, CONFIG=None
2025-10-09 12:38:08,080 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:38:08,084 - app.routes.skills_analysis - INFO - 🏢 Extracted company name: Australia_for_UNHCR
2025-10-09 12:38:08,085 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:38:08,091 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:38:08,091 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:38:08,092 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 12:38:08,092 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:38:08,094 - app.routes.skills_analysis - INFO - 🔗 [PRELIM_ANALYSIS] JD URL (latest job_info): https://www.ethicaljobs.com.au/members/australiaforunhcr/data-analyst
2025-10-09 12:38:08,096 - app.routes.skills_analysis - INFO - 📄 [PRELIM_ANALYSIS] Latest CV selected → type=tailored, ts=20251009_115547, json=user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.json, txt=user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.txt
2025-10-09 12:38:08,099 - app.routes.skills_analysis - INFO - 🧪 [PRELIM_ANALYSIS] CV content length=670, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • SQL, Python, Excel, Power BI, VBA, Analytical, Stakeholder Management, Data Warehouse, Data Extraction, Data Analysis, Business Intelligence, Results-Driven  EXPERIENCE Data Analyst         Jul 2024 – Present The Bitrates, Sydney, New South Wales, Australia  • Designed and implemented 5 Python '
2025-10-09 12:38:08,099 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 12:38:08,099 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 12:38:08,100 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 12:38:08,100 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Starting AI-powered skills analysis for maheshwor_tiwari.pdf
2025-10-09 12:38:08,100 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] CV content length: 670 chars
2025-10-09 12:38:08,100 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] JD content length: 6014 chars
2025-10-09 12:38:08,100 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using config: default
2025-10-09 12:38:08,100 - app.routes.skills_analysis - INFO - 🧪 [SKILLS_ANALYSIS] CV preview: 'Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • SQL, Python, Excel, Power BI, VBA, Analytical, Stakeholder Management, Data'
2025-10-09 12:38:08,101 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI provider: openai
2025-10-09 12:38:08,101 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI model: gpt-3.5-turbo
2025-10-09 12:38:08,101 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Provider available: True
2025-10-09 12:38:08,101 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Model from header: gpt-3.5-turbo
2025-10-09 12:38:08,101 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting CV skills with detailed structured analysis...
2025-10-09 12:38:08,102 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 12:38:09,333 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 12:38:09,339 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] Starting response parsing...
2025-10-09 12:38:09,340 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] Raw response preview: 
**SOFT SKILLS:**
- Analytical
- Stakeholder Management
- Results-Driven

**TECHNICAL SKILLS:**
- SQL
- Python
- Excel
- Power BI
- VBA
- Data Warehouse
- Data Extraction
- Data Analysis
- Business Intelligence

**DOMAIN KEYWORDS:**
- N/A...
2025-10-09 12:38:09,340 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] FULL CV RESPONSE: 
**SOFT SKILLS:**
- Analytical
- Stakeholder Management
- Results-Driven

**TECHNICAL SKILLS:**
- SQL
- Python
- Excel
- Power BI
- VBA
- Data Warehouse
- Data Extraction
- Data Analysis
- Business Intelligence

**DOMAIN KEYWORDS:**
- N/A
2025-10-09 12:38:09,340 - app.services.skill_extraction.response_parser - WARNING - ⚠️ [CV] No SOFT_SKILLS variable found in response
2025-10-09 12:38:09,341 - app.services.skill_extraction.response_parser - WARNING - ⚠️ [CV] No TECHNICAL_SKILLS variable found in response
2025-10-09 12:38:09,341 - app.services.skill_extraction.response_parser - WARNING - ⚠️ [CV] No DOMAIN_KEYWORDS variable found in response
2025-10-09 12:38:09,341 - app.services.skill_extraction.response_parser - INFO - 🔄 [CV] Python format not found, trying markdown format...
2025-10-09 12:38:09,342 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Successfully extracted 13 total skills using multi-format parser
2025-10-09 12:38:09,343 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated soft_skills: 3 valid skills
2025-10-09 12:38:09,343 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated technical_skills: 9 valid skills
2025-10-09 12:38:09,343 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated domain_keywords: 1 valid skills
2025-10-09 12:38:09,343 - app.services.skill_extraction.response_parser - INFO - 📊 [CV] Parsing completed:
2025-10-09 12:38:09,343 - app.services.skill_extraction.response_parser - INFO -    Soft Skills (3): ['Analytical', 'Stakeholder Management', 'Results-Driven']
2025-10-09 12:38:09,343 - app.services.skill_extraction.response_parser - INFO -    Technical Skills (9): ['SQL', 'Python', 'Excel']...
2025-10-09 12:38:09,343 - app.services.skill_extraction.response_parser - INFO -    Domain Keywords (1): ['N/A']
2025-10-09 12:38:09,344 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting JD skills with detailed structured analysis...
2025-10-09 12:38:09,344 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 12:38:17,218 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 12:38:17,220 - app.services.skill_extraction.response_parser - INFO - 🔍 [JD] Starting response parsing...
2025-10-09 12:38:17,220 - app.services.skill_extraction.response_parser - INFO - 🔍 [JD] Raw response preview: ## SOFT SKILLS:
- Communication
- Leadership
- Teamwork
- Collaboration
- Negotiation
- Time Management
- Organization
- Adaptability
- Problem-solving
- Analytical Thinking
- Critical Thinking
- Creativity
- Innovation
- Detail-oriented
- Self-motivated
- Proactive
- Results-driven

## TECHNICAL SKILLS:
- Data Analysis
- Data Mining
- Data Selections
- Business Intelligence
- Data Modeling
- Power BI
- SQL
- Spreadsheets
- Formulas
- VBA
- SQL Data Warehouse
- Database Knowledge
- Tableau
- Que...
2025-10-09 12:38:17,221 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Successfully extracted 55 total skills using multi-format parser
2025-10-09 12:38:17,221 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated soft_skills: 17 valid skills
2025-10-09 12:38:17,221 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated technical_skills: 22 valid skills
2025-10-09 12:38:17,221 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated domain_keywords: 16 valid skills
2025-10-09 12:38:17,221 - app.services.skill_extraction.response_parser - INFO - 📊 [JD] Parsing completed:
2025-10-09 12:38:17,221 - app.services.skill_extraction.response_parser - INFO -    Soft Skills (17): ['Communication', 'Leadership', 'Teamwork']...
2025-10-09 12:38:17,221 - app.services.skill_extraction.response_parser - INFO -    Technical Skills (22): ['Data Analysis', 'Data Mining', 'Data Selections']...
2025-10-09 12:38:17,222 - app.services.skill_extraction.response_parser - INFO -    Domain Keywords (16): ['Fundraising', 'Humanitarian Emergencies', 'Business Decision-making']...
2025-10-09 12:38:17,222 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using structured analysis as comprehensive analysis...
2025-10-09 12:38:17,222 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Technical Skills (9): ['SQL', 'Python', 'Excel', 'Power BI', 'VBA', 'Data Warehouse', 'Data Extraction', 'Data Analysis', 'Business Intelligence']
2025-10-09 12:38:17,222 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Soft Skills (3): ['Analytical', 'Stakeholder Management', 'Results-Driven']
2025-10-09 12:38:17,222 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Domain Keywords (1): ['N/A']
2025-10-09 12:38:17,222 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Technical Skills (22): ['Data Analysis', 'Data Mining', 'Data Selections', 'Business Intelligence', 'Data Modeling', 'Power BI', 'SQL', 'Spreadsheets', 'Formulas', 'VBA', 'SQL Data Warehouse', 'Database Knowledge', 'Tableau', 'Querying', 'Extracting Data', 'Relational Databases', 'Project Management', 'Stakeholder Management', 'Marketing Campaigns', 'Data Utilization', 'Data Governance', 'De-duplication']
2025-10-09 12:38:17,222 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Soft Skills (17): ['Communication', 'Leadership', 'Teamwork', 'Collaboration', 'Negotiation', 'Time Management', 'Organization', 'Adaptability', 'Problem-solving', 'Analytical Thinking', 'Critical Thinking', 'Creativity', 'Innovation', 'Detail-oriented', 'Self-motivated', 'Proactive', 'Results-driven']
2025-10-09 12:38:17,222 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Domain Keywords (16): ['Fundraising', 'Humanitarian Emergencies', 'Business Decision-making', 'Direct Marketing', 'Segmentation Strategies', 'Multi-channel Communication', 'Donor-centricity', 'Data Warehouse Administration', 'Program Needs Evaluation', 'Evidence-based Decision Making', 'Refugee Support', 'Data Analysis for Communication', 'Clean Data Maintenance', 'Inclusive Workforce Cultures', 'Diversity and Inclusion', 'Equal Opportunity']
2025-10-09 12:38:17,223 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] Analysis completed successfully
2025-10-09 12:38:17,223 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 12:38:17,223 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:38:17,223 - app.services.skill_extraction.result_saver - INFO - 📁 Result saver initialized with base directory: user/munna@gmail.com/cv-analysis
2025-10-09 12:38:17,223 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:38:17,224 - app.routes.skills_analysis - INFO - 🔍 [COMPANY_DETECTION] Looking in: user/munna@gmail.com/cv-analysis/applied_companies
2025-10-09 12:38:17,224 - app.routes.skills_analysis - INFO - 📁 [COMPANY_DETECTION] Found company folder: Australia_for_UNHCR with 4 job_info files
2025-10-09 12:38:17,224 - app.routes.skills_analysis - INFO - 🏢 [COMPANY_DETECTION] Using most recent company folder: Australia_for_UNHCR
2025-10-09 12:38:17,225 - app.routes.skills_analysis - INFO - 📋 [COMPANY_DETECTION] Job info company: Australia for UNHCR
2025-10-09 12:38:17,226 - app.services.skill_extraction.result_saver - INFO - 🏢 Using provided company name: Australia_for_UNHCR -> Australia_for_UNHCR
2025-10-09 12:38:17,226 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:38:17,227 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 12:38:17,227 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:38:17,229 - app.services.skill_extraction.result_saver - INFO - 💾 Structured CV already exists, preserving it: user/munna@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 12:38:17,229 - app.services.skill_extraction.result_saver - INFO - 💾 Structured CV preserved, skipping save: user/munna@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 12:38:17,231 - app.services.skill_extraction.result_saver - INFO - 💾 Analysis results saved (JSON) to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_123817.json
2025-10-09 12:38:17,231 - app.routes.skills_analysis - INFO - 📁 [FILE_SAVE] Results saved to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_123817.json
2025-10-09 12:38:17,231 - app.routes.skills_analysis - INFO - 🔍 [ANALYZE_MATCH] Starting analyze match assessment...
2025-10-09 12:38:17,235 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 12:38:19,778 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 12:38:19,781 - app.routes.skills_analysis - INFO - ✅ [ANALYZE_MATCH] Analysis completed (length: 1552 chars)
2025-10-09 12:38:19,781 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:38:19,782 - app.services.skill_extraction.result_saver - INFO - 📂 Found existing analysis file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_123817.json
2025-10-09 12:38:19,783 - app.services.skill_extraction.result_saver - INFO - 🔍 Looking for analysis file in: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 12:38:19,783 - app.services.skill_extraction.result_saver - INFO - 📄 Using existing file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_123817.json
2025-10-09 12:38:19,784 - app.services.skill_extraction.result_saver - INFO - 📁 [ANALYZE_MATCH] Results appended to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_123817.json
2025-10-09 12:38:19,785 - app.routes.skills_analysis - INFO - 📁 [ANALYZE_MATCH] Results appended to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_123817.json
2025-10-09 12:38:19,785 - app.routes.skills_analysis - INFO - 🔍 [PREEXTRACTED_COMPARISON] Starting pre-extracted skills semantic comparison...
2025-10-09 12:38:19,787 - app.services.skill_extraction.preextracted_comparator - INFO - 🔍 [EXACT_MATCHES] Found 3 exact matches: {'technical_skills': [{'jd_skill': 'Business Intelligence', 'cv_skill': 'Business Intelligence', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Data Analysis', 'cv_skill': 'Data Analysis', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Power BI', 'cv_skill': 'Power BI', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'SQL', 'cv_skill': 'SQL', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'VBA', 'cv_skill': 'VBA', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}], 'soft_skills': [{'jd_skill': 'Results-driven', 'cv_skill': 'Results-Driven', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}], 'domain_keywords': []}
2025-10-09 12:38:19,788 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 12:38:40,968 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 12:38:40,974 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: VBA → VBA
2025-10-09 12:38:40,975 - app.services.skill_extraction.preextracted_comparator - INFO - ℹ️ [VALIDATION] technical_skills: matched 9 + missing 14 = 23 vs JD count 22 (acceptable variance)
2025-10-09 12:38:40,975 - app.services.skill_extraction.preextracted_comparator - INFO - ℹ️ [VALIDATION] soft_skills: matched 3 + missing 15 = 18 vs JD count 17 (acceptable variance)
2025-10-09 12:38:40,975 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] CV Skills: Tech=9, Soft=3, Domain=1
2025-10-09 12:38:40,975 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] JD Skills: Tech=22, Soft=17, Domain=16
2025-10-09 12:38:40,975 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [VALIDATION] Comparison results passed validation
2025-10-09 12:38:40,976 - app.routes.skills_analysis - INFO - ✅ [PREEXTRACTED_COMPARISON] Completed (length: 6260 chars)
2025-10-09 12:38:40,976 - app.services.skill_extraction.result_saver - INFO - 🏢 [PREEXTRACTED_COMPARISON] Inferred company from saved_file_path: Australia_for_UNHCR
2025-10-09 12:38:40,987 - app.services.skill_extraction.result_saver - INFO - 📁 [PREEXTRACTED_COMPARISON] Results appended to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_123817.json
2025-10-09 12:38:40,997 - app.routes.skills_analysis - INFO - 📁 [PREEXTRACTED_COMPARISON] Results appended to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_123817.json
2025-10-09 12:38:40,998 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:38:41,001 - app.routes.skills_analysis - INFO - ♻️ [PIPELINE] (preliminary-analysis) JD file already exists: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/jd_original_20251009_121332.json
2025-10-09 12:38:41,014 - app.routes.skills_analysis - INFO - ♻️ [JOBS] Job already exists in saved_jobs.json: Data Analyst at Australia for UNHCR
2025-10-09 12:38:41,015 - app.routes.skills_analysis - INFO - 🚀 [PIPELINE] (preliminary-analysis) scheduling for company: Australia_for_UNHCR
2025-10-09 12:38:41,015 - app.routes.skills_analysis - INFO - 🚀 [PIPELINE] Scheduling JD analysis and CV–JD matching for 'Australia_for_UNHCR'...
2025-10-09 12:38:41,044 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:38:41,044 - app.routes.skills_analysis - INFO - 🔧 [PIPELINE] Starting JD analysis for Australia_for_UNHCR (force_refresh=True)
2025-10-09 12:38:41,045 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:38:41,045 - app.services.jd_analysis.jd_analyzer - INFO - 🔄 Analyzing JD for Australia_for_UNHCR (force_refresh=True)
2025-10-09 12:38:41,047 - app.services.jd_analysis.jd_analyzer - INFO - 📄 Analyzing JD file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/jd_original_20251009_121332.json
2025-10-09 12:38:41,047 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 12:38:42,268 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 12:38:42,270 - app.services.jd_analysis.jd_analyzer - INFO - ✅ JD analysis completed. Found 0 required and 0 preferred keywords
2025-10-09 12:38:42,271 - app.services.jd_analysis.jd_analyzer - INFO - ♻️ JD analysis already exists, reusing: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_jd_analysis_20251008_201603.json
2025-10-09 12:38:42,272 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] JD analysis saved for Australia_for_UNHCR at: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_jd_analysis_20251008_201603.json
2025-10-09 12:38:42,274 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:38:42,274 - app.services.jd_usage_tracker - ERROR - ❌ [JD_TRACKER] Error recording JD usage: Either jd_url or jd_text must be provided
2025-10-09 12:38:42,274 - app.routes.skills_analysis - INFO - 📝 [PIPELINE] JD usage recorded for Australia_for_UNHCR
2025-10-09 12:38:42,274 - app.routes.skills_analysis - INFO - 🔧 [PIPELINE] Starting CV–JD matching for Australia_for_UNHCR
2025-10-09 12:38:42,275 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:38:42,276 - app.routes.skills_analysis - WARNING - ⚠️ [PIPELINE] Could not preselect CV TXT for matching: No module named 'app.services.dynamic_cv_selector'
2025-10-09 12:38:42,276 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🔍 [CV_JD_MATCHER] No explicit CV path provided, using unified selector for Australia_for_UNHCR
2025-10-09 12:38:42,276 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:38:42,276 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:38:42,276 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 12:38:42,277 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:38:42,277 - app.services.jd_usage_tracker - ERROR - ❌ [JD_TRACKER] Error checking JD usage: Either jd_url or jd_text must be provided
2025-10-09 12:38:42,277 - app.services.cv_jd_matching.cv_jd_matcher - INFO - ✅ [CV_JD_MATCHER] Selected CV → type=original, ts=None, path=user/munna@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 12:38:42,279 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 📄 [CV_JD_MATCHER] Read CV from: user/munna@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 12:38:42,279 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🧪 [CV_JD_MATCHER] CV content length=4864, preview='Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD in Physics and completed a Master's in Data Science, bringing over three years of experience in Python  coding, AI, and machine learning. My expertise encompasses modeling and training AI models, writing efficient Python'
2025-10-09 12:38:42,279 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🔍 Found 8 required and 3 preferred keywords
2025-10-09 12:38:42,279 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 12:38:45,587 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 12:38:45,591 - app.services.cv_jd_matching.cv_jd_matcher - INFO - ✅ CV-JD matching completed. Found 5 matched required keywords
2025-10-09 12:38:45,591 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:38:45,591 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:38:45,592 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 💾 Saved CV-JD match results to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_cv_jd_matching_20251009_123845.json
2025-10-09 12:38:45,593 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] CV–JD match results saved for Australia_for_UNHCR
2025-10-09 12:38:45,593 - app.routes.skills_analysis - INFO - 🔍 [PIPELINE] Starting component analysis for Australia_for_UNHCR
2025-10-09 12:38:45,595 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:38:45,596 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:38:45,596 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:38:45,596 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 12:38:45,597 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Latest CV selected → type=tailored, ts=20251009_115547, json=user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.json, txt=user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.txt
2025-10-09 12:38:45,599 - app.routes.skills_analysis - INFO - 🧪 [PIPELINE] CV content length=670, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • SQL, Python, Excel, Power BI, VBA, Analytical, Stakeholder Management, Data Warehouse, Data Extraction, Data Analysis, Business Intelligence, Results-Driven  EXPERIENCE Data Analyst         Jul 2024 – Present The Bitrates, Sydney, New South Wales, Australia  • Designed and implemented 5 Python '
2025-10-09 12:38:45,600 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:38:45,600 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Required files found, proceeding with component analysis
2025-10-09 12:38:45,601 - app.services.ats.modular_ats_orchestrator - INFO - ===== [MODULAR ATS] Starting component analysis for: Australia_for_UNHCR =====
2025-10-09 12:38:45,601 - app.services.ats.component_assembler - INFO - ===== [ASSEMBLER] Starting component assembly for: Australia_for_UNHCR =====
2025-10-09 12:38:45,601 - app.services.ats.component_assembler - INFO - 📄 [ASSEMBLER] Using CV text provided by caller
2025-10-09 12:38:45,606 - app.services.ats.component_assembler - WARNING - [ASSEMBLER] Match results not found: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/cv_jd_match_results.json
2025-10-09 12:38:45,606 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Starting parallel component analyses...
2025-10-09 12:38:45,608 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Requesting skills relevance analysis...
2025-10-09 12:38:45,609 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Requirement bonus using match file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_cv_jd_matching_20251009_123845.json
2025-10-09 12:38:45,609 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 12:38:45,627 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Using existing match_counts from file
2025-10-09 12:38:45,628 - app.services.ats.requirement_bonus_calculator - INFO - [ATS][BONUS] required_total=8 matched_required=5 missing_required=3 required_bonus=2.50 required_penalty=-1.50 preferred_total=3 matched_preferred=1 missing_preferred=2 preferred_bonus=0.20 preferred_penalty=-0.30 total_bonus=0.90
2025-10-09 12:38:45,628 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Requirement bonus calculated: 0.90 points
2025-10-09 12:38:55,209 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 12:38:55,224 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Raw response length: 6044
2025-10-09 12:38:55,224 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Raw response preview: {
 "skills_analysis": [
  {
   "skill": "SQL",
   "cv_evidence": "Proficient in SQL",
   "jd_application": "Addressing data extract requirements for direct marketing campaigns, manipulating data for b
2025-10-09 12:38:55,226 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Cleaned response: {
 "skills_analysis": [
  {
   "skill": "SQL",
   "cv_evidence": "Proficient in SQL",
   "jd_application": "Addressing data extract requirements for direct marketing campaigns, manipulating data for b
2025-10-09 12:38:55,227 - app.services.ats.components.skills_relevance_analyzer - WARNING - [SKILLS] Direct parse failed: Expecting ',' delimiter: line 138 column 4 (char 5451)
2025-10-09 12:38:55,229 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Found 0 JSON objects
2025-10-09 12:38:55,231 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Pattern match 0 successful
2025-10-09 12:38:55,232 - app.services.ats.components.skills_relevance_analyzer - ERROR - [SKILLS] Analysis failed: Missing overall_skills_score in response
2025-10-09 12:38:55,232 - app.services.ats.components.skills_relevance_analyzer - WARNING - [SKILLS] Returning fallback response due to analysis error
2025-10-09 12:38:55,232 - app.services.ats.components.experience_analyzer - INFO - [EXPERIENCE] Requesting experience alignment analysis...
2025-10-09 12:38:55,232 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 12:38:58,544 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 12:38:58,552 - app.services.ats.components.experience_analyzer - INFO - [EXPERIENCE] Analysis completed. Score: 60.0
2025-10-09 12:38:58,553 - app.services.ats.components.industry_analyzer - INFO - [INDUSTRY] Requesting industry fit analysis...
2025-10-09 12:38:58,553 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 12:39:02,067 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 12:39:02,069 - app.services.ats.components.industry_analyzer - INFO - [INDUSTRY] Analysis completed. Score: 60.0
2025-10-09 12:39:02,072 - app.services.ats.components.seniority_analyzer - INFO - [SENIORITY] Requesting role seniority analysis...
2025-10-09 12:39:02,072 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 12:39:05,145 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 12:39:05,154 - app.services.ats.components.seniority_analyzer - INFO - [SENIORITY] Analysis completed. Score: 40.0
2025-10-09 12:39:05,155 - app.services.ats.components.technical_analyzer - INFO - [TECHNICAL] Requesting technical depth analysis...
2025-10-09 12:39:05,155 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 12:39:09,236 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 12:39:09,238 - app.services.ats.components.technical_analyzer - INFO - [TECHNICAL] Analysis completed. Score: 90.0
2025-10-09 12:39:09,240 - app.services.ats.component_assembler - INFO - [ASSEMBLER] All component analyses completed successfully
2025-10-09 12:39:09,241 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Validating cross-analyzer consistency...
2025-10-09 12:39:09,241 - app.services.ats.components.consistency_validator - ERROR - [CONSISTENCY] Validation failed: unsupported operand type(s) for -: 'str' and 'int'
2025-10-09 12:39:09,241 - app.services.ats.component_assembler - WARNING - [ASSEMBLER] Inconsistencies detected in analysis results
2025-10-09 12:39:09,242 - app.services.ats.component_assembler - WARNING - [ASSEMBLER] Confidence score: 100%
2025-10-09 12:39:09,254 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Results saved to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_123817.json
2025-10-09 12:39:09,255 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Starting ATS score calculation...
2025-10-09 12:39:09,258 - app.services.ats.ats_score_calculator - INFO - [ATS] Starting comprehensive ATS score calculation
2025-10-09 12:39:09,259 - app.services.ats.ats_score_calculator - INFO - [ATS] Match rates - Tech: 39.0%, Domain: 0.0%, Soft: 17.0%
2025-10-09 12:39:09,260 - app.services.ats.ats_score_calculator - INFO - [ATS] Missing counts - Tech: 14, Domain: 16, Soft: 15
2025-10-09 12:39:09,260 - app.services.ats.ats_score_calculator - INFO - [ATS] Category 1 - Tech: 7.8, Domain: 0.0, Soft: 2.6, Total: 10.4
2025-10-09 12:39:09,261 - app.services.ats.ats_score_calculator - INFO - [ATS] Category 2 - Core: 15.9, Exp: 4.8, Potential: 6.0, Company: 0.8, Total: 27.5
2025-10-09 12:39:09,262 - app.services.ats.ats_score_calculator - INFO - [ATS] Final ATS Score: 38.7/100 (❌ Poor fit)
2025-10-09 12:39:09,267 - app.services.ats.component_assembler - INFO - [ASSEMBLER] ATS calculation completed. Score: 38.7/100 (❌ Poor fit)
2025-10-09 12:39:09,268 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:39:09,275 - app.services.ats_recommendation_service - INFO - Final ATS Score: 38.7375
2025-10-09 12:39:09,277 - app.services.ats_recommendation_service - INFO - Category Status: ❌ Poor fit
2025-10-09 12:39:09,277 - app.services.ats_recommendation_service - INFO - Successfully extracted comprehensive recommendation data for Australia_for_UNHCR
2025-10-09 12:39:09,281 - app.services.ats_recommendation_service - INFO - Successfully created recommendation file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_123909.json
2025-10-09 12:39:09,303 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:39:09,306 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 12:39:09,306 - sqlalchemy.engine.Engine - INFO - [generated in 0.00079s] {'email_1': 'munna@gmail.com'}
2025-10-09 12:39:09,348 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 12:39:09,349 - sqlalchemy.engine.Engine - INFO - [generated in 0.00146s] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 12:39:09,374 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 12:39:09,374 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] {'user_id': '4df52e53-b78f-45e9-8946-3b6c00618693', 'company_id': 12, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_123909.json', 'file_path': 'user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_123909.json', 'file_size': 21349, 'sha256': 'ea9a1e76104676e9c14b088c96a38bbc0bb5aace04aeb6d8465b50108cb86ec5', 'timestamp': '20251009_123909'}
2025-10-09 12:39:09,399 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 12:39:09,400 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] {'user_id': '4df52e53-b78f-45e9-8946-3b6c00618693', 'company_id': 12, 'kind': 'input_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 150}
2025-10-09 12:39:09,423 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:39:09,443 - app.services.ats_recommendation_service - INFO - Successfully created AI recommendation prompt: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_prompt_recommendation.py
2025-10-09 12:39:09,443 - app.services.ats_recommendation_service - INFO - 🤖 [TRIGGER] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-09 12:39:09,444 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:39:09,444 - app.services.ats_recommendation_service - INFO - 📋 [TRIGGER] AI generation scheduled as background task for Australia_for_UNHCR
2025-10-09 12:39:09,444 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Recommendation file created for Australia_for_UNHCR
2025-10-09 12:39:09,444 - app.services.ats.component_assembler - INFO - ===== [ASSEMBLER] Completed assembly. Scores: skills=50.0 exp=60.0 industry=60.0 seniority=40.0 tech=90.0 =====
2025-10-09 12:39:09,444 - app.services.ats.modular_ats_orchestrator - INFO - ===== [MODULAR ATS] Component analysis completed for: Australia_for_UNHCR =====
2025-10-09 12:39:09,445 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Component analysis completed for Australia_for_UNHCR
2025-10-09 12:39:09,445 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] Component scores extracted: 23 scores
2025-10-09 12:39:09,445 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] skills_relevance: 50.0
2025-10-09 12:39:09,445 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] experience_alignment: 60.0
2025-10-09 12:39:09,445 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] industry_fit: 60.0
2025-10-09 12:39:09,445 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] role_seniority: 40.0
2025-10-09 12:39:09,445 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] technical_depth: 90.0
2025-10-09 12:39:09,446 - app.routes.skills_analysis - INFO - 🎯 [PIPELINE] ATS Score calculated: 38.7375
2025-10-09 12:39:09,446 - app.routes.skills_analysis - INFO - 📋 [PIPELINE] Creating input recommendation file for Australia_for_UNHCR
2025-10-09 12:39:09,446 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:39:09,447 - app.services.ats_recommendation_service - INFO - Final ATS Score: 38.7375
2025-10-09 12:39:09,447 - app.services.ats_recommendation_service - INFO - Category Status: ❌ Poor fit
2025-10-09 12:39:09,448 - app.services.ats_recommendation_service - INFO - Successfully extracted comprehensive recommendation data for Australia_for_UNHCR
2025-10-09 12:39:09,451 - app.services.ats_recommendation_service - INFO - Successfully created recommendation file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_123909.json
2025-10-09 12:39:09,476 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:39:09,477 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 12:39:09,477 - sqlalchemy.engine.Engine - INFO - [cached since 0.1716s ago] {'email_1': 'munna@gmail.com'}
2025-10-09 12:39:09,520 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 12:39:09,520 - sqlalchemy.engine.Engine - INFO - [cached since 0.173s ago] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 12:39:09,542 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 12:39:09,542 - sqlalchemy.engine.Engine - INFO - [cached since 0.1684s ago] {'user_id': '4df52e53-b78f-45e9-8946-3b6c00618693', 'company_id': 12, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_123909.json', 'file_path': 'user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_123909.json', 'file_size': 21349, 'sha256': 'ea9a1e76104676e9c14b088c96a38bbc0bb5aace04aeb6d8465b50108cb86ec5', 'timestamp': '20251009_123909'}
2025-10-09 12:39:09,565 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:39:09,586 - app.services.ats_recommendation_service - WARNING - ⚠️ [DB] Failed to register input recommendation: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "uq_company_files_dedupe"
DETAIL:  Key (user_id, company_id, file_type, sha256)=(4df52e53-b78f-45e9-8946-3b6c00618693, 12, input_recommendation, ea9a1e76104676e9c14b088c96a38bbc0bb5aace04aeb6d8465b50108cb86ec5) already exists.

[SQL: INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at]
[parameters: {'user_id': '4df52e53-b78f-45e9-8946-3b6c00618693', 'company_id': 12, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_123909.json', 'file_path': 'user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_123909.json', 'file_size': 21349, 'sha256': 'ea9a1e76104676e9c14b088c96a38bbc0bb5aace04aeb6d8465b50108cb86ec5', 'timestamp': '20251009_123909'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-10-09 12:39:09,588 - app.services.ats_recommendation_service - INFO - Successfully created AI recommendation prompt: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_prompt_recommendation.py
2025-10-09 12:39:09,588 - app.services.ats_recommendation_service - INFO - 🤖 [TRIGGER] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-09 12:39:09,588 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:39:09,589 - app.services.ats_recommendation_service - INFO - 📋 [TRIGGER] AI generation scheduled as background task for Australia_for_UNHCR
2025-10-09 12:39:09,589 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Input recommendation file created for Australia_for_UNHCR
2025-10-09 12:39:09,589 - app.routes.skills_analysis - INFO - 🤖 [PIPELINE] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-09 12:39:09,589 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:39:09,590 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-09 12:39:09,593 - app.services.ai_recommendation_generator - INFO - 🟡 [AI GENERATOR] Input recommendation is newer (ai_mtime=1759971297.720441, input_mtime=1759973949.4515433); regenerating AI recommendation
2025-10-09 12:39:09,593 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:39:09,593 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:39:09,593 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 12:39:09,595 - app.services.ai_recommendation_generator - ERROR - ❌ [AI GENERATOR] Error checking CV freshness: 'str' object has no attribute 'timestamp'
2025-10-09 12:39:09,597 - app.services.ai_recommendation_generator - INFO - 📋 [AI GENERATOR] Generated AI prompt for Australia_for_UNHCR using centralized template (12144 characters)
2025-10-09 12:39:09,597 - app.services.ai_recommendation_generator - INFO - 🧠 [AI GENERATOR] Executing AI prompt for Australia_for_UNHCR
2025-10-09 12:39:09,597 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 12:39:16,096 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 12:39:16,098 - app.services.ai_recommendation_generator - INFO - 🧠 [AI GENERATOR] AI response generated - Provider: openai, Model: gpt-3.5-turbo
2025-10-09 12:39:16,098 - app.services.ai_recommendation_generator - INFO - 💰 [AI GENERATOR] Cost: $0.0047, Tokens: 3616
2025-10-09 12:39:16,099 - app.services.ai_recommendation_generator - INFO - 💾 [AI GENERATOR] Saved AI recommendation: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_123916.json (4.6KB)
2025-10-09 12:39:16,119 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:39:16,122 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 12:39:16,122 - sqlalchemy.engine.Engine - INFO - [cached since 6.817s ago] {'email_1': 'munna@gmail.com'}
2025-10-09 12:39:16,158 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 12:39:16,159 - sqlalchemy.engine.Engine - INFO - [cached since 6.812s ago] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 12:39:16,184 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 12:39:16,186 - sqlalchemy.engine.Engine - INFO - [cached since 6.811s ago] {'user_id': '4df52e53-b78f-45e9-8946-3b6c00618693', 'company_id': 12, 'file_type': 'ai_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_ai_recommendation_20251009_123916.json', 'file_path': 'user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_123916.json', 'file_size': 4741, 'sha256': '18d13510944c9d173c5d38633c1ae386162390fb183a51c796b5c3160d8786fd', 'timestamp': '20251009_123916'}
2025-10-09 12:39:16,206 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 12:39:16,206 - sqlalchemy.engine.Engine - INFO - [cached since 6.807s ago] {'user_id': '4df52e53-b78f-45e9-8946-3b6c00618693', 'company_id': 12, 'kind': 'ai_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 152}
2025-10-09 12:39:16,228 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:39:16,246 - app.services.ai_recommendation_generator - INFO - ✅ [AI GENERATOR] AI recommendation generated and saved for Australia_for_UNHCR
2025-10-09 12:39:16,246 - app.services.ai_recommendation_generator - INFO - 📄 File: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_115457.json
2025-10-09 12:39:16,246 - app.services.ai_recommendation_generator - INFO - 💰 Cost: $0.0047
2025-10-09 12:39:16,247 - app.services.ai_recommendation_generator - INFO - 🔤 Tokens: 3616
2025-10-09 12:39:16,247 - app.services.ai_recommendation_generator - INFO - 🚀 [AI GENERATOR] Starting automatic CV tailoring for Australia_for_UNHCR
2025-10-09 12:39:16,247 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:39:16,248 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded CV optimization framework from /Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/tailored_cv/prompts/framework.md
2025-10-09 12:39:16,248 - app.tailored_cv.services.cv_tailoring_service - INFO - Loading real data for Australia_for_UNHCR
2025-10-09 12:39:16,249 - app.tailored_cv.services.cv_tailoring_service - INFO - Company folder: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 12:39:16,249 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:39:16,251 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:39:16,252 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 12:39:16,254 - app.tailored_cv.services.cv_tailoring_service - INFO - 📄 [TAILORING] Using latest CV via unified selector → type=tailored, ts=20251009_115547, path=user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.json
2025-10-09 12:39:16,255 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [DEBUG] Loading CV from user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.json
2025-10-09 12:39:16,256 - app.tailored_cv.services.cv_tailoring_service - INFO - - First 200 chars: {   "contact": {     "name": "Maheshwor Tiwari",     "phone": "0414 032 507",     "email": "maheshtwari99@gmail.com",     "linkedin": "",     "location": "Hurstville, NSW, 2220",     "website": ""   }
2025-10-09 12:39:16,257 - app.tailored_cv.services.recommendation_parser - INFO - 📂 Loading CV from: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.json
2025-10-09 12:39:16,257 - app.tailored_cv.services.recommendation_parser - INFO - 📋 CV format check:
2025-10-09 12:39:16,257 - app.tailored_cv.services.recommendation_parser - INFO -   - Top-level keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 12:39:16,258 - app.tailored_cv.services.recommendation_parser - INFO -   - Has metadata: False
2025-10-09 12:39:16,258 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Detected tailored structured CV format (contact/experience/skills)
2025-10-09 12:39:16,258 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Successfully normalized tailored structured CV
2025-10-09 12:39:16,258 - app.tailored_cv.services.cv_tailoring_service - INFO - - Parsed CV data keys: ['contact', 'education', 'experience', 'skills', 'projects']
2025-10-09 12:39:16,258 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔄 Converting skills from List[str] to List[SkillCategory]
2025-10-09 12:39:16,259 - app.tailored_cv.services.cv_tailoring_service - INFO - - Final CV object attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__repr__', '__repr_args__', '__repr_name__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_check_frozen', '_copy_and_set_values', '_get_value', '_iter', 'construct', 'contact', 'copy', 'created_at', 'dict', 'education', 'experience', 'experience_level', 'from_orm', 'json', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'projects', 'schema', 'schema_json', 'skills', 'total_years_experience', 'update_forward_refs', 'updated_at', 'validate']
2025-10-09 12:39:16,265 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Parsed recommendation for Australia_for_UNHCR
2025-10-09 12:39:16,265 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded real CV and recommendation for Australia_for_UNHCR
2025-10-09 12:39:16,265 - app.tailored_cv.services.cv_tailoring_service - INFO - 🎯 Starting CV tailoring for Australia_for_UNHCR - Senior Data Analyst
2025-10-09 12:39:16,265 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [DEBUG] Validating CV structure:
2025-10-09 12:39:16,266 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV object type: <class 'app.tailored_cv.models.cv_models.OriginalCV'>
2025-10-09 12:39:16,266 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__repr__', '__repr_args__', '__repr_name__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_check_frozen', '_copy_and_set_values', '_get_value', '_iter', 'construct', 'contact', 'copy', 'created_at', 'dict', 'education', 'experience', 'experience_level', 'from_orm', 'json', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'projects', 'schema', 'schema_json', 'skills', 'total_years_experience', 'update_forward_refs', 'updated_at', 'validate']
2025-10-09 12:39:16,266 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV data: {
  "contact": {
    "name": "Maheshwor Tiwari",
    "phone": "0414 032 507",
    "email": "maheshtwari99@gmail.com",
    "linkedin": "",
    "location": "Hurstville, NSW, 2220",
    "website": ""
  },
  "education": [],
  "experience": [
    {
      "company": "The Bitrates",
      "title": "Data Analyst",
      "location": "The Bitrates, Sydney, New South Wales, Australia",
      "start_date": "Jul 2024",
      "end_date": "Present",
      "duration": null,
      "bullets": [
        "Designed and implemented 5 Python scripts for data cleaning and preprocessing, improving data pipeline efficiency by 30% and processing 100K records weekly.",
        "Developed 5 machine learning models in Python for predictive analytics, enabling datadriven business decisions and increasing accuracy by 20%."
      ],
      "skills_used": null
    }
  ],
  "projects": [],
  "skills": [
    {
      "category": "Technical Skills",
      "skills": [
        "SQL",
        "Python",
        "Excel",
        "Power BI",
        "VBA",
        "Analytical",
        "Stakeholder Management",
        "Data Warehouse",
        "Data Extraction",
        "Data Analysis",
        "Business Intelligence",
        "ResultsDriven"
      ]
    }
  ],
  "experience_level": null,
  "total_years_experience": null,
  "created_at": null,
  "updated_at": null
}
2025-10-09 12:39:16,266 - app.tailored_cv.services.cv_tailoring_service - INFO - [8e26f4dc] 🎯 Starting CV tailoring for Australia_for_UNHCR with strategy: education_first
2025-10-09 12:39:16,267 - app.tailored_cv.services.cv_tailoring_service - INFO - [8e26f4dc] Initial stats:
2025-10-09 12:39:16,267 - app.tailored_cv.services.cv_tailoring_service - INFO - [8e26f4dc] - Experience entries: 1
2025-10-09 12:39:16,267 - app.tailored_cv.services.cv_tailoring_service - INFO - [8e26f4dc] - Total bullets: 2
2025-10-09 12:39:16,267 - app.tailored_cv.services.cv_tailoring_service - INFO - [8e26f4dc] - Skills categories: 1
2025-10-09 12:39:16,267 - app.tailored_cv.services.cv_tailoring_service - INFO - [8e26f4dc] - Total skills: 12
2025-10-09 12:39:16,267 - app.tailored_cv.services.cv_tailoring_service - INFO - [8e26f4dc] Critical gaps to address: Campaign Outcomes, Business Intelligence, Data Warehouse, Analytical, Results-Driven
2025-10-09 12:39:16,267 - app.tailored_cv.services.cv_tailoring_service - INFO - [8e26f4dc] Technical enhancements needed: 
2025-10-09 12:39:16,267 - app.tailored_cv.services.cv_tailoring_service - INFO - [8e26f4dc] 🤖 Generating tailored CV using AI service...
2025-10-09 12:39:16,268 - app.tailored_cv.services.cv_tailoring_service - INFO - [8e26f4dc] Attempt 1/5 with temp=0.0
2025-10-09 12:39:16,268 - app.tailored_cv.services.cv_tailoring_service - INFO - [8e26f4dc] - System prompt length: 10574
2025-10-09 12:39:16,268 - app.tailored_cv.services.cv_tailoring_service - INFO - [8e26f4dc] - User prompt length: 6809
2025-10-09 12:39:16,268 - app.tailored_cv.services.cv_tailoring_service - ERROR - ❌ CV tailoring failed: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:39:16,268 - app.services.ai_recommendation_generator - ERROR - ❌ [AI GENERATOR] Error during automatic CV tailoring for Australia_for_UNHCR: CV tailoring process failed: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:39:16,268 - app.services.ai_recommendation_generator - WARNING - ⚠️ [AI GENERATOR] CV tailoring failed for Australia_for_UNHCR
2025-10-09 12:39:16,268 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] AI recommendation generated for Australia_for_UNHCR
2025-10-09 12:39:16,268 - app.routes.skills_analysis - INFO - 🎯 [PIPELINE] Starting tailored CV generation for Australia_for_UNHCR
2025-10-09 12:39:16,269 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:39:16,269 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded CV optimization framework from /Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/tailored_cv/prompts/framework.md
2025-10-09 12:39:16,269 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:39:16,270 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Found AI recommendation file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_123916.json
2025-10-09 12:39:16,270 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Tailored CV found: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202541.txt
2025-10-09 12:39:16,270 - app.routes.skills_analysis - INFO - 📋 [PIPELINE] Pipeline summary for Australia_for_UNHCR:
2025-10-09 12:39:16,270 - app.routes.skills_analysis - INFO -    ✅ Successful: ['jd_analysis', 'cv_jd_matching', 'component_analysis', 'input_recommendation', 'ai_recommendation', 'tailored_cv']
2025-10-09 12:39:16,270 - app.routes.skills_analysis - INFO -    🎉 All steps completed successfully!
2025-10-09 12:39:16,271 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-09 12:39:16,272 - app.services.ai_recommendation_generator - INFO - 🟢 [AI GENERATOR] Latest AI recommendation (Australia_for_UNHCR_ai_recommendation_20251009_123916.json) is up-to-date vs input (Australia_for_UNHCR_input_recommendation_20251009_123909.json); skipping regeneration
2025-10-09 12:39:16,272 - app.services.ats_recommendation_service - INFO - ✅ [TRIGGER] AI recommendation generated successfully for Australia_for_UNHCR
2025-10-09 12:39:16,272 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-09 12:39:16,274 - app.services.ai_recommendation_generator - INFO - 🟢 [AI GENERATOR] Latest AI recommendation (Australia_for_UNHCR_ai_recommendation_20251009_123916.json) is up-to-date vs input (Australia_for_UNHCR_input_recommendation_20251009_123909.json); skipping regeneration
2025-10-09 12:39:16,274 - app.services.ats_recommendation_service - INFO - ✅ [TRIGGER] AI recommendation generated successfully for Australia_for_UNHCR
2025-10-09 12:39:16,375 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:39:21,889 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:39:22,206 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:39:22,206 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:39:22,244 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:39:22,245 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:39:22,283 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:39:22,284 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:39:22,325 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:39:22,325 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:39:22,325 - sqlalchemy.engine.Engine - INFO - [generated in 0.00086s] {}
2025-10-09 12:39:22,364 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:39:22,387 - app.database - INFO - Database connection successful
2025-10-09 12:39:22,388 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:39:22,403 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:39:22,409 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:39:22,409 - sqlalchemy.engine.Engine - INFO - [generated in 0.00054s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:39:22,451 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:39:22,452 - sqlalchemy.engine.Engine - INFO - [cached since 0.04294s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:39:22,473 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:39:22,474 - sqlalchemy.engine.Engine - INFO - [cached since 0.06514s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:39:22,492 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:39:22,492 - sqlalchemy.engine.Engine - INFO - [cached since 0.0836s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:39:22,514 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:39:22,515 - sqlalchemy.engine.Engine - INFO - [cached since 0.1062s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:39:22,537 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:39:22,537 - sqlalchemy.engine.Engine - INFO - [cached since 0.1288s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:39:22,561 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:39:22,562 - sqlalchemy.engine.Engine - INFO - [cached since 0.1531s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:39:22,589 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:39:22,590 - sqlalchemy.engine.Engine - INFO - [cached since 0.1811s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:39:22,613 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:39:22,613 - sqlalchemy.engine.Engine - INFO - [cached since 0.2044s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:39:22,636 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:39:22,636 - sqlalchemy.engine.Engine - INFO - [cached since 0.2274s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:39:22,659 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:39:22,659 - sqlalchemy.engine.Engine - INFO - [cached since 0.2506s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:39:22,683 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:39:22,700 - app.database - INFO - Database tables created successfully
2025-10-09 12:39:22,701 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:39:22,701 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:39:22,701 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:39:22,712 - app.routes.skills_analysis - INFO - 📊 [API] Fetching analysis results for company: Australia_for_UNHCR
2025-10-09 12:39:22,713 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:39:22,713 - app.utils.path_debug - INFO - 
📌 Starting get_analysis_results
2025-10-09 12:39:22,713 - app.utils.path_debug - INFO -   📂 User base dir: user/munna@gmail.com/cv-analysis
2025-10-09 12:39:22,713 - app.utils.path_debug - INFO -   📂 Company dir: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 12:39:22,720 - app.utils.path_debug - INFO -   📂 Using analysis file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_123817.json
2025-10-09 12:39:22,722 - app.utils.path_debug - INFO -   ✅ Loaded analysis file, size: 25076 bytes
2025-10-09 12:39:36,389 - app.routes.skills_analysis - INFO - 📊 [API] Fetching analysis results for company: Australia_for_UNHCR
2025-10-09 12:39:36,390 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:39:36,391 - app.utils.path_debug - INFO - 
📌 Starting get_analysis_results
2025-10-09 12:39:36,391 - app.utils.path_debug - INFO -   📂 User base dir: user/munna@gmail.com/cv-analysis
2025-10-09 12:39:36,391 - app.utils.path_debug - INFO -   📂 Company dir: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 12:39:36,392 - app.utils.path_debug - INFO -   📂 Using analysis file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_123817.json
2025-10-09 12:39:36,393 - app.utils.path_debug - INFO -   ✅ Loaded analysis file, size: 25076 bytes
2025-10-09 12:39:58,772 - app.routes.ai_recommendations - INFO - 🔍 [AI_RECOMMENDATIONS] Fetching for company: Australia_for_UNHCR, user: munna@gmail.com
2025-10-09 12:39:58,772 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:39:58,773 - app.routes.ai_recommendations - INFO - 🔍 [AI_RECOMMENDATIONS] Searching in: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 12:39:58,773 - app.routes.ai_recommendations - INFO - ✅ [AI_RECOMMENDATIONS] Found file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_123916.json
2025-10-09 12:39:58,774 - app.routes.ai_recommendations - INFO - ✅ [AI_RECOMMENDATIONS] Successfully loaded recommendation, content length: 4326
2025-10-09 12:41:06,434 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:41:06,486 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 📄 Tailored CV content request for Australia_for_UNHCR from user 4df52e53-b78f-45e9-8946-3b6c00618693
2025-10-09 12:41:06,487 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:41:06,487 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:41:06,487 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 12:41:06,489 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ Served TAILORED CV content: Australia_for_UNHCR_tailored_cv_20251009_115547.txt from tailored folder (670 characters)
2025-10-09 12:44:48,262 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:44:53,884 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:44:54,198 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:44:54,198 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:44:54,244 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:44:54,245 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:44:54,282 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:44:54,286 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:44:54,353 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:44:54,354 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:44:54,354 - sqlalchemy.engine.Engine - INFO - [generated in 0.00093s] {}
2025-10-09 12:44:54,399 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:44:54,422 - app.database - INFO - Database connection successful
2025-10-09 12:44:54,423 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:44:54,443 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:44:54,448 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:44:54,449 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:44:54,491 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:44:54,492 - sqlalchemy.engine.Engine - INFO - [cached since 0.0435s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:44:54,510 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:44:54,510 - sqlalchemy.engine.Engine - INFO - [cached since 0.06207s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:44:54,532 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:44:54,532 - sqlalchemy.engine.Engine - INFO - [cached since 0.08412s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:44:54,553 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:44:54,554 - sqlalchemy.engine.Engine - INFO - [cached since 0.1049s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:44:54,573 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:44:54,574 - sqlalchemy.engine.Engine - INFO - [cached since 0.1262s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:44:54,595 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:44:54,596 - sqlalchemy.engine.Engine - INFO - [cached since 0.1476s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:44:54,619 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:44:54,619 - sqlalchemy.engine.Engine - INFO - [cached since 0.1712s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:44:54,642 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:44:54,643 - sqlalchemy.engine.Engine - INFO - [cached since 0.1943s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:44:54,664 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:44:54,665 - sqlalchemy.engine.Engine - INFO - [cached since 0.2166s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:44:54,687 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:44:54,688 - sqlalchemy.engine.Engine - INFO - [cached since 0.2397s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:44:54,711 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:44:54,727 - app.database - INFO - Database tables created successfully
2025-10-09 12:44:54,728 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:44:54,728 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:44:54,728 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:44:54,931 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:44:59,345 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:44:59,608 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:44:59,608 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:44:59,648 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:44:59,649 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:44:59,691 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:44:59,692 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:44:59,738 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:44:59,738 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:44:59,739 - sqlalchemy.engine.Engine - INFO - [generated in 0.00080s] {}
2025-10-09 12:44:59,775 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:44:59,791 - app.database - INFO - Database connection successful
2025-10-09 12:44:59,791 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:44:59,813 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:44:59,820 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:44:59,820 - sqlalchemy.engine.Engine - INFO - [generated in 0.00051s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:44:59,885 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:44:59,886 - sqlalchemy.engine.Engine - INFO - [cached since 0.0659s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:44:59,965 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:44:59,966 - sqlalchemy.engine.Engine - INFO - [cached since 0.1458s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:44:59,988 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:44:59,988 - sqlalchemy.engine.Engine - INFO - [cached since 0.1681s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:45:00,008 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:45:00,008 - sqlalchemy.engine.Engine - INFO - [cached since 0.1885s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:45:00,065 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:45:00,066 - sqlalchemy.engine.Engine - INFO - [cached since 0.2461s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:45:00,106 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:45:00,106 - sqlalchemy.engine.Engine - INFO - [cached since 0.2863s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:45:00,129 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:45:00,130 - sqlalchemy.engine.Engine - INFO - [cached since 0.3098s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:45:00,153 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:45:00,154 - sqlalchemy.engine.Engine - INFO - [cached since 0.3343s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:45:00,175 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:45:00,176 - sqlalchemy.engine.Engine - INFO - [cached since 0.356s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:45:00,208 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:45:00,209 - sqlalchemy.engine.Engine - INFO - [cached since 0.3888s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:45:00,232 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:45:00,256 - app.database - INFO - Database tables created successfully
2025-10-09 12:45:00,256 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:45:00,256 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:45:00,256 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:45:27,545 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:45:31,986 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:45:32,244 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:45:32,244 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:45:32,284 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:45:32,284 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:45:32,323 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:45:32,324 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:45:32,365 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:45:32,366 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:45:32,368 - sqlalchemy.engine.Engine - INFO - [generated in 0.00302s] {}
2025-10-09 12:45:32,405 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:45:32,427 - app.database - INFO - Database connection successful
2025-10-09 12:45:32,427 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:45:32,449 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:45:32,457 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:45:32,458 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:45:32,493 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:45:32,493 - sqlalchemy.engine.Engine - INFO - [cached since 0.03584s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:45:32,516 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:45:32,516 - sqlalchemy.engine.Engine - INFO - [cached since 0.05862s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:45:32,538 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:45:32,538 - sqlalchemy.engine.Engine - INFO - [cached since 0.08084s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:45:32,559 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:45:32,559 - sqlalchemy.engine.Engine - INFO - [cached since 0.1019s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:45:32,583 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:45:32,583 - sqlalchemy.engine.Engine - INFO - [cached since 0.1261s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:45:32,605 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:45:32,605 - sqlalchemy.engine.Engine - INFO - [cached since 0.1478s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:45:32,628 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:45:32,629 - sqlalchemy.engine.Engine - INFO - [cached since 0.172s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:45:32,650 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:45:32,651 - sqlalchemy.engine.Engine - INFO - [cached since 0.1934s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:45:32,675 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:45:32,675 - sqlalchemy.engine.Engine - INFO - [cached since 0.2176s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:45:32,698 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:45:32,699 - sqlalchemy.engine.Engine - INFO - [cached since 0.2417s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:45:32,732 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:45:32,764 - app.database - INFO - Database tables created successfully
2025-10-09 12:45:32,765 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:45:32,765 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:45:32,766 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:45:59,191 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:46:04,307 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:46:04,696 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:46:04,697 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:46:04,735 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:46:04,736 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:46:04,779 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:46:04,780 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:46:04,821 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:46:04,822 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:46:04,822 - sqlalchemy.engine.Engine - INFO - [generated in 0.00056s] {}
2025-10-09 12:46:04,852 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:46:04,869 - app.database - INFO - Database connection successful
2025-10-09 12:46:04,869 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:46:04,889 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:46:04,895 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:46:04,895 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:46:04,936 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:46:04,937 - sqlalchemy.engine.Engine - INFO - [cached since 0.04202s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:46:04,958 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:46:04,959 - sqlalchemy.engine.Engine - INFO - [cached since 0.06432s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:46:04,983 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:46:04,984 - sqlalchemy.engine.Engine - INFO - [cached since 0.08916s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:46:05,007 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:46:05,007 - sqlalchemy.engine.Engine - INFO - [cached since 0.1126s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:46:05,030 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:46:05,030 - sqlalchemy.engine.Engine - INFO - [cached since 0.1359s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:46:05,055 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:46:05,055 - sqlalchemy.engine.Engine - INFO - [cached since 0.1608s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:46:05,076 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:46:05,077 - sqlalchemy.engine.Engine - INFO - [cached since 0.1822s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:46:05,099 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:46:05,099 - sqlalchemy.engine.Engine - INFO - [cached since 0.2049s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:46:05,123 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:46:05,123 - sqlalchemy.engine.Engine - INFO - [cached since 0.2285s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:46:05,147 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:46:05,147 - sqlalchemy.engine.Engine - INFO - [cached since 0.2524s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:46:05,169 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:46:05,184 - app.database - INFO - Database tables created successfully
2025-10-09 12:46:05,185 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:46:05,185 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:46:05,185 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:46:20,556 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:46:24,811 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:46:25,088 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:46:25,089 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:46:25,131 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:46:25,132 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:46:25,180 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:46:25,181 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:46:25,226 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:46:25,227 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:46:25,227 - sqlalchemy.engine.Engine - INFO - [generated in 0.00180s] {}
2025-10-09 12:46:25,261 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:46:25,278 - app.database - INFO - Database connection successful
2025-10-09 12:46:25,279 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:46:25,301 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:46:25,317 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:46:25,318 - sqlalchemy.engine.Engine - INFO - [generated in 0.00050s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:46:25,357 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:46:25,357 - sqlalchemy.engine.Engine - INFO - [cached since 0.03999s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:46:25,380 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:46:25,381 - sqlalchemy.engine.Engine - INFO - [cached since 0.06403s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:46:25,401 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:46:25,401 - sqlalchemy.engine.Engine - INFO - [cached since 0.08372s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:46:25,421 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:46:25,422 - sqlalchemy.engine.Engine - INFO - [cached since 0.1045s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:46:25,444 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:46:25,444 - sqlalchemy.engine.Engine - INFO - [cached since 0.1271s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:46:25,466 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:46:25,467 - sqlalchemy.engine.Engine - INFO - [cached since 0.1497s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:46:25,487 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:46:25,488 - sqlalchemy.engine.Engine - INFO - [cached since 0.171s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:46:25,507 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:46:25,508 - sqlalchemy.engine.Engine - INFO - [cached since 0.1905s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:46:25,567 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:46:25,567 - sqlalchemy.engine.Engine - INFO - [cached since 0.25s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:46:25,584 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:46:25,585 - sqlalchemy.engine.Engine - INFO - [cached since 0.2674s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:46:25,609 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:46:25,631 - app.database - INFO - Database tables created successfully
2025-10-09 12:46:25,631 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:46:25,632 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:46:25,632 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:48:03,413 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:48:07,520 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:48:07,798 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:48:07,798 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:48:07,833 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:48:07,833 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:48:07,874 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:48:07,874 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:48:07,918 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:48:07,919 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:48:07,919 - sqlalchemy.engine.Engine - INFO - [generated in 0.00094s] {}
2025-10-09 12:48:07,961 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:48:07,978 - app.database - INFO - Database connection successful
2025-10-09 12:48:07,978 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:48:07,995 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:48:08,000 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:48:08,001 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:48:08,049 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:48:08,049 - sqlalchemy.engine.Engine - INFO - [cached since 0.04885s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:48:08,073 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:48:08,073 - sqlalchemy.engine.Engine - INFO - [cached since 0.07271s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:48:08,095 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:48:08,096 - sqlalchemy.engine.Engine - INFO - [cached since 0.09532s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:48:08,117 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:48:08,118 - sqlalchemy.engine.Engine - INFO - [cached since 0.1177s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:48:08,138 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:48:08,139 - sqlalchemy.engine.Engine - INFO - [cached since 0.1386s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:48:08,160 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:48:08,161 - sqlalchemy.engine.Engine - INFO - [cached since 0.1605s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:48:08,181 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:48:08,182 - sqlalchemy.engine.Engine - INFO - [cached since 0.1813s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:48:08,206 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:48:08,207 - sqlalchemy.engine.Engine - INFO - [cached since 0.2068s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:48:08,311 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:48:08,312 - sqlalchemy.engine.Engine - INFO - [cached since 0.3116s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:48:08,330 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:48:08,330 - sqlalchemy.engine.Engine - INFO - [cached since 0.3301s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:48:08,351 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:48:08,369 - app.database - INFO - Database tables created successfully
2025-10-09 12:48:08,369 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:48:08,369 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:48:08,370 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:55:57,744 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 12:55:57,746 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: []
2025-10-09 12:55:57,747 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 12:55:57,747 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {}
2025-10-09 12:55:57,747 - app.ai.ai_service - ERROR - ❌ No current provider available for model switching
2025-10-09 12:55:57,748 - app.core.model_dependency - WARNING - ⚠️ Failed to switch to header model gpt-3.5-turbo
2025-10-09 12:55:57,775 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user munna@gmail.com
2025-10-09 12:55:57,850 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:55:57,864 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 12:55:57,865 - sqlalchemy.engine.Engine - INFO - [generated in 0.00178s] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 12:55:57,919 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:55:58,788 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 12:55:58,829 - app.ai.ai_service - INFO - ✅ Initialized openai provider with model gpt-4o for user munna@gmail.com
2025-10-09 12:55:58,852 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:55:58,853 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 12:55:58,854 - sqlalchemy.engine.Engine - INFO - [cached since 0.9907s ago] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 12:55:58,893 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:55:58,911 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user munna@gmail.com and provider anthropic
2025-10-09 12:55:58,929 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:55:58,930 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 12:55:58,930 - sqlalchemy.engine.Engine - INFO - [cached since 1.067s ago] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 12:55:58,976 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:55:58,997 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user munna@gmail.com and provider deepseek
2025-10-09 12:55:59,021 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:55:59,030 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 12:55:59,030 - sqlalchemy.engine.Engine - INFO - [generated in 0.00069s] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'param_1': 1}
2025-10-09 12:55:59,074 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:56:02,108 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 12:56:02,109 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: ['openai']
2025-10-09 12:56:02,109 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 12:56:02,695 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 12:56:02,714 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-4o', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-4o', 'is_current': False}}
2025-10-09 12:56:02,714 - app.ai.ai_service - ERROR - ❌ No current provider available for model switching
2025-10-09 12:56:02,714 - app.ai.ai_service - INFO - 🔄 Available providers: ['openai']
2025-10-09 12:56:02,714 - app.ai.ai_service - INFO - ✅ Switched to openai provider with model gpt-3.5-turbo
2025-10-09 12:56:02,715 - app.core.model_dependency - INFO - 🔄 Switched to model from header: gpt-3.5-turbo
2025-10-09 12:56:02,715 - app.routes.ai - INFO - 🟢 [AI_CHAT] user=munna@gmail.com provider=openai model=gpt-3.5-turbo
2025-10-09 12:56:02,716 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 12:56:03,390 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 12:56:20,021 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:56:20,412 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:56:20,412 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:56:20,453 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:56:20,453 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:56:20,497 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:56:20,498 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:56:20,550 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:56:20,551 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:56:20,551 - sqlalchemy.engine.Engine - INFO - [generated in 0.00107s] {}
2025-10-09 12:56:20,587 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:56:20,609 - app.database - INFO - Database connection successful
2025-10-09 12:56:20,610 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:56:20,633 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:56:20,641 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:56:20,642 - sqlalchemy.engine.Engine - INFO - [generated in 0.00126s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:56:20,703 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:56:20,704 - sqlalchemy.engine.Engine - INFO - [cached since 0.06288s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:56:20,726 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:56:20,727 - sqlalchemy.engine.Engine - INFO - [cached since 0.08601s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:56:20,750 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:56:20,751 - sqlalchemy.engine.Engine - INFO - [cached since 0.11s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:56:20,773 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:56:20,774 - sqlalchemy.engine.Engine - INFO - [cached since 0.1332s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:56:20,800 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:56:20,800 - sqlalchemy.engine.Engine - INFO - [cached since 0.1595s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:56:20,819 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:56:20,820 - sqlalchemy.engine.Engine - INFO - [cached since 0.1787s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:56:20,842 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:56:20,843 - sqlalchemy.engine.Engine - INFO - [cached since 0.2019s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:56:20,866 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:56:20,866 - sqlalchemy.engine.Engine - INFO - [cached since 0.2251s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:56:20,889 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:56:20,889 - sqlalchemy.engine.Engine - INFO - [cached since 0.2482s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:56:20,910 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:56:20,911 - sqlalchemy.engine.Engine - INFO - [cached since 0.27s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:56:20,935 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:56:20,957 - app.database - INFO - Database tables created successfully
2025-10-09 12:56:20,958 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:56:20,958 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:56:20,958 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:56:34,947 - app.utils.directory_utils - ERROR - ❌ Failed to create cv-analysis directories: User email must be provided
2025-10-09 12:56:37,112 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:56:37,169 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:56:37,175 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider IS NULL 
 LIMIT %(param_1)s
2025-10-09 12:56:37,175 - sqlalchemy.engine.Engine - INFO - [generated in 0.00069s] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'param_1': 1}
2025-10-09 12:56:37,215 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:56:37,232 - app.services.job_extraction_service - ERROR - AI service error: 
2025-10-09 12:56:37,300 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:56:37,301 - app.services.job_extraction_service - INFO - ♻️ [JOB_EXTRACTION] Job already exists in saved_jobs.json: Data Analyst at Australia for UNHCR
2025-10-09 12:56:43,880 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 12:56:43,881 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: []
2025-10-09 12:56:43,882 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 12:56:43,882 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {}
2025-10-09 12:56:43,882 - app.ai.ai_service - ERROR - ❌ No current provider available for model switching
2025-10-09 12:56:43,883 - app.core.model_dependency - WARNING - ⚠️ Failed to switch to header model gpt-3.5-turbo
2025-10-09 12:56:43,891 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user munna@gmail.com
2025-10-09 12:56:43,918 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:56:43,928 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 12:56:43,929 - sqlalchemy.engine.Engine - INFO - [generated in 0.00086s] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 12:56:43,979 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:56:44,779 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 12:56:44,796 - app.ai.ai_service - INFO - ✅ Initialized openai provider with model gpt-4o for user munna@gmail.com
2025-10-09 12:56:44,822 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:56:44,823 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 12:56:44,823 - sqlalchemy.engine.Engine - INFO - [cached since 0.8952s ago] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 12:56:44,876 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:56:44,899 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user munna@gmail.com and provider anthropic
2025-10-09 12:56:44,916 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:56:44,916 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 12:56:44,917 - sqlalchemy.engine.Engine - INFO - [cached since 0.9888s ago] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 12:56:44,968 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:56:44,989 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user munna@gmail.com and provider deepseek
2025-10-09 12:56:45,006 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:56:45,010 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 12:56:45,011 - sqlalchemy.engine.Engine - INFO - [generated in 0.00071s] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'param_1': 1}
2025-10-09 12:56:45,050 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:58:04,253 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 12:58:04,253 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: ['openai']
2025-10-09 12:58:04,254 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 12:58:04,955 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 12:58:04,979 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-4o', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-4o', 'is_current': False}}
2025-10-09 12:58:04,979 - app.ai.ai_service - ERROR - ❌ No current provider available for model switching
2025-10-09 12:58:04,979 - app.ai.ai_service - INFO - 🔄 Available providers: ['openai']
2025-10-09 12:58:04,979 - app.ai.ai_service - INFO - ✅ Switched to openai provider with model gpt-3.5-turbo
2025-10-09 12:58:04,980 - app.core.model_dependency - INFO - 🔄 Switched to model from header: gpt-3.5-turbo
2025-10-09 12:58:04,980 - app.routes.ai - INFO - 🟢 [AI_CHAT] user=munna@gmail.com provider=openai model=gpt-3.5-turbo
2025-10-09 12:58:04,980 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 12:58:05,772 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 12:58:08,439 - app.ai.ai_service - INFO - ✅ Switched to model gpt-3.5-turbo
2025-10-09 12:58:08,439 - app.core.model_dependency - INFO - 🔄 Switched to model from header: gpt-3.5-turbo
2025-10-09 12:58:08,441 - app.routes.skills_analysis - INFO - 🎯 Preliminary analysis request: CV=maheshwor_tiwari.pdf, JD_length=6014, CONFIG=None
2025-10-09 12:58:08,442 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:58:08,443 - app.routes.skills_analysis - INFO - 🏢 Extracted company name: Australia_for_UNHCR
2025-10-09 12:58:08,444 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:58:08,447 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:58:08,448 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:58:08,449 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 12:58:08,450 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:58:08,452 - app.routes.skills_analysis - INFO - 🔗 [PRELIM_ANALYSIS] JD URL (latest job_info): https://www.ethicaljobs.com.au/members/australiaforunhcr/data-analyst
2025-10-09 12:58:08,456 - app.routes.skills_analysis - INFO - 📄 [PRELIM_ANALYSIS] Latest CV selected → type=tailored, ts=20251009_115547, json=user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.json, txt=user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.txt
2025-10-09 12:58:08,459 - app.routes.skills_analysis - INFO - 🧪 [PRELIM_ANALYSIS] CV content length=670, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • SQL, Python, Excel, Power BI, VBA, Analytical, Stakeholder Management, Data Warehouse, Data Extraction, Data Analysis, Business Intelligence, Results-Driven  EXPERIENCE Data Analyst         Jul 2024 – Present The Bitrates, Sydney, New South Wales, Australia  • Designed and implemented 5 Python '
2025-10-09 12:58:08,459 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 12:58:08,459 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 12:58:08,460 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 12:58:08,460 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Starting AI-powered skills analysis for maheshwor_tiwari.pdf
2025-10-09 12:58:08,460 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] CV content length: 670 chars
2025-10-09 12:58:08,460 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] JD content length: 6014 chars
2025-10-09 12:58:08,460 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using config: default
2025-10-09 12:58:08,461 - app.routes.skills_analysis - INFO - 🧪 [SKILLS_ANALYSIS] CV preview: 'Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • SQL, Python, Excel, Power BI, VBA, Analytical, Stakeholder Management, Data'
2025-10-09 12:58:08,461 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI provider: openai
2025-10-09 12:58:08,461 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI model: gpt-3.5-turbo
2025-10-09 12:58:08,461 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Provider available: True
2025-10-09 12:58:08,462 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Model from header: gpt-3.5-turbo
2025-10-09 12:58:08,463 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting CV skills with detailed structured analysis...
2025-10-09 12:58:08,463 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 12:58:09,805 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 12:58:09,810 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] Starting response parsing...
2025-10-09 12:58:09,810 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] Raw response preview: 
**SOFT SKILLS:**
- Analytical
- Stakeholder Management
- Results-Driven

**TECHNICAL SKILLS:**
- SQL
- Python
- Excel
- Power BI
- VBA
- Data Warehouse
- Data Extraction
- Data Analysis
- Business Intelligence

**DOMAIN KEYWORDS:**
- N/A...
2025-10-09 12:58:09,811 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] FULL CV RESPONSE: 
**SOFT SKILLS:**
- Analytical
- Stakeholder Management
- Results-Driven

**TECHNICAL SKILLS:**
- SQL
- Python
- Excel
- Power BI
- VBA
- Data Warehouse
- Data Extraction
- Data Analysis
- Business Intelligence

**DOMAIN KEYWORDS:**
- N/A
2025-10-09 12:58:09,811 - app.services.skill_extraction.response_parser - WARNING - ⚠️ [CV] No SOFT_SKILLS variable found in response
2025-10-09 12:58:09,812 - app.services.skill_extraction.response_parser - WARNING - ⚠️ [CV] No TECHNICAL_SKILLS variable found in response
2025-10-09 12:58:09,812 - app.services.skill_extraction.response_parser - WARNING - ⚠️ [CV] No DOMAIN_KEYWORDS variable found in response
2025-10-09 12:58:09,812 - app.services.skill_extraction.response_parser - INFO - 🔄 [CV] Python format not found, trying markdown format...
2025-10-09 12:58:09,814 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Successfully extracted 13 total skills using multi-format parser
2025-10-09 12:58:09,814 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated soft_skills: 3 valid skills
2025-10-09 12:58:09,814 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated technical_skills: 9 valid skills
2025-10-09 12:58:09,814 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated domain_keywords: 1 valid skills
2025-10-09 12:58:09,815 - app.services.skill_extraction.response_parser - INFO - 📊 [CV] Parsing completed:
2025-10-09 12:58:09,815 - app.services.skill_extraction.response_parser - INFO -    Soft Skills (3): ['Analytical', 'Stakeholder Management', 'Results-Driven']
2025-10-09 12:58:09,815 - app.services.skill_extraction.response_parser - INFO -    Technical Skills (9): ['SQL', 'Python', 'Excel']...
2025-10-09 12:58:09,815 - app.services.skill_extraction.response_parser - INFO -    Domain Keywords (1): ['N/A']
2025-10-09 12:58:09,815 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting JD skills with detailed structured analysis...
2025-10-09 12:58:09,815 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 12:58:12,733 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 12:58:12,736 - app.services.skill_extraction.response_parser - INFO - 🔍 [JD] Starting response parsing...
2025-10-09 12:58:12,736 - app.services.skill_extraction.response_parser - INFO - 🔍 [JD] Raw response preview: ## SOFT SKILLS:
- Communication
- Leadership
- Teamwork
- Collaboration
- Negotiation
- Time Management
- Organization
- Adaptability
- Problem-solving
- Analytical Thinking
- Critical Thinking
- Creativity
- Innovation
- Detail-oriented
- Self-motivated
- Proactive
- Results-driven

## TECHNICAL SKILLS:
- SQL
- Excel
- VBA
- Data Mining
- Data Analysis
- Power BI
- Tableau
- Database Management
- Business Intelligence
- Data Warehousing
- Project Management

## DOMAIN KEYWORDS:
- Fundraising
- ...
2025-10-09 12:58:12,737 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Successfully extracted 40 total skills using multi-format parser
2025-10-09 12:58:12,738 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated soft_skills: 17 valid skills
2025-10-09 12:58:12,739 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated technical_skills: 11 valid skills
2025-10-09 12:58:12,740 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated domain_keywords: 12 valid skills
2025-10-09 12:58:12,740 - app.services.skill_extraction.response_parser - INFO - 📊 [JD] Parsing completed:
2025-10-09 12:58:12,740 - app.services.skill_extraction.response_parser - INFO -    Soft Skills (17): ['Communication', 'Leadership', 'Teamwork']...
2025-10-09 12:58:12,741 - app.services.skill_extraction.response_parser - INFO -    Technical Skills (11): ['SQL', 'Excel', 'VBA']...
2025-10-09 12:58:12,741 - app.services.skill_extraction.response_parser - INFO -    Domain Keywords (12): ['Fundraising', 'Business Intelligence', 'Data Selection']...
2025-10-09 12:58:12,742 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using structured analysis as comprehensive analysis...
2025-10-09 12:58:12,743 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Technical Skills (9): ['SQL', 'Python', 'Excel', 'Power BI', 'VBA', 'Data Warehouse', 'Data Extraction', 'Data Analysis', 'Business Intelligence']
2025-10-09 12:58:12,743 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Soft Skills (3): ['Analytical', 'Stakeholder Management', 'Results-Driven']
2025-10-09 12:58:12,744 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Domain Keywords (1): ['N/A']
2025-10-09 12:58:12,744 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Technical Skills (11): ['SQL', 'Excel', 'VBA', 'Data Mining', 'Data Analysis', 'Power BI', 'Tableau', 'Database Management', 'Business Intelligence', 'Data Warehousing', 'Project Management']
2025-10-09 12:58:12,744 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Soft Skills (17): ['Communication', 'Leadership', 'Teamwork', 'Collaboration', 'Negotiation', 'Time Management', 'Organization', 'Adaptability', 'Problem-solving', 'Analytical Thinking', 'Critical Thinking', 'Creativity', 'Innovation', 'Detail-oriented', 'Self-motivated', 'Proactive', 'Results-driven']
2025-10-09 12:58:12,744 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Domain Keywords (12): ['Fundraising', 'Business Intelligence', 'Data Selection', 'Data Segmentation', 'Direct Marketing', 'Stakeholder Management', 'Data Warehouse', 'Data Extraction', 'Campaign Optimization', 'Communication Data', 'Data Governance', 'Clean Data Maintenance']
2025-10-09 12:58:12,744 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] Analysis completed successfully
2025-10-09 12:58:12,745 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 12:58:12,745 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:58:12,745 - app.services.skill_extraction.result_saver - INFO - 📁 Result saver initialized with base directory: user/munna@gmail.com/cv-analysis
2025-10-09 12:58:12,746 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:58:12,746 - app.routes.skills_analysis - INFO - 🔍 [COMPANY_DETECTION] Looking in: user/munna@gmail.com/cv-analysis/applied_companies
2025-10-09 12:58:12,746 - app.routes.skills_analysis - INFO - 📁 [COMPANY_DETECTION] Found company folder: Australia_for_UNHCR with 5 job_info files
2025-10-09 12:58:12,747 - app.routes.skills_analysis - INFO - 🏢 [COMPANY_DETECTION] Using most recent company folder: Australia_for_UNHCR
2025-10-09 12:58:12,747 - app.routes.skills_analysis - INFO - 📋 [COMPANY_DETECTION] Job info company: Australia for UNHCR
2025-10-09 12:58:12,748 - app.services.skill_extraction.result_saver - INFO - 🏢 Using provided company name: Australia_for_UNHCR -> Australia_for_UNHCR
2025-10-09 12:58:12,748 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:58:12,749 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 12:58:12,749 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:58:12,750 - app.services.skill_extraction.result_saver - INFO - 💾 Structured CV already exists, preserving it: user/munna@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 12:58:12,750 - app.services.skill_extraction.result_saver - INFO - 💾 Structured CV preserved, skipping save: user/munna@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 12:58:12,752 - app.services.skill_extraction.result_saver - INFO - 💾 Analysis results saved (JSON) to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_125812.json
2025-10-09 12:58:12,752 - app.routes.skills_analysis - INFO - 📁 [FILE_SAVE] Results saved to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_125812.json
2025-10-09 12:58:12,752 - app.routes.skills_analysis - INFO - 🔍 [ANALYZE_MATCH] Starting analyze match assessment...
2025-10-09 12:58:12,758 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 12:58:17,034 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 12:58:17,037 - app.routes.skills_analysis - INFO - ✅ [ANALYZE_MATCH] Analysis completed (length: 1809 chars)
2025-10-09 12:58:17,038 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:58:17,042 - app.services.skill_extraction.result_saver - INFO - 📂 Found existing analysis file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_125812.json
2025-10-09 12:58:17,042 - app.services.skill_extraction.result_saver - INFO - 🔍 Looking for analysis file in: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 12:58:17,043 - app.services.skill_extraction.result_saver - INFO - 📄 Using existing file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_125812.json
2025-10-09 12:58:17,044 - app.services.skill_extraction.result_saver - INFO - 📁 [ANALYZE_MATCH] Results appended to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_125812.json
2025-10-09 12:58:17,044 - app.routes.skills_analysis - INFO - 📁 [ANALYZE_MATCH] Results appended to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_125812.json
2025-10-09 12:58:17,045 - app.routes.skills_analysis - INFO - 🔍 [PREEXTRACTED_COMPARISON] Starting pre-extracted skills semantic comparison...
2025-10-09 12:58:17,048 - app.services.skill_extraction.preextracted_comparator - INFO - 🔍 [EXACT_MATCHES] Found 3 exact matches: {'technical_skills': [{'jd_skill': 'Business Intelligence', 'cv_skill': 'Business Intelligence', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Data Analysis', 'cv_skill': 'Data Analysis', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Excel', 'cv_skill': 'Excel', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Power BI', 'cv_skill': 'Power BI', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'SQL', 'cv_skill': 'SQL', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'VBA', 'cv_skill': 'VBA', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}], 'soft_skills': [{'jd_skill': 'Results-driven', 'cv_skill': 'Results-Driven', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}], 'domain_keywords': []}
2025-10-09 12:58:17,049 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 12:58:25,242 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 12:58:25,252 - app.services.skill_extraction.preextracted_comparator - WARNING - ❌ [VALIDATION] technical_skills: matched 11 > CV count 9
2025-10-09 12:58:25,252 - app.services.skill_extraction.preextracted_comparator - INFO - ℹ️ [VALIDATION] technical_skills: matched 11 + missing 1 = 12 vs JD count 11 (acceptable variance)
2025-10-09 12:58:25,252 - app.services.skill_extraction.preextracted_comparator - INFO - ℹ️ [VALIDATION] soft_skills: matched 3 + missing 15 = 18 vs JD count 17 (acceptable variance)
2025-10-09 12:58:25,252 - app.services.skill_extraction.preextracted_comparator - WARNING - ❌ [VALIDATION] domain_keywords: matched 10 > CV count 1
2025-10-09 12:58:25,253 - app.services.skill_extraction.preextracted_comparator - INFO - ℹ️ [VALIDATION] domain_keywords: matched 10 + missing 0 = 10 vs JD count 12 (acceptable variance)
2025-10-09 12:58:25,253 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] CV Skills: Tech=9, Soft=3, Domain=1
2025-10-09 12:58:25,253 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] JD Skills: Tech=11, Soft=17, Domain=12
2025-10-09 12:58:25,253 - app.services.skill_extraction.preextracted_comparator - WARNING - ❌ [VALIDATION] 2 validation error(s) found
2025-10-09 12:58:25,253 - app.services.skill_extraction.preextracted_comparator - WARNING - ⚠️ [COMPARISON] JSON results failed validation, attempting to fix inconsistencies
2025-10-09 12:58:25,254 - app.services.skill_extraction.preextracted_comparator - INFO - 🔧 [FIX] Attempting to fix inconsistent AI response
2025-10-09 12:58:25,254 - app.services.skill_extraction.preextracted_comparator - WARNING - 🔧 [FIX] technical_skills: Trimming 11 matches to 9 (CV limit)
2025-10-09 12:58:25,254 - app.services.skill_extraction.preextracted_comparator - WARNING - 🔧 [FIX] technical_skills: Too many items (12 > 11), trimming missing items
2025-10-09 12:58:25,254 - app.services.skill_extraction.preextracted_comparator - WARNING - 🔧 [FIX] soft_skills: Too many items (18 > 17), trimming missing items
2025-10-09 12:58:25,255 - app.services.skill_extraction.preextracted_comparator - WARNING - 🔧 [FIX] domain_keywords: Trimming 10 matches to 1 (CV limit)
2025-10-09 12:58:25,255 - app.services.skill_extraction.preextracted_comparator - INFO - 🔧 [FIX] domain_keywords: Adding 2 missing JD skills
2025-10-09 12:58:25,255 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [FIX] Finished fixing AI response inconsistencies
2025-10-09 12:58:25,255 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] CV Skills: Tech=9, Soft=3, Domain=1
2025-10-09 12:58:25,255 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] JD Skills: Tech=11, Soft=17, Domain=12
2025-10-09 12:58:25,255 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [VALIDATION] Comparison results passed validation
2025-10-09 12:58:25,256 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [COMPARISON] Successfully fixed AI response inconsistencies
2025-10-09 12:58:25,256 - app.routes.skills_analysis - INFO - ✅ [PREEXTRACTED_COMPARISON] Completed (length: 5090 chars)
2025-10-09 12:58:25,256 - app.services.skill_extraction.result_saver - INFO - 🏢 [PREEXTRACTED_COMPARISON] Inferred company from saved_file_path: Australia_for_UNHCR
2025-10-09 12:58:25,260 - app.services.skill_extraction.result_saver - INFO - 📁 [PREEXTRACTED_COMPARISON] Results appended to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_125812.json
2025-10-09 12:58:25,260 - app.routes.skills_analysis - INFO - 📁 [PREEXTRACTED_COMPARISON] Results appended to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_125812.json
2025-10-09 12:58:25,261 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:58:25,262 - app.routes.skills_analysis - INFO - ♻️ [PIPELINE] (preliminary-analysis) JD file already exists: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/jd_original_20251009_125637.json
2025-10-09 12:58:25,265 - app.routes.skills_analysis - INFO - ♻️ [JOBS] Job already exists in saved_jobs.json: Data Analyst at Australia for UNHCR
2025-10-09 12:58:25,265 - app.routes.skills_analysis - INFO - 🚀 [PIPELINE] (preliminary-analysis) scheduling for company: Australia_for_UNHCR
2025-10-09 12:58:25,266 - app.routes.skills_analysis - INFO - 🚀 [PIPELINE] Scheduling JD analysis and CV–JD matching for 'Australia_for_UNHCR'...
2025-10-09 12:58:25,267 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:58:25,268 - app.routes.skills_analysis - INFO - 🔧 [PIPELINE] Starting JD analysis for Australia_for_UNHCR (force_refresh=True)
2025-10-09 12:58:25,268 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:58:25,269 - app.services.jd_analysis.jd_analyzer - INFO - 🔄 Analyzing JD for Australia_for_UNHCR (force_refresh=True)
2025-10-09 12:58:25,270 - app.services.jd_analysis.jd_analyzer - INFO - 📄 Analyzing JD file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/jd_original_20251009_125637.json
2025-10-09 12:58:25,271 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 12:58:27,043 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 12:58:27,056 - app.services.jd_analysis.jd_analyzer - INFO - ✅ JD analysis completed. Found 0 required and 0 preferred keywords
2025-10-09 12:58:27,062 - app.services.jd_analysis.jd_analyzer - INFO - ♻️ JD analysis already exists, reusing: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_jd_analysis_20251008_201603.json
2025-10-09 12:58:27,062 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] JD analysis saved for Australia_for_UNHCR at: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_jd_analysis_20251008_201603.json
2025-10-09 12:58:27,066 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:58:27,067 - app.services.jd_usage_tracker - ERROR - ❌ [JD_TRACKER] Error recording JD usage: Either jd_url or jd_text must be provided
2025-10-09 12:58:27,067 - app.routes.skills_analysis - INFO - 📝 [PIPELINE] JD usage recorded for Australia_for_UNHCR
2025-10-09 12:58:27,067 - app.routes.skills_analysis - INFO - 🔧 [PIPELINE] Starting CV–JD matching for Australia_for_UNHCR
2025-10-09 12:58:27,068 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:58:27,070 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:58:27,070 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:58:27,071 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 12:58:27,073 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] CV–JD matching will use CV TXT: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.txt
2025-10-09 12:58:27,073 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 📄 [CV_JD_MATCHER] Using provided CV path: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.txt
2025-10-09 12:58:27,075 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 📄 [CV_JD_MATCHER] Read CV from: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.txt
2025-10-09 12:58:27,077 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🧪 [CV_JD_MATCHER] CV content length=668, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • SQL, Python, Excel, Power BI, VBA, Analytical, Stakeholder Management, Data Warehouse, Data Extraction, Data Analysis, Business Intelligence, Results-Driven  EXPERIENCE Data Analyst         Jul 2024 – Present The Bitrates, Sydney, New South Wales, Australia  • Designed and implemented 5 Python '
2025-10-09 12:58:27,077 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🔍 Found 8 required and 5 preferred keywords
2025-10-09 12:58:27,078 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 12:58:30,449 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 12:58:30,451 - app.services.cv_jd_matching.cv_jd_matcher - INFO - ✅ CV-JD matching completed. Found 6 matched required keywords
2025-10-09 12:58:30,452 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:58:30,454 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:58:30,456 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 💾 Saved CV-JD match results to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_cv_jd_matching_20251009_125830.json
2025-10-09 12:58:30,457 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] CV–JD match results saved for Australia_for_UNHCR
2025-10-09 12:58:30,457 - app.routes.skills_analysis - INFO - 🔍 [PIPELINE] Starting component analysis for Australia_for_UNHCR
2025-10-09 12:58:30,461 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:58:30,462 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:58:30,463 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:58:30,464 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 12:58:30,465 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Latest CV selected → type=tailored, ts=20251009_115547, json=user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.json, txt=user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.txt
2025-10-09 12:58:30,467 - app.routes.skills_analysis - INFO - 🧪 [PIPELINE] CV content length=670, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • SQL, Python, Excel, Power BI, VBA, Analytical, Stakeholder Management, Data Warehouse, Data Extraction, Data Analysis, Business Intelligence, Results-Driven  EXPERIENCE Data Analyst         Jul 2024 – Present The Bitrates, Sydney, New South Wales, Australia  • Designed and implemented 5 Python '
2025-10-09 12:58:30,467 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:58:30,469 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Required files found, proceeding with component analysis
2025-10-09 12:58:30,469 - app.services.ats.modular_ats_orchestrator - INFO - ===== [MODULAR ATS] Starting component analysis for: Australia_for_UNHCR =====
2025-10-09 12:58:30,469 - app.services.ats.component_assembler - INFO - ===== [ASSEMBLER] Starting component assembly for: Australia_for_UNHCR =====
2025-10-09 12:58:30,470 - app.services.ats.component_assembler - INFO - 📄 [ASSEMBLER] Using CV text provided by caller
2025-10-09 12:58:30,476 - app.services.ats.component_assembler - WARNING - [ASSEMBLER] Match results not found: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/cv_jd_match_results.json
2025-10-09 12:58:30,477 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Starting parallel component analyses...
2025-10-09 12:58:30,478 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Requesting skills relevance analysis...
2025-10-09 12:58:30,479 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 12:58:30,500 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Requirement bonus using match file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_cv_jd_matching_20251009_125830.json
2025-10-09 12:58:30,508 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Using existing match_counts from file
2025-10-09 12:58:30,509 - app.services.ats.requirement_bonus_calculator - INFO - [ATS][BONUS] required_total=8 matched_required=6 missing_required=2 required_bonus=3.00 required_penalty=-1.50 preferred_total=5 matched_preferred=0 missing_preferred=5 preferred_bonus=0.00 preferred_penalty=-0.75 total_bonus=0.75
2025-10-09 12:58:30,510 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Requirement bonus calculated: 0.75 points
2025-10-09 12:58:37,926 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 12:58:37,933 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Raw response length: 4069
2025-10-09 12:58:37,933 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Raw response preview: {
 "skills_analysis": [
  {
   "skill": "SQL",
   "cv_evidence": "Proficient in SQL",
   "jd_application": "Addressing data extract requirements for direct marketing campaigns, manipulating data for b
2025-10-09 12:58:37,934 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Cleaned response: {
 "skills_analysis": [
  {
   "skill": "SQL",
   "cv_evidence": "Proficient in SQL",
   "jd_application": "Addressing data extract requirements for direct marketing campaigns, manipulating data for b
2025-10-09 12:58:37,935 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Direct parse successful
2025-10-09 12:58:37,935 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Analysis completed. Score: 78.0
2025-10-09 12:58:37,935 - app.services.ats.components.experience_analyzer - INFO - [EXPERIENCE] Requesting experience alignment analysis...
2025-10-09 12:58:37,936 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 12:58:40,995 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 12:58:40,997 - app.services.ats.components.experience_analyzer - INFO - [EXPERIENCE] Analysis completed. Score: 75.0
2025-10-09 12:58:40,998 - app.services.ats.components.industry_analyzer - INFO - [INDUSTRY] Requesting industry fit analysis...
2025-10-09 12:58:40,998 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 12:58:44,681 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 12:58:44,684 - app.services.ats.components.industry_analyzer - INFO - [INDUSTRY] Analysis completed. Score: 60.0
2025-10-09 12:58:44,691 - app.services.ats.components.seniority_analyzer - INFO - [SENIORITY] Requesting role seniority analysis...
2025-10-09 12:58:44,691 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 12:58:47,344 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 12:58:47,353 - app.services.ats.components.seniority_analyzer - INFO - [SENIORITY] Analysis completed. Score: 40.0
2025-10-09 12:58:47,354 - app.services.ats.components.technical_analyzer - INFO - [TECHNICAL] Requesting technical depth analysis...
2025-10-09 12:58:47,355 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 12:58:50,474 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 12:58:50,477 - app.services.ats.components.technical_analyzer - INFO - [TECHNICAL] Analysis completed. Score: 90.0
2025-10-09 12:58:50,478 - app.services.ats.component_assembler - INFO - [ASSEMBLER] All component analyses completed successfully
2025-10-09 12:58:50,479 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Validating cross-analyzer consistency...
2025-10-09 12:58:50,479 - app.services.ats.components.consistency_validator - ERROR - [CONSISTENCY] Validation failed: unsupported operand type(s) for -: 'str' and 'int'
2025-10-09 12:58:50,479 - app.services.ats.component_assembler - WARNING - [ASSEMBLER] Inconsistencies detected in analysis results
2025-10-09 12:58:50,479 - app.services.ats.component_assembler - WARNING - [ASSEMBLER] Confidence score: 100%
2025-10-09 12:58:50,484 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Results saved to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_125812.json
2025-10-09 12:58:50,484 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Starting ATS score calculation...
2025-10-09 12:58:50,485 - app.services.ats.ats_score_calculator - INFO - [ATS] Starting comprehensive ATS score calculation
2025-10-09 12:58:50,486 - app.services.ats.ats_score_calculator - INFO - [ATS] Match rates - Tech: 82.0%, Domain: 8.0%, Soft: 18.0%
2025-10-09 12:58:50,487 - app.services.ats.ats_score_calculator - INFO - [ATS] Missing counts - Tech: 2, Domain: 11, Soft: 14
2025-10-09 12:58:50,487 - app.services.ats.ats_score_calculator - INFO - [ATS] Category 1 - Tech: 16.4, Domain: 0.4, Soft: 2.7, Total: 19.5
2025-10-09 12:58:50,487 - app.services.ats.ats_score_calculator - INFO - [ATS] Category 2 - Core: 15.9, Exp: 5.4, Potential: 6.0, Company: 0.8, Total: 28.1
2025-10-09 12:58:50,488 - app.services.ats.ats_score_calculator - INFO - [ATS] Final ATS Score: 48.3/100 (❌ Poor fit)
2025-10-09 12:58:50,492 - app.services.ats.component_assembler - INFO - [ASSEMBLER] ATS calculation completed. Score: 48.3/100 (❌ Poor fit)
2025-10-09 12:58:50,492 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:58:50,494 - app.services.ats_recommendation_service - INFO - Final ATS Score: 48.33749999999999
2025-10-09 12:58:50,494 - app.services.ats_recommendation_service - INFO - Category Status: ❌ Poor fit
2025-10-09 12:58:50,495 - app.services.ats_recommendation_service - INFO - Successfully extracted comprehensive recommendation data for Australia_for_UNHCR
2025-10-09 12:58:50,499 - app.services.ats_recommendation_service - INFO - Successfully created recommendation file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_125850.json
2025-10-09 12:58:50,518 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:58:50,525 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 12:58:50,526 - sqlalchemy.engine.Engine - INFO - [generated in 0.00143s] {'email_1': 'munna@gmail.com'}
2025-10-09 12:58:50,576 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 12:58:50,577 - sqlalchemy.engine.Engine - INFO - [generated in 0.00054s] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 12:58:50,607 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 12:58:50,608 - sqlalchemy.engine.Engine - INFO - [generated in 0.00088s] {'user_id': '4df52e53-b78f-45e9-8946-3b6c00618693', 'company_id': 12, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_125850.json', 'file_path': 'user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_125850.json', 'file_size': 24313, 'sha256': '3d0b4258b95217f1fbbec226f05fdaddc462a51f603ea6fdde5d3b1c6e0883fe', 'timestamp': '20251009_125850'}
2025-10-09 12:58:50,636 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 12:58:50,636 - sqlalchemy.engine.Engine - INFO - [generated in 0.00068s] {'user_id': '4df52e53-b78f-45e9-8946-3b6c00618693', 'company_id': 12, 'kind': 'input_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 153}
2025-10-09 12:58:50,661 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:58:50,683 - app.services.ats_recommendation_service - INFO - Successfully created AI recommendation prompt: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_prompt_recommendation.py
2025-10-09 12:58:50,683 - app.services.ats_recommendation_service - INFO - 🤖 [TRIGGER] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-09 12:58:50,684 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:58:50,684 - app.services.ats_recommendation_service - INFO - 📋 [TRIGGER] AI generation scheduled as background task for Australia_for_UNHCR
2025-10-09 12:58:50,684 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Recommendation file created for Australia_for_UNHCR
2025-10-09 12:58:50,685 - app.services.ats.component_assembler - INFO - ===== [ASSEMBLER] Completed assembly. Scores: skills=78.0 exp=75.0 industry=60.0 seniority=40.0 tech=90.0 =====
2025-10-09 12:58:50,685 - app.services.ats.modular_ats_orchestrator - INFO - ===== [MODULAR ATS] Component analysis completed for: Australia_for_UNHCR =====
2025-10-09 12:58:50,685 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Component analysis completed for Australia_for_UNHCR
2025-10-09 12:58:50,685 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] Component scores extracted: 23 scores
2025-10-09 12:58:50,685 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] skills_relevance: 78.0
2025-10-09 12:58:50,686 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] experience_alignment: 75.0
2025-10-09 12:58:50,686 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] industry_fit: 60.0
2025-10-09 12:58:50,687 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] role_seniority: 40.0
2025-10-09 12:58:50,687 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] technical_depth: 90.0
2025-10-09 12:58:50,687 - app.routes.skills_analysis - INFO - 🎯 [PIPELINE] ATS Score calculated: 48.33749999999999
2025-10-09 12:58:50,688 - app.routes.skills_analysis - INFO - 📋 [PIPELINE] Creating input recommendation file for Australia_for_UNHCR
2025-10-09 12:58:50,688 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:58:50,692 - app.services.ats_recommendation_service - INFO - Final ATS Score: 48.33749999999999
2025-10-09 12:58:50,692 - app.services.ats_recommendation_service - INFO - Category Status: ❌ Poor fit
2025-10-09 12:58:50,693 - app.services.ats_recommendation_service - INFO - Successfully extracted comprehensive recommendation data for Australia_for_UNHCR
2025-10-09 12:58:50,697 - app.services.ats_recommendation_service - INFO - Successfully created recommendation file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_125850.json
2025-10-09 12:58:50,716 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:58:50,717 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 12:58:50,717 - sqlalchemy.engine.Engine - INFO - [cached since 0.1928s ago] {'email_1': 'munna@gmail.com'}
2025-10-09 12:58:50,756 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 12:58:50,756 - sqlalchemy.engine.Engine - INFO - [cached since 0.1804s ago] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 12:58:50,780 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 12:58:50,781 - sqlalchemy.engine.Engine - INFO - [cached since 0.1736s ago] {'user_id': '4df52e53-b78f-45e9-8946-3b6c00618693', 'company_id': 12, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_125850.json', 'file_path': 'user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_125850.json', 'file_size': 24313, 'sha256': '3d0b4258b95217f1fbbec226f05fdaddc462a51f603ea6fdde5d3b1c6e0883fe', 'timestamp': '20251009_125850'}
2025-10-09 12:58:50,811 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:58:50,829 - app.services.ats_recommendation_service - WARNING - ⚠️ [DB] Failed to register input recommendation: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "uq_company_files_dedupe"
DETAIL:  Key (user_id, company_id, file_type, sha256)=(4df52e53-b78f-45e9-8946-3b6c00618693, 12, input_recommendation, 3d0b4258b95217f1fbbec226f05fdaddc462a51f603ea6fdde5d3b1c6e0883fe) already exists.

[SQL: INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at]
[parameters: {'user_id': '4df52e53-b78f-45e9-8946-3b6c00618693', 'company_id': 12, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_125850.json', 'file_path': 'user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_125850.json', 'file_size': 24313, 'sha256': '3d0b4258b95217f1fbbec226f05fdaddc462a51f603ea6fdde5d3b1c6e0883fe', 'timestamp': '20251009_125850'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-10-09 12:58:50,830 - app.services.ats_recommendation_service - INFO - Successfully created AI recommendation prompt: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_prompt_recommendation.py
2025-10-09 12:58:50,830 - app.services.ats_recommendation_service - INFO - 🤖 [TRIGGER] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-09 12:58:50,830 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:58:50,831 - app.services.ats_recommendation_service - INFO - 📋 [TRIGGER] AI generation scheduled as background task for Australia_for_UNHCR
2025-10-09 12:58:50,831 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Input recommendation file created for Australia_for_UNHCR
2025-10-09 12:58:50,831 - app.routes.skills_analysis - INFO - 🤖 [PIPELINE] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-09 12:58:50,831 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:58:50,832 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-09 12:58:50,838 - app.services.ai_recommendation_generator - INFO - 🟡 [AI GENERATOR] Input recommendation is newer (ai_mtime=1759973956.0993197, input_mtime=1759975130.6967998); regenerating AI recommendation
2025-10-09 12:58:50,839 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:58:50,840 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:58:50,842 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 12:58:50,846 - app.services.ai_recommendation_generator - ERROR - ❌ [AI GENERATOR] Error checking CV freshness: 'str' object has no attribute 'timestamp'
2025-10-09 12:58:50,848 - app.services.ai_recommendation_generator - INFO - 📋 [AI GENERATOR] Generated AI prompt for Australia_for_UNHCR using centralized template (11802 characters)
2025-10-09 12:58:50,849 - app.services.ai_recommendation_generator - INFO - 🧠 [AI GENERATOR] Executing AI prompt for Australia_for_UNHCR
2025-10-09 12:58:50,849 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 12:58:59,018 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 12:58:59,022 - app.services.ai_recommendation_generator - INFO - 🧠 [AI GENERATOR] AI response generated - Provider: openai, Model: gpt-3.5-turbo
2025-10-09 12:58:59,023 - app.services.ai_recommendation_generator - INFO - 💰 [AI GENERATOR] Cost: $0.0044, Tokens: 3392
2025-10-09 12:58:59,024 - app.services.ai_recommendation_generator - INFO - 💾 [AI GENERATOR] Saved AI recommendation: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_125859.json (3.8KB)
2025-10-09 12:58:59,042 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:58:59,042 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 12:58:59,043 - sqlalchemy.engine.Engine - INFO - [cached since 8.519s ago] {'email_1': 'munna@gmail.com'}
2025-10-09 12:58:59,086 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 12:58:59,086 - sqlalchemy.engine.Engine - INFO - [cached since 8.511s ago] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 12:58:59,112 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 12:58:59,113 - sqlalchemy.engine.Engine - INFO - [cached since 8.506s ago] {'user_id': '4df52e53-b78f-45e9-8946-3b6c00618693', 'company_id': 12, 'file_type': 'ai_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_ai_recommendation_20251009_125859.json', 'file_path': 'user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_125859.json', 'file_size': 3867, 'sha256': 'ebd0e6df7e63d53f0dfa1b6ddcde6fae04a040695f1e7acac5306b3cdccb9ce4', 'timestamp': '20251009_125859'}
2025-10-09 12:58:59,145 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 12:58:59,146 - sqlalchemy.engine.Engine - INFO - [cached since 8.511s ago] {'user_id': '4df52e53-b78f-45e9-8946-3b6c00618693', 'company_id': 12, 'kind': 'ai_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 155}
2025-10-09 12:58:59,169 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:58:59,191 - app.services.ai_recommendation_generator - INFO - ✅ [AI GENERATOR] AI recommendation generated and saved for Australia_for_UNHCR
2025-10-09 12:58:59,191 - app.services.ai_recommendation_generator - INFO - 📄 File: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_123916.json
2025-10-09 12:58:59,192 - app.services.ai_recommendation_generator - INFO - 💰 Cost: $0.0044
2025-10-09 12:58:59,192 - app.services.ai_recommendation_generator - INFO - 🔤 Tokens: 3392
2025-10-09 12:58:59,192 - app.services.ai_recommendation_generator - INFO - 🚀 [AI GENERATOR] Starting automatic CV tailoring for Australia_for_UNHCR
2025-10-09 12:58:59,193 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:58:59,195 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded CV optimization framework from /Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/tailored_cv/prompts/framework.md
2025-10-09 12:58:59,196 - app.tailored_cv.services.cv_tailoring_service - INFO - Loading real data for Australia_for_UNHCR
2025-10-09 12:58:59,196 - app.tailored_cv.services.cv_tailoring_service - INFO - Company folder: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 12:58:59,196 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:58:59,196 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:58:59,197 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 12:58:59,198 - app.tailored_cv.services.cv_tailoring_service - INFO - 📄 [TAILORING] Using latest CV via unified selector → type=tailored, ts=20251009_115547, path=user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.json
2025-10-09 12:58:59,198 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [DEBUG] Loading CV from user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.json
2025-10-09 12:58:59,199 - app.tailored_cv.services.cv_tailoring_service - INFO - - First 200 chars: {   "contact": {     "name": "Maheshwor Tiwari",     "phone": "0414 032 507",     "email": "maheshtwari99@gmail.com",     "linkedin": "",     "location": "Hurstville, NSW, 2220",     "website": ""   }
2025-10-09 12:58:59,200 - app.tailored_cv.services.recommendation_parser - INFO - 📂 Loading CV from: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.json
2025-10-09 12:58:59,201 - app.tailored_cv.services.recommendation_parser - INFO - 📋 CV format check:
2025-10-09 12:58:59,202 - app.tailored_cv.services.recommendation_parser - INFO -   - Top-level keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 12:58:59,202 - app.tailored_cv.services.recommendation_parser - INFO -   - Has metadata: False
2025-10-09 12:58:59,202 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Detected tailored structured CV format (contact/experience/skills)
2025-10-09 12:58:59,203 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Successfully normalized tailored structured CV
2025-10-09 12:58:59,203 - app.tailored_cv.services.cv_tailoring_service - INFO - - Parsed CV data keys: ['contact', 'education', 'experience', 'skills', 'projects']
2025-10-09 12:58:59,203 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔄 Converting skills from List[str] to List[SkillCategory]
2025-10-09 12:58:59,204 - app.tailored_cv.services.cv_tailoring_service - INFO - - Final CV object attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__repr__', '__repr_args__', '__repr_name__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_check_frozen', '_copy_and_set_values', '_get_value', '_iter', 'construct', 'contact', 'copy', 'created_at', 'dict', 'education', 'experience', 'experience_level', 'from_orm', 'json', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'projects', 'schema', 'schema_json', 'skills', 'total_years_experience', 'update_forward_refs', 'updated_at', 'validate']
2025-10-09 12:58:59,213 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Parsed recommendation for Australia_for_UNHCR
2025-10-09 12:58:59,214 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded real CV and recommendation for Australia_for_UNHCR
2025-10-09 12:58:59,214 - app.tailored_cv.services.cv_tailoring_service - INFO - 🎯 Starting CV tailoring for Australia_for_UNHCR - Senior Data Analyst
2025-10-09 12:58:59,214 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [DEBUG] Validating CV structure:
2025-10-09 12:58:59,214 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV object type: <class 'app.tailored_cv.models.cv_models.OriginalCV'>
2025-10-09 12:58:59,215 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__repr__', '__repr_args__', '__repr_name__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_check_frozen', '_copy_and_set_values', '_get_value', '_iter', 'construct', 'contact', 'copy', 'created_at', 'dict', 'education', 'experience', 'experience_level', 'from_orm', 'json', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'projects', 'schema', 'schema_json', 'skills', 'total_years_experience', 'update_forward_refs', 'updated_at', 'validate']
2025-10-09 12:58:59,215 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV data: {
  "contact": {
    "name": "Maheshwor Tiwari",
    "phone": "0414 032 507",
    "email": "maheshtwari99@gmail.com",
    "linkedin": "",
    "location": "Hurstville, NSW, 2220",
    "website": ""
  },
  "education": [],
  "experience": [
    {
      "company": "The Bitrates",
      "title": "Data Analyst",
      "location": "The Bitrates, Sydney, New South Wales, Australia",
      "start_date": "Jul 2024",
      "end_date": "Present",
      "duration": null,
      "bullets": [
        "Designed and implemented 5 Python scripts for data cleaning and preprocessing, improving data pipeline efficiency by 30% and processing 100K records weekly.",
        "Developed 5 machine learning models in Python for predictive analytics, enabling datadriven business decisions and increasing accuracy by 20%."
      ],
      "skills_used": null
    }
  ],
  "projects": [],
  "skills": [
    {
      "category": "Technical Skills",
      "skills": [
        "SQL",
        "Python",
        "Excel",
        "Power BI",
        "VBA",
        "Analytical",
        "Stakeholder Management",
        "Data Warehouse",
        "Data Extraction",
        "Data Analysis",
        "Business Intelligence",
        "ResultsDriven"
      ]
    }
  ],
  "experience_level": null,
  "total_years_experience": null,
  "created_at": null,
  "updated_at": null
}
2025-10-09 12:58:59,215 - app.tailored_cv.services.cv_tailoring_service - INFO - [67929d3c] 🎯 Starting CV tailoring for Australia_for_UNHCR with strategy: education_first
2025-10-09 12:58:59,216 - app.tailored_cv.services.cv_tailoring_service - INFO - [67929d3c] Initial stats:
2025-10-09 12:58:59,216 - app.tailored_cv.services.cv_tailoring_service - INFO - [67929d3c] - Experience entries: 1
2025-10-09 12:58:59,216 - app.tailored_cv.services.cv_tailoring_service - INFO - [67929d3c] - Total bullets: 2
2025-10-09 12:58:59,217 - app.tailored_cv.services.cv_tailoring_service - INFO - [67929d3c] - Skills categories: 1
2025-10-09 12:58:59,217 - app.tailored_cv.services.cv_tailoring_service - INFO - [67929d3c] - Total skills: 12
2025-10-09 12:58:59,217 - app.tailored_cv.services.cv_tailoring_service - INFO - [67929d3c] Critical gaps to address: Business Intelligence, Data Warehouse, Data Extraction, Analytical Models, Analytical
2025-10-09 12:58:59,218 - app.tailored_cv.services.cv_tailoring_service - INFO - [67929d3c] Technical enhancements needed: 
2025-10-09 12:58:59,219 - app.tailored_cv.services.cv_tailoring_service - INFO - [67929d3c] 🤖 Generating tailored CV using AI service...
2025-10-09 12:58:59,220 - app.tailored_cv.services.cv_tailoring_service - INFO - [67929d3c] Attempt 1/5 with temp=0.0
2025-10-09 12:58:59,220 - app.tailored_cv.services.cv_tailoring_service - INFO - [67929d3c] - System prompt length: 10574
2025-10-09 12:58:59,220 - app.tailored_cv.services.cv_tailoring_service - INFO - [67929d3c] - User prompt length: 6840
2025-10-09 12:58:59,220 - app.tailored_cv.services.cv_tailoring_service - ERROR - ❌ CV tailoring failed: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:58:59,221 - app.services.ai_recommendation_generator - ERROR - ❌ [AI GENERATOR] Error during automatic CV tailoring for Australia_for_UNHCR: CV tailoring process failed: generate_response() missing 1 required positional argument: 'user'
2025-10-09 12:58:59,221 - app.services.ai_recommendation_generator - WARNING - ⚠️ [AI GENERATOR] CV tailoring failed for Australia_for_UNHCR
2025-10-09 12:58:59,222 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] AI recommendation generated for Australia_for_UNHCR
2025-10-09 12:58:59,222 - app.routes.skills_analysis - INFO - 🎯 [PIPELINE] Starting tailored CV generation for Australia_for_UNHCR
2025-10-09 12:58:59,222 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:58:59,223 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded CV optimization framework from /Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/tailored_cv/prompts/framework.md
2025-10-09 12:58:59,223 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:58:59,224 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Found AI recommendation file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_125859.json
2025-10-09 12:58:59,225 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Tailored CV found: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202541.txt
2025-10-09 12:58:59,225 - app.routes.skills_analysis - INFO - 📋 [PIPELINE] Pipeline summary for Australia_for_UNHCR:
2025-10-09 12:58:59,225 - app.routes.skills_analysis - INFO -    ✅ Successful: ['jd_analysis', 'cv_jd_matching', 'component_analysis', 'input_recommendation', 'ai_recommendation', 'tailored_cv']
2025-10-09 12:58:59,225 - app.routes.skills_analysis - INFO -    🎉 All steps completed successfully!
2025-10-09 12:58:59,226 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-09 12:58:59,228 - app.services.ai_recommendation_generator - INFO - 🟢 [AI GENERATOR] Latest AI recommendation (Australia_for_UNHCR_ai_recommendation_20251009_125859.json) is up-to-date vs input (Australia_for_UNHCR_input_recommendation_20251009_125850.json); skipping regeneration
2025-10-09 12:58:59,229 - app.services.ats_recommendation_service - INFO - ✅ [TRIGGER] AI recommendation generated successfully for Australia_for_UNHCR
2025-10-09 12:58:59,229 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-09 12:58:59,230 - app.services.ai_recommendation_generator - INFO - 🟢 [AI GENERATOR] Latest AI recommendation (Australia_for_UNHCR_ai_recommendation_20251009_125859.json) is up-to-date vs input (Australia_for_UNHCR_input_recommendation_20251009_125850.json); skipping regeneration
2025-10-09 12:58:59,231 - app.services.ats_recommendation_service - INFO - ✅ [TRIGGER] AI recommendation generated successfully for Australia_for_UNHCR
2025-10-09 12:58:59,332 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 12:59:06,773 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 12:59:07,116 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 12:59:07,117 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:59:07,157 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 12:59:07,158 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:59:07,197 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 12:59:07,198 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 12:59:07,238 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:59:07,238 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 12:59:07,239 - sqlalchemy.engine.Engine - INFO - [generated in 0.00074s] {}
2025-10-09 12:59:07,271 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 12:59:07,288 - app.database - INFO - Database connection successful
2025-10-09 12:59:07,289 - app.main - INFO - ✅ Database connection successful
2025-10-09 12:59:07,307 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 12:59:07,315 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:59:07,315 - sqlalchemy.engine.Engine - INFO - [generated in 0.00083s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:59:07,357 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:59:07,358 - sqlalchemy.engine.Engine - INFO - [cached since 0.04342s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:59:07,382 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:59:07,383 - sqlalchemy.engine.Engine - INFO - [cached since 0.06812s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:59:07,407 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:59:07,407 - sqlalchemy.engine.Engine - INFO - [cached since 0.09298s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:59:07,434 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:59:07,434 - sqlalchemy.engine.Engine - INFO - [cached since 0.1198s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:59:07,454 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:59:07,455 - sqlalchemy.engine.Engine - INFO - [cached since 0.1403s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:59:07,478 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:59:07,478 - sqlalchemy.engine.Engine - INFO - [cached since 0.1638s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:59:07,503 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:59:07,505 - sqlalchemy.engine.Engine - INFO - [cached since 0.1901s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:59:07,525 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:59:07,526 - sqlalchemy.engine.Engine - INFO - [cached since 0.2113s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:59:07,548 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:59:07,549 - sqlalchemy.engine.Engine - INFO - [cached since 0.2342s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:59:07,574 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 12:59:07,574 - sqlalchemy.engine.Engine - INFO - [cached since 0.2599s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 12:59:07,599 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 12:59:07,616 - app.database - INFO - Database tables created successfully
2025-10-09 12:59:07,616 - app.main - INFO - ✅ Database tables ready
2025-10-09 12:59:07,617 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 12:59:07,617 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 12:59:07,631 - app.routes.skills_analysis - INFO - 📊 [API] Fetching analysis results for company: Australia_for_UNHCR
2025-10-09 12:59:07,632 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:59:07,632 - app.utils.path_debug - INFO - 
📌 Starting get_analysis_results
2025-10-09 12:59:07,633 - app.utils.path_debug - INFO -   📂 User base dir: user/munna@gmail.com/cv-analysis
2025-10-09 12:59:07,633 - app.utils.path_debug - INFO -   📂 Company dir: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 12:59:07,642 - app.utils.path_debug - INFO -   📂 Using analysis file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_125812.json
2025-10-09 12:59:07,643 - app.utils.path_debug - INFO -   ✅ Loaded analysis file, size: 26628 bytes
2025-10-09 12:59:19,337 - app.routes.skills_analysis - INFO - 📊 [API] Fetching analysis results for company: Australia_for_UNHCR
2025-10-09 12:59:19,338 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:59:19,339 - app.utils.path_debug - INFO - 
📌 Starting get_analysis_results
2025-10-09 12:59:19,339 - app.utils.path_debug - INFO -   📂 User base dir: user/munna@gmail.com/cv-analysis
2025-10-09 12:59:19,339 - app.utils.path_debug - INFO -   📂 Company dir: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 12:59:19,340 - app.utils.path_debug - INFO -   📂 Using analysis file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_125812.json
2025-10-09 12:59:19,341 - app.utils.path_debug - INFO -   ✅ Loaded analysis file, size: 26628 bytes
2025-10-09 12:59:41,798 - app.routes.ai_recommendations - INFO - 🔍 [AI_RECOMMENDATIONS] Fetching for company: Australia_for_UNHCR, user: munna@gmail.com
2025-10-09 12:59:41,798 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 12:59:41,799 - app.routes.ai_recommendations - INFO - 🔍 [AI_RECOMMENDATIONS] Searching in: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 12:59:41,799 - app.routes.ai_recommendations - INFO - ✅ [AI_RECOMMENDATIONS] Found file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_125859.json
2025-10-09 12:59:41,800 - app.routes.ai_recommendations - INFO - ✅ [AI_RECOMMENDATIONS] Successfully loaded recommendation, content length: 3455
2025-10-09 13:15:29,036 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 13:15:29,099 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 📄 Tailored CV content request for Australia_for_UNHCR from user 4df52e53-b78f-45e9-8946-3b6c00618693
2025-10-09 13:15:29,099 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 13:15:29,100 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 13:15:29,101 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 13:15:29,111 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ Served TAILORED CV content: Australia_for_UNHCR_tailored_cv_20251009_115547.txt from tailored folder (670 characters)
2025-10-09 13:15:34,463 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 13:15:34,463 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: []
2025-10-09 13:15:34,464 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 13:15:34,464 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {}
2025-10-09 13:15:34,464 - app.ai.ai_service - ERROR - ❌ No current provider available for model switching
2025-10-09 13:15:34,465 - app.core.model_dependency - WARNING - ⚠️ Failed to switch to header model gpt-3.5-turbo
2025-10-09 13:15:34,506 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user munna@gmail.com
2025-10-09 13:15:34,569 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 13:15:34,578 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 13:15:34,579 - sqlalchemy.engine.Engine - INFO - [generated in 0.00118s] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 13:15:34,638 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 13:15:35,519 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 13:15:35,536 - app.ai.ai_service - INFO - ✅ Initialized openai provider with model gpt-4o for user munna@gmail.com
2025-10-09 13:15:35,556 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 13:15:35,557 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 13:15:35,557 - sqlalchemy.engine.Engine - INFO - [cached since 0.9796s ago] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 13:15:35,596 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 13:15:35,616 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user munna@gmail.com and provider anthropic
2025-10-09 13:15:35,633 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 13:15:35,634 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 13:15:35,634 - sqlalchemy.engine.Engine - INFO - [cached since 1.057s ago] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 13:15:35,679 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 13:15:35,700 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user munna@gmail.com and provider deepseek
2025-10-09 13:15:35,721 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 13:15:35,724 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 13:15:35,724 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'param_1': 1}
2025-10-09 13:15:35,759 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 13:18:27,461 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 13:18:27,464 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: ['openai']
2025-10-09 13:18:27,464 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 13:18:28,262 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 13:18:28,273 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-4o', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-4o', 'is_current': False}}
2025-10-09 13:18:28,273 - app.ai.ai_service - ERROR - ❌ No current provider available for model switching
2025-10-09 13:18:28,273 - app.ai.ai_service - INFO - 🔄 Available providers: ['openai']
2025-10-09 13:18:28,273 - app.ai.ai_service - INFO - ✅ Switched to openai provider with model gpt-3.5-turbo
2025-10-09 13:18:28,274 - app.core.model_dependency - INFO - 🔄 Switched to model from header: gpt-3.5-turbo
2025-10-09 13:18:28,276 - app.routes.skills_analysis - INFO - 🎯 Preliminary analysis request: CV=maheshwor_tiwari.pdf, JD_length=6014, CONFIG=None
2025-10-09 13:18:28,278 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 13:18:28,280 - app.routes.skills_analysis - INFO - 🏢 Extracted company name: Australia_for_UNHCR
2025-10-09 13:18:28,280 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 13:18:28,284 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 13:18:28,284 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 13:18:28,285 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 13:18:28,285 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 13:18:28,287 - app.routes.skills_analysis - INFO - 🔗 [PRELIM_ANALYSIS] JD URL (latest job_info): https://www.ethicaljobs.com.au/members/australiaforunhcr/data-analyst
2025-10-09 13:18:28,289 - app.routes.skills_analysis - INFO - 📄 [PRELIM_ANALYSIS] Latest CV selected → type=tailored, ts=20251009_115547, json=user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.json, txt=user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.txt
2025-10-09 13:18:28,290 - app.routes.skills_analysis - INFO - 🧪 [PRELIM_ANALYSIS] CV content length=670, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • SQL, Python, Excel, Power BI, VBA, Analytical, Stakeholder Management, Data Warehouse, Data Extraction, Data Analysis, Business Intelligence, Results-Driven  EXPERIENCE Data Analyst         Jul 2024 – Present The Bitrates, Sydney, New South Wales, Australia  • Designed and implemented 5 Python '
2025-10-09 13:18:28,291 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 13:18:28,292 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 13:18:28,292 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 13:18:28,292 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Starting AI-powered skills analysis for maheshwor_tiwari.pdf
2025-10-09 13:18:28,293 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] CV content length: 670 chars
2025-10-09 13:18:28,293 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] JD content length: 6014 chars
2025-10-09 13:18:28,293 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using config: default
2025-10-09 13:18:28,293 - app.routes.skills_analysis - INFO - 🧪 [SKILLS_ANALYSIS] CV preview: 'Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • SQL, Python, Excel, Power BI, VBA, Analytical, Stakeholder Management, Data'
2025-10-09 13:18:28,294 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI provider: openai
2025-10-09 13:18:28,294 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI model: gpt-3.5-turbo
2025-10-09 13:18:28,294 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Provider available: True
2025-10-09 13:18:28,295 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Model from header: gpt-3.5-turbo
2025-10-09 13:18:28,295 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting CV skills with detailed structured analysis...
2025-10-09 13:18:28,295 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 13:18:29,886 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 13:18:29,896 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] Starting response parsing...
2025-10-09 13:18:29,896 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] Raw response preview: 
**SOFT SKILLS:**
- Analytical
- Stakeholder Management
- Results-Driven

**TECHNICAL SKILLS:**
- SQL
- Python
- Excel
- Power BI
- VBA
- Data Warehouse
- Data Extraction
- Data Analysis
- Business Intelligence

**DOMAIN KEYWORDS:**
- N/A...
2025-10-09 13:18:29,897 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] FULL CV RESPONSE: 
**SOFT SKILLS:**
- Analytical
- Stakeholder Management
- Results-Driven

**TECHNICAL SKILLS:**
- SQL
- Python
- Excel
- Power BI
- VBA
- Data Warehouse
- Data Extraction
- Data Analysis
- Business Intelligence

**DOMAIN KEYWORDS:**
- N/A
2025-10-09 13:18:29,897 - app.services.skill_extraction.response_parser - WARNING - ⚠️ [CV] No SOFT_SKILLS variable found in response
2025-10-09 13:18:29,897 - app.services.skill_extraction.response_parser - WARNING - ⚠️ [CV] No TECHNICAL_SKILLS variable found in response
2025-10-09 13:18:29,898 - app.services.skill_extraction.response_parser - WARNING - ⚠️ [CV] No DOMAIN_KEYWORDS variable found in response
2025-10-09 13:18:29,898 - app.services.skill_extraction.response_parser - INFO - 🔄 [CV] Python format not found, trying markdown format...
2025-10-09 13:18:29,900 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Successfully extracted 13 total skills using multi-format parser
2025-10-09 13:18:29,900 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated soft_skills: 3 valid skills
2025-10-09 13:18:29,900 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated technical_skills: 9 valid skills
2025-10-09 13:18:29,901 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated domain_keywords: 1 valid skills
2025-10-09 13:18:29,901 - app.services.skill_extraction.response_parser - INFO - 📊 [CV] Parsing completed:
2025-10-09 13:18:29,901 - app.services.skill_extraction.response_parser - INFO -    Soft Skills (3): ['Analytical', 'Stakeholder Management', 'Results-Driven']
2025-10-09 13:18:29,901 - app.services.skill_extraction.response_parser - INFO -    Technical Skills (9): ['SQL', 'Python', 'Excel']...
2025-10-09 13:18:29,901 - app.services.skill_extraction.response_parser - INFO -    Domain Keywords (1): ['N/A']
2025-10-09 13:18:29,902 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting JD skills with detailed structured analysis...
2025-10-09 13:18:29,902 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 13:18:34,418 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 13:18:34,422 - app.services.skill_extraction.response_parser - INFO - 🔍 [JD] Starting response parsing...
2025-10-09 13:18:34,422 - app.services.skill_extraction.response_parser - INFO - 🔍 [JD] Raw response preview: ## SOFT SKILLS:
- Communication
- Leadership
- Teamwork
- Collaboration
- Negotiation
- Time Management
- Organization
- Adaptability
- Problem-solving
- Analytical Thinking
- Critical Thinking
- Creativity
- Innovation
- Detail-oriented
- Self-motivated
- Proactive
- Results-driven

## TECHNICAL SKILLS:
- Data Analysis
- Data Mining
- Business Intelligence
- Power BI
- SQL
- Excel
- Spreadsheets
- VBA
- Data Models
- SQL Data Warehouse
- Database Knowledge
- Tableau
- Project Management
- Stake...
2025-10-09 13:18:34,423 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Successfully extracted 53 total skills using multi-format parser
2025-10-09 13:18:34,423 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated soft_skills: 17 valid skills
2025-10-09 13:18:34,423 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated technical_skills: 20 valid skills
2025-10-09 13:18:34,424 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated domain_keywords: 16 valid skills
2025-10-09 13:18:34,424 - app.services.skill_extraction.response_parser - INFO - 📊 [JD] Parsing completed:
2025-10-09 13:18:34,424 - app.services.skill_extraction.response_parser - INFO -    Soft Skills (17): ['Communication', 'Leadership', 'Teamwork']...
2025-10-09 13:18:34,424 - app.services.skill_extraction.response_parser - INFO -    Technical Skills (20): ['Data Analysis', 'Data Mining', 'Business Intelligence']...
2025-10-09 13:18:34,424 - app.services.skill_extraction.response_parser - INFO -    Domain Keywords (16): ['Fundraising', 'Humanitarian Emergencies', 'Business Decision-making']...
2025-10-09 13:18:34,425 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using structured analysis as comprehensive analysis...
2025-10-09 13:18:34,425 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Technical Skills (9): ['SQL', 'Python', 'Excel', 'Power BI', 'VBA', 'Data Warehouse', 'Data Extraction', 'Data Analysis', 'Business Intelligence']
2025-10-09 13:18:34,425 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Soft Skills (3): ['Analytical', 'Stakeholder Management', 'Results-Driven']
2025-10-09 13:18:34,426 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Domain Keywords (1): ['N/A']
2025-10-09 13:18:34,426 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Technical Skills (20): ['Data Analysis', 'Data Mining', 'Business Intelligence', 'Power BI', 'SQL', 'Excel', 'Spreadsheets', 'VBA', 'Data Models', 'SQL Data Warehouse', 'Database Knowledge', 'Tableau', 'Project Management', 'Stakeholder Management', 'Data Extraction', 'Marketing Campaigns', 'Clean Data', 'Data Segmentation', 'Data Selections', 'Data Warehousing']
2025-10-09 13:18:34,426 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Soft Skills (17): ['Communication', 'Leadership', 'Teamwork', 'Collaboration', 'Negotiation', 'Time Management', 'Organization', 'Adaptability', 'Problem-solving', 'Analytical Thinking', 'Critical Thinking', 'Creativity', 'Innovation', 'Detail-oriented', 'Self-motivated', 'Proactive', 'Results-driven']
2025-10-09 13:18:34,426 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Domain Keywords (16): ['Fundraising', 'Humanitarian Emergencies', 'Business Decision-making', 'Direct Marketing Campaigns', 'Multi-channel Communication', 'Donor-centricity', 'Data Warehouse Administration', 'Business Requirements', 'Project Management Framework', 'Evidence-based Decision Making', 'Refugee Support', 'Data Utilization', 'Campaign Optimization', 'Communication Purposes', 'Data Governance', 'Best Practice Guidelines']
2025-10-09 13:18:34,427 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] Analysis completed successfully
2025-10-09 13:18:34,427 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 13:18:34,427 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 13:18:34,428 - app.services.skill_extraction.result_saver - INFO - 📁 Result saver initialized with base directory: user/munna@gmail.com/cv-analysis
2025-10-09 13:18:34,428 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 13:18:34,428 - app.routes.skills_analysis - INFO - 🔍 [COMPANY_DETECTION] Looking in: user/munna@gmail.com/cv-analysis/applied_companies
2025-10-09 13:18:34,429 - app.routes.skills_analysis - INFO - 📁 [COMPANY_DETECTION] Found company folder: Australia_for_UNHCR with 5 job_info files
2025-10-09 13:18:34,429 - app.routes.skills_analysis - INFO - 🏢 [COMPANY_DETECTION] Using most recent company folder: Australia_for_UNHCR
2025-10-09 13:18:34,430 - app.routes.skills_analysis - INFO - 📋 [COMPANY_DETECTION] Job info company: Australia for UNHCR
2025-10-09 13:18:34,430 - app.services.skill_extraction.result_saver - INFO - 🏢 Using provided company name: Australia_for_UNHCR -> Australia_for_UNHCR
2025-10-09 13:18:34,430 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 13:18:34,431 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 13:18:34,431 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 13:18:34,432 - app.services.skill_extraction.result_saver - INFO - 💾 Structured CV already exists, preserving it: user/munna@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 13:18:34,433 - app.services.skill_extraction.result_saver - INFO - 💾 Structured CV preserved, skipping save: user/munna@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 13:18:34,434 - app.services.skill_extraction.result_saver - INFO - 💾 Analysis results saved (JSON) to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_131834.json
2025-10-09 13:18:34,435 - app.routes.skills_analysis - INFO - 📁 [FILE_SAVE] Results saved to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_131834.json
2025-10-09 13:18:34,435 - app.routes.skills_analysis - INFO - 🔍 [ANALYZE_MATCH] Starting analyze match assessment...
2025-10-09 13:18:34,440 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 13:18:37,463 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 13:18:37,466 - app.routes.skills_analysis - INFO - ✅ [ANALYZE_MATCH] Analysis completed (length: 1361 chars)
2025-10-09 13:18:37,467 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 13:18:37,468 - app.services.skill_extraction.result_saver - INFO - 📂 Found existing analysis file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_131834.json
2025-10-09 13:18:37,468 - app.services.skill_extraction.result_saver - INFO - 🔍 Looking for analysis file in: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 13:18:37,468 - app.services.skill_extraction.result_saver - INFO - 📄 Using existing file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_131834.json
2025-10-09 13:18:37,470 - app.services.skill_extraction.result_saver - INFO - 📁 [ANALYZE_MATCH] Results appended to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_131834.json
2025-10-09 13:18:37,470 - app.routes.skills_analysis - INFO - 📁 [ANALYZE_MATCH] Results appended to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_131834.json
2025-10-09 13:18:37,471 - app.routes.skills_analysis - INFO - 🔍 [PREEXTRACTED_COMPARISON] Starting pre-extracted skills semantic comparison...
2025-10-09 13:18:37,474 - app.services.skill_extraction.preextracted_comparator - INFO - 🔍 [EXACT_MATCHES] Found 3 exact matches: {'technical_skills': [{'jd_skill': 'Business Intelligence', 'cv_skill': 'Business Intelligence', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Data Analysis', 'cv_skill': 'Data Analysis', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Data Extraction', 'cv_skill': 'Data Extraction', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Excel', 'cv_skill': 'Excel', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Power BI', 'cv_skill': 'Power BI', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'SQL', 'cv_skill': 'SQL', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'VBA', 'cv_skill': 'VBA', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}], 'soft_skills': [{'jd_skill': 'Results-driven', 'cv_skill': 'Results-Driven', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}], 'domain_keywords': []}
2025-10-09 13:18:37,476 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 13:18:58,558 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 13:18:58,565 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Results-driven → Results-Driven
2025-10-09 13:18:58,565 - app.services.skill_extraction.preextracted_comparator - WARNING - ❌ [VALIDATION] technical_skills: matched 20 > CV count 9
2025-10-09 13:18:58,566 - app.services.skill_extraction.preextracted_comparator - INFO - ℹ️ [VALIDATION] technical_skills: matched 20 + missing 10 = 30 vs JD count 20 (acceptable variance)
2025-10-09 13:18:58,566 - app.services.skill_extraction.preextracted_comparator - INFO - ℹ️ [VALIDATION] soft_skills: matched 1 + missing 15 = 16 vs JD count 17 (acceptable variance)
2025-10-09 13:18:58,566 - app.services.skill_extraction.preextracted_comparator - INFO - ℹ️ [VALIDATION] domain_keywords: matched 0 + missing 15 = 15 vs JD count 16 (acceptable variance)
2025-10-09 13:18:58,569 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] CV Skills: Tech=9, Soft=3, Domain=1
2025-10-09 13:18:58,569 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] JD Skills: Tech=20, Soft=17, Domain=16
2025-10-09 13:18:58,570 - app.services.skill_extraction.preextracted_comparator - WARNING - ❌ [VALIDATION] 1 validation error(s) found
2025-10-09 13:18:58,570 - app.services.skill_extraction.preextracted_comparator - WARNING - ⚠️ [COMPARISON] JSON results failed validation, attempting to fix inconsistencies
2025-10-09 13:18:58,570 - app.services.skill_extraction.preextracted_comparator - INFO - 🔧 [FIX] Attempting to fix inconsistent AI response
2025-10-09 13:18:58,570 - app.services.skill_extraction.preextracted_comparator - WARNING - 🔧 [FIX] technical_skills: Trimming 20 matches to 9 (CV limit)
2025-10-09 13:18:58,570 - app.services.skill_extraction.preextracted_comparator - WARNING - 🔧 [FIX] technical_skills: Too many items (30 > 20), trimming missing items
2025-10-09 13:18:58,570 - app.services.skill_extraction.preextracted_comparator - INFO - 🔧 [FIX] soft_skills: Adding 1 missing JD skills
2025-10-09 13:18:58,571 - app.services.skill_extraction.preextracted_comparator - INFO - 🔧 [FIX] domain_keywords: Adding 1 missing JD skills
2025-10-09 13:18:58,571 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [FIX] Finished fixing AI response inconsistencies
2025-10-09 13:18:58,571 - app.services.skill_extraction.preextracted_comparator - INFO - ℹ️ [VALIDATION] soft_skills: matched 1 + missing 19 = 20 vs JD count 17 (acceptable variance)
2025-10-09 13:18:58,571 - app.services.skill_extraction.preextracted_comparator - INFO - ℹ️ [VALIDATION] domain_keywords: matched 0 + missing 20 = 20 vs JD count 16 (acceptable variance)
2025-10-09 13:18:58,572 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] CV Skills: Tech=9, Soft=3, Domain=1
2025-10-09 13:18:58,572 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] JD Skills: Tech=20, Soft=17, Domain=16
2025-10-09 13:18:58,572 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [VALIDATION] Comparison results passed validation
2025-10-09 13:18:58,572 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [COMPARISON] Successfully fixed AI response inconsistencies
2025-10-09 13:18:58,574 - app.routes.skills_analysis - INFO - ✅ [PREEXTRACTED_COMPARISON] Completed (length: 6657 chars)
2025-10-09 13:18:58,574 - app.services.skill_extraction.result_saver - INFO - 🏢 [PREEXTRACTED_COMPARISON] Inferred company from saved_file_path: Australia_for_UNHCR
2025-10-09 13:18:58,579 - app.services.skill_extraction.result_saver - INFO - 📁 [PREEXTRACTED_COMPARISON] Results appended to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_131834.json
2025-10-09 13:18:58,579 - app.routes.skills_analysis - INFO - 📁 [PREEXTRACTED_COMPARISON] Results appended to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_131834.json
2025-10-09 13:18:58,580 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 13:18:58,580 - app.routes.skills_analysis - INFO - ♻️ [PIPELINE] (preliminary-analysis) JD file already exists: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/jd_original_20251009_125637.json
2025-10-09 13:18:58,582 - app.routes.skills_analysis - INFO - ♻️ [JOBS] Job already exists in saved_jobs.json: Data Analyst at Australia for UNHCR
2025-10-09 13:18:58,583 - app.routes.skills_analysis - INFO - 🚀 [PIPELINE] (preliminary-analysis) scheduling for company: Australia_for_UNHCR
2025-10-09 13:18:58,583 - app.routes.skills_analysis - INFO - 🚀 [PIPELINE] Scheduling JD analysis and CV–JD matching for 'Australia_for_UNHCR'...
2025-10-09 13:18:58,584 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 13:18:58,584 - app.routes.skills_analysis - INFO - 🔧 [PIPELINE] Starting JD analysis for Australia_for_UNHCR (force_refresh=True)
2025-10-09 13:18:58,584 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 13:18:58,585 - app.services.jd_analysis.jd_analyzer - INFO - 🔄 Analyzing JD for Australia_for_UNHCR (force_refresh=True)
2025-10-09 13:18:58,586 - app.services.jd_analysis.jd_analyzer - INFO - 📄 Analyzing JD file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/jd_original_20251009_125637.json
2025-10-09 13:18:58,586 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 13:19:00,309 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 13:19:00,312 - app.services.jd_analysis.jd_analyzer - INFO - ✅ JD analysis completed. Found 0 required and 0 preferred keywords
2025-10-09 13:19:00,313 - app.services.jd_analysis.jd_analyzer - INFO - ♻️ JD analysis already exists, reusing: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_jd_analysis_20251008_201603.json
2025-10-09 13:19:00,313 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] JD analysis saved for Australia_for_UNHCR at: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_jd_analysis_20251008_201603.json
2025-10-09 13:19:00,317 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 13:19:00,317 - app.services.jd_usage_tracker - ERROR - ❌ [JD_TRACKER] Error recording JD usage: Either jd_url or jd_text must be provided
2025-10-09 13:19:00,317 - app.routes.skills_analysis - INFO - 📝 [PIPELINE] JD usage recorded for Australia_for_UNHCR
2025-10-09 13:19:00,317 - app.routes.skills_analysis - INFO - 🔧 [PIPELINE] Starting CV–JD matching for Australia_for_UNHCR
2025-10-09 13:19:00,317 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 13:19:00,318 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 13:19:00,319 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 13:19:00,319 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 13:19:00,320 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] CV–JD matching will use CV TXT: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.txt
2025-10-09 13:19:00,321 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 📄 [CV_JD_MATCHER] Using provided CV path: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.txt
2025-10-09 13:19:00,322 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 📄 [CV_JD_MATCHER] Read CV from: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.txt
2025-10-09 13:19:00,322 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🧪 [CV_JD_MATCHER] CV content length=668, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • SQL, Python, Excel, Power BI, VBA, Analytical, Stakeholder Management, Data Warehouse, Data Extraction, Data Analysis, Business Intelligence, Results-Driven  EXPERIENCE Data Analyst         Jul 2024 – Present The Bitrates, Sydney, New South Wales, Australia  • Designed and implemented 5 Python '
2025-10-09 13:19:00,323 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🔍 Found 7 required and 4 preferred keywords
2025-10-09 13:19:00,323 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 13:19:02,550 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 13:19:02,552 - app.services.cv_jd_matching.cv_jd_matcher - INFO - ✅ CV-JD matching completed. Found 6 matched required keywords
2025-10-09 13:19:02,552 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 13:19:02,552 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 13:19:02,553 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 💾 Saved CV-JD match results to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_cv_jd_matching_20251009_131902.json
2025-10-09 13:19:02,553 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] CV–JD match results saved for Australia_for_UNHCR
2025-10-09 13:19:02,553 - app.routes.skills_analysis - INFO - 🔍 [PIPELINE] Starting component analysis for Australia_for_UNHCR
2025-10-09 13:19:02,556 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 13:19:02,557 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 13:19:02,557 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 13:19:02,558 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 13:19:02,560 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Latest CV selected → type=tailored, ts=20251009_115547, json=user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.json, txt=user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.txt
2025-10-09 13:19:02,561 - app.routes.skills_analysis - INFO - 🧪 [PIPELINE] CV content length=670, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • SQL, Python, Excel, Power BI, VBA, Analytical, Stakeholder Management, Data Warehouse, Data Extraction, Data Analysis, Business Intelligence, Results-Driven  EXPERIENCE Data Analyst         Jul 2024 – Present The Bitrates, Sydney, New South Wales, Australia  • Designed and implemented 5 Python '
2025-10-09 13:19:02,561 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 13:19:02,562 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Required files found, proceeding with component analysis
2025-10-09 13:19:02,562 - app.services.ats.modular_ats_orchestrator - INFO - ===== [MODULAR ATS] Starting component analysis for: Australia_for_UNHCR =====
2025-10-09 13:19:02,563 - app.services.ats.component_assembler - INFO - ===== [ASSEMBLER] Starting component assembly for: Australia_for_UNHCR =====
2025-10-09 13:19:02,563 - app.services.ats.component_assembler - INFO - 📄 [ASSEMBLER] Using CV text provided by caller
2025-10-09 13:19:02,570 - app.services.ats.component_assembler - WARNING - [ASSEMBLER] Match results not found: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/cv_jd_match_results.json
2025-10-09 13:19:02,570 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Starting parallel component analyses...
2025-10-09 13:19:02,572 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Requesting skills relevance analysis...
2025-10-09 13:19:02,573 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 13:19:02,574 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Requirement bonus using match file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_cv_jd_matching_20251009_131902.json
2025-10-09 13:19:02,589 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Using existing match_counts from file
2025-10-09 13:19:02,590 - app.services.ats.requirement_bonus_calculator - INFO - [ATS][BONUS] required_total=7 matched_required=6 missing_required=1 required_bonus=3.00 required_penalty=0.00 preferred_total=4 matched_preferred=0 missing_preferred=4 preferred_bonus=0.00 preferred_penalty=-0.60 total_bonus=2.40
2025-10-09 13:19:02,591 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Requirement bonus calculated: 2.40 points
2025-10-09 13:19:10,838 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 13:19:10,848 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Raw response length: 4162
2025-10-09 13:19:10,848 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Raw response preview: {
 "skills_analysis": [
  {
   "skill": "SQL",
   "cv_evidence": "Proficient in SQL",
   "jd_application": "Addressing data extract requirements for direct marketing campaigns, manipulating data for b
2025-10-09 13:19:10,849 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Cleaned response: {
 "skills_analysis": [
  {
   "skill": "SQL",
   "cv_evidence": "Proficient in SQL",
   "jd_application": "Addressing data extract requirements for direct marketing campaigns, manipulating data for b
2025-10-09 13:19:10,850 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Direct parse successful
2025-10-09 13:19:10,850 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Analysis completed. Score: 78.0
2025-10-09 13:19:10,850 - app.services.ats.components.experience_analyzer - INFO - [EXPERIENCE] Requesting experience alignment analysis...
2025-10-09 13:19:10,851 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 13:19:13,765 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 13:19:13,775 - app.services.ats.components.experience_analyzer - INFO - [EXPERIENCE] Analysis completed. Score: 75.0
2025-10-09 13:19:13,775 - app.services.ats.components.industry_analyzer - INFO - [INDUSTRY] Requesting industry fit analysis...
2025-10-09 13:19:13,776 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 13:19:16,066 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 13:19:16,068 - app.services.ats.components.industry_analyzer - INFO - [INDUSTRY] Analysis completed. Score: 60.0
2025-10-09 13:19:16,071 - app.services.ats.components.seniority_analyzer - INFO - [SENIORITY] Requesting role seniority analysis...
2025-10-09 13:19:16,071 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 13:19:20,675 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 13:19:20,677 - app.services.ats.components.seniority_analyzer - INFO - [SENIORITY] Analysis completed. Score: 20.0
2025-10-09 13:19:20,678 - app.services.ats.components.technical_analyzer - INFO - [TECHNICAL] Requesting technical depth analysis...
2025-10-09 13:19:20,678 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 13:19:22,824 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 13:19:22,826 - app.services.ats.components.technical_analyzer - INFO - [TECHNICAL] Analysis completed. Score: 90.0
2025-10-09 13:19:22,828 - app.services.ats.component_assembler - INFO - [ASSEMBLER] All component analyses completed successfully
2025-10-09 13:19:22,828 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Validating cross-analyzer consistency...
2025-10-09 13:19:22,828 - app.services.ats.components.consistency_validator - ERROR - [CONSISTENCY] Validation failed: unsupported operand type(s) for -: 'str' and 'int'
2025-10-09 13:19:22,828 - app.services.ats.component_assembler - WARNING - [ASSEMBLER] Inconsistencies detected in analysis results
2025-10-09 13:19:22,829 - app.services.ats.component_assembler - WARNING - [ASSEMBLER] Confidence score: 100%
2025-10-09 13:19:22,834 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Results saved to: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_131834.json
2025-10-09 13:19:22,834 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Starting ATS score calculation...
2025-10-09 13:19:22,835 - app.services.ats.ats_score_calculator - INFO - [ATS] Starting comprehensive ATS score calculation
2025-10-09 13:19:22,836 - app.services.ats.ats_score_calculator - INFO - [ATS] Match rates - Tech: 45.0%, Domain: 0.0%, Soft: 5.0%
2025-10-09 13:19:22,836 - app.services.ats.ats_score_calculator - INFO - [ATS] Missing counts - Tech: 11, Domain: 20, Soft: 19
2025-10-09 13:19:22,836 - app.services.ats.ats_score_calculator - INFO - [ATS] Category 1 - Tech: 9.0, Domain: 0.0, Soft: 0.8, Total: 9.8
2025-10-09 13:19:22,836 - app.services.ats.ats_score_calculator - INFO - [ATS] Category 2 - Core: 15.9, Exp: 4.2, Potential: 6.0, Company: 0.8, Total: 26.9
2025-10-09 13:19:22,836 - app.services.ats.ats_score_calculator - INFO - [ATS] Final ATS Score: 39.0/100 (❌ Poor fit)
2025-10-09 13:19:22,838 - app.services.ats.component_assembler - INFO - [ASSEMBLER] ATS calculation completed. Score: 39.0/100 (❌ Poor fit)
2025-10-09 13:19:22,839 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 13:19:22,841 - app.services.ats_recommendation_service - INFO - Final ATS Score: 39.0375
2025-10-09 13:19:22,841 - app.services.ats_recommendation_service - INFO - Category Status: ❌ Poor fit
2025-10-09 13:19:22,842 - app.services.ats_recommendation_service - INFO - Successfully extracted comprehensive recommendation data for Australia_for_UNHCR
2025-10-09 13:19:22,845 - app.services.ats_recommendation_service - INFO - Successfully created recommendation file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_131922.json
2025-10-09 13:19:22,863 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 13:19:22,866 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 13:19:22,866 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] {'email_1': 'munna@gmail.com'}
2025-10-09 13:19:22,901 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 13:19:22,901 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 13:19:22,929 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 13:19:22,930 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] {'user_id': '4df52e53-b78f-45e9-8946-3b6c00618693', 'company_id': 12, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_131922.json', 'file_path': 'user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_131922.json', 'file_size': 26154, 'sha256': '28309c68fdb3616ba1a9890dcdb7cb721a232eebf95a6f39791043f572bedb31', 'timestamp': '20251009_131922'}
2025-10-09 13:19:22,954 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 13:19:22,954 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] {'user_id': '4df52e53-b78f-45e9-8946-3b6c00618693', 'company_id': 12, 'kind': 'input_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 156}
2025-10-09 13:19:22,977 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 13:19:22,995 - app.services.ats_recommendation_service - INFO - Successfully created AI recommendation prompt: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_prompt_recommendation.py
2025-10-09 13:19:22,995 - app.services.ats_recommendation_service - INFO - 🤖 [TRIGGER] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-09 13:19:22,996 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 13:19:22,996 - app.services.ats_recommendation_service - INFO - 📋 [TRIGGER] AI generation scheduled as background task for Australia_for_UNHCR
2025-10-09 13:19:22,996 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Recommendation file created for Australia_for_UNHCR
2025-10-09 13:19:22,997 - app.services.ats.component_assembler - INFO - ===== [ASSEMBLER] Completed assembly. Scores: skills=78.0 exp=75.0 industry=60.0 seniority=20.0 tech=90.0 =====
2025-10-09 13:19:22,997 - app.services.ats.modular_ats_orchestrator - INFO - ===== [MODULAR ATS] Component analysis completed for: Australia_for_UNHCR =====
2025-10-09 13:19:22,997 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Component analysis completed for Australia_for_UNHCR
2025-10-09 13:19:22,997 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] Component scores extracted: 23 scores
2025-10-09 13:19:22,998 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] skills_relevance: 78.0
2025-10-09 13:19:22,998 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] experience_alignment: 75.0
2025-10-09 13:19:22,998 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] industry_fit: 60.0
2025-10-09 13:19:22,998 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] role_seniority: 20.0
2025-10-09 13:19:22,998 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] technical_depth: 90.0
2025-10-09 13:19:22,998 - app.routes.skills_analysis - INFO - 🎯 [PIPELINE] ATS Score calculated: 39.0375
2025-10-09 13:19:22,999 - app.routes.skills_analysis - INFO - 📋 [PIPELINE] Creating input recommendation file for Australia_for_UNHCR
2025-10-09 13:19:22,999 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 13:19:23,000 - app.services.ats_recommendation_service - INFO - Final ATS Score: 39.0375
2025-10-09 13:19:23,000 - app.services.ats_recommendation_service - INFO - Category Status: ❌ Poor fit
2025-10-09 13:19:23,000 - app.services.ats_recommendation_service - INFO - Successfully extracted comprehensive recommendation data for Australia_for_UNHCR
2025-10-09 13:19:23,002 - app.services.ats_recommendation_service - INFO - Successfully created recommendation file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_131923.json
2025-10-09 13:19:23,020 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 13:19:23,021 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 13:19:23,021 - sqlalchemy.engine.Engine - INFO - [cached since 0.1555s ago] {'email_1': 'munna@gmail.com'}
2025-10-09 13:19:23,060 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 13:19:23,060 - sqlalchemy.engine.Engine - INFO - [cached since 0.1596s ago] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 13:19:23,083 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 13:19:23,084 - sqlalchemy.engine.Engine - INFO - [cached since 0.1545s ago] {'user_id': '4df52e53-b78f-45e9-8946-3b6c00618693', 'company_id': 12, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_131923.json', 'file_path': 'user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_131923.json', 'file_size': 26154, 'sha256': '28309c68fdb3616ba1a9890dcdb7cb721a232eebf95a6f39791043f572bedb31', 'timestamp': '20251009_131923'}
2025-10-09 13:19:23,106 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 13:19:23,128 - app.services.ats_recommendation_service - WARNING - ⚠️ [DB] Failed to register input recommendation: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "uq_company_files_dedupe"
DETAIL:  Key (user_id, company_id, file_type, sha256)=(4df52e53-b78f-45e9-8946-3b6c00618693, 12, input_recommendation, 28309c68fdb3616ba1a9890dcdb7cb721a232eebf95a6f39791043f572bedb31) already exists.

[SQL: INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at]
[parameters: {'user_id': '4df52e53-b78f-45e9-8946-3b6c00618693', 'company_id': 12, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_131923.json', 'file_path': 'user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_131923.json', 'file_size': 26154, 'sha256': '28309c68fdb3616ba1a9890dcdb7cb721a232eebf95a6f39791043f572bedb31', 'timestamp': '20251009_131923'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-10-09 13:19:23,129 - app.services.ats_recommendation_service - INFO - Successfully created AI recommendation prompt: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_prompt_recommendation.py
2025-10-09 13:19:23,129 - app.services.ats_recommendation_service - INFO - 🤖 [TRIGGER] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-09 13:19:23,129 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 13:19:23,129 - app.services.ats_recommendation_service - INFO - 📋 [TRIGGER] AI generation scheduled as background task for Australia_for_UNHCR
2025-10-09 13:19:23,130 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Input recommendation file created for Australia_for_UNHCR
2025-10-09 13:19:23,130 - app.routes.skills_analysis - INFO - 🤖 [PIPELINE] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-09 13:19:23,130 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 13:19:23,131 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-09 13:19:23,133 - app.services.ai_recommendation_generator - INFO - 🟡 [AI GENERATOR] Input recommendation is newer (ai_mtime=1759975139.0242052, input_mtime=1759976363.0020752); regenerating AI recommendation
2025-10-09 13:19:23,133 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 13:19:23,133 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 13:19:23,134 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 13:19:23,135 - app.services.ai_recommendation_generator - ERROR - ❌ [AI GENERATOR] Error checking CV freshness: 'str' object has no attribute 'timestamp'
2025-10-09 13:19:23,137 - app.services.ai_recommendation_generator - INFO - 📋 [AI GENERATOR] Generated AI prompt for Australia_for_UNHCR using centralized template (11974 characters)
2025-10-09 13:19:23,137 - app.services.ai_recommendation_generator - INFO - 🧠 [AI GENERATOR] Executing AI prompt for Australia_for_UNHCR
2025-10-09 13:19:23,137 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 13:19:28,641 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 13:19:28,644 - app.services.ai_recommendation_generator - INFO - 🧠 [AI GENERATOR] AI response generated - Provider: openai, Model: gpt-3.5-turbo
2025-10-09 13:19:28,644 - app.services.ai_recommendation_generator - INFO - 💰 [AI GENERATOR] Cost: $0.0045, Tokens: 3426
2025-10-09 13:19:28,645 - app.services.ai_recommendation_generator - INFO - 💾 [AI GENERATOR] Saved AI recommendation: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_131928.json (3.7KB)
2025-10-09 13:19:28,664 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 13:19:28,665 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 13:19:28,665 - sqlalchemy.engine.Engine - INFO - [cached since 5.799s ago] {'email_1': 'munna@gmail.com'}
2025-10-09 13:19:28,700 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 13:19:28,701 - sqlalchemy.engine.Engine - INFO - [cached since 5.8s ago] {'user_id_1': '4df52e53-b78f-45e9-8946-3b6c00618693', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 13:19:28,726 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 13:19:28,726 - sqlalchemy.engine.Engine - INFO - [cached since 5.797s ago] {'user_id': '4df52e53-b78f-45e9-8946-3b6c00618693', 'company_id': 12, 'file_type': 'ai_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_ai_recommendation_20251009_131928.json', 'file_path': 'user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_131928.json', 'file_size': 3766, 'sha256': 'bd2021387f9cabdb5dd169f60d6d05c5a4f9fa6a7a7e9757b058c39a947e95ef', 'timestamp': '20251009_131928'}
2025-10-09 13:19:28,750 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 13:19:28,750 - sqlalchemy.engine.Engine - INFO - [cached since 5.797s ago] {'user_id': '4df52e53-b78f-45e9-8946-3b6c00618693', 'company_id': 12, 'kind': 'ai_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 158}
2025-10-09 13:19:28,772 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 13:19:28,792 - app.services.ai_recommendation_generator - INFO - ✅ [AI GENERATOR] AI recommendation generated and saved for Australia_for_UNHCR
2025-10-09 13:19:28,792 - app.services.ai_recommendation_generator - INFO - 📄 File: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_125859.json
2025-10-09 13:19:28,792 - app.services.ai_recommendation_generator - INFO - 💰 Cost: $0.0045
2025-10-09 13:19:28,792 - app.services.ai_recommendation_generator - INFO - 🔤 Tokens: 3426
2025-10-09 13:19:28,793 - app.services.ai_recommendation_generator - INFO - 🚀 [AI GENERATOR] Starting automatic CV tailoring for Australia_for_UNHCR
2025-10-09 13:19:28,793 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 13:19:28,795 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded CV optimization framework from /Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/tailored_cv/prompts/framework.md
2025-10-09 13:19:28,795 - app.tailored_cv.services.cv_tailoring_service - INFO - Loading real data for Australia_for_UNHCR
2025-10-09 13:19:28,795 - app.tailored_cv.services.cv_tailoring_service - INFO - Company folder: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 13:19:28,796 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 13:19:28,796 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 13:19:28,797 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/munna@gmail.com/cv-analysis
2025-10-09 13:19:28,798 - app.tailored_cv.services.cv_tailoring_service - INFO - 📄 [TAILORING] Using latest CV via unified selector → type=tailored, ts=20251009_115547, path=user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.json
2025-10-09 13:19:28,798 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [DEBUG] Loading CV from user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.json
2025-10-09 13:19:28,799 - app.tailored_cv.services.cv_tailoring_service - INFO - - First 200 chars: {   "contact": {     "name": "Maheshwor Tiwari",     "phone": "0414 032 507",     "email": "maheshtwari99@gmail.com",     "linkedin": "",     "location": "Hurstville, NSW, 2220",     "website": ""   }
2025-10-09 13:19:28,799 - app.tailored_cv.services.recommendation_parser - INFO - 📂 Loading CV from: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_115547.json
2025-10-09 13:19:28,799 - app.tailored_cv.services.recommendation_parser - INFO - 📋 CV format check:
2025-10-09 13:19:28,800 - app.tailored_cv.services.recommendation_parser - INFO -   - Top-level keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 13:19:28,800 - app.tailored_cv.services.recommendation_parser - INFO -   - Has metadata: False
2025-10-09 13:19:28,800 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Detected tailored structured CV format (contact/experience/skills)
2025-10-09 13:19:28,800 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Successfully normalized tailored structured CV
2025-10-09 13:19:28,800 - app.tailored_cv.services.cv_tailoring_service - INFO - - Parsed CV data keys: ['contact', 'education', 'experience', 'skills', 'projects']
2025-10-09 13:19:28,800 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔄 Converting skills from List[str] to List[SkillCategory]
2025-10-09 13:19:28,801 - app.tailored_cv.services.cv_tailoring_service - INFO - - Final CV object attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__repr__', '__repr_args__', '__repr_name__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_check_frozen', '_copy_and_set_values', '_get_value', '_iter', 'construct', 'contact', 'copy', 'created_at', 'dict', 'education', 'experience', 'experience_level', 'from_orm', 'json', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'projects', 'schema', 'schema_json', 'skills', 'total_years_experience', 'update_forward_refs', 'updated_at', 'validate']
2025-10-09 13:19:28,807 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Parsed recommendation for Australia_for_UNHCR
2025-10-09 13:19:28,808 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded real CV and recommendation for Australia_for_UNHCR
2025-10-09 13:19:28,808 - app.tailored_cv.services.cv_tailoring_service - INFO - 🎯 Starting CV tailoring for Australia_for_UNHCR - Senior Data Analyst
2025-10-09 13:19:28,809 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [DEBUG] Validating CV structure:
2025-10-09 13:19:28,809 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV object type: <class 'app.tailored_cv.models.cv_models.OriginalCV'>
2025-10-09 13:19:28,810 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__repr__', '__repr_args__', '__repr_name__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_check_frozen', '_copy_and_set_values', '_get_value', '_iter', 'construct', 'contact', 'copy', 'created_at', 'dict', 'education', 'experience', 'experience_level', 'from_orm', 'json', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'projects', 'schema', 'schema_json', 'skills', 'total_years_experience', 'update_forward_refs', 'updated_at', 'validate']
2025-10-09 13:19:28,810 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV data: {
  "contact": {
    "name": "Maheshwor Tiwari",
    "phone": "0414 032 507",
    "email": "maheshtwari99@gmail.com",
    "linkedin": "",
    "location": "Hurstville, NSW, 2220",
    "website": ""
  },
  "education": [],
  "experience": [
    {
      "company": "The Bitrates",
      "title": "Data Analyst",
      "location": "The Bitrates, Sydney, New South Wales, Australia",
      "start_date": "Jul 2024",
      "end_date": "Present",
      "duration": null,
      "bullets": [
        "Designed and implemented 5 Python scripts for data cleaning and preprocessing, improving data pipeline efficiency by 30% and processing 100K records weekly.",
        "Developed 5 machine learning models in Python for predictive analytics, enabling datadriven business decisions and increasing accuracy by 20%."
      ],
      "skills_used": null
    }
  ],
  "projects": [],
  "skills": [
    {
      "category": "Technical Skills",
      "skills": [
        "SQL",
        "Python",
        "Excel",
        "Power BI",
        "VBA",
        "Analytical",
        "Stakeholder Management",
        "Data Warehouse",
        "Data Extraction",
        "Data Analysis",
        "Business Intelligence",
        "ResultsDriven"
      ]
    }
  ],
  "experience_level": null,
  "total_years_experience": null,
  "created_at": null,
  "updated_at": null
}
2025-10-09 13:19:28,811 - app.tailored_cv.services.cv_tailoring_service - INFO - [64bc3a1a] 🎯 Starting CV tailoring for Australia_for_UNHCR with strategy: education_first
2025-10-09 13:19:28,811 - app.tailored_cv.services.cv_tailoring_service - INFO - [64bc3a1a] Initial stats:
2025-10-09 13:19:28,811 - app.tailored_cv.services.cv_tailoring_service - INFO - [64bc3a1a] - Experience entries: 1
2025-10-09 13:19:28,811 - app.tailored_cv.services.cv_tailoring_service - INFO - [64bc3a1a] - Total bullets: 2
2025-10-09 13:19:28,811 - app.tailored_cv.services.cv_tailoring_service - INFO - [64bc3a1a] - Skills categories: 1
2025-10-09 13:19:28,812 - app.tailored_cv.services.cv_tailoring_service - INFO - [64bc3a1a] - Total skills: 12
2025-10-09 13:19:28,812 - app.tailored_cv.services.cv_tailoring_service - INFO - [64bc3a1a] Critical gaps to address: Business Intelligence, Direct Marketing Campaigns, VBA, Detail-oriented, Analytical
2025-10-09 13:19:28,812 - app.tailored_cv.services.cv_tailoring_service - INFO - [64bc3a1a] Technical enhancements needed: 
2025-10-09 13:19:28,813 - app.tailored_cv.services.cv_tailoring_service - INFO - [64bc3a1a] 🤖 Generating tailored CV using AI service...
2025-10-09 13:19:28,813 - app.tailored_cv.services.cv_tailoring_service - INFO - [64bc3a1a] Attempt 1/5 with temp=0.0
2025-10-09 13:19:28,813 - app.tailored_cv.services.cv_tailoring_service - INFO - [64bc3a1a] - System prompt length: 10574
2025-10-09 13:19:28,813 - app.tailored_cv.services.cv_tailoring_service - INFO - [64bc3a1a] - User prompt length: 6918
2025-10-09 13:19:28,813 - app.tailored_cv.services.cv_tailoring_service - ERROR - ❌ CV tailoring failed: generate_response() missing 1 required positional argument: 'user'
2025-10-09 13:19:28,813 - app.services.ai_recommendation_generator - ERROR - ❌ [AI GENERATOR] Error during automatic CV tailoring for Australia_for_UNHCR: CV tailoring process failed: generate_response() missing 1 required positional argument: 'user'
2025-10-09 13:19:28,814 - app.services.ai_recommendation_generator - WARNING - ⚠️ [AI GENERATOR] CV tailoring failed for Australia_for_UNHCR
2025-10-09 13:19:28,814 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] AI recommendation generated for Australia_for_UNHCR
2025-10-09 13:19:28,814 - app.routes.skills_analysis - INFO - 🎯 [PIPELINE] Starting tailored CV generation for Australia_for_UNHCR
2025-10-09 13:19:28,815 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 13:19:28,815 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded CV optimization framework from /Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/tailored_cv/prompts/framework.md
2025-10-09 13:19:28,815 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 13:19:28,816 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Found AI recommendation file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_131928.json
2025-10-09 13:19:28,816 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Tailored CV found: user/munna@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251008_202541.txt
2025-10-09 13:19:28,816 - app.routes.skills_analysis - INFO - 📋 [PIPELINE] Pipeline summary for Australia_for_UNHCR:
2025-10-09 13:19:28,816 - app.routes.skills_analysis - INFO -    ✅ Successful: ['jd_analysis', 'cv_jd_matching', 'component_analysis', 'input_recommendation', 'ai_recommendation', 'tailored_cv']
2025-10-09 13:19:28,817 - app.routes.skills_analysis - INFO -    🎉 All steps completed successfully!
2025-10-09 13:19:28,817 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-09 13:19:28,818 - app.services.ai_recommendation_generator - INFO - 🟢 [AI GENERATOR] Latest AI recommendation (Australia_for_UNHCR_ai_recommendation_20251009_131928.json) is up-to-date vs input (Australia_for_UNHCR_input_recommendation_20251009_131923.json); skipping regeneration
2025-10-09 13:19:28,819 - app.services.ats_recommendation_service - INFO - ✅ [TRIGGER] AI recommendation generated successfully for Australia_for_UNHCR
2025-10-09 13:19:28,819 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-09 13:19:28,821 - app.services.ai_recommendation_generator - INFO - 🟢 [AI GENERATOR] Latest AI recommendation (Australia_for_UNHCR_ai_recommendation_20251009_131928.json) is up-to-date vs input (Australia_for_UNHCR_input_recommendation_20251009_131923.json); skipping regeneration
2025-10-09 13:19:28,822 - app.services.ats_recommendation_service - INFO - ✅ [TRIGGER] AI recommendation generated successfully for Australia_for_UNHCR
2025-10-09 13:19:28,926 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 13:19:33,899 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 13:19:34,227 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 13:19:34,227 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 13:19:34,268 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 13:19:34,268 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 13:19:34,314 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 13:19:34,315 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 13:19:34,356 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 13:19:34,356 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 13:19:34,356 - sqlalchemy.engine.Engine - INFO - [generated in 0.00061s] {}
2025-10-09 13:19:34,400 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 13:19:34,424 - app.database - INFO - Database connection successful
2025-10-09 13:19:34,425 - app.main - INFO - ✅ Database connection successful
2025-10-09 13:19:34,447 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 13:19:34,453 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 13:19:34,453 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 13:19:34,494 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 13:19:34,494 - sqlalchemy.engine.Engine - INFO - [cached since 0.04193s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 13:19:34,517 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 13:19:34,517 - sqlalchemy.engine.Engine - INFO - [cached since 0.0645s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 13:19:34,541 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 13:19:34,541 - sqlalchemy.engine.Engine - INFO - [cached since 0.08905s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 13:19:34,564 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 13:19:34,565 - sqlalchemy.engine.Engine - INFO - [cached since 0.1121s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 13:19:34,594 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 13:19:34,595 - sqlalchemy.engine.Engine - INFO - [cached since 0.1426s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 13:19:34,619 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 13:19:34,620 - sqlalchemy.engine.Engine - INFO - [cached since 0.1672s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 13:19:34,639 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 13:19:34,639 - sqlalchemy.engine.Engine - INFO - [cached since 0.1868s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 13:19:34,658 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 13:19:34,658 - sqlalchemy.engine.Engine - INFO - [cached since 0.2059s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 13:19:34,682 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 13:19:34,682 - sqlalchemy.engine.Engine - INFO - [cached since 0.2294s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 13:19:34,704 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 13:19:34,705 - sqlalchemy.engine.Engine - INFO - [cached since 0.2523s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 13:19:34,728 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 13:19:34,744 - app.database - INFO - Database tables created successfully
2025-10-09 13:19:34,744 - app.main - INFO - ✅ Database tables ready
2025-10-09 13:19:34,744 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 13:19:34,745 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 13:19:34,756 - app.routes.skills_analysis - INFO - 📊 [API] Fetching analysis results for company: Australia_for_UNHCR
2025-10-09 13:19:34,756 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 13:19:34,757 - app.utils.path_debug - INFO - 
📌 Starting get_analysis_results
2025-10-09 13:19:34,757 - app.utils.path_debug - INFO -   📂 User base dir: user/munna@gmail.com/cv-analysis
2025-10-09 13:19:34,757 - app.utils.path_debug - INFO -   📂 Company dir: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 13:19:34,760 - app.utils.path_debug - INFO -   📂 Using analysis file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_131834.json
2025-10-09 13:19:34,761 - app.utils.path_debug - INFO -   ✅ Loaded analysis file, size: 29661 bytes
2025-10-09 13:19:48,910 - app.routes.skills_analysis - INFO - 📊 [API] Fetching analysis results for company: Australia_for_UNHCR
2025-10-09 13:19:48,913 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 13:19:48,913 - app.utils.path_debug - INFO - 
📌 Starting get_analysis_results
2025-10-09 13:19:48,914 - app.utils.path_debug - INFO -   📂 User base dir: user/munna@gmail.com/cv-analysis
2025-10-09 13:19:48,914 - app.utils.path_debug - INFO -   📂 Company dir: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 13:19:48,915 - app.utils.path_debug - INFO -   📂 Using analysis file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_131834.json
2025-10-09 13:19:48,916 - app.utils.path_debug - INFO -   ✅ Loaded analysis file, size: 29661 bytes
2025-10-09 13:20:11,260 - app.routes.ai_recommendations - INFO - 🔍 [AI_RECOMMENDATIONS] Fetching for company: Australia_for_UNHCR, user: munna@gmail.com
2025-10-09 13:20:11,261 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/munna@gmail.com/cv-analysis for munna@gmail.com
2025-10-09 13:20:11,261 - app.routes.ai_recommendations - INFO - 🔍 [AI_RECOMMENDATIONS] Searching in: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 13:20:11,262 - app.routes.ai_recommendations - INFO - ✅ [AI_RECOMMENDATIONS] Found file: user/munna@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_131928.json
2025-10-09 13:20:11,262 - app.routes.ai_recommendations - INFO - ✅ [AI_RECOMMENDATIONS] Successfully loaded recommendation, content length: 3366
2025-10-09 14:00:12,267 - app.routes.auth - INFO - 🔵 [REGISTER] Starting registration process
2025-10-09 14:00:12,270 - app.routes.auth - INFO - 🔵 [REGISTER] Raw payload: email='simran@gmail.com' password='simran' name='simran'
2025-10-09 14:00:12,270 - app.routes.auth - INFO - 🔵 [REGISTER] Email: 'simran@gmail.com', Name: 'simran', Password length: 6
2025-10-09 14:00:12,271 - app.routes.auth - INFO - 🔵 [REGISTER] Normalized email: 'simran@gmail.com'
2025-10-09 14:00:12,271 - app.routes.auth - INFO - 🔵 [REGISTER] Password validation - length: 6
2025-10-09 14:00:12,271 - app.routes.auth - INFO - 🔵 [REGISTER] Checking if user exists: 'simran@gmail.com'
2025-10-09 14:00:12,366 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:00:12,383 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 14:00:12,384 - sqlalchemy.engine.Engine - INFO - [generated in 0.00130s] {'email_1': 'simran@gmail.com', 'param_1': 1}
2025-10-09 14:00:12,431 - app.routes.auth - INFO - 🔵 [REGISTER] User does not exist, proceeding with creation
2025-10-09 14:00:12,431 - app.routes.auth - INFO - 🔵 [REGISTER] Base username: 'simran'
2025-10-09 14:00:12,433 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-10-09 14:00:12,434 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] {'username_1': 'simran', 'param_1': 1}
2025-10-09 14:00:12,581 - app.routes.auth - INFO - 🔵 [REGISTER] Final username: 'simran'
2025-10-09 14:00:12,582 - app.routes.auth - INFO - 🔵 [REGISTER] Creating user object
2025-10-09 14:00:12,788 - app.routes.auth - INFO - 🔵 [REGISTER] Setting password
2025-10-09 14:00:13,212 - app.routes.auth - INFO - 🔵 [REGISTER] Adding user to database
2025-10-09 14:00:13,212 - app.routes.auth - INFO - 🔵 [REGISTER] Committing to database
2025-10-09 14:00:13,217 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (username, email, full_name, hashed_password, is_active, is_verified, created_at, updated_at, last_login) VALUES (%(username)s, %(email)s, %(full_name)s, %(hashed_password)s, %(is_active)s, %(is_verified)s, %(created_at)s, now(), %(last_login)s) RETURNING users.id, users.updated_at
2025-10-09 14:00:13,217 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] {'username': 'simran', 'email': 'simran@gmail.com', 'full_name': 'simran', 'hashed_password': '$2b$12$pA7/IjQfjfUMlnPrSZ2rsuoKxOxoy5j4YHw5odVFkn45PM5EmKsSK', 'is_active': True, 'is_verified': False, 'created_at': datetime.datetime(2025, 10, 9, 3, 0, 12, 584111), 'last_login': None}
2025-10-09 14:00:13,242 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 14:00:13,260 - app.routes.auth - INFO - 🔵 [REGISTER] Refreshing user object
2025-10-09 14:00:13,277 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:00:13,279 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.full_name, users.hashed_password, users.is_active, users.is_verified, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.id = %(pk_1)s
2025-10-09 14:00:13,279 - sqlalchemy.engine.Engine - INFO - [generated in 0.00059s] {'pk_1': UUID('93d2b2fe-c1a7-4dd5-8006-199a4fe3e860')}
2025-10-09 14:00:13,314 - app.routes.auth - INFO - 🔵 [REGISTER] User created successfully with ID: 93d2b2fe-c1a7-4dd5-8006-199a4fe3e860
2025-10-09 14:00:13,315 - app.routes.auth - INFO - 🔵 [REGISTER] Creating user directories for: simran@gmail.com
2025-10-09 14:00:13,317 - app.utils.user_path_utils - INFO - ✅ Created user base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:00:13,318 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/simran@gmail.com/cv-analysis
2025-10-09 14:00:13,318 - app.routes.auth - INFO - 🔵 [REGISTER] User directories created successfully
2025-10-09 14:00:13,318 - app.routes.auth - INFO - 🔵 [REGISTER] Preparing success response
2025-10-09 14:00:13,318 - app.routes.auth - INFO - ✅ [REGISTER] User registered successfully: simran@gmail.com (ID: 93d2b2fe-c1a7-4dd5-8006-199a4fe3e860)
2025-10-09 14:00:13,322 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 14:00:34,215 - app.routes.auth - INFO - 🔵 [LOGIN] Starting login process
2025-10-09 14:00:34,216 - app.routes.auth - INFO - 🔵 [LOGIN] Raw credentials: email='simran@gmail.com' password='simran'
2025-10-09 14:00:34,216 - app.routes.auth - INFO - 🔵 [LOGIN] Email: 'simran@gmail.com', Password length: 6
2025-10-09 14:00:34,216 - app.routes.auth - INFO - 🔵 [LOGIN] Attempting authentication
2025-10-09 14:00:34,216 - app.core.auth - INFO - 🔵 [AUTH] Starting authentication for email: 'simran@gmail.com'
2025-10-09 14:00:34,217 - app.core.auth - INFO - 🔵 [AUTH] Normalized inputs - email: 'simran@gmail.com', password length: 6
2025-10-09 14:00:34,217 - app.core.auth - INFO - 🔵 [AUTH] Using provided database session
2025-10-09 14:00:34,217 - app.core.auth - INFO - 🔵 [AUTH] Querying database for user: 'simran@gmail.com'
2025-10-09 14:00:34,242 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:00:34,243 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 14:00:34,243 - sqlalchemy.engine.Engine - INFO - [cached since 21.86s ago] {'email_1': 'simran@gmail.com', 'param_1': 1}
2025-10-09 14:00:34,282 - app.core.auth - INFO - 🔵 [AUTH] User found: simran@gmail.com (ID: 93d2b2fe-c1a7-4dd5-8006-199a4fe3e860, Active: True)
2025-10-09 14:00:34,283 - app.core.auth - INFO - 🔵 [AUTH] Verifying password
2025-10-09 14:00:34,687 - app.core.auth - INFO - 🔵 [AUTH] Password verification successful for user: 'simran@gmail.com'
2025-10-09 14:00:34,687 - app.core.auth - INFO - ✅ [AUTH] Authentication successful
2025-10-09 14:00:34,688 - app.routes.auth - INFO - 🔵 [LOGIN] Authentication successful for user: simran@gmail.com (ID: 93d2b2fe-c1a7-4dd5-8006-199a4fe3e860)
2025-10-09 14:00:34,688 - app.routes.auth - INFO - 🔵 [LOGIN] Ensuring user directories exist for: simran@gmail.com
2025-10-09 14:00:34,689 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:00:34,689 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/simran@gmail.com/cv-analysis
2025-10-09 14:00:34,689 - app.routes.auth - INFO - 🔵 [LOGIN] User directories verified/created successfully
2025-10-09 14:00:34,690 - app.routes.auth - INFO - 🔵 [LOGIN] Creating JWT tokens
2025-10-09 14:00:34,691 - app.routes.auth - INFO - 🔵 [LOGIN] Tokens created successfully
2025-10-09 14:00:34,692 - app.routes.auth - INFO - ✅ [LOGIN] Login successful for user: simran@gmail.com (ID: 93d2b2fe-c1a7-4dd5-8006-199a4fe3e860)
2025-10-09 14:00:34,694 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 14:00:35,367 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:00:35,367 - app.routes.cv_simple - INFO - Listed 0 CV files
2025-10-09 14:00:35,369 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:00:35,372 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:00:35,373 - app.services.saved_jobs_service - INFO - ✨ Created new jobs file at user/simran@gmail.com/cv-analysis/saved_jobs/saved_jobs.json
2025-10-09 14:00:52,278 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 14:00:52,279 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: []
2025-10-09 14:00:52,279 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 14:00:52,279 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {}
2025-10-09 14:00:52,279 - app.ai.ai_service - ERROR - ❌ No current provider available for model switching
2025-10-09 14:00:52,279 - app.core.model_dependency - WARNING - ⚠️ Failed to switch to header model gpt-3.5-turbo
2025-10-09 14:00:52,290 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user simran@gmail.com
2025-10-09 14:00:52,321 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:00:52,324 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 14:00:52,324 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 14:00:52,365 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 14:00:52,382 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user simran@gmail.com and provider openai
2025-10-09 14:00:52,398 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:00:52,402 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 14:00:52,405 - sqlalchemy.engine.Engine - INFO - [cached since 0.08206s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 14:00:52,457 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 14:00:52,483 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user simran@gmail.com and provider anthropic
2025-10-09 14:00:52,513 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:00:52,515 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 14:00:52,516 - sqlalchemy.engine.Engine - INFO - [cached since 0.1924s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 14:00:52,559 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 14:00:52,584 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user simran@gmail.com and provider deepseek
2025-10-09 14:00:52,606 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:00:52,608 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 14:00:52,608 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'param_1': 1}
2025-10-09 14:00:52,656 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 14:00:55,424 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 14:00:55,427 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: []
2025-10-09 14:00:55,428 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 14:00:55,428 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {}
2025-10-09 14:00:55,428 - app.ai.ai_service - ERROR - ❌ No current provider available for model switching
2025-10-09 14:00:55,428 - app.core.model_dependency - WARNING - ⚠️ Failed to switch to header model gpt-3.5-turbo
2025-10-09 14:00:55,428 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user simran@gmail.com
2025-10-09 14:00:55,447 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:00:55,448 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 14:00:55,448 - sqlalchemy.engine.Engine - INFO - [cached since 3.125s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 14:00:55,488 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 14:00:55,505 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user simran@gmail.com and provider openai
2025-10-09 14:00:55,532 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:00:55,532 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 14:00:55,533 - sqlalchemy.engine.Engine - INFO - [cached since 3.209s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 14:00:55,574 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 14:00:55,594 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user simran@gmail.com and provider anthropic
2025-10-09 14:00:55,612 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:00:55,612 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 14:00:55,613 - sqlalchemy.engine.Engine - INFO - [cached since 3.289s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 14:00:55,655 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 14:00:55,673 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user simran@gmail.com and provider deepseek
2025-10-09 14:00:55,691 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:00:55,692 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 14:00:55,692 - sqlalchemy.engine.Engine - INFO - [cached since 3.084s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'param_1': 1}
2025-10-09 14:00:55,726 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 14:01:20,492 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:01:20,493 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 14:01:20,493 - sqlalchemy.engine.Engine - INFO - [cached since 28.17s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 14:01:20,548 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_api_keys (user_id, provider, encrypted_key, key_hash, is_valid, last_validated, created_at, updated_at) VALUES (%(user_id)s, %(provider)s, %(encrypted_key)s, %(key_hash)s, %(is_valid)s, %(last_validated)s, now(), now()) RETURNING user_api_keys.id, user_api_keys.created_at, user_api_keys.updated_at
2025-10-09 14:01:20,548 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] {'user_id': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider': 'openai', 'encrypted_key': 'Z0FBQUFBQm81eVdBcXJKRVNVbE81cVExa2NvYlhxQ1pUMm9HSUJYdFlnRUE1TUdaODJSYW5STXc2U1g2U2MwcWEtTUZSa2tKQVJlY0lCWEhOUGFRQ3ZjbkNzZ2dwRDU1VXItN1JXWkFkOXFiTWVWV ... (118 characters truncated) ... BdzhuNE5nQTB2SVlRMFNuZmtQaUV3bnNiMmxFek13OHV2aWJUcXJteUVaNWNnUUl2Qm1wZ1Z0MVd0Sm5UWDBUeE53ZEZYb1ZQcmh0UmpYbk1ReTVhNlYtWWZpczZUOE5NYTFWZEV3WDlDU2ZjODA9', 'key_hash': '819280703fd19bc03ccad496e4c2fc88236c72ed1d4b2b883f70efdff03bdab1', 'is_valid': False, 'last_validated': None}
2025-10-09 14:01:20,577 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 14:01:20,598 - app.services.user_api_key_manager - INFO - Created new API key for user simran@gmail.com and provider openai
2025-10-09 14:01:21,740 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 14:01:21,775 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:01:21,777 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 14:01:21,777 - sqlalchemy.engine.Engine - INFO - [cached since 29.46s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 14:01:21,821 - sqlalchemy.engine.Engine - INFO - UPDATE user_api_keys SET is_valid=%(is_valid)s, last_validated=%(last_validated)s, updated_at=now() WHERE user_api_keys.id = %(user_api_keys_id)s
2025-10-09 14:01:21,821 - sqlalchemy.engine.Engine - INFO - [generated in 0.00057s] {'is_valid': True, 'last_validated': datetime.datetime(2025, 10, 9, 3, 1, 21, 817837), 'user_api_keys_id': 32}
2025-10-09 14:01:21,842 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 14:01:21,861 - app.ai.ai_service - INFO - 🔄 Refreshing AI providers after API key changes
2025-10-09 14:01:21,879 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:01:21,880 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 14:01:21,880 - sqlalchemy.engine.Engine - INFO - [cached since 29.56s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 14:01:21,918 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 14:01:22,578 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 14:01:22,591 - app.ai.ai_service - INFO - ✅ Initialized openai provider with model gpt-4o for user simran@gmail.com
2025-10-09 14:01:22,619 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:01:22,620 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 14:01:22,621 - sqlalchemy.engine.Engine - INFO - [cached since 30.3s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 14:01:22,676 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 14:01:22,697 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user simran@gmail.com and provider anthropic
2025-10-09 14:01:22,715 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:01:22,715 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 14:01:22,715 - sqlalchemy.engine.Engine - INFO - [cached since 30.39s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 14:01:22,760 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 14:01:22,778 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user simran@gmail.com and provider deepseek
2025-10-09 14:01:22,779 - app.routes.api_keys - INFO - 🔄 Refreshed AI providers after setting openai API key for user simran@gmail.com
2025-10-09 14:01:31,696 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 14:01:31,696 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: ['openai']
2025-10-09 14:01:31,696 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 14:01:32,200 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 14:01:32,212 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-4o', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-4o', 'is_current': False}}
2025-10-09 14:01:32,213 - app.ai.ai_service - ERROR - ❌ No current provider available for model switching
2025-10-09 14:01:32,213 - app.ai.ai_service - INFO - 🔄 Available providers: ['openai']
2025-10-09 14:01:32,213 - app.ai.ai_service - INFO - ✅ Switched to openai provider with model gpt-3.5-turbo
2025-10-09 14:01:32,214 - app.core.model_dependency - INFO - 🔄 Switched to model from header: gpt-3.5-turbo
2025-10-09 14:01:32,214 - app.routes.ai - INFO - 🟢 [AI_CHAT] user=simran@gmail.com provider=openai model=gpt-3.5-turbo
2025-10-09 14:01:32,214 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 14:01:33,573 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 14:01:53,969 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:01:53,970 - app.routes.cv_simple - INFO - Listed 0 CV files
2025-10-09 14:01:54,109 - app.routes.cv_simple - INFO - Uploading test_cv.pdf with structured processing for user: simran@gmail.com
2025-10-09 14:01:54,110 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:01:54,110 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:01:54,111 - app.services.enhanced_cv_upload_service - INFO - CV file saved: test_cv.pdf (40289 bytes)
2025-10-09 14:01:54,250 - app.services.enhanced_cv_upload_service - INFO - Text extracted successfully: 477 characters
2025-10-09 14:01:54,251 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 14:01:57,806 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 14:01:57,824 - app.services.structured_cv_parser - INFO - Successfully parsed CV using gpt-3.5-turbo
2025-10-09 14:01:57,825 - app.services.enhanced_cv_upload_service - INFO - CV parsed from raw text content
2025-10-09 14:01:57,826 - app.services.structured_cv_parser - INFO - Successfully saved structured CV to user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 14:01:57,827 - app.services.enhanced_cv_upload_service - INFO - Structured CV saved as original_cv.json: user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json (replaced existing)
2025-10-09 14:01:57,827 - app.services.enhanced_cv_upload_service - INFO - CV processed successfully: test_cv.pdf
2025-10-09 14:01:57,827 - app.routes.cv_simple - INFO - ✅ test_cv.pdf uploaded and processed into structured format for user: simran@gmail.com
2025-10-09 14:01:57,837 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:01:57,838 - app.routes.cv_simple - INFO - Listed 1 CV files
2025-10-09 14:01:58,402 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:01:58,403 - app.routes.cv_simple - INFO - Listed 1 CV files
2025-10-09 14:02:00,257 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:02:00,276 - app.modules.cv.preview - INFO - CV content extracted: test_cv.pdf (477 characters)
2025-10-09 14:02:00,277 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:02:00,277 - app.routes.cv_organized - INFO - CV saved as text: user/simran@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 14:02:00,278 - app.routes.cv_organized - INFO - Processing test_cv.pdf for structured CV format (background)...
2025-10-09 14:02:00,278 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:02:00,278 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:02:00,296 - app.services.enhanced_cv_upload_service - INFO - Text extracted successfully: 477 characters
2025-10-09 14:02:00,297 - app.services.enhanced_cv_upload_service - ERROR - Error processing existing CV: name 'user' is not defined
2025-10-09 14:02:00,297 - app.routes.cv_organized - ERROR - Background: Error saving structured CV: 
2025-10-09 14:02:00,389 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:02:00,413 - app.routes.cv_simple - INFO - CV content extracted: test_cv.pdf (477 characters)
2025-10-09 14:02:06,147 - app.utils.directory_utils - ERROR - ❌ Failed to create cv-analysis directories: User email must be provided
2025-10-09 14:02:11,495 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:02:11,524 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:02:11,525 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 14:02:11,525 - sqlalchemy.engine.Engine - INFO - [cached since 79.21s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 14:02:11,568 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 14:02:12,445 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 14:02:12,476 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:02:12,476 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 14:02:12,476 - sqlalchemy.engine.Engine - INFO - [cached since 80.16s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 14:02:12,516 - sqlalchemy.engine.Engine - INFO - UPDATE user_api_keys SET last_validated=%(last_validated)s, updated_at=now() WHERE user_api_keys.id = %(user_api_keys_id)s
2025-10-09 14:02:12,516 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s] {'last_validated': datetime.datetime(2025, 10, 9, 3, 2, 12, 514046), 'user_api_keys_id': 32}
2025-10-09 14:02:12,538 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 14:02:12,557 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'openai'
2025-10-09 14:02:12,558 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: []
2025-10-09 14:02:12,558 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: openai
2025-10-09 14:02:12,558 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {}
2025-10-09 14:02:12,558 - app.services.enhanced_ai_service - ERROR - Error in enhanced AI service: No API key configured for openai. Please configure your API key in settings.
2025-10-09 14:02:12,558 - app.services.job_extraction_service - ERROR - AI service error: 
2025-10-09 14:02:12,607 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:02:12,609 - app.services.job_extraction_service - INFO - ✅ [JOB_EXTRACTION] Added job to shared jobs file: Data Analyst at Australia for UNHCR
2025-10-09 14:02:15,512 - app.ai.ai_service - INFO - ✅ Switched to model gpt-3.5-turbo
2025-10-09 14:02:15,512 - app.core.model_dependency - INFO - 🔄 Switched to model from header: gpt-3.5-turbo
2025-10-09 14:02:15,513 - app.routes.skills_analysis - INFO - 🎯 Preliminary analysis request: CV=test_cv.pdf, JD_length=6014, CONFIG=None
2025-10-09 14:02:15,514 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:02:15,515 - app.routes.skills_analysis - INFO - 🏢 Extracted company name: Australia_for_UNHCR
2025-10-09 14:02:15,515 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:02:15,517 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:02:15,517 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:02:15,517 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/simran@gmail.com/cv-analysis
2025-10-09 14:02:15,518 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:02:15,518 - app.routes.skills_analysis - INFO - 🔗 [PRELIM_ANALYSIS] JD URL (latest job_info): https://www.ethicaljobs.com.au/members/australiaforunhcr/data-analyst
2025-10-09 14:02:15,520 - app.routes.skills_analysis - INFO - 📄 [PRELIM_ANALYSIS] Latest CV selected → type=original, ts=None, json=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 14:02:15,521 - app.routes.skills_analysis - INFO - 🧪 [PRELIM_ANALYSIS] CV content length=477, preview='Maheshwor Tiwari maheshwor.tiwari@example.com|+61-123-456-789|Sydney, NSW, Australia linkedin.com/in/maheshwor-tiwari|github.com/maheshwor-tiwari Professional Summary Experienced Data Analyst with expertise in Python and SQL Education •Master of Data Science - Charles Darwin University •Bachelor of Computer Science Experience •Data Analyst at iBuild Building Solutions •Data Insight Analyst at Prop'
2025-10-09 14:02:15,521 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 14:02:15,521 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 14:02:15,521 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 14:02:15,521 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Starting AI-powered skills analysis for test_cv.pdf
2025-10-09 14:02:15,522 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] CV content length: 477 chars
2025-10-09 14:02:15,522 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] JD content length: 6014 chars
2025-10-09 14:02:15,522 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using config: default
2025-10-09 14:02:15,522 - app.routes.skills_analysis - INFO - 🧪 [SKILLS_ANALYSIS] CV preview: 'Maheshwor Tiwari maheshwor.tiwari@example.com|+61-123-456-789|Sydney, NSW, Australia linkedin.com/in/maheshwor-tiwari|github.com/maheshwor-tiwari Professional Summary Experienced D'
2025-10-09 14:02:15,523 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI provider: openai
2025-10-09 14:02:15,523 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI model: gpt-3.5-turbo
2025-10-09 14:02:15,523 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Provider available: True
2025-10-09 14:02:15,523 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Model from header: gpt-3.5-turbo
2025-10-09 14:02:15,523 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting CV skills with detailed structured analysis...
2025-10-09 14:02:15,524 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 14:02:16,742 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 14:02:16,747 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] Starting response parsing...
2025-10-09 14:02:16,747 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] Raw response preview: 
TECHNICAL SKILLS:
- Python
- SQL
- Power BI
- Machine Learning

SOFT SKILLS:
- Communication
- Teamwork
- Analytical Thinking

DOMAIN KEYWORDS:
- Data Analysis...
2025-10-09 14:02:16,747 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] FULL CV RESPONSE: 
TECHNICAL SKILLS:
- Python
- SQL
- Power BI
- Machine Learning

SOFT SKILLS:
- Communication
- Teamwork
- Analytical Thinking

DOMAIN KEYWORDS:
- Data Analysis
2025-10-09 14:02:16,748 - app.services.skill_extraction.response_parser - WARNING - ⚠️ [CV] No SOFT_SKILLS variable found in response
2025-10-09 14:02:16,748 - app.services.skill_extraction.response_parser - WARNING - ⚠️ [CV] No TECHNICAL_SKILLS variable found in response
2025-10-09 14:02:16,748 - app.services.skill_extraction.response_parser - WARNING - ⚠️ [CV] No DOMAIN_KEYWORDS variable found in response
2025-10-09 14:02:16,749 - app.services.skill_extraction.response_parser - INFO - 🔄 [CV] Python format not found, trying markdown format...
2025-10-09 14:02:16,750 - app.services.skill_extraction.response_parser - INFO - 🔄 [CV] Markdown format not found, trying section headers...
2025-10-09 14:02:16,751 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Successfully extracted 8 total skills using multi-format parser
2025-10-09 14:02:16,751 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated soft_skills: 3 valid skills
2025-10-09 14:02:16,751 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated technical_skills: 4 valid skills
2025-10-09 14:02:16,751 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated domain_keywords: 1 valid skills
2025-10-09 14:02:16,751 - app.services.skill_extraction.response_parser - INFO - 📊 [CV] Parsing completed:
2025-10-09 14:02:16,751 - app.services.skill_extraction.response_parser - INFO -    Soft Skills (3): ['Communication', 'Teamwork', 'Analytical Thinking']
2025-10-09 14:02:16,751 - app.services.skill_extraction.response_parser - INFO -    Technical Skills (4): ['Python', 'SQL', 'Power BI']...
2025-10-09 14:02:16,752 - app.services.skill_extraction.response_parser - INFO -    Domain Keywords (1): ['Data Analysis']
2025-10-09 14:02:16,752 - app.routes.skills_analysis - WARNING - ⚠️ [SKILLS_ANALYSIS] CV content appears minimal (tech=4, soft=3, domain=1) — continuing without fallback
2025-10-09 14:02:16,752 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting JD skills with detailed structured analysis...
2025-10-09 14:02:16,753 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 14:02:21,041 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 14:02:21,044 - app.services.skill_extraction.response_parser - INFO - 🔍 [JD] Starting response parsing...
2025-10-09 14:02:21,044 - app.services.skill_extraction.response_parser - INFO - 🔍 [JD] Raw response preview: ## SOFT SKILLS:
- Communication
- Leadership
- Teamwork
- Collaboration
- Negotiation
- Time Management
- Organization
- Adaptability
- Problem-solving
- Analytical Thinking
- Critical Thinking
- Creativity
- Innovation
- Detail-oriented
- Self-motivated
- Proactive
- Results-driven

## TECHNICAL SKILLS:
- Data Analysis
- Data Mining
- Business Intelligence
- Power BI
- SQL
- Excel
- Database Management
- Data Modeling
- Data Warehousing
- Spreadsheets
- VBA
- Stakeholder Management
- Report Cre...
2025-10-09 14:02:21,046 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Successfully extracted 58 total skills using multi-format parser
2025-10-09 14:02:21,046 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated soft_skills: 17 valid skills
2025-10-09 14:02:21,046 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated technical_skills: 20 valid skills
2025-10-09 14:02:21,046 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated domain_keywords: 21 valid skills
2025-10-09 14:02:21,047 - app.services.skill_extraction.response_parser - INFO - 📊 [JD] Parsing completed:
2025-10-09 14:02:21,047 - app.services.skill_extraction.response_parser - INFO -    Soft Skills (17): ['Communication', 'Leadership', 'Teamwork']...
2025-10-09 14:02:21,047 - app.services.skill_extraction.response_parser - INFO -    Technical Skills (20): ['Data Analysis', 'Data Mining', 'Business Intelligence']...
2025-10-09 14:02:21,047 - app.services.skill_extraction.response_parser - INFO -    Domain Keywords (21): ['Fundraising', 'Humanitarian Aid', 'Refugee Support']...
2025-10-09 14:02:21,048 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using structured analysis as comprehensive analysis...
2025-10-09 14:02:21,048 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Technical Skills (4): ['Python', 'SQL', 'Power BI', 'Machine Learning']
2025-10-09 14:02:21,048 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Soft Skills (3): ['Communication', 'Teamwork', 'Analytical Thinking']
2025-10-09 14:02:21,049 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Domain Keywords (1): ['Data Analysis']
2025-10-09 14:02:21,049 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Technical Skills (20): ['Data Analysis', 'Data Mining', 'Business Intelligence', 'Power BI', 'SQL', 'Excel', 'Database Management', 'Data Modeling', 'Data Warehousing', 'Spreadsheets', 'VBA', 'Stakeholder Management', 'Report Creation', 'Project Management', 'Data Extraction', 'Segmentation', 'Data Cleansing', 'Data Visualization', 'Querying', 'Relational Databases']
2025-10-09 14:02:21,049 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Soft Skills (17): ['Communication', 'Leadership', 'Teamwork', 'Collaboration', 'Negotiation', 'Time Management', 'Organization', 'Adaptability', 'Problem-solving', 'Analytical Thinking', 'Critical Thinking', 'Creativity', 'Innovation', 'Detail-oriented', 'Self-motivated', 'Proactive', 'Results-driven']
2025-10-09 14:02:21,049 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Domain Keywords (21): ['Fundraising', 'Humanitarian Aid', 'Refugee Support', 'Business Decision-making', 'Direct Marketing', 'Donor-centricity', 'Multi-channel Communication', 'Data Warehouse Administration', 'Business Requirements', 'Project Needs Evaluation', 'Evidence-based Decision Making', 'Communication Purposes', 'Data Governance', 'Campaign Optimization', 'Clean Data Maintenance', 'Stakeholder Satisfaction', 'Inclusive Work Culture', 'Employee Engagement', 'Wellbeing Programs', 'Diversity and Inclusion', 'Equal Opportunity']
2025-10-09 14:02:21,050 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] Analysis completed successfully
2025-10-09 14:02:21,050 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 14:02:21,051 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:02:21,051 - app.services.skill_extraction.result_saver - INFO - 📁 Result saver initialized with base directory: user/simran@gmail.com/cv-analysis
2025-10-09 14:02:21,052 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:02:21,052 - app.routes.skills_analysis - INFO - 🔍 [COMPANY_DETECTION] Looking in: user/simran@gmail.com/cv-analysis/applied_companies
2025-10-09 14:02:21,053 - app.routes.skills_analysis - INFO - 📁 [COMPANY_DETECTION] Found company folder: Australia_for_UNHCR with 1 job_info files
2025-10-09 14:02:21,054 - app.routes.skills_analysis - INFO - 🏢 [COMPANY_DETECTION] Using most recent company folder: Australia_for_UNHCR
2025-10-09 14:02:21,054 - app.routes.skills_analysis - INFO - 📋 [COMPANY_DETECTION] Job info company: Australia for UNHCR
2025-10-09 14:02:21,055 - app.services.skill_extraction.result_saver - INFO - 🏢 Using provided company name: Australia_for_UNHCR -> Australia_for_UNHCR
2025-10-09 14:02:21,056 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:02:21,057 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/simran@gmail.com/cv-analysis
2025-10-09 14:02:21,058 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:02:21,059 - app.services.skill_extraction.result_saver - INFO - 💾 Structured CV already exists, preserving it: user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 14:02:21,060 - app.services.skill_extraction.result_saver - INFO - 💾 Structured CV preserved, skipping save: user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 14:02:21,062 - app.services.skill_extraction.result_saver - INFO - 💾 Analysis results saved (JSON) to: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_140221.json
2025-10-09 14:02:21,062 - app.routes.skills_analysis - INFO - 📁 [FILE_SAVE] Results saved to: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_140221.json
2025-10-09 14:02:21,062 - app.routes.skills_analysis - INFO - 🔍 [ANALYZE_MATCH] Starting analyze match assessment...
2025-10-09 14:02:21,065 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 14:02:25,552 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 14:02:25,557 - app.routes.skills_analysis - INFO - ✅ [ANALYZE_MATCH] Analysis completed (length: 1627 chars)
2025-10-09 14:02:25,557 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:02:25,558 - app.services.skill_extraction.result_saver - INFO - 📂 Found existing analysis file: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_140221.json
2025-10-09 14:02:25,559 - app.services.skill_extraction.result_saver - INFO - 🔍 Looking for analysis file in: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 14:02:25,559 - app.services.skill_extraction.result_saver - INFO - 📄 Using existing file: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_140221.json
2025-10-09 14:02:25,561 - app.services.skill_extraction.result_saver - INFO - 📁 [ANALYZE_MATCH] Results appended to: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_140221.json
2025-10-09 14:02:25,561 - app.routes.skills_analysis - INFO - 📁 [ANALYZE_MATCH] Results appended to: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_140221.json
2025-10-09 14:02:25,562 - app.routes.skills_analysis - INFO - 🔍 [PREEXTRACTED_COMPARISON] Starting pre-extracted skills semantic comparison...
2025-10-09 14:02:25,565 - app.services.skill_extraction.preextracted_comparator - INFO - 🔍 [EXACT_MATCHES] Found 3 exact matches: {'technical_skills': [{'jd_skill': 'Power BI', 'cv_skill': 'Power BI', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'SQL', 'cv_skill': 'SQL', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}], 'soft_skills': [{'jd_skill': 'Analytical Thinking', 'cv_skill': 'Analytical Thinking', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Communication', 'cv_skill': 'Communication', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Teamwork', 'cv_skill': 'Teamwork', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}], 'domain_keywords': []}
2025-10-09 14:02:25,568 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 14:02:35,723 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 14:02:35,727 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: SQL → SQL
2025-10-09 14:02:35,727 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Analytical Thinking → Analytical Thinking
2025-10-09 14:02:35,727 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Communication → Communication
2025-10-09 14:02:35,728 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Teamwork → Teamwork
2025-10-09 14:02:35,728 - app.services.skill_extraction.preextracted_comparator - WARNING - ❌ [VALIDATION] technical_skills: matched 5 > CV count 4
2025-10-09 14:02:35,728 - app.services.skill_extraction.preextracted_comparator - INFO - ℹ️ [VALIDATION] soft_skills: matched 3 + missing 12 = 15 vs JD count 17 (acceptable variance)
2025-10-09 14:02:35,728 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] CV Skills: Tech=4, Soft=3, Domain=1
2025-10-09 14:02:35,729 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] JD Skills: Tech=20, Soft=17, Domain=21
2025-10-09 14:02:35,729 - app.services.skill_extraction.preextracted_comparator - WARNING - ❌ [VALIDATION] 1 validation error(s) found
2025-10-09 14:02:35,729 - app.services.skill_extraction.preextracted_comparator - WARNING - ⚠️ [COMPARISON] JSON results failed validation, attempting to fix inconsistencies
2025-10-09 14:02:35,729 - app.services.skill_extraction.preextracted_comparator - INFO - 🔧 [FIX] Attempting to fix inconsistent AI response
2025-10-09 14:02:35,730 - app.services.skill_extraction.preextracted_comparator - WARNING - 🔧 [FIX] technical_skills: Trimming 5 matches to 4 (CV limit)
2025-10-09 14:02:35,730 - app.services.skill_extraction.preextracted_comparator - INFO - 🔧 [FIX] soft_skills: Adding 2 missing JD skills
2025-10-09 14:02:35,730 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [FIX] Finished fixing AI response inconsistencies
2025-10-09 14:02:35,730 - app.services.skill_extraction.preextracted_comparator - INFO - ℹ️ [VALIDATION] soft_skills: matched 3 + missing 17 = 20 vs JD count 17 (acceptable variance)
2025-10-09 14:02:35,731 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] CV Skills: Tech=4, Soft=3, Domain=1
2025-10-09 14:02:35,731 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] JD Skills: Tech=20, Soft=17, Domain=21
2025-10-09 14:02:35,731 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [VALIDATION] Comparison results passed validation
2025-10-09 14:02:35,731 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [COMPARISON] Successfully fixed AI response inconsistencies
2025-10-09 14:02:35,731 - app.routes.skills_analysis - INFO - ✅ [PREEXTRACTED_COMPARISON] Completed (length: 6376 chars)
2025-10-09 14:02:35,732 - app.services.skill_extraction.result_saver - INFO - 🏢 [PREEXTRACTED_COMPARISON] Inferred company from saved_file_path: Australia_for_UNHCR
2025-10-09 14:02:35,734 - app.services.skill_extraction.result_saver - INFO - 📁 [PREEXTRACTED_COMPARISON] Results appended to: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_140221.json
2025-10-09 14:02:35,735 - app.routes.skills_analysis - INFO - 📁 [PREEXTRACTED_COMPARISON] Results appended to: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_140221.json
2025-10-09 14:02:35,735 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:02:35,735 - app.routes.skills_analysis - INFO - ♻️ [PIPELINE] (preliminary-analysis) JD file already exists: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/jd_original_20251009_140212.json
2025-10-09 14:02:35,738 - app.routes.skills_analysis - INFO - ♻️ [JOBS] Job already exists in saved_jobs.json: Data Analyst at Australia for UNHCR
2025-10-09 14:02:35,738 - app.routes.skills_analysis - INFO - 🚀 [PIPELINE] (preliminary-analysis) scheduling for company: Australia_for_UNHCR
2025-10-09 14:02:35,738 - app.routes.skills_analysis - INFO - 🚀 [PIPELINE] Scheduling JD analysis and CV–JD matching for 'Australia_for_UNHCR'...
2025-10-09 14:02:35,739 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:02:35,739 - app.routes.skills_analysis - INFO - 🔧 [PIPELINE] Starting JD analysis for Australia_for_UNHCR (force_refresh=True)
2025-10-09 14:02:35,739 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:02:35,740 - app.services.jd_analysis.jd_analyzer - INFO - 🔄 Analyzing JD for Australia_for_UNHCR (force_refresh=True)
2025-10-09 14:02:35,741 - app.services.jd_analysis.jd_analyzer - INFO - 📄 Analyzing JD file: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/jd_original_20251009_140212.json
2025-10-09 14:02:35,741 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 14:02:36,917 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 14:02:36,924 - app.services.jd_analysis.jd_analyzer - INFO - ✅ JD analysis completed. Found 0 required and 0 preferred keywords
2025-10-09 14:02:36,926 - app.services.jd_analysis.jd_analyzer - INFO - 💾 Analysis result saved to: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_jd_analysis_20251009_140236.json
2025-10-09 14:02:36,926 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] JD analysis saved for Australia_for_UNHCR at: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_jd_analysis_20251009_140236.json
2025-10-09 14:02:36,939 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:02:36,939 - app.services.jd_usage_tracker - ERROR - ❌ [JD_TRACKER] Error recording JD usage: Either jd_url or jd_text must be provided
2025-10-09 14:02:36,940 - app.routes.skills_analysis - INFO - 📝 [PIPELINE] JD usage recorded for Australia_for_UNHCR
2025-10-09 14:02:36,940 - app.routes.skills_analysis - INFO - 🔧 [PIPELINE] Starting CV–JD matching for Australia_for_UNHCR
2025-10-09 14:02:36,941 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:02:36,942 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:02:36,943 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:02:36,944 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/simran@gmail.com/cv-analysis
2025-10-09 14:02:36,947 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] CV–JD matching will use CV TXT: user/simran@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 14:02:36,949 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 📄 [CV_JD_MATCHER] Using provided CV path: user/simran@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 14:02:36,951 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 📄 [CV_JD_MATCHER] Read CV from: user/simran@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 14:02:36,952 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🧪 [CV_JD_MATCHER] CV content length=477, preview='Maheshwor Tiwari maheshwor.tiwari@example.com|+61-123-456-789|Sydney, NSW, Australia linkedin.com/in/maheshwor-tiwari|github.com/maheshwor-tiwari Professional Summary Experienced Data Analyst with expertise in Python and SQL Education •Master of Data Science - Charles Darwin University •Bachelor of Computer Science Experience •Data Analyst at iBuild Building Solutions •Data Insight Analyst at Prop'
2025-10-09 14:02:36,952 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🔍 Found 9 required and 4 preferred keywords
2025-10-09 14:02:36,953 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 14:02:38,746 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 14:02:38,750 - app.services.cv_jd_matching.cv_jd_matcher - INFO - ✅ CV-JD matching completed. Found 2 matched required keywords
2025-10-09 14:02:38,753 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:02:38,766 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:02:38,770 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 💾 Saved CV-JD match results to: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_cv_jd_matching_20251009_140238.json
2025-10-09 14:02:38,771 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] CV–JD match results saved for Australia_for_UNHCR
2025-10-09 14:02:38,771 - app.routes.skills_analysis - INFO - 🔍 [PIPELINE] Starting component analysis for Australia_for_UNHCR
2025-10-09 14:02:38,773 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:02:38,775 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:02:38,780 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:02:38,781 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/simran@gmail.com/cv-analysis
2025-10-09 14:02:38,791 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Latest CV selected → type=original, ts=None, json=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 14:02:38,799 - app.routes.skills_analysis - INFO - 🧪 [PIPELINE] CV content length=477, preview='Maheshwor Tiwari maheshwor.tiwari@example.com|+61-123-456-789|Sydney, NSW, Australia linkedin.com/in/maheshwor-tiwari|github.com/maheshwor-tiwari Professional Summary Experienced Data Analyst with expertise in Python and SQL Education •Master of Data Science - Charles Darwin University •Bachelor of Computer Science Experience •Data Analyst at iBuild Building Solutions •Data Insight Analyst at Prop'
2025-10-09 14:02:38,799 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:02:38,800 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Required files found, proceeding with component analysis
2025-10-09 14:02:38,801 - app.services.ats.modular_ats_orchestrator - INFO - ===== [MODULAR ATS] Starting component analysis for: Australia_for_UNHCR =====
2025-10-09 14:02:38,801 - app.services.ats.component_assembler - INFO - ===== [ASSEMBLER] Starting component assembly for: Australia_for_UNHCR =====
2025-10-09 14:02:38,801 - app.services.ats.component_assembler - INFO - 📄 [ASSEMBLER] Using CV text provided by caller
2025-10-09 14:02:38,837 - app.services.ats.component_assembler - WARNING - [ASSEMBLER] Match results not found: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/cv_jd_match_results.json
2025-10-09 14:02:38,839 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Starting parallel component analyses...
2025-10-09 14:02:38,854 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Requirement bonus using match file: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_cv_jd_matching_20251009_140238.json
2025-10-09 14:02:38,873 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Requesting skills relevance analysis...
2025-10-09 14:02:38,874 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 14:02:38,880 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Using existing match_counts from file
2025-10-09 14:02:38,905 - app.services.ats.requirement_bonus_calculator - INFO - [ATS][BONUS] required_total=9 matched_required=2 missing_required=7 required_bonus=1.00 required_penalty=-4.00 preferred_total=4 matched_preferred=0 missing_preferred=4 preferred_bonus=0.00 preferred_penalty=-0.60 total_bonus=-3.60
2025-10-09 14:02:38,913 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Requirement bonus calculated: -3.60 points
2025-10-09 14:02:46,441 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 14:02:46,444 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Raw response length: 4274
2025-10-09 14:02:46,444 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Raw response preview: {
 "skills_analysis": [
  {
   "skill": "Python",
   "cv_evidence": "Experienced Data Analyst with expertise in Python",
   "jd_application": "Data Analyst role requiring Python for data mining, profi
2025-10-09 14:02:46,445 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Cleaned response: {
 "skills_analysis": [
  {
   "skill": "Python",
   "cv_evidence": "Experienced Data Analyst with expertise in Python",
   "jd_application": "Data Analyst role requiring Python for data mining, profi
2025-10-09 14:02:46,445 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Direct parse successful
2025-10-09 14:02:46,446 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Analysis completed. Score: 80.0
2025-10-09 14:02:46,446 - app.services.ats.components.experience_analyzer - INFO - [EXPERIENCE] Requesting experience alignment analysis...
2025-10-09 14:02:46,446 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 14:02:48,585 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 14:02:48,587 - app.services.ats.components.experience_analyzer - INFO - [EXPERIENCE] Analysis completed. Score: 65.0
2025-10-09 14:02:48,587 - app.services.ats.components.industry_analyzer - INFO - [INDUSTRY] Requesting industry fit analysis...
2025-10-09 14:02:48,587 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 14:02:52,066 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 14:02:52,069 - app.services.ats.components.industry_analyzer - INFO - [INDUSTRY] Analysis completed. Score: 60.0
2025-10-09 14:02:52,073 - app.services.ats.components.seniority_analyzer - INFO - [SENIORITY] Requesting role seniority analysis...
2025-10-09 14:02:52,073 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 14:02:55,241 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 14:02:55,242 - app.services.ats.components.seniority_analyzer - INFO - [SENIORITY] Analysis completed. Score: 6.0
2025-10-09 14:02:55,243 - app.services.ats.components.technical_analyzer - INFO - [TECHNICAL] Requesting technical depth analysis...
2025-10-09 14:02:55,243 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 14:02:57,222 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 14:02:57,236 - app.services.ats.components.technical_analyzer - INFO - [TECHNICAL] Analysis completed. Score: 90.0
2025-10-09 14:02:57,237 - app.services.ats.component_assembler - INFO - [ASSEMBLER] All component analyses completed successfully
2025-10-09 14:02:57,237 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Validating cross-analyzer consistency...
2025-10-09 14:02:57,238 - app.services.ats.components.consistency_validator - ERROR - [CONSISTENCY] Validation failed: unsupported operand type(s) for -: 'str' and 'int'
2025-10-09 14:02:57,238 - app.services.ats.component_assembler - WARNING - [ASSEMBLER] Inconsistencies detected in analysis results
2025-10-09 14:02:57,238 - app.services.ats.component_assembler - WARNING - [ASSEMBLER] Confidence score: 100%
2025-10-09 14:02:57,243 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Results saved to: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_140221.json
2025-10-09 14:02:57,244 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Starting ATS score calculation...
2025-10-09 14:02:57,245 - app.services.ats.ats_score_calculator - INFO - [ATS] Starting comprehensive ATS score calculation
2025-10-09 14:02:57,247 - app.services.ats.ats_score_calculator - INFO - [ATS] Match rates - Tech: 20.0%, Domain: 0.0%, Soft: 15.0%
2025-10-09 14:02:57,247 - app.services.ats.ats_score_calculator - INFO - [ATS] Missing counts - Tech: 16, Domain: 21, Soft: 17
2025-10-09 14:02:57,247 - app.services.ats.ats_score_calculator - INFO - [ATS] Category 1 - Tech: 4.0, Domain: 0.0, Soft: 2.2, Total: 6.2
2025-10-09 14:02:57,248 - app.services.ats.ats_score_calculator - INFO - [ATS] Category 2 - Core: 15.9, Exp: 2.8, Potential: 6.0, Company: 0.8, Total: 25.5
2025-10-09 14:02:57,248 - app.services.ats.ats_score_calculator - INFO - [ATS] Final ATS Score: 28.2/100 (❌ Poor fit)
2025-10-09 14:02:57,251 - app.services.ats.component_assembler - INFO - [ASSEMBLER] ATS calculation completed. Score: 28.2/100 (❌ Poor fit)
2025-10-09 14:02:57,252 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:02:57,253 - app.services.ats_recommendation_service - INFO - Final ATS Score: 28.177499999999995
2025-10-09 14:02:57,254 - app.services.ats_recommendation_service - INFO - Category Status: ❌ Poor fit
2025-10-09 14:02:57,254 - app.services.ats_recommendation_service - INFO - Successfully extracted comprehensive recommendation data for Australia_for_UNHCR
2025-10-09 14:02:57,256 - app.services.ats_recommendation_service - INFO - Successfully created recommendation file: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_140257.json
2025-10-09 14:02:57,286 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:02:57,293 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 14:02:57,293 - sqlalchemy.engine.Engine - INFO - [generated in 0.00093s] {'email_1': 'simran@gmail.com'}
2025-10-09 14:02:57,340 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 14:02:57,341 - sqlalchemy.engine.Engine - INFO - [generated in 0.00064s] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 14:02:57,373 - sqlalchemy.engine.Engine - INFO - INSERT INTO companies (user_id, name, display_name, jd_url, created_at, updated_at) VALUES (%(user_id)s, %(name)s, %(display_name)s, %(jd_url)s, now(), now()) RETURNING companies.id, companies.created_at, companies.updated_at
2025-10-09 14:02:57,373 - sqlalchemy.engine.Engine - INFO - [generated in 0.00056s] {'user_id': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'name': 'Australia_for_UNHCR', 'display_name': 'Australia for UNHCR', 'jd_url': None}
2025-10-09 14:02:57,399 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 14:02:57,399 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] {'user_id': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'company_id': 14, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_140257.json', 'file_path': 'user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_140257.json', 'file_size': 26406, 'sha256': '3bf091a654ccdabcb9f0dab23af79e50d6cf97d3b444175db772dc62623e10f9', 'timestamp': '20251009_140257'}
2025-10-09 14:02:57,425 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 14:02:57,425 - sqlalchemy.engine.Engine - INFO - [generated in 0.00059s] {'user_id': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'company_id': 14, 'kind': 'input_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 159}
2025-10-09 14:02:57,450 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 14:02:57,466 - app.services.ats_recommendation_service - INFO - Successfully created AI recommendation prompt: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_prompt_recommendation.py
2025-10-09 14:02:57,466 - app.services.ats_recommendation_service - INFO - 🤖 [TRIGGER] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-09 14:02:57,466 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:02:57,467 - app.services.ats_recommendation_service - INFO - 📋 [TRIGGER] AI generation scheduled as background task for Australia_for_UNHCR
2025-10-09 14:02:57,467 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Recommendation file created for Australia_for_UNHCR
2025-10-09 14:02:57,467 - app.services.ats.component_assembler - INFO - ===== [ASSEMBLER] Completed assembly. Scores: skills=80.0 exp=65.0 industry=60.0 seniority=6.0 tech=90.0 =====
2025-10-09 14:02:57,467 - app.services.ats.modular_ats_orchestrator - INFO - ===== [MODULAR ATS] Component analysis completed for: Australia_for_UNHCR =====
2025-10-09 14:02:57,468 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Component analysis completed for Australia_for_UNHCR
2025-10-09 14:02:57,468 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] Component scores extracted: 23 scores
2025-10-09 14:02:57,468 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] skills_relevance: 80.0
2025-10-09 14:02:57,468 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] experience_alignment: 65.0
2025-10-09 14:02:57,468 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] industry_fit: 60.0
2025-10-09 14:02:57,468 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] role_seniority: 6.0
2025-10-09 14:02:57,468 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] technical_depth: 90.0
2025-10-09 14:02:57,469 - app.routes.skills_analysis - INFO - 🎯 [PIPELINE] ATS Score calculated: 28.177499999999995
2025-10-09 14:02:57,469 - app.routes.skills_analysis - INFO - 📋 [PIPELINE] Creating input recommendation file for Australia_for_UNHCR
2025-10-09 14:02:57,469 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:02:57,470 - app.services.ats_recommendation_service - INFO - Final ATS Score: 28.177499999999995
2025-10-09 14:02:57,470 - app.services.ats_recommendation_service - INFO - Category Status: ❌ Poor fit
2025-10-09 14:02:57,470 - app.services.ats_recommendation_service - INFO - Successfully extracted comprehensive recommendation data for Australia_for_UNHCR
2025-10-09 14:02:57,473 - app.services.ats_recommendation_service - INFO - Successfully created recommendation file: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_140257.json
2025-10-09 14:02:57,492 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:02:57,493 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 14:02:57,494 - sqlalchemy.engine.Engine - INFO - [cached since 0.2014s ago] {'email_1': 'simran@gmail.com'}
2025-10-09 14:02:57,531 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 14:02:57,531 - sqlalchemy.engine.Engine - INFO - [cached since 0.1911s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 14:02:57,555 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 14:02:57,555 - sqlalchemy.engine.Engine - INFO - [cached since 0.1566s ago] {'user_id': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'company_id': 14, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_140257.json', 'file_path': 'user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_140257.json', 'file_size': 26406, 'sha256': '3bf091a654ccdabcb9f0dab23af79e50d6cf97d3b444175db772dc62623e10f9', 'timestamp': '20251009_140257'}
2025-10-09 14:02:57,578 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 14:02:57,599 - app.services.ats_recommendation_service - WARNING - ⚠️ [DB] Failed to register input recommendation: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "uq_company_files_dedupe"
DETAIL:  Key (user_id, company_id, file_type, sha256)=(93d2b2fe-c1a7-4dd5-8006-199a4fe3e860, 14, input_recommendation, 3bf091a654ccdabcb9f0dab23af79e50d6cf97d3b444175db772dc62623e10f9) already exists.

[SQL: INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at]
[parameters: {'user_id': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'company_id': 14, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_140257.json', 'file_path': 'user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_140257.json', 'file_size': 26406, 'sha256': '3bf091a654ccdabcb9f0dab23af79e50d6cf97d3b444175db772dc62623e10f9', 'timestamp': '20251009_140257'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-10-09 14:02:57,601 - app.services.ats_recommendation_service - INFO - Successfully created AI recommendation prompt: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_prompt_recommendation.py
2025-10-09 14:02:57,601 - app.services.ats_recommendation_service - INFO - 🤖 [TRIGGER] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-09 14:02:57,602 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:02:57,602 - app.services.ats_recommendation_service - INFO - 📋 [TRIGGER] AI generation scheduled as background task for Australia_for_UNHCR
2025-10-09 14:02:57,602 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Input recommendation file created for Australia_for_UNHCR
2025-10-09 14:02:57,603 - app.routes.skills_analysis - INFO - 🤖 [PIPELINE] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-09 14:02:57,603 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:02:57,604 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-09 14:02:57,606 - app.services.ai_recommendation_generator - INFO - 🟡 [AI GENERATOR] Input recommendation is newer (ai_mtime=0, input_mtime=1759978977.4731877); regenerating AI recommendation
2025-10-09 14:02:57,607 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:02:57,608 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:02:57,608 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/simran@gmail.com/cv-analysis
2025-10-09 14:02:57,609 - app.services.ai_recommendation_generator - INFO - ✅ [AI GENERATOR] CV is fresh - no updates since input recommendation
2025-10-09 14:02:57,613 - app.services.ai_recommendation_generator - INFO - 📋 [AI GENERATOR] Generated AI prompt for Australia_for_UNHCR using centralized template (12002 characters)
2025-10-09 14:02:57,614 - app.services.ai_recommendation_generator - INFO - 🧠 [AI GENERATOR] Executing AI prompt for Australia_for_UNHCR
2025-10-09 14:02:57,615 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 14:03:06,404 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 14:03:06,407 - app.services.ai_recommendation_generator - INFO - 🧠 [AI GENERATOR] AI response generated - Provider: openai, Model: gpt-3.5-turbo
2025-10-09 14:03:06,407 - app.services.ai_recommendation_generator - INFO - 💰 [AI GENERATOR] Cost: $0.0045, Tokens: 3495
2025-10-09 14:03:06,408 - app.services.ai_recommendation_generator - INFO - 💾 [AI GENERATOR] Saved AI recommendation: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_140306.json (4.2KB)
2025-10-09 14:03:06,425 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:03:06,427 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 14:03:06,427 - sqlalchemy.engine.Engine - INFO - [cached since 9.135s ago] {'email_1': 'simran@gmail.com'}
2025-10-09 14:03:06,461 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 14:03:06,461 - sqlalchemy.engine.Engine - INFO - [cached since 9.122s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 14:03:06,486 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 14:03:06,486 - sqlalchemy.engine.Engine - INFO - [cached since 9.088s ago] {'user_id': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'company_id': 14, 'file_type': 'ai_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_ai_recommendation_20251009_140306.json', 'file_path': 'user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_140306.json', 'file_size': 4291, 'sha256': '1d672d977920188683a66a18121187ae728215f27cb86adf9372ef7a35257edb', 'timestamp': '20251009_140306'}
2025-10-09 14:03:06,508 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 14:03:06,509 - sqlalchemy.engine.Engine - INFO - [cached since 9.084s ago] {'user_id': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'company_id': 14, 'kind': 'ai_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 161}
2025-10-09 14:03:06,528 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 14:03:06,548 - app.services.ai_recommendation_generator - INFO - ✅ [AI GENERATOR] AI recommendation generated and saved for Australia_for_UNHCR
2025-10-09 14:03:06,548 - app.services.ai_recommendation_generator - INFO - 📄 File: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation.json
2025-10-09 14:03:06,548 - app.services.ai_recommendation_generator - INFO - 💰 Cost: $0.0045
2025-10-09 14:03:06,548 - app.services.ai_recommendation_generator - INFO - 🔤 Tokens: 3495
2025-10-09 14:03:06,548 - app.services.ai_recommendation_generator - INFO - 🚀 [AI GENERATOR] Starting automatic CV tailoring for Australia_for_UNHCR
2025-10-09 14:03:06,549 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:03:06,550 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded CV optimization framework from /Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/tailored_cv/prompts/framework.md
2025-10-09 14:03:06,551 - app.tailored_cv.services.cv_tailoring_service - INFO - Loading real data for Australia_for_UNHCR
2025-10-09 14:03:06,551 - app.tailored_cv.services.cv_tailoring_service - INFO - Company folder: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 14:03:06,552 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:03:06,552 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:03:06,552 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/simran@gmail.com/cv-analysis
2025-10-09 14:03:06,553 - app.tailored_cv.services.cv_tailoring_service - INFO - 📄 [TAILORING] Using latest CV via unified selector → type=original, ts=None, path=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 14:03:06,553 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [DEBUG] Loading CV from user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 14:03:06,554 - app.tailored_cv.services.cv_tailoring_service - INFO - - First 200 chars: {   "personal_information": {     "name": "Maheshwor Tiwari",     "phone": "+61-123-456-789",     "email": "maheshwor.tiwari@example.com",     "location": "Sydney, NSW, Australia",     "linkedin": "li
2025-10-09 14:03:06,555 - app.tailored_cv.services.recommendation_parser - INFO - 📂 Loading CV from: user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 14:03:06,555 - app.tailored_cv.services.recommendation_parser - INFO - 📋 CV format check:
2025-10-09 14:03:06,555 - app.tailored_cv.services.recommendation_parser - INFO -   - Top-level keys: ['personal_information', 'career_profile', 'skills', 'education', 'experience', 'projects', 'certifications', 'languages', 'awards', 'publications', 'volunteer_work', 'professional_memberships', 'unknown_sections', 'original_sections', 'saved_at', 'metadata']
2025-10-09 14:03:06,555 - app.tailored_cv.services.recommendation_parser - INFO -   - Has metadata: True
2025-10-09 14:03:06,555 - app.tailored_cv.services.recommendation_parser - INFO -   - Source file: test_cv.pdf
2025-10-09 14:03:06,555 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing version: 2.0
2025-10-09 14:03:06,556 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Detected structured CV format
2025-10-09 14:03:06,556 - app.tailored_cv.services.recommendation_parser - INFO - 📊 Structure overview:
2025-10-09 14:03:06,556 - app.tailored_cv.services.recommendation_parser - INFO -   - Skills sections: ['technical_skills', 'key_skills', 'soft_skills', 'domain_expertise']
2025-10-09 14:03:06,556 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience entries: 2
2025-10-09 14:03:06,556 - app.tailored_cv.services.recommendation_parser - INFO -   - Education entries: 2
2025-10-09 14:03:06,556 - app.tailored_cv.services.recommendation_parser - INFO -   - Projects: 0
2025-10-09 14:03:06,556 - app.tailored_cv.services.recommendation_parser - INFO - 🔄 Starting structured CV conversion
2025-10-09 14:03:06,556 - app.tailored_cv.services.recommendation_parser - INFO - 📊 Input data validation:
2025-10-09 14:03:06,556 - app.tailored_cv.services.recommendation_parser - INFO - 👤 Converting contact information
2025-10-09 14:03:06,557 - app.tailored_cv.services.recommendation_parser - INFO -   - Source fields: ['name', 'phone', 'email', 'location', 'linkedin', 'github', 'portfolio_links', 'residency_status', 'open_to']
2025-10-09 14:03:06,557 - app.tailored_cv.services.recommendation_parser - INFO -   - Mapped fields: ['name', 'email', 'phone', 'location', 'linkedin', 'website']
2025-10-09 14:03:06,557 - app.tailored_cv.services.recommendation_parser - INFO -   - Contact completeness: 100.0%
2025-10-09 14:03:06,557 - app.tailored_cv.services.recommendation_parser - INFO -   - LinkedIn: linkedin.com/in/maheshwor-tiwari
2025-10-09 14:03:06,557 - app.tailored_cv.services.recommendation_parser - INFO -   - Website: github.com/maheshwor-tiwari
2025-10-09 14:03:06,557 - app.tailored_cv.services.recommendation_parser - INFO - 💼 Converting experience entries
2025-10-09 14:03:06,557 - app.tailored_cv.services.recommendation_parser - INFO -   - Found 2 experience entries
2025-10-09 14:03:06,557 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 1/2
2025-10-09 14:03:06,558 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: iBuild Building Solutions
2025-10-09 14:03:06,558 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Data Analyst
2025-10-09 14:03:06,558 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration:  to Present
2025-10-09 14:03:06,558 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 0
2025-10-09 14:03:06,558 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 2/2
2025-10-09 14:03:06,558 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: Property Console
2025-10-09 14:03:06,558 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Data Insight Analyst
2025-10-09 14:03:06,558 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration:  to Present
2025-10-09 14:03:06,558 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 0
2025-10-09 14:03:06,559 - app.tailored_cv.services.recommendation_parser - INFO - Converted 0 experience entries
2025-10-09 14:03:06,559 - app.tailored_cv.services.recommendation_parser - INFO - 🔧 Converting skills section
2025-10-09 14:03:06,559 - app.tailored_cv.services.recommendation_parser - INFO -   - Source skill categories: ['technical_skills', 'key_skills', 'soft_skills', 'domain_expertise']
2025-10-09 14:03:06,560 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing technical skills:
2025-10-09 14:03:06,560 - app.tailored_cv.services.recommendation_parser - INFO -     • Extracted 4 unique technical skills
2025-10-09 14:03:06,560 - app.tailored_cv.services.recommendation_parser - INFO -     • Skills: SQL, Python, Power BI, Data Analysis
2025-10-09 14:03:06,560 - app.tailored_cv.services.recommendation_parser - INFO - Converted 1 skill categories
2025-10-09 14:03:06,561 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Conversion complete - Validating output
2025-10-09 14:03:06,561 - app.tailored_cv.services.recommendation_parser - ERROR - ❌ No experience entries were converted
2025-10-09 14:03:06,561 - app.tailored_cv.services.recommendation_parser - INFO - ✓ Skills: 1 categories
2025-10-09 14:03:06,561 - app.tailored_cv.services.recommendation_parser - INFO -   • Technical Skills: 4 skills
2025-10-09 14:03:06,561 - app.tailored_cv.services.recommendation_parser - WARNING - ⚠️ Validation found 1 issues
2025-10-09 14:03:06,562 - app.tailored_cv.services.recommendation_parser - INFO - 🎓 Converting education entries
2025-10-09 14:03:06,562 - app.tailored_cv.services.recommendation_parser - INFO -   - Found 2 education entries
2025-10-09 14:03:06,562 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing education 1/2
2025-10-09 14:03:06,562 - app.tailored_cv.services.recommendation_parser - INFO -     • Institution: Charles Darwin University
2025-10-09 14:03:06,563 - app.tailored_cv.services.recommendation_parser - INFO -     • Degree: Master of Data Science
2025-10-09 14:03:06,563 - app.tailored_cv.services.recommendation_parser - INFO -     • Graduation date: 
2025-10-09 14:03:06,563 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing education 2/2
2025-10-09 14:03:06,563 - app.tailored_cv.services.recommendation_parser - INFO -     • Institution: 
2025-10-09 14:03:06,564 - app.tailored_cv.services.recommendation_parser - INFO -     • Degree: Bachelor of Computer Science
2025-10-09 14:03:06,564 - app.tailored_cv.services.recommendation_parser - INFO -     • Graduation date: 
2025-10-09 14:03:06,564 - app.tailored_cv.services.recommendation_parser - INFO - Converted 2 education entries
2025-10-09 14:03:06,564 - app.tailored_cv.services.recommendation_parser - INFO - 📤 Returning converted CV data:
2025-10-09 14:03:06,564 - app.tailored_cv.services.recommendation_parser - INFO -   - Contact fields: ['name', 'email', 'phone', 'location', 'linkedin', 'website']
2025-10-09 14:03:06,564 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience entries: 0
2025-10-09 14:03:06,564 - app.tailored_cv.services.recommendation_parser - INFO -   - Skill categories: 1
2025-10-09 14:03:06,565 - app.tailored_cv.services.recommendation_parser - INFO -   - Education entries: 2
2025-10-09 14:03:06,565 - app.tailored_cv.services.cv_tailoring_service - INFO - - Parsed CV data keys: ['contact', 'experience', 'skills', 'education']
2025-10-09 14:03:06,565 - app.tailored_cv.services.cv_tailoring_service - WARNING - ⚠️ [TAILORING] CV data is empty, checking for original_text fallback
2025-10-09 14:03:06,565 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Skills already in SkillCategory format
2025-10-09 14:03:06,565 - app.tailored_cv.services.cv_tailoring_service - WARNING - ⚠️ [TAILORING] CV data is incomplete, falling back to original CV
2025-10-09 14:03:06,566 - app.tailored_cv.services.cv_tailoring_service - INFO - - Final CV object attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__repr__', '__repr_args__', '__repr_name__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_check_frozen', '_copy_and_set_values', '_get_value', '_iter', 'construct', 'contact', 'copy', 'created_at', 'dict', 'education', 'experience', 'experience_level', 'from_orm', 'json', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'projects', 'schema', 'schema_json', 'skills', 'total_years_experience', 'update_forward_refs', 'updated_at', 'validate']
2025-10-09 14:03:06,572 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Parsed recommendation for Australia_for_UNHCR
2025-10-09 14:03:06,573 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded real CV and recommendation for Australia_for_UNHCR
2025-10-09 14:03:06,573 - app.tailored_cv.services.cv_tailoring_service - INFO - 🎯 Starting CV tailoring for Australia_for_UNHCR - Senior Data Analyst
2025-10-09 14:03:06,573 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [DEBUG] Validating CV structure:
2025-10-09 14:03:06,573 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV object type: <class 'app.tailored_cv.models.cv_models.OriginalCV'>
2025-10-09 14:03:06,574 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__repr__', '__repr_args__', '__repr_name__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_check_frozen', '_copy_and_set_values', '_get_value', '_iter', 'construct', 'contact', 'copy', 'created_at', 'dict', 'education', 'experience', 'experience_level', 'from_orm', 'json', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'projects', 'schema', 'schema_json', 'skills', 'total_years_experience', 'update_forward_refs', 'updated_at', 'validate']
2025-10-09 14:03:06,574 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV data: {
  "contact": {
    "name": "Maheshwor Tiwari",
    "phone": "+61-123-456-789",
    "email": "maheshwor.tiwari@example.com",
    "linkedin": "linkedin.com/in/maheshwor-tiwari",
    "location": "Sydney, NSW, Australia",
    "website": "github.com/maheshwor-tiwari"
  },
  "education": [
    {
      "institution": "Charles Darwin University",
      "degree": "Master of Data Science",
      "location": "Sydney, Australia",
      "graduation_date": "",
      "gpa": "",
      "relevant_coursework": [],
      "honors": []
    },
    {
      "institution": "",
      "degree": "Bachelor of Computer Science",
      "location": "",
      "graduation_date": "",
      "gpa": "",
      "relevant_coursework": [],
      "honors": []
    }
  ],
  "experience": [],
  "projects": null,
  "skills": [
    {
      "category": "Technical Skills",
      "skills": [
        "SQL",
        "Python",
        "Power BI",
        "Data Analysis"
      ]
    }
  ],
  "experience_level": null,
  "total_years_experience": null,
  "created_at": null,
  "updated_at": null
}
2025-10-09 14:03:06,574 - app.tailored_cv.services.cv_tailoring_service - ERROR - ❌ CV tailoring failed: CV validation failed. Fix these issues: experience: At least one experience entry is required
2025-10-09 14:03:06,575 - app.services.ai_recommendation_generator - ERROR - ❌ [AI GENERATOR] Error during automatic CV tailoring for Australia_for_UNHCR: CV tailoring process failed: CV validation failed. Fix these issues: experience: At least one experience entry is required
2025-10-09 14:03:06,575 - app.services.ai_recommendation_generator - WARNING - ⚠️ [AI GENERATOR] CV tailoring failed for Australia_for_UNHCR
2025-10-09 14:03:06,575 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] AI recommendation generated for Australia_for_UNHCR
2025-10-09 14:03:06,575 - app.routes.skills_analysis - INFO - 🎯 [PIPELINE] Starting tailored CV generation for Australia_for_UNHCR
2025-10-09 14:03:06,575 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:03:06,575 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded CV optimization framework from /Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/tailored_cv/prompts/framework.md
2025-10-09 14:03:06,576 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:03:06,577 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Found AI recommendation file: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_140306.json
2025-10-09 14:03:06,578 - app.routes.skills_analysis - WARNING - ⚠️ [PIPELINE] No tailored CV found for Australia_for_UNHCR
2025-10-09 14:03:06,578 - app.routes.skills_analysis - INFO - 📋 [PIPELINE] Pipeline summary for Australia_for_UNHCR:
2025-10-09 14:03:06,578 - app.routes.skills_analysis - INFO -    ✅ Successful: ['jd_analysis', 'cv_jd_matching', 'component_analysis', 'input_recommendation', 'ai_recommendation']
2025-10-09 14:03:06,578 - app.routes.skills_analysis - INFO -    ❌ Failed: ['tailored_cv']
2025-10-09 14:03:06,579 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-09 14:03:06,580 - app.services.ai_recommendation_generator - INFO - 🟢 [AI GENERATOR] Latest AI recommendation (Australia_for_UNHCR_ai_recommendation_20251009_140306.json) is up-to-date vs input (Australia_for_UNHCR_input_recommendation_20251009_140257.json); skipping regeneration
2025-10-09 14:03:06,581 - app.services.ats_recommendation_service - INFO - ✅ [TRIGGER] AI recommendation generated successfully for Australia_for_UNHCR
2025-10-09 14:03:06,581 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-09 14:03:06,581 - app.services.ai_recommendation_generator - INFO - 🟢 [AI GENERATOR] Latest AI recommendation (Australia_for_UNHCR_ai_recommendation_20251009_140306.json) is up-to-date vs input (Australia_for_UNHCR_input_recommendation_20251009_140257.json); skipping regeneration
2025-10-09 14:03:06,581 - app.services.ats_recommendation_service - INFO - ✅ [TRIGGER] AI recommendation generated successfully for Australia_for_UNHCR
2025-10-09 14:03:06,684 - app.main - INFO - ⏹️ Shutting down CV Management API...
2025-10-09 14:03:11,843 - app.main - INFO - 🚀 Starting CV Management API...
2025-10-09 14:03:12,163 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 14:03:12,163 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:03:12,206 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 14:03:12,206 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:03:12,244 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 14:03:12,245 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:03:12,288 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:03:12,288 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 14:03:12,288 - sqlalchemy.engine.Engine - INFO - [generated in 0.00080s] {}
2025-10-09 14:03:12,322 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 14:03:12,340 - app.database - INFO - Database connection successful
2025-10-09 14:03:12,341 - app.main - INFO - ✅ Database connection successful
2025-10-09 14:03:12,358 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:03:12,364 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:03:12,364 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:03:12,405 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:03:12,405 - sqlalchemy.engine.Engine - INFO - [cached since 0.04165s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:03:12,427 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:03:12,427 - sqlalchemy.engine.Engine - INFO - [cached since 0.06371s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:03:12,447 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:03:12,447 - sqlalchemy.engine.Engine - INFO - [cached since 0.08401s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:03:12,467 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:03:12,467 - sqlalchemy.engine.Engine - INFO - [cached since 0.1041s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:03:12,485 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:03:12,486 - sqlalchemy.engine.Engine - INFO - [cached since 0.1222s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:03:12,510 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:03:12,510 - sqlalchemy.engine.Engine - INFO - [cached since 0.1465s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:03:12,534 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:03:12,535 - sqlalchemy.engine.Engine - INFO - [cached since 0.1713s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:03:12,560 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:03:12,560 - sqlalchemy.engine.Engine - INFO - [cached since 0.1966s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:03:12,584 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:03:12,584 - sqlalchemy.engine.Engine - INFO - [cached since 0.2209s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:03:12,607 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:03:12,607 - sqlalchemy.engine.Engine - INFO - [cached since 0.2435s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:03:12,630 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 14:03:12,660 - app.database - INFO - Database tables created successfully
2025-10-09 14:03:12,660 - app.main - INFO - ✅ Database tables ready
2025-10-09 14:03:12,661 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 14:03:12,661 - app.main - INFO - ✅ User directories will be created on-demand during login
2025-10-09 14:03:12,672 - app.routes.skills_analysis - INFO - 📊 [API] Fetching analysis results for company: Australia_for_UNHCR
2025-10-09 14:03:12,673 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:03:12,673 - app.utils.path_debug - INFO - 
📌 Starting get_analysis_results
2025-10-09 14:03:12,674 - app.utils.path_debug - INFO -   📂 User base dir: user/simran@gmail.com/cv-analysis
2025-10-09 14:03:12,674 - app.utils.path_debug - INFO -   📂 Company dir: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 14:03:12,678 - app.utils.path_debug - INFO -   📂 Using analysis file: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_140221.json
2025-10-09 14:03:12,679 - app.utils.path_debug - INFO -   ✅ Loaded analysis file, size: 30233 bytes
2025-10-09 14:03:26,652 - app.routes.skills_analysis - INFO - 📊 [API] Fetching analysis results for company: Australia_for_UNHCR
2025-10-09 14:03:26,655 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:03:26,656 - app.utils.path_debug - INFO - 
📌 Starting get_analysis_results
2025-10-09 14:03:26,656 - app.utils.path_debug - INFO -   📂 User base dir: user/simran@gmail.com/cv-analysis
2025-10-09 14:03:26,656 - app.utils.path_debug - INFO -   📂 Company dir: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 14:03:26,656 - app.utils.path_debug - INFO -   📂 Using analysis file: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_140221.json
2025-10-09 14:03:26,658 - app.utils.path_debug - INFO -   ✅ Loaded analysis file, size: 30233 bytes
2025-10-09 14:03:49,071 - app.routes.ai_recommendations - INFO - 🔍 [AI_RECOMMENDATIONS] Fetching for company: Australia_for_UNHCR, user: simran@gmail.com
2025-10-09 14:03:49,071 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:03:49,071 - app.routes.ai_recommendations - INFO - 🔍 [AI_RECOMMENDATIONS] Searching in: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 14:03:49,071 - app.routes.ai_recommendations - INFO - ✅ [AI_RECOMMENDATIONS] Found file: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_140306.json
2025-10-09 14:03:49,072 - app.routes.ai_recommendations - INFO - ✅ [AI_RECOMMENDATIONS] Successfully loaded recommendation, content length: 3833
