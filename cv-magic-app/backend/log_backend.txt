Server starting at http://localhost:8000
INFO:     Will watch for changes in these directories: ['/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [54189] using WatchFiles
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [54220]
INFO:     Waiting for application startup.
2025-10-09 14:34:42,603 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 14:34:43,045 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 14:34:43,045 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 14:34:43,045 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:34:43,045 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:34:43,088 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 14:34:43,088 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 14:34:43,091 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:34:43,091 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:34:43,135 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 14:34:43,135 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 14:34:43,136 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:34:43,136 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:34:43,185 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 14:34:43,185 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:34:43,185 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 14:34:43,185 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 14:34:43,186 INFO sqlalchemy.engine.Engine [generated in 0.00112s] {}
2025-10-09 14:34:43,186 - sqlalchemy.engine.Engine - INFO - [generated in 0.00112s] {}
2025-10-09 14:34:43,217 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 14:34:43,217 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 14:34:43,239 - app.database - INFO - Database connection successful
2025-10-09 14:34:43,239 - app.main - INFO - ✅ Database connection successful
2025-10-09 14:34:43,256 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 14:34:43,256 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:34:43,261 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:34:43,261 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:34:43,262 INFO sqlalchemy.engine.Engine [generated in 0.00046s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:34:43,262 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:34:43,301 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:34:43,301 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:34:43,302 INFO sqlalchemy.engine.Engine [cached since 0.0407s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:34:43,302 - sqlalchemy.engine.Engine - INFO - [cached since 0.0407s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:34:43,325 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:34:43,325 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:34:43,325 INFO sqlalchemy.engine.Engine [cached since 0.06415s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:34:43,325 - sqlalchemy.engine.Engine - INFO - [cached since 0.06415s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:34:43,349 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:34:43,349 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:34:43,349 INFO sqlalchemy.engine.Engine [cached since 0.08828s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:34:43,349 - sqlalchemy.engine.Engine - INFO - [cached since 0.08828s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:34:43,374 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:34:43,374 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:34:43,374 INFO sqlalchemy.engine.Engine [cached since 0.113s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:34:43,374 - sqlalchemy.engine.Engine - INFO - [cached since 0.113s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:34:43,392 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:34:43,392 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:34:43,393 INFO sqlalchemy.engine.Engine [cached since 0.1315s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:34:43,393 - sqlalchemy.engine.Engine - INFO - [cached since 0.1315s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:34:43,416 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:34:43,416 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:34:43,416 INFO sqlalchemy.engine.Engine [cached since 0.1552s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:34:43,416 - sqlalchemy.engine.Engine - INFO - [cached since 0.1552s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:34:43,439 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:34:43,439 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:34:43,439 INFO sqlalchemy.engine.Engine [cached since 0.1781s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:34:43,439 - sqlalchemy.engine.Engine - INFO - [cached since 0.1781s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:34:43,461 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:34:43,461 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:34:43,462 INFO sqlalchemy.engine.Engine [cached since 0.2008s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:34:43,462 - sqlalchemy.engine.Engine - INFO - [cached since 0.2008s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:34:43,485 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:34:43,485 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:34:43,486 INFO sqlalchemy.engine.Engine [cached since 0.2244s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:34:43,486 - sqlalchemy.engine.Engine - INFO - [cached since 0.2244s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:34:43,510 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:34:43,510 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:34:43,511 INFO sqlalchemy.engine.Engine [cached since 0.2499s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:34:43,511 - sqlalchemy.engine.Engine - INFO - [cached since 0.2499s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:34:43,536 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 14:34:43,536 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 14:34:43,607 - app.database - INFO - Database tables created successfully
2025-10-09 14:34:43,615 - app.main - INFO - ✅ Database tables ready
2025-10-09 14:34:43,616 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 14:34:43,616 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/routes/api_keys.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 14:36:45,503 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [54220]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [54751]
INFO:     Waiting for application startup.
2025-10-09 14:36:50,790 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 14:36:51,126 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 14:36:51,126 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 14:36:51,127 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:36:51,127 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:36:51,172 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 14:36:51,172 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 14:36:51,172 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:36:51,172 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:36:51,212 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 14:36:51,212 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 14:36:51,213 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:36:51,213 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:36:51,253 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 14:36:51,253 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:36:51,253 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 14:36:51,253 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 14:36:51,254 INFO sqlalchemy.engine.Engine [generated in 0.00057s] {}
2025-10-09 14:36:51,254 - sqlalchemy.engine.Engine - INFO - [generated in 0.00057s] {}
2025-10-09 14:36:51,295 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 14:36:51,295 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 14:36:51,320 - app.database - INFO - Database connection successful
2025-10-09 14:36:51,320 - app.main - INFO - ✅ Database connection successful
2025-10-09 14:36:51,339 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 14:36:51,339 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:36:51,346 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:36:51,346 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:36:51,346 INFO sqlalchemy.engine.Engine [generated in 0.00054s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:36:51,346 - sqlalchemy.engine.Engine - INFO - [generated in 0.00054s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:36:51,389 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:36:51,389 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:36:51,389 INFO sqlalchemy.engine.Engine [cached since 0.04381s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:36:51,389 - sqlalchemy.engine.Engine - INFO - [cached since 0.04381s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:36:51,413 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:36:51,413 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:36:51,413 INFO sqlalchemy.engine.Engine [cached since 0.0675s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:36:51,413 - sqlalchemy.engine.Engine - INFO - [cached since 0.0675s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:36:51,438 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:36:51,438 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:36:51,438 INFO sqlalchemy.engine.Engine [cached since 0.09298s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:36:51,438 - sqlalchemy.engine.Engine - INFO - [cached since 0.09298s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:36:51,464 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:36:51,464 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:36:51,464 INFO sqlalchemy.engine.Engine [cached since 0.1186s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:36:51,464 - sqlalchemy.engine.Engine - INFO - [cached since 0.1186s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:36:51,485 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:36:51,485 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:36:51,485 INFO sqlalchemy.engine.Engine [cached since 0.1395s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:36:51,485 - sqlalchemy.engine.Engine - INFO - [cached since 0.1395s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:36:51,510 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:36:51,510 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:36:51,511 INFO sqlalchemy.engine.Engine [cached since 0.1651s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:36:51,511 - sqlalchemy.engine.Engine - INFO - [cached since 0.1651s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:36:51,534 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:36:51,534 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:36:51,534 INFO sqlalchemy.engine.Engine [cached since 0.1886s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:36:51,534 - sqlalchemy.engine.Engine - INFO - [cached since 0.1886s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:36:51,559 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:36:51,559 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:36:51,560 INFO sqlalchemy.engine.Engine [cached since 0.2141s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:36:51,560 - sqlalchemy.engine.Engine - INFO - [cached since 0.2141s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:36:51,581 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:36:51,581 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:36:51,581 INFO sqlalchemy.engine.Engine [cached since 0.2359s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:36:51,581 - sqlalchemy.engine.Engine - INFO - [cached since 0.2359s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:36:51,605 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:36:51,605 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:36:51,606 INFO sqlalchemy.engine.Engine [cached since 0.2603s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:36:51,606 - sqlalchemy.engine.Engine - INFO - [cached since 0.2603s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:36:51,627 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 14:36:51,627 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 14:36:51,646 - app.database - INFO - Database tables created successfully
2025-10-09 14:36:51,647 - app.main - INFO - ✅ Database tables ready
2025-10-09 14:36:51,647 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 14:36:51,647 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/core/model_dependency.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 14:36:53,828 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [54751]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [54780]
INFO:     Waiting for application startup.
2025-10-09 14:36:58,041 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 14:36:58,363 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 14:36:58,363 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 14:36:58,364 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:36:58,364 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:36:58,406 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 14:36:58,406 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 14:36:58,407 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:36:58,407 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:36:58,445 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 14:36:58,445 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 14:36:58,446 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:36:58,446 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:36:58,513 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 14:36:58,513 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:36:58,513 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 14:36:58,513 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 14:36:58,513 INFO sqlalchemy.engine.Engine [generated in 0.00060s] {}
2025-10-09 14:36:58,513 - sqlalchemy.engine.Engine - INFO - [generated in 0.00060s] {}
2025-10-09 14:36:58,561 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 14:36:58,561 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 14:36:58,580 - app.database - INFO - Database connection successful
2025-10-09 14:36:58,580 - app.main - INFO - ✅ Database connection successful
2025-10-09 14:36:58,602 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 14:36:58,602 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:36:58,617 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:36:58,617 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:36:58,618 INFO sqlalchemy.engine.Engine [generated in 0.00090s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:36:58,618 - sqlalchemy.engine.Engine - INFO - [generated in 0.00090s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:36:58,657 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:36:58,657 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:36:58,660 INFO sqlalchemy.engine.Engine [cached since 0.04399s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:36:58,660 - sqlalchemy.engine.Engine - INFO - [cached since 0.04399s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:36:58,680 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:36:58,680 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:36:58,680 INFO sqlalchemy.engine.Engine [cached since 0.06395s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:36:58,680 - sqlalchemy.engine.Engine - INFO - [cached since 0.06395s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:36:58,704 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:36:58,704 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:36:58,704 INFO sqlalchemy.engine.Engine [cached since 0.08764s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:36:58,704 - sqlalchemy.engine.Engine - INFO - [cached since 0.08764s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:36:58,729 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:36:58,729 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:36:58,729 INFO sqlalchemy.engine.Engine [cached since 0.1127s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:36:58,729 - sqlalchemy.engine.Engine - INFO - [cached since 0.1127s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:36:58,752 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:36:58,752 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:36:58,752 INFO sqlalchemy.engine.Engine [cached since 0.1354s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:36:58,752 - sqlalchemy.engine.Engine - INFO - [cached since 0.1354s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:36:58,776 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:36:58,776 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:36:58,777 INFO sqlalchemy.engine.Engine [cached since 0.1604s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:36:58,777 - sqlalchemy.engine.Engine - INFO - [cached since 0.1604s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:36:58,800 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:36:58,800 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:36:58,800 INFO sqlalchemy.engine.Engine [cached since 0.1837s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:36:58,800 - sqlalchemy.engine.Engine - INFO - [cached since 0.1837s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:36:58,821 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:36:58,821 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:36:58,822 INFO sqlalchemy.engine.Engine [cached since 0.2057s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:36:58,822 - sqlalchemy.engine.Engine - INFO - [cached since 0.2057s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:36:58,845 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:36:58,845 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:36:58,845 INFO sqlalchemy.engine.Engine [cached since 0.2287s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:36:58,845 - sqlalchemy.engine.Engine - INFO - [cached since 0.2287s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:36:58,868 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:36:58,868 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:36:58,868 INFO sqlalchemy.engine.Engine [cached since 0.2517s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:36:58,868 - sqlalchemy.engine.Engine - INFO - [cached since 0.2517s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:36:58,893 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 14:36:58,893 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 14:36:58,910 - app.database - INFO - Database tables created successfully
2025-10-09 14:36:58,911 - app.main - INFO - ✅ Database tables ready
2025-10-09 14:36:58,912 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 14:36:58,912 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/routes/ai.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 14:37:18,530 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [54780]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [54858]
INFO:     Waiting for application startup.
2025-10-09 14:37:22,823 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 14:37:23,379 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 14:37:23,379 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 14:37:23,379 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:37:23,379 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:37:23,418 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 14:37:23,418 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 14:37:23,419 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:37:23,419 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:37:23,452 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 14:37:23,452 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 14:37:23,453 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:37:23,453 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:37:23,492 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 14:37:23,492 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:37:23,493 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 14:37:23,493 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 14:37:23,493 INFO sqlalchemy.engine.Engine [generated in 0.00058s] {}
2025-10-09 14:37:23,493 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] {}
2025-10-09 14:37:23,536 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 14:37:23,536 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 14:37:23,556 - app.database - INFO - Database connection successful
2025-10-09 14:37:23,556 - app.main - INFO - ✅ Database connection successful
2025-10-09 14:37:23,573 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 14:37:23,573 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:37:23,577 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:37:23,577 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:37:23,578 INFO sqlalchemy.engine.Engine [generated in 0.00043s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:37:23,578 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:37:23,623 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:37:23,623 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:37:23,624 INFO sqlalchemy.engine.Engine [cached since 0.04617s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:37:23,624 - sqlalchemy.engine.Engine - INFO - [cached since 0.04617s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:37:23,644 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:37:23,644 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:37:23,645 INFO sqlalchemy.engine.Engine [cached since 0.06719s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:37:23,645 - sqlalchemy.engine.Engine - INFO - [cached since 0.06719s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:37:23,664 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:37:23,664 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:37:23,664 INFO sqlalchemy.engine.Engine [cached since 0.0866s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:37:23,664 - sqlalchemy.engine.Engine - INFO - [cached since 0.0866s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:37:23,697 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:37:23,697 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:37:23,697 INFO sqlalchemy.engine.Engine [cached since 0.1195s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:37:23,697 - sqlalchemy.engine.Engine - INFO - [cached since 0.1195s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:37:23,721 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:37:23,721 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:37:23,722 INFO sqlalchemy.engine.Engine [cached since 0.1445s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:37:23,722 - sqlalchemy.engine.Engine - INFO - [cached since 0.1445s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:37:23,743 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:37:23,743 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:37:23,743 INFO sqlalchemy.engine.Engine [cached since 0.166s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:37:23,743 - sqlalchemy.engine.Engine - INFO - [cached since 0.166s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:37:23,767 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:37:23,767 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:37:23,767 INFO sqlalchemy.engine.Engine [cached since 0.1897s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:37:23,767 - sqlalchemy.engine.Engine - INFO - [cached since 0.1897s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:37:23,795 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:37:23,795 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:37:23,796 INFO sqlalchemy.engine.Engine [cached since 0.2185s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:37:23,796 - sqlalchemy.engine.Engine - INFO - [cached since 0.2185s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:37:23,818 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:37:23,818 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:37:23,818 INFO sqlalchemy.engine.Engine [cached since 0.241s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:37:23,818 - sqlalchemy.engine.Engine - INFO - [cached since 0.241s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:37:23,838 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:37:23,838 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:37:23,838 INFO sqlalchemy.engine.Engine [cached since 0.2611s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:37:23,838 - sqlalchemy.engine.Engine - INFO - [cached since 0.2611s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:37:23,859 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 14:37:23,859 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 14:37:23,878 - app.database - INFO - Database tables created successfully
2025-10-09 14:37:23,879 - app.main - INFO - ✅ Database tables ready
2025-10-09 14:37:23,879 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 14:37:23,879 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/routes/api_keys.py', 'app/core/model_dependency.py', 'app/routes/ai.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 14:37:38,758 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [54858]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [55270]
INFO:     Waiting for application startup.
2025-10-09 14:37:44,315 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 14:37:44,598 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 14:37:44,598 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 14:37:44,599 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:37:44,599 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:37:44,644 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 14:37:44,644 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 14:37:44,645 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:37:44,645 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:37:44,688 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 14:37:44,688 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 14:37:44,689 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:37:44,689 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:37:44,730 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 14:37:44,730 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:37:44,730 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 14:37:44,730 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 14:37:44,730 INFO sqlalchemy.engine.Engine [generated in 0.00058s] {}
2025-10-09 14:37:44,730 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] {}
2025-10-09 14:37:44,768 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 14:37:44,768 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 14:37:44,786 - app.database - INFO - Database connection successful
2025-10-09 14:37:44,786 - app.main - INFO - ✅ Database connection successful
2025-10-09 14:37:44,808 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 14:37:44,808 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:37:44,814 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:37:44,814 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:37:44,814 INFO sqlalchemy.engine.Engine [generated in 0.00053s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:37:44,814 - sqlalchemy.engine.Engine - INFO - [generated in 0.00053s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:37:44,865 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:37:44,865 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:37:44,865 INFO sqlalchemy.engine.Engine [cached since 0.0517s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:37:44,865 - sqlalchemy.engine.Engine - INFO - [cached since 0.0517s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:37:44,886 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:37:44,886 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:37:44,887 INFO sqlalchemy.engine.Engine [cached since 0.0731s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:37:44,887 - sqlalchemy.engine.Engine - INFO - [cached since 0.0731s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:37:44,909 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:37:44,909 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:37:44,909 INFO sqlalchemy.engine.Engine [cached since 0.09548s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:37:44,909 - sqlalchemy.engine.Engine - INFO - [cached since 0.09548s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:37:44,934 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:37:44,934 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:37:44,935 INFO sqlalchemy.engine.Engine [cached since 0.1209s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:37:44,935 - sqlalchemy.engine.Engine - INFO - [cached since 0.1209s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:37:44,969 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:37:44,969 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:37:44,969 INFO sqlalchemy.engine.Engine [cached since 0.1556s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:37:44,969 - sqlalchemy.engine.Engine - INFO - [cached since 0.1556s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:37:44,999 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:37:44,999 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:37:45,000 INFO sqlalchemy.engine.Engine [cached since 0.1861s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:37:45,000 - sqlalchemy.engine.Engine - INFO - [cached since 0.1861s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:37:45,031 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:37:45,031 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:37:45,032 INFO sqlalchemy.engine.Engine [cached since 0.2181s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:37:45,032 - sqlalchemy.engine.Engine - INFO - [cached since 0.2181s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:37:45,055 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:37:45,055 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:37:45,056 INFO sqlalchemy.engine.Engine [cached since 0.2422s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:37:45,056 - sqlalchemy.engine.Engine - INFO - [cached since 0.2422s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:37:45,128 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:37:45,128 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:37:45,129 INFO sqlalchemy.engine.Engine [cached since 0.315s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:37:45,129 - sqlalchemy.engine.Engine - INFO - [cached since 0.315s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:37:45,156 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:37:45,156 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:37:45,156 INFO sqlalchemy.engine.Engine [cached since 0.3423s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:37:45,156 - sqlalchemy.engine.Engine - INFO - [cached since 0.3423s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:37:45,183 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 14:37:45,183 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 14:37:45,229 - app.database - INFO - Database tables created successfully
2025-10-09 14:37:45,230 - app.main - INFO - ✅ Database tables ready
2025-10-09 14:37:45,230 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 14:37:45,230 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/routes/api_keys.py', 'app/core/model_dependency.py', 'app/routes/ai.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 14:37:58,746 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [55270]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [55366]
INFO:     Waiting for application startup.
2025-10-09 14:38:03,507 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 14:38:03,764 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 14:38:03,764 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 14:38:03,764 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:38:03,764 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:38:03,805 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 14:38:03,805 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 14:38:03,805 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:38:03,805 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:38:03,853 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 14:38:03,853 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 14:38:03,853 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:38:03,853 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:38:03,890 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 14:38:03,890 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:38:03,891 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 14:38:03,891 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 14:38:03,891 INFO sqlalchemy.engine.Engine [generated in 0.00056s] {}
2025-10-09 14:38:03,891 - sqlalchemy.engine.Engine - INFO - [generated in 0.00056s] {}
2025-10-09 14:38:03,926 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 14:38:03,926 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 14:38:03,944 - app.database - INFO - Database connection successful
2025-10-09 14:38:03,944 - app.main - INFO - ✅ Database connection successful
2025-10-09 14:38:03,962 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 14:38:03,962 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:38:03,968 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:38:03,968 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:38:03,968 INFO sqlalchemy.engine.Engine [generated in 0.00044s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:38:03,968 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:38:04,011 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:38:04,011 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:38:04,011 INFO sqlalchemy.engine.Engine [cached since 0.04356s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:38:04,011 - sqlalchemy.engine.Engine - INFO - [cached since 0.04356s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:38:04,043 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:38:04,043 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:38:04,044 INFO sqlalchemy.engine.Engine [cached since 0.0759s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:38:04,044 - sqlalchemy.engine.Engine - INFO - [cached since 0.0759s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:38:04,068 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:38:04,068 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:38:04,069 INFO sqlalchemy.engine.Engine [cached since 0.1011s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:38:04,069 - sqlalchemy.engine.Engine - INFO - [cached since 0.1011s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:38:04,091 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:38:04,091 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:38:04,091 INFO sqlalchemy.engine.Engine [cached since 0.1236s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:38:04,091 - sqlalchemy.engine.Engine - INFO - [cached since 0.1236s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:38:04,116 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:38:04,116 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:38:04,116 INFO sqlalchemy.engine.Engine [cached since 0.1487s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:38:04,116 - sqlalchemy.engine.Engine - INFO - [cached since 0.1487s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:38:04,141 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:38:04,141 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:38:04,141 INFO sqlalchemy.engine.Engine [cached since 0.1732s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:38:04,141 - sqlalchemy.engine.Engine - INFO - [cached since 0.1732s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:38:04,165 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:38:04,165 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:38:04,166 INFO sqlalchemy.engine.Engine [cached since 0.1981s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:38:04,166 - sqlalchemy.engine.Engine - INFO - [cached since 0.1981s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:38:04,189 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:38:04,189 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:38:04,189 INFO sqlalchemy.engine.Engine [cached since 0.2212s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:38:04,189 - sqlalchemy.engine.Engine - INFO - [cached since 0.2212s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:38:04,213 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:38:04,213 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:38:04,213 INFO sqlalchemy.engine.Engine [cached since 0.2456s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:38:04,213 - sqlalchemy.engine.Engine - INFO - [cached since 0.2456s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:38:04,235 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:38:04,235 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:38:04,236 INFO sqlalchemy.engine.Engine [cached since 0.268s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:38:04,236 - sqlalchemy.engine.Engine - INFO - [cached since 0.268s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:38:04,257 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 14:38:04,257 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 14:38:04,280 - app.database - INFO - Database tables created successfully
2025-10-09 14:38:04,280 - app.main - INFO - ✅ Database tables ready
2025-10-09 14:38:04,281 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 14:38:04,281 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
INFO:     127.0.0.1:62842 - "OPTIONS /api/ai/status HTTP/1.1" 200 OK
2025-10-09 14:38:39,203 - app.main - WARNING - 🚫 Auth failed (403) for GET /api/ai/status
INFO:     127.0.0.1:62842 - "GET /api/ai/status HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:62892 - "OPTIONS /api/auth/login HTTP/1.1" 200 OK
2025-10-09 14:39:43,152 - app.routes.auth - INFO - 🔵 [LOGIN] Starting login process
2025-10-09 14:39:43,155 - app.routes.auth - INFO - 🔵 [LOGIN] Raw credentials: email='simran@gmail.com' password='simran'
2025-10-09 14:39:43,155 - app.routes.auth - INFO - 🔵 [LOGIN] Email: 'simran@gmail.com', Password length: 6
2025-10-09 14:39:43,155 - app.routes.auth - INFO - 🔵 [LOGIN] Attempting authentication
2025-10-09 14:39:43,156 - app.core.auth - INFO - 🔵 [AUTH] Starting authentication for email: 'simran@gmail.com'
2025-10-09 14:39:43,156 - app.core.auth - INFO - 🔵 [AUTH] Normalized inputs - email: 'simran@gmail.com', password length: 6
2025-10-09 14:39:43,156 - app.core.auth - INFO - 🔵 [AUTH] Using provided database session
2025-10-09 14:39:43,157 - app.core.auth - INFO - 🔵 [AUTH] Querying database for user: 'simran@gmail.com'
2025-10-09 14:39:43,226 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 14:39:43,226 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:39:43,238 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 14:39:43,238 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 14:39:43,239 INFO sqlalchemy.engine.Engine [generated in 0.00086s] {'email_1': 'simran@gmail.com', 'param_1': 1}
2025-10-09 14:39:43,239 - sqlalchemy.engine.Engine - INFO - [generated in 0.00086s] {'email_1': 'simran@gmail.com', 'param_1': 1}
2025-10-09 14:39:43,282 - app.core.auth - INFO - 🔵 [AUTH] User found: simran@gmail.com (ID: 93d2b2fe-c1a7-4dd5-8006-199a4fe3e860, Active: True)
2025-10-09 14:39:43,283 - app.core.auth - INFO - 🔵 [AUTH] Verifying password
2025-10-09 14:39:43,778 - app.core.auth - INFO - 🔵 [AUTH] Password verification successful for user: 'simran@gmail.com'
2025-10-09 14:39:43,779 - app.core.auth - INFO - ✅ [AUTH] Authentication successful
2025-10-09 14:39:43,780 - app.routes.auth - INFO - 🔵 [LOGIN] Authentication successful for user: simran@gmail.com (ID: 93d2b2fe-c1a7-4dd5-8006-199a4fe3e860)
2025-10-09 14:39:43,780 - app.routes.auth - INFO - 🔵 [LOGIN] Ensuring user directories exist for: simran@gmail.com
2025-10-09 14:39:43,781 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:39:43,782 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/simran@gmail.com/cv-analysis
2025-10-09 14:39:43,782 - app.routes.auth - INFO - 🔵 [LOGIN] User directories verified/created successfully
2025-10-09 14:39:43,783 - app.routes.auth - INFO - 🔵 [LOGIN] Creating JWT tokens
2025-10-09 14:39:43,785 - app.routes.auth - INFO - 🔵 [LOGIN] Tokens created successfully
2025-10-09 14:39:43,785 - app.routes.auth - INFO - ✅ [LOGIN] Login successful for user: simran@gmail.com (ID: 93d2b2fe-c1a7-4dd5-8006-199a4fe3e860)
INFO:     127.0.0.1:62892 - "POST /api/auth/login HTTP/1.1" 200 OK
2025-10-09 14:39:43,788 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 14:39:43,788 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     127.0.0.1:62892 - "OPTIONS /api/cv/list HTTP/1.1" 200 OK
INFO:     127.0.0.1:62894 - "OPTIONS /api/tailored-cv/available-companies-real HTTP/1.1" 200 OK
2025-10-09 14:39:44,727 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:39:44,730 - app.routes.cv_simple - INFO - Listed 2 CV files
2025-10-09 14:39:44,741 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
INFO:     127.0.0.1:62899 - "OPTIONS /api/jobs/saved HTTP/1.1" 200 OK
INFO:     127.0.0.1:62901 - "GET /api/cv/list HTTP/1.1" 200 OK
INFO:     127.0.0.1:62892 - "GET /api/tailored-cv/available-companies-real HTTP/1.1" 200 OK
2025-10-09 14:39:44,751 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
INFO:     127.0.0.1:62894 - "GET /api/jobs/saved HTTP/1.1" 200 OK
INFO:     127.0.0.1:62927 - "OPTIONS /api/api-keys/set HTTP/1.1" 200 OK
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
2025-10-09 14:40:15,660 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 14:40:15,660 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:40:15,667 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 14:40:15,667 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 14:40:15,669 INFO sqlalchemy.engine.Engine [generated in 0.00227s] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 14:40:15,669 - sqlalchemy.engine.Engine - INFO - [generated in 0.00227s] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 14:40:15,771 INFO sqlalchemy.engine.Engine UPDATE user_api_keys SET encrypted_key=%(encrypted_key)s, is_valid=%(is_valid)s, updated_at=%(updated_at)s WHERE user_api_keys.id = %(user_api_keys_id)s
2025-10-09 14:40:15,771 - sqlalchemy.engine.Engine - INFO - UPDATE user_api_keys SET encrypted_key=%(encrypted_key)s, is_valid=%(is_valid)s, updated_at=%(updated_at)s WHERE user_api_keys.id = %(user_api_keys_id)s
2025-10-09 14:40:15,772 INFO sqlalchemy.engine.Engine [generated in 0.00088s] {'encrypted_key': 'Z0FBQUFBQm81eTZmbjdXYktaT1BEYkNwa0haZjEwYlY1bVNzQ2U4ZEU2MzBod3FvQWk2blZwOTlocXl4T2hUV1J5WTVKci0ybFVKVmxBOUMtYUxXQXBoRDRaVW1maG02cldaWU43NG9uSVhzbzRLZ ... (118 characters truncated) ... fU3dnSEVYRzl6OTdMOHhDbUtXanM3a0JQeDlZWmZKbkc4QzJtcWZtTlpCdm5kM0JoWFpUcHR4RWI0RUY1SGw4R1g2UHlFdnBoeFR1U3BSdU5zY09Pc2MxTjZvZUl5UXFjMlhlQS1NLUpzSzNQTHc9', 'is_valid': False, 'updated_at': datetime.datetime(2025, 10, 9, 3, 40, 15, 740532), 'user_api_keys_id': 32}
2025-10-09 14:40:15,772 - sqlalchemy.engine.Engine - INFO - [generated in 0.00088s] {'encrypted_key': 'Z0FBQUFBQm81eTZmbjdXYktaT1BEYkNwa0haZjEwYlY1bVNzQ2U4ZEU2MzBod3FvQWk2blZwOTlocXl4T2hUV1J5WTVKci0ybFVKVmxBOUMtYUxXQXBoRDRaVW1maG02cldaWU43NG9uSVhzbzRLZ ... (118 characters truncated) ... fU3dnSEVYRzl6OTdMOHhDbUtXanM3a0JQeDlZWmZKbkc4QzJtcWZtTlpCdm5kM0JoWFpUcHR4RWI0RUY1SGw4R1g2UHlFdnBoeFR1U3BSdU5zY09Pc2MxTjZvZUl5UXFjMlhlQS1NLUpzSzNQTHc9', 'is_valid': False, 'updated_at': datetime.datetime(2025, 10, 9, 3, 40, 15, 740532), 'user_api_keys_id': 32}
2025-10-09 14:40:15,803 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 14:40:15,803 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 14:40:15,823 - app.services.user_api_key_manager - INFO - Updated API key for user simran@gmail.com and provider openai
2025-10-09 14:40:15,826 - app.ai.ai_service - INFO - ℹ️ [AI_SERVICE] No cached providers found for user simran@gmail.com
2025-10-09 14:40:15,827 - app.routes.api_keys - INFO - 🗑️ [API_KEYS] Cleared AI service cache for user simran@gmail.com
2025-10-09 14:40:16,828 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 14:40:16,866 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 14:40:16,866 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:40:16,867 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 14:40:16,867 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 14:40:16,868 INFO sqlalchemy.engine.Engine [cached since 1.201s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 14:40:16,868 - sqlalchemy.engine.Engine - INFO - [cached since 1.201s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 14:40:16,913 INFO sqlalchemy.engine.Engine UPDATE user_api_keys SET is_valid=%(is_valid)s, last_validated=%(last_validated)s, updated_at=now() WHERE user_api_keys.id = %(user_api_keys_id)s
2025-10-09 14:40:16,913 - sqlalchemy.engine.Engine - INFO - UPDATE user_api_keys SET is_valid=%(is_valid)s, last_validated=%(last_validated)s, updated_at=now() WHERE user_api_keys.id = %(user_api_keys_id)s
2025-10-09 14:40:16,913 INFO sqlalchemy.engine.Engine [generated in 0.00044s] {'is_valid': True, 'last_validated': datetime.datetime(2025, 10, 9, 3, 40, 16, 911083), 'user_api_keys_id': 32}
2025-10-09 14:40:16,913 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] {'is_valid': True, 'last_validated': datetime.datetime(2025, 10, 9, 3, 40, 16, 911083), 'user_api_keys_id': 32}
2025-10-09 14:40:16,934 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 14:40:16,934 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 14:40:16,952 - app.ai.ai_service - INFO - 🔄 Refreshing AI providers after API key changes
2025-10-09 14:40:16,953 - app.ai.ai_service - INFO - 🗑️ [AI_SERVICE] Clearing cached providers for user simran@gmail.com
2025-10-09 14:40:16,973 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 14:40:16,973 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:40:16,975 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 14:40:16,975 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 14:40:16,975 INFO sqlalchemy.engine.Engine [cached since 1.308s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 14:40:16,975 - sqlalchemy.engine.Engine - INFO - [cached since 1.308s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 14:40:17,016 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 14:40:17,016 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 14:40:17,557 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 14:40:17,615 - app.ai.ai_service - INFO - ✅ Initialized openai provider with model gpt-4o for user simran@gmail.com
2025-10-09 14:40:17,634 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 14:40:17,634 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:40:17,636 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 14:40:17,636 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 14:40:17,636 INFO sqlalchemy.engine.Engine [cached since 1.97s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 14:40:17,636 - sqlalchemy.engine.Engine - INFO - [cached since 1.97s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 14:40:17,678 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 14:40:17,678 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 14:40:17,701 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user simran@gmail.com and provider anthropic
2025-10-09 14:40:17,724 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 14:40:17,724 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:40:17,725 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 14:40:17,725 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 14:40:17,725 INFO sqlalchemy.engine.Engine [cached since 2.059s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 14:40:17,725 - sqlalchemy.engine.Engine - INFO - [cached since 2.059s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 14:40:17,766 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 14:40:17,766 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 14:40:17,783 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user simran@gmail.com and provider deepseek
2025-10-09 14:40:17,784 - app.routes.api_keys - INFO - 🔄 Refreshed AI providers after setting openai API key for user simran@gmail.com
2025-10-09 14:40:17,816 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 14:40:17,816 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:40:17,828 INFO sqlalchemy.engine.Engine SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 14:40:17,828 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 14:40:17,828 INFO sqlalchemy.engine.Engine [generated in 0.00047s] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'param_1': 1}
2025-10-09 14:40:17,828 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'param_1': 1}
2025-10-09 14:40:17,862 INFO sqlalchemy.engine.Engine SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 14:40:17,862 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 14:40:17,862 INFO sqlalchemy.engine.Engine [cached since 0.03497s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'param_1': 1}
2025-10-09 14:40:17,862 - sqlalchemy.engine.Engine - INFO - [cached since 0.03497s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'param_1': 1}
2025-10-09 14:40:17,890 INFO sqlalchemy.engine.Engine INSERT INTO user_model_preferences (user_id, provider, model, created_at, updated_at) VALUES (%(user_id)s, %(provider)s, %(model)s, now(), now()) RETURNING user_model_preferences.id, user_model_preferences.created_at, user_model_preferences.updated_at
2025-10-09 14:40:17,890 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_model_preferences (user_id, provider, model, created_at, updated_at) VALUES (%(user_id)s, %(provider)s, %(model)s, now(), now()) RETURNING user_model_preferences.id, user_model_preferences.created_at, user_model_preferences.updated_at
2025-10-09 14:40:17,890 INFO sqlalchemy.engine.Engine [generated in 0.00062s] {'user_id': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider': 'openai', 'model': 'gpt-3.5-turbo'}
2025-10-09 14:40:17,890 - sqlalchemy.engine.Engine - INFO - [generated in 0.00062s] {'user_id': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider': 'openai', 'model': 'gpt-3.5-turbo'}
2025-10-09 14:40:17,910 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 14:40:17,910 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 14:40:17,927 - app.routes.api_keys - INFO - 🎯 [API_KEYS] Auto-set default model preference: openai/gpt-3.5-turbo for user simran@gmail.com
INFO:     127.0.0.1:62927 - "POST /api/api-keys/set HTTP/1.1" 200 OK
INFO:     127.0.0.1:62927 - "OPTIONS /api/ai/switch-model HTTP/1.1" 200 OK
INFO:     127.0.0.1:62929 - "POST /api/ai/switch-model HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:62956 - "POST /api/ai/switch-model HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:62964 - "OPTIONS /api/ai/chat HTTP/1.1" 200 OK
2025-10-09 14:40:42,010 - app.core.model_dependency - INFO - 🔍 [MODEL_DEPENDENCY] Initializing model for user: simran@gmail.com
2025-10-09 14:40:42,012 - app.core.model_dependency - INFO - - Header model: gpt-3.5-turbo
2025-10-09 14:40:42,012 - app.core.model_dependency - INFO - - User ID: 93d2b2fe-c1a7-4dd5-8006-199a4fe3e860
2025-10-09 14:40:42,012 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 14:40:42,013 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 14:40:42,013 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 14:40:42,013 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 14:40:43,347 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 14:40:43,360 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 14:40:43,360 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-4o', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-4o', 'is_current': False}}
2025-10-09 14:40:43,360 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 14:40:43,361 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: ['openai']
2025-10-09 14:40:43,361 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 14:40:43,978 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 14:40:43,989 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 14:40:43,989 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-4o', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-4o', 'is_current': False}}
2025-10-09 14:40:43,990 - app.ai.ai_service - WARNING - ⚠️ [AI_SERVICE] Attempting to auto-select first available provider
2025-10-09 14:40:43,990 - app.ai.ai_service - ERROR - Failed to set model configuration for openai
2025-10-09 14:40:43,990 - app.ai.ai_service - ERROR - ❌ No current provider available for model switching
2025-10-09 14:40:43,990 - app.ai.ai_service - INFO - 🔄 Available providers: ['openai']
2025-10-09 14:40:43,990 - app.ai.ai_service - INFO - ✅ Switched to openai provider with model gpt-3.5-turbo
2025-10-09 14:40:43,991 - app.core.model_dependency - INFO - 🔄 Switched to model from header: gpt-3.5-turbo
2025-10-09 14:40:43,991 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 14:40:43,991 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 14:40:43,991 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 14:40:43,992 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 14:40:43,992 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 14:40:44,677 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 14:40:44,690 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 14:40:44,690 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 14:40:44,690 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 14:40:44,690 - app.routes.ai - INFO - 🟢 [AI_CHAT] user=simran@gmail.com provider=openai model=gpt-3.5-turbo
2025-10-09 14:40:44,690 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 14:40:44,690 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 14:40:44,691 - app.ai.ai_service - INFO - - Prompt length: 5
2025-10-09 14:40:44,691 - app.ai.ai_service - INFO - - System prompt length: 28
2025-10-09 14:40:44,691 - app.ai.ai_service - INFO - - Temperature: 0.7
2025-10-09 14:40:44,691 - app.ai.ai_service - INFO - - Max tokens: None
2025-10-09 14:40:44,691 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 14:40:44,692 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 14:40:44,692 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 14:40:44,692 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 14:40:44,692 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 14:40:44,693 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 14:40:45,086 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 14:40:45,176 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 14:40:45,177 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 14:40:45,177 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 14:40:45,177 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 14:40:45,906 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
INFO:     127.0.0.1:62966 - "POST /api/ai/chat HTTP/1.1" 200 OK
INFO:     127.0.0.1:62974 - "OPTIONS /api/cv/save-for-analysis/maheshwor_tiwari.pdf HTTP/1.1" 200 OK
2025-10-09 14:40:51,699 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:40:52,017 - app.modules.cv.preview - INFO - CV content extracted: maheshwor_tiwari.pdf (4864 characters)
2025-10-09 14:40:52,018 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:40:52,020 - app.routes.cv_organized - INFO - CV saved as text: user/simran@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 14:40:52,021 - app.routes.cv_organized - INFO - Processing maheshwor_tiwari.pdf for structured CV format (background)...
2025-10-09 14:40:52,022 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:40:52,022 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:40:52,257 - app.services.enhanced_cv_upload_service - INFO - Text extracted successfully: 4864 characters
2025-10-09 14:40:52,258 - app.services.enhanced_cv_upload_service - ERROR - Error processing existing CV: name 'user' is not defined
2025-10-09 14:40:52,258 - app.routes.cv_organized - ERROR - Background: Error saving structured CV: 
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
INFO:     127.0.0.1:62974 - "POST /api/cv/save-for-analysis/maheshwor_tiwari.pdf HTTP/1.1" 200 OK
INFO:     127.0.0.1:62976 - "OPTIONS /api/cv/content/maheshwor_tiwari.pdf HTTP/1.1" 200 OK
2025-10-09 14:40:52,263 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:40:52,771 - app.routes.cv_simple - INFO - CV content extracted: maheshwor_tiwari.pdf (4864 characters)
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
INFO:     127.0.0.1:62974 - "GET /api/cv/content/maheshwor_tiwari.pdf HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'app/services/enhanced_cv_upload_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 14:43:06,156 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [55366]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [56575]
INFO:     Waiting for application startup.
2025-10-09 14:43:11,771 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 14:43:12,097 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 14:43:12,097 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 14:43:12,098 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:43:12,098 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:43:12,133 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 14:43:12,133 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 14:43:12,133 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:43:12,133 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:43:12,172 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 14:43:12,172 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 14:43:12,172 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:43:12,172 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:43:12,219 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 14:43:12,219 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:43:12,220 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 14:43:12,220 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 14:43:12,220 INFO sqlalchemy.engine.Engine [generated in 0.00069s] {}
2025-10-09 14:43:12,220 - sqlalchemy.engine.Engine - INFO - [generated in 0.00069s] {}
2025-10-09 14:43:12,256 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 14:43:12,256 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 14:43:12,279 - app.database - INFO - Database connection successful
2025-10-09 14:43:12,280 - app.main - INFO - ✅ Database connection successful
2025-10-09 14:43:12,303 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 14:43:12,303 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:43:12,309 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:43:12,309 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:43:12,309 INFO sqlalchemy.engine.Engine [generated in 0.00056s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:43:12,309 - sqlalchemy.engine.Engine - INFO - [generated in 0.00056s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:43:12,344 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:43:12,344 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:43:12,344 INFO sqlalchemy.engine.Engine [cached since 0.03579s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:43:12,344 - sqlalchemy.engine.Engine - INFO - [cached since 0.03579s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:43:12,364 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:43:12,364 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:43:12,364 INFO sqlalchemy.engine.Engine [cached since 0.0558s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:43:12,364 - sqlalchemy.engine.Engine - INFO - [cached since 0.0558s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:43:12,385 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:43:12,385 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:43:12,386 INFO sqlalchemy.engine.Engine [cached since 0.07726s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:43:12,386 - sqlalchemy.engine.Engine - INFO - [cached since 0.07726s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:43:12,407 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:43:12,407 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:43:12,408 INFO sqlalchemy.engine.Engine [cached since 0.09923s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:43:12,408 - sqlalchemy.engine.Engine - INFO - [cached since 0.09923s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:43:12,432 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:43:12,432 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:43:12,432 INFO sqlalchemy.engine.Engine [cached since 0.1236s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:43:12,432 - sqlalchemy.engine.Engine - INFO - [cached since 0.1236s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:43:12,456 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:43:12,456 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:43:12,457 INFO sqlalchemy.engine.Engine [cached since 0.1481s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:43:12,457 - sqlalchemy.engine.Engine - INFO - [cached since 0.1481s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:43:12,479 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:43:12,479 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:43:12,479 INFO sqlalchemy.engine.Engine [cached since 0.1705s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:43:12,479 - sqlalchemy.engine.Engine - INFO - [cached since 0.1705s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:43:12,502 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:43:12,502 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:43:12,503 INFO sqlalchemy.engine.Engine [cached since 0.1941s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:43:12,503 - sqlalchemy.engine.Engine - INFO - [cached since 0.1941s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:43:12,523 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:43:12,523 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:43:12,524 INFO sqlalchemy.engine.Engine [cached since 0.2152s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:43:12,524 - sqlalchemy.engine.Engine - INFO - [cached since 0.2152s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:43:12,546 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:43:12,546 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:43:12,547 INFO sqlalchemy.engine.Engine [cached since 0.238s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:43:12,547 - sqlalchemy.engine.Engine - INFO - [cached since 0.238s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:43:12,570 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 14:43:12,570 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 14:43:12,596 - app.database - INFO - Database tables created successfully
2025-10-09 14:43:12,597 - app.main - INFO - ✅ Database tables ready
2025-10-09 14:43:12,597 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 14:43:12,597 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/services/enhanced_cv_upload_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 14:43:25,384 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [56575]
WARNING:  WatchFiles detected changes in 'app/services/enhanced_cv_upload_service.py'. Reloading...
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [56887]
INFO:     Waiting for application startup.
2025-10-09 14:43:32,181 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 14:43:32,443 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 14:43:32,443 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 14:43:32,443 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:43:32,443 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:43:32,483 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 14:43:32,483 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 14:43:32,483 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:43:32,483 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:43:32,526 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 14:43:32,526 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 14:43:32,526 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:43:32,526 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:43:32,572 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 14:43:32,572 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:43:32,572 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 14:43:32,572 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 14:43:32,572 INFO sqlalchemy.engine.Engine [generated in 0.00056s] {}
2025-10-09 14:43:32,572 - sqlalchemy.engine.Engine - INFO - [generated in 0.00056s] {}
2025-10-09 14:43:32,611 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 14:43:32,611 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 14:43:32,632 - app.database - INFO - Database connection successful
2025-10-09 14:43:32,633 - app.main - INFO - ✅ Database connection successful
2025-10-09 14:43:32,654 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 14:43:32,654 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:43:32,659 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:43:32,659 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:43:32,659 INFO sqlalchemy.engine.Engine [generated in 0.00044s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:43:32,659 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:43:32,702 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:43:32,702 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:43:32,702 INFO sqlalchemy.engine.Engine [cached since 0.04341s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:43:32,702 - sqlalchemy.engine.Engine - INFO - [cached since 0.04341s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:43:32,727 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:43:32,727 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:43:32,728 INFO sqlalchemy.engine.Engine [cached since 0.06878s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:43:32,728 - sqlalchemy.engine.Engine - INFO - [cached since 0.06878s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:43:32,756 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:43:32,756 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:43:32,757 INFO sqlalchemy.engine.Engine [cached since 0.09836s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:43:32,757 - sqlalchemy.engine.Engine - INFO - [cached since 0.09836s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:43:32,782 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:43:32,782 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:43:32,783 INFO sqlalchemy.engine.Engine [cached since 0.1239s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:43:32,783 - sqlalchemy.engine.Engine - INFO - [cached since 0.1239s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:43:32,800 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:43:32,800 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:43:32,801 INFO sqlalchemy.engine.Engine [cached since 0.1419s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:43:32,801 - sqlalchemy.engine.Engine - INFO - [cached since 0.1419s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:43:32,824 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:43:32,824 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:43:32,824 INFO sqlalchemy.engine.Engine [cached since 0.1653s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:43:32,824 - sqlalchemy.engine.Engine - INFO - [cached since 0.1653s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:43:32,850 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:43:32,850 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:43:32,853 INFO sqlalchemy.engine.Engine [cached since 0.1941s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:43:32,853 - sqlalchemy.engine.Engine - INFO - [cached since 0.1941s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:43:32,876 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:43:32,876 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:43:32,878 INFO sqlalchemy.engine.Engine [cached since 0.2193s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:43:32,878 - sqlalchemy.engine.Engine - INFO - [cached since 0.2193s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:43:32,896 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:43:32,896 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:43:32,898 INFO sqlalchemy.engine.Engine [cached since 0.2389s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:43:32,898 - sqlalchemy.engine.Engine - INFO - [cached since 0.2389s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:43:32,920 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:43:32,920 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:43:32,921 INFO sqlalchemy.engine.Engine [cached since 0.2618s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:43:32,921 - sqlalchemy.engine.Engine - INFO - [cached since 0.2618s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:43:32,942 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 14:43:32,942 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 14:43:32,959 - app.database - INFO - Database tables created successfully
2025-10-09 14:43:32,959 - app.main - INFO - ✅ Database tables ready
2025-10-09 14:43:32,959 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 14:43:32,960 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
INFO:     127.0.0.1:63236 - "OPTIONS /api/cv/save-for-analysis/test_cv.pdf HTTP/1.1" 200 OK
2025-10-09 14:44:01,544 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:44:01,684 - app.modules.cv.preview - INFO - CV content extracted: test_cv.pdf (477 characters)
2025-10-09 14:44:01,684 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:44:01,686 - app.routes.cv_organized - INFO - CV saved as text: user/simran@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 14:44:01,686 - app.routes.cv_organized - INFO - Processing test_cv.pdf for structured CV format (background)...
2025-10-09 14:44:01,686 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:44:01,687 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:44:01,725 - app.services.enhanced_cv_upload_service - INFO - Text extracted successfully: 477 characters
2025-10-09 14:44:01,741 - app.services.enhanced_cv_upload_service - ERROR - Error processing existing CV: 1 validation error for UserData
created_at
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/datetime_type
2025-10-09 14:44:01,741 - app.routes.cv_organized - ERROR - Background: Error saving structured CV: 
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
INFO:     127.0.0.1:63236 - "POST /api/cv/save-for-analysis/test_cv.pdf HTTP/1.1" 200 OK
INFO:     127.0.0.1:63238 - "OPTIONS /api/cv/content/test_cv.pdf HTTP/1.1" 200 OK
2025-10-09 14:44:01,747 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:44:01,784 - app.routes.cv_simple - INFO - CV content extracted: test_cv.pdf (477 characters)
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
INFO:     127.0.0.1:63236 - "GET /api/cv/content/test_cv.pdf HTTP/1.1" 200 OK
2025-10-09 14:44:30,433 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:44:30,892 - app.modules.cv.preview - INFO - CV content extracted: maheshwor_tiwari.pdf (4864 characters)
2025-10-09 14:44:30,893 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:44:30,894 - app.routes.cv_organized - INFO - CV saved as text: user/simran@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 14:44:30,895 - app.routes.cv_organized - INFO - Processing maheshwor_tiwari.pdf for structured CV format (background)...
2025-10-09 14:44:30,895 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:44:30,895 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:44:31,213 - app.services.enhanced_cv_upload_service - INFO - Text extracted successfully: 4864 characters
2025-10-09 14:44:31,214 - app.services.enhanced_cv_upload_service - ERROR - Error processing existing CV: 1 validation error for UserData
created_at
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/datetime_type
2025-10-09 14:44:31,214 - app.routes.cv_organized - ERROR - Background: Error saving structured CV: 
2025-10-09 14:44:31,216 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:44:31,745 - app.routes.cv_simple - INFO - CV content extracted: maheshwor_tiwari.pdf (4864 characters)
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
INFO:     127.0.0.1:63286 - "POST /api/cv/save-for-analysis/maheshwor_tiwari.pdf HTTP/1.1" 200 OK
INFO:     127.0.0.1:63288 - "GET /api/cv/content/maheshwor_tiwari.pdf HTTP/1.1" 200 OK
INFO:     127.0.0.1:63378 - "OPTIONS /api/cv/list HTTP/1.1" 200 OK
2025-10-09 14:45:29,636 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:45:29,637 - app.routes.cv_simple - INFO - Listed 2 CV files
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
INFO:     127.0.0.1:63378 - "GET /api/cv/list HTTP/1.1" 200 OK
INFO:     127.0.0.1:63378 - "OPTIONS /api/cv/upload HTTP/1.1" 200 OK
2025-10-09 14:45:29,858 - app.routes.cv_simple - INFO - Uploading maheshwor_tiwari.pdf with structured processing for user: simran@gmail.com
2025-10-09 14:45:29,858 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:45:29,859 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:45:29,861 - app.services.enhanced_cv_upload_service - INFO - CV file saved: maheshwor_tiwari.pdf (130169 bytes)
2025-10-09 14:45:30,461 - app.services.enhanced_cv_upload_service - INFO - Text extracted successfully: 4864 characters
2025-10-09 14:45:30,462 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 14:45:30,462 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 14:45:30,462 - app.ai.ai_service - INFO - - Prompt length: 10449
2025-10-09 14:45:30,462 - app.ai.ai_service - INFO - - System prompt length: 348
2025-10-09 14:45:30,462 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 14:45:30,462 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 14:45:30,463 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 14:45:30,463 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 14:45:30,463 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 14:45:30,464 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 14:45:30,464 - app.ai.ai_service - INFO - - Available providers: []
2025-10-09 14:45:30,464 - app.ai.ai_service - INFO - - Provider status: {}
2025-10-09 14:45:30,464 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 14:45:30,465 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: []
2025-10-09 14:45:30,465 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 14:45:30,465 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {}
2025-10-09 14:45:30,465 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 14:45:30,465 - app.services.structured_cv_parser - ERROR - Error in LLM parsing: No API key configured for any. Please configure your API key in settings.
2025-10-09 14:45:30,465 - app.services.structured_cv_parser - ERROR - Error parsing CV content with LLM: No API key configured for any. Please configure your API key in settings.
2025-10-09 14:45:30,466 - app.services.enhanced_cv_upload_service - INFO - CV parsed from raw text content
2025-10-09 14:45:30,467 - app.services.structured_cv_parser - INFO - Successfully saved structured CV to user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 14:45:30,467 - app.services.enhanced_cv_upload_service - INFO - Structured CV saved as original_cv.json: user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json (replaced existing)
2025-10-09 14:45:30,468 - app.services.enhanced_cv_upload_service - INFO - CV processed successfully: maheshwor_tiwari.pdf
2025-10-09 14:45:30,468 - app.routes.cv_simple - INFO - ✅ maheshwor_tiwari.pdf uploaded and processed into structured format for user: simran@gmail.com
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
INFO:     127.0.0.1:63380 - "POST /api/cv/upload HTTP/1.1" 200 OK
2025-10-09 14:45:30,489 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:45:30,489 - app.routes.cv_simple - INFO - Listed 2 CV files
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
INFO:     127.0.0.1:63380 - "GET /api/cv/list HTTP/1.1" 200 OK
2025-10-09 14:45:30,607 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:45:30,607 - app.routes.cv_simple - INFO - Listed 2 CV files
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
INFO:     127.0.0.1:63380 - "GET /api/cv/list HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'app/services/enhanced_cv_upload_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 14:46:44,570 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [56887]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [57518]
INFO:     Waiting for application startup.
2025-10-09 14:46:49,916 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 14:46:50,234 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 14:46:50,234 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 14:46:50,234 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:46:50,234 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:46:50,271 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 14:46:50,271 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 14:46:50,272 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:46:50,272 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:46:50,386 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 14:46:50,386 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 14:46:50,386 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:46:50,386 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:46:50,434 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 14:46:50,434 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:46:50,435 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 14:46:50,435 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 14:46:50,435 INFO sqlalchemy.engine.Engine [generated in 0.00202s] {}
2025-10-09 14:46:50,435 - sqlalchemy.engine.Engine - INFO - [generated in 0.00202s] {}
2025-10-09 14:46:50,467 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 14:46:50,467 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 14:46:50,493 - app.database - INFO - Database connection successful
2025-10-09 14:46:50,493 - app.main - INFO - ✅ Database connection successful
2025-10-09 14:46:50,516 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 14:46:50,516 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:46:50,526 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:46:50,526 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:46:50,526 INFO sqlalchemy.engine.Engine [generated in 0.00056s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:46:50,526 - sqlalchemy.engine.Engine - INFO - [generated in 0.00056s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:46:50,571 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:46:50,571 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:46:50,572 INFO sqlalchemy.engine.Engine [cached since 0.04625s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:46:50,572 - sqlalchemy.engine.Engine - INFO - [cached since 0.04625s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:46:50,594 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:46:50,594 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:46:50,594 INFO sqlalchemy.engine.Engine [cached since 0.06803s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:46:50,594 - sqlalchemy.engine.Engine - INFO - [cached since 0.06803s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:46:50,615 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:46:50,615 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:46:50,616 INFO sqlalchemy.engine.Engine [cached since 0.09024s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:46:50,616 - sqlalchemy.engine.Engine - INFO - [cached since 0.09024s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:46:50,639 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:46:50,639 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:46:50,639 INFO sqlalchemy.engine.Engine [cached since 0.1131s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:46:50,639 - sqlalchemy.engine.Engine - INFO - [cached since 0.1131s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:46:50,661 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:46:50,661 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:46:50,662 INFO sqlalchemy.engine.Engine [cached since 0.1357s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:46:50,662 - sqlalchemy.engine.Engine - INFO - [cached since 0.1357s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:46:50,684 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:46:50,684 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:46:50,684 INFO sqlalchemy.engine.Engine [cached since 0.1584s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:46:50,684 - sqlalchemy.engine.Engine - INFO - [cached since 0.1584s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:46:50,708 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:46:50,708 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:46:50,708 INFO sqlalchemy.engine.Engine [cached since 0.1822s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:46:50,708 - sqlalchemy.engine.Engine - INFO - [cached since 0.1822s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:46:50,730 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:46:50,730 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:46:50,730 INFO sqlalchemy.engine.Engine [cached since 0.2045s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:46:50,730 - sqlalchemy.engine.Engine - INFO - [cached since 0.2045s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:46:50,752 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:46:50,752 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:46:50,752 INFO sqlalchemy.engine.Engine [cached since 0.2261s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:46:50,752 - sqlalchemy.engine.Engine - INFO - [cached since 0.2261s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:46:50,775 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:46:50,775 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:46:50,776 INFO sqlalchemy.engine.Engine [cached since 0.2497s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:46:50,776 - sqlalchemy.engine.Engine - INFO - [cached since 0.2497s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:46:50,799 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 14:46:50,799 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 14:46:50,822 - app.database - INFO - Database tables created successfully
2025-10-09 14:46:50,822 - app.main - INFO - ✅ Database tables ready
2025-10-09 14:46:50,823 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 14:46:50,823 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/services/enhanced_cv_upload_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 14:47:02,938 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [57518]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [57813]
INFO:     Waiting for application startup.
2025-10-09 14:47:07,837 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 14:47:08,102 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 14:47:08,102 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 14:47:08,103 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:47:08,103 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:47:08,141 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 14:47:08,141 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 14:47:08,141 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:47:08,141 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:47:08,183 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 14:47:08,183 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 14:47:08,183 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:47:08,183 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:47:08,225 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 14:47:08,225 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:47:08,226 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 14:47:08,226 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 14:47:08,226 INFO sqlalchemy.engine.Engine [generated in 0.00070s] {}
2025-10-09 14:47:08,226 - sqlalchemy.engine.Engine - INFO - [generated in 0.00070s] {}
2025-10-09 14:47:08,269 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 14:47:08,269 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 14:47:08,291 - app.database - INFO - Database connection successful
2025-10-09 14:47:08,291 - app.main - INFO - ✅ Database connection successful
2025-10-09 14:47:08,311 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 14:47:08,311 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:47:08,318 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:47:08,318 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:47:08,319 INFO sqlalchemy.engine.Engine [generated in 0.00187s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:47:08,319 - sqlalchemy.engine.Engine - INFO - [generated in 0.00187s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:47:08,360 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:47:08,360 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:47:08,361 INFO sqlalchemy.engine.Engine [cached since 0.04354s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:47:08,361 - sqlalchemy.engine.Engine - INFO - [cached since 0.04354s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:47:08,383 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:47:08,383 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:47:08,384 INFO sqlalchemy.engine.Engine [cached since 0.0663s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:47:08,384 - sqlalchemy.engine.Engine - INFO - [cached since 0.0663s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:47:08,405 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:47:08,405 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:47:08,406 INFO sqlalchemy.engine.Engine [cached since 0.08821s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:47:08,406 - sqlalchemy.engine.Engine - INFO - [cached since 0.08821s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:47:08,428 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:47:08,428 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:47:08,428 INFO sqlalchemy.engine.Engine [cached since 0.1109s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:47:08,428 - sqlalchemy.engine.Engine - INFO - [cached since 0.1109s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:47:08,448 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:47:08,448 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:47:08,448 INFO sqlalchemy.engine.Engine [cached since 0.1309s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:47:08,448 - sqlalchemy.engine.Engine - INFO - [cached since 0.1309s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:47:08,471 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:47:08,471 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:47:08,471 INFO sqlalchemy.engine.Engine [cached since 0.1536s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:47:08,471 - sqlalchemy.engine.Engine - INFO - [cached since 0.1536s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:47:08,492 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:47:08,492 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:47:08,492 INFO sqlalchemy.engine.Engine [cached since 0.1751s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:47:08,492 - sqlalchemy.engine.Engine - INFO - [cached since 0.1751s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:47:08,515 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:47:08,515 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:47:08,515 INFO sqlalchemy.engine.Engine [cached since 0.1981s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:47:08,515 - sqlalchemy.engine.Engine - INFO - [cached since 0.1981s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:47:08,537 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:47:08,537 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:47:08,538 INFO sqlalchemy.engine.Engine [cached since 0.2203s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:47:08,538 - sqlalchemy.engine.Engine - INFO - [cached since 0.2203s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:47:08,553 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:47:08,553 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:47:08,553 INFO sqlalchemy.engine.Engine [cached since 0.236s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:47:08,553 - sqlalchemy.engine.Engine - INFO - [cached since 0.236s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:47:08,572 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 14:47:08,572 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 14:47:08,588 - app.database - INFO - Database tables created successfully
2025-10-09 14:47:08,588 - app.main - INFO - ✅ Database tables ready
2025-10-09 14:47:08,588 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 14:47:08,588 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/services/enhanced_cv_upload_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 14:47:16,737 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [57813]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [57849]
INFO:     Waiting for application startup.
2025-10-09 14:47:21,400 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 14:47:21,667 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 14:47:21,667 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 14:47:21,667 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:47:21,667 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:47:21,709 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 14:47:21,709 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 14:47:21,709 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:47:21,709 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:47:21,752 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 14:47:21,752 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 14:47:21,753 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:47:21,753 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:47:21,792 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 14:47:21,792 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:47:21,792 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 14:47:21,792 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 14:47:21,792 INFO sqlalchemy.engine.Engine [generated in 0.00055s] {}
2025-10-09 14:47:21,792 - sqlalchemy.engine.Engine - INFO - [generated in 0.00055s] {}
2025-10-09 14:47:21,830 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 14:47:21,830 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 14:47:21,850 - app.database - INFO - Database connection successful
2025-10-09 14:47:21,851 - app.main - INFO - ✅ Database connection successful
2025-10-09 14:47:21,867 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 14:47:21,867 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:47:21,872 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:47:21,872 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:47:21,873 INFO sqlalchemy.engine.Engine [generated in 0.00045s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:47:21,873 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:47:21,915 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:47:21,915 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:47:21,915 INFO sqlalchemy.engine.Engine [cached since 0.04296s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:47:21,915 - sqlalchemy.engine.Engine - INFO - [cached since 0.04296s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:47:21,936 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:47:21,936 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:47:21,937 INFO sqlalchemy.engine.Engine [cached since 0.06442s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:47:21,937 - sqlalchemy.engine.Engine - INFO - [cached since 0.06442s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:47:21,960 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:47:21,960 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:47:21,961 INFO sqlalchemy.engine.Engine [cached since 0.08852s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:47:21,961 - sqlalchemy.engine.Engine - INFO - [cached since 0.08852s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:47:21,983 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:47:21,983 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:47:21,984 INFO sqlalchemy.engine.Engine [cached since 0.1114s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:47:21,984 - sqlalchemy.engine.Engine - INFO - [cached since 0.1114s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:47:22,006 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:47:22,006 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:47:22,009 INFO sqlalchemy.engine.Engine [cached since 0.1364s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:47:22,009 - sqlalchemy.engine.Engine - INFO - [cached since 0.1364s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:47:22,030 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:47:22,030 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:47:22,031 INFO sqlalchemy.engine.Engine [cached since 0.1585s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:47:22,031 - sqlalchemy.engine.Engine - INFO - [cached since 0.1585s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:47:22,052 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:47:22,052 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:47:22,052 INFO sqlalchemy.engine.Engine [cached since 0.1802s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:47:22,052 - sqlalchemy.engine.Engine - INFO - [cached since 0.1802s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:47:22,076 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:47:22,076 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:47:22,076 INFO sqlalchemy.engine.Engine [cached since 0.204s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:47:22,076 - sqlalchemy.engine.Engine - INFO - [cached since 0.204s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:47:22,100 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:47:22,100 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:47:22,100 INFO sqlalchemy.engine.Engine [cached since 0.2282s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:47:22,100 - sqlalchemy.engine.Engine - INFO - [cached since 0.2282s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:47:22,125 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:47:22,125 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:47:22,125 INFO sqlalchemy.engine.Engine [cached since 0.2529s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:47:22,125 - sqlalchemy.engine.Engine - INFO - [cached since 0.2529s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:47:22,148 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 14:47:22,148 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 14:47:22,166 - app.database - INFO - Database tables created successfully
2025-10-09 14:47:22,166 - app.main - INFO - ✅ Database tables ready
2025-10-09 14:47:22,167 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 14:47:22,167 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
2025-10-09 14:47:29,491 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:47:29,492 - app.routes.cv_simple - INFO - Listed 2 CV files
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
INFO:     127.0.0.1:63574 - "GET /api/cv/list HTTP/1.1" 200 OK
2025-10-09 14:47:29,656 - app.routes.cv_simple - INFO - Uploading maheshwor_tiwari.pdf with structured processing for user: simran@gmail.com
2025-10-09 14:47:29,657 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:47:29,657 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:47:29,660 - app.services.enhanced_cv_upload_service - INFO - CV file saved: maheshwor_tiwari.pdf (130169 bytes)
2025-10-09 14:47:30,041 - app.services.enhanced_cv_upload_service - INFO - Text extracted successfully: 4864 characters
2025-10-09 14:47:30,042 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 14:47:30,042 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 14:47:30,042 - app.ai.ai_service - INFO - - Prompt length: 10449
2025-10-09 14:47:30,042 - app.ai.ai_service - INFO - - System prompt length: 348
2025-10-09 14:47:30,042 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 14:47:30,042 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 14:47:30,042 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 14:47:30,043 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 14:47:30,043 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 14:47:30,043 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 14:47:30,043 - app.ai.ai_service - INFO - - Available providers: []
2025-10-09 14:47:30,044 - app.ai.ai_service - INFO - - Provider status: {}
2025-10-09 14:47:30,045 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 14:47:30,045 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: []
2025-10-09 14:47:30,045 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 14:47:30,045 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {}
2025-10-09 14:47:30,045 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 14:47:30,046 - app.services.structured_cv_parser - ERROR - Error in LLM parsing: No API key configured for any. Please configure your API key in settings.
2025-10-09 14:47:30,046 - app.services.structured_cv_parser - ERROR - Error parsing CV content with LLM: No API key configured for any. Please configure your API key in settings.
2025-10-09 14:47:30,046 - app.services.enhanced_cv_upload_service - INFO - CV parsed from raw text content
2025-10-09 14:47:30,047 - app.services.structured_cv_parser - INFO - Successfully saved structured CV to user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 14:47:30,047 - app.services.enhanced_cv_upload_service - INFO - Structured CV saved as original_cv.json: user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json (replaced existing)
2025-10-09 14:47:30,047 - app.services.enhanced_cv_upload_service - INFO - CV processed successfully: maheshwor_tiwari.pdf
2025-10-09 14:47:30,047 - app.routes.cv_simple - INFO - ✅ maheshwor_tiwari.pdf uploaded and processed into structured format for user: simran@gmail.com
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
INFO:     127.0.0.1:63574 - "POST /api/cv/upload HTTP/1.1" 200 OK
2025-10-09 14:47:30,088 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:47:30,089 - app.routes.cv_simple - INFO - Listed 2 CV files
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
INFO:     127.0.0.1:63574 - "GET /api/cv/list HTTP/1.1" 200 OK
2025-10-09 14:47:30,211 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:47:30,213 - app.routes.cv_simple - INFO - Listed 2 CV files
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
INFO:     127.0.0.1:63574 - "GET /api/cv/list HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'app/routes/cv_simple.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 14:48:59,515 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [57849]
No AI providers auto-configured - user must select provider and configure API keys via frontend
WARNING:  WatchFiles detected changes in 'app/routes/cv_simple.py'. Reloading...
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [58360]
INFO:     Waiting for application startup.
2025-10-09 14:49:09,180 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 14:49:09,498 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 14:49:09,498 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 14:49:09,498 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:49:09,498 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:49:09,540 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 14:49:09,540 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 14:49:09,540 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:49:09,540 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:49:09,590 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 14:49:09,590 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 14:49:09,590 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:49:09,590 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:49:09,632 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 14:49:09,632 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:49:09,633 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 14:49:09,633 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 14:49:09,633 INFO sqlalchemy.engine.Engine [generated in 0.00067s] {}
2025-10-09 14:49:09,633 - sqlalchemy.engine.Engine - INFO - [generated in 0.00067s] {}
2025-10-09 14:49:09,666 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 14:49:09,666 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 14:49:09,689 - app.database - INFO - Database connection successful
2025-10-09 14:49:09,689 - app.main - INFO - ✅ Database connection successful
2025-10-09 14:49:09,713 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 14:49:09,713 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:49:09,720 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:09,720 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:09,720 INFO sqlalchemy.engine.Engine [generated in 0.00069s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:09,720 - sqlalchemy.engine.Engine - INFO - [generated in 0.00069s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:09,766 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:09,766 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:09,766 INFO sqlalchemy.engine.Engine [cached since 0.04645s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:09,766 - sqlalchemy.engine.Engine - INFO - [cached since 0.04645s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:09,788 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:09,788 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:09,788 INFO sqlalchemy.engine.Engine [cached since 0.06878s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:09,788 - sqlalchemy.engine.Engine - INFO - [cached since 0.06878s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:09,811 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:09,811 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:09,812 INFO sqlalchemy.engine.Engine [cached since 0.09203s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:09,812 - sqlalchemy.engine.Engine - INFO - [cached since 0.09203s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:09,834 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:09,834 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:09,835 INFO sqlalchemy.engine.Engine [cached since 0.1154s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:09,835 - sqlalchemy.engine.Engine - INFO - [cached since 0.1154s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:09,857 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:09,857 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:09,857 INFO sqlalchemy.engine.Engine [cached since 0.1372s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:09,857 - sqlalchemy.engine.Engine - INFO - [cached since 0.1372s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:09,875 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:09,875 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:09,876 INFO sqlalchemy.engine.Engine [cached since 0.1561s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:09,876 - sqlalchemy.engine.Engine - INFO - [cached since 0.1561s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:09,897 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:09,897 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:09,897 INFO sqlalchemy.engine.Engine [cached since 0.1776s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:09,897 - sqlalchemy.engine.Engine - INFO - [cached since 0.1776s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:09,923 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:09,923 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:09,923 INFO sqlalchemy.engine.Engine [cached since 0.2032s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:09,923 - sqlalchemy.engine.Engine - INFO - [cached since 0.2032s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:09,945 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:09,945 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:09,945 INFO sqlalchemy.engine.Engine [cached since 0.2258s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:09,945 - sqlalchemy.engine.Engine - INFO - [cached since 0.2258s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:09,967 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:09,967 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:09,968 INFO sqlalchemy.engine.Engine [cached since 0.2481s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:09,968 - sqlalchemy.engine.Engine - INFO - [cached since 0.2481s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:09,989 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 14:49:09,989 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 14:49:10,005 - app.database - INFO - Database tables created successfully
2025-10-09 14:49:10,006 - app.main - INFO - ✅ Database tables ready
2025-10-09 14:49:10,006 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 14:49:10,006 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/routes/cv_simple.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 14:49:23,355 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [58360]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [58605]
INFO:     Waiting for application startup.
2025-10-09 14:49:27,614 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 14:49:27,870 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 14:49:27,870 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 14:49:27,871 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:49:27,871 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:49:27,903 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 14:49:27,903 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 14:49:27,903 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:49:27,903 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:49:27,942 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 14:49:27,942 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 14:49:27,942 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:49:27,942 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:49:27,980 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 14:49:27,980 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:49:27,980 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 14:49:27,980 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 14:49:27,980 INFO sqlalchemy.engine.Engine [generated in 0.00057s] {}
2025-10-09 14:49:27,980 - sqlalchemy.engine.Engine - INFO - [generated in 0.00057s] {}
2025-10-09 14:49:28,015 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 14:49:28,015 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 14:49:28,036 - app.database - INFO - Database connection successful
2025-10-09 14:49:28,037 - app.main - INFO - ✅ Database connection successful
2025-10-09 14:49:28,053 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 14:49:28,053 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:49:28,058 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:28,058 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:28,058 INFO sqlalchemy.engine.Engine [generated in 0.00043s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:28,058 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:28,094 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:28,094 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:28,094 INFO sqlalchemy.engine.Engine [cached since 0.03668s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:28,094 - sqlalchemy.engine.Engine - INFO - [cached since 0.03668s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:28,113 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:28,113 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:28,113 INFO sqlalchemy.engine.Engine [cached since 0.05546s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:28,113 - sqlalchemy.engine.Engine - INFO - [cached since 0.05546s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:28,136 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:28,136 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:28,137 INFO sqlalchemy.engine.Engine [cached since 0.07908s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:28,137 - sqlalchemy.engine.Engine - INFO - [cached since 0.07908s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:28,158 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:28,158 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:28,159 INFO sqlalchemy.engine.Engine [cached since 0.1013s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:28,159 - sqlalchemy.engine.Engine - INFO - [cached since 0.1013s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:28,179 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:28,179 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:28,180 INFO sqlalchemy.engine.Engine [cached since 0.1221s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:28,180 - sqlalchemy.engine.Engine - INFO - [cached since 0.1221s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:28,200 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:28,200 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:28,200 INFO sqlalchemy.engine.Engine [cached since 0.143s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:28,200 - sqlalchemy.engine.Engine - INFO - [cached since 0.143s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:28,220 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:28,220 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:28,220 INFO sqlalchemy.engine.Engine [cached since 0.1624s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:28,220 - sqlalchemy.engine.Engine - INFO - [cached since 0.1624s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:28,237 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:28,237 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:28,238 INFO sqlalchemy.engine.Engine [cached since 0.1802s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:28,238 - sqlalchemy.engine.Engine - INFO - [cached since 0.1802s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:28,260 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:28,260 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:28,260 INFO sqlalchemy.engine.Engine [cached since 0.203s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:28,260 - sqlalchemy.engine.Engine - INFO - [cached since 0.203s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:28,283 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:28,283 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:28,283 INFO sqlalchemy.engine.Engine [cached since 0.2259s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:28,283 - sqlalchemy.engine.Engine - INFO - [cached since 0.2259s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:28,307 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 14:49:28,307 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 14:49:28,328 - app.database - INFO - Database tables created successfully
2025-10-09 14:49:28,329 - app.main - INFO - ✅ Database tables ready
2025-10-09 14:49:28,329 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 14:49:28,329 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/routes/cv_simple.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 14:49:31,541 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [58605]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [58630]
INFO:     Waiting for application startup.
2025-10-09 14:49:34,991 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 14:49:35,248 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 14:49:35,248 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 14:49:35,249 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:49:35,249 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:49:35,286 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 14:49:35,286 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 14:49:35,286 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:49:35,286 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:49:35,326 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 14:49:35,326 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 14:49:35,326 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:49:35,326 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:49:35,373 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 14:49:35,373 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:49:35,373 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 14:49:35,373 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 14:49:35,374 INFO sqlalchemy.engine.Engine [generated in 0.00058s] {}
2025-10-09 14:49:35,374 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] {}
2025-10-09 14:49:35,415 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 14:49:35,415 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 14:49:35,436 - app.database - INFO - Database connection successful
2025-10-09 14:49:35,436 - app.main - INFO - ✅ Database connection successful
2025-10-09 14:49:35,458 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 14:49:35,458 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:49:35,463 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:35,463 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:35,463 INFO sqlalchemy.engine.Engine [generated in 0.00039s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:35,463 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:35,501 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:35,501 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:35,501 INFO sqlalchemy.engine.Engine [cached since 0.03804s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:35,501 - sqlalchemy.engine.Engine - INFO - [cached since 0.03804s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:35,520 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:35,520 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:35,520 INFO sqlalchemy.engine.Engine [cached since 0.05706s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:35,520 - sqlalchemy.engine.Engine - INFO - [cached since 0.05706s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:35,542 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:35,542 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:35,542 INFO sqlalchemy.engine.Engine [cached since 0.07918s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:35,542 - sqlalchemy.engine.Engine - INFO - [cached since 0.07918s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:35,567 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:35,567 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:35,568 INFO sqlalchemy.engine.Engine [cached since 0.1048s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:35,568 - sqlalchemy.engine.Engine - INFO - [cached since 0.1048s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:35,589 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:35,589 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:35,590 INFO sqlalchemy.engine.Engine [cached since 0.1268s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:35,590 - sqlalchemy.engine.Engine - INFO - [cached since 0.1268s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:35,613 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:35,613 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:35,614 INFO sqlalchemy.engine.Engine [cached since 0.1506s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:35,614 - sqlalchemy.engine.Engine - INFO - [cached since 0.1506s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:35,632 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:35,632 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:35,633 INFO sqlalchemy.engine.Engine [cached since 0.1695s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:35,633 - sqlalchemy.engine.Engine - INFO - [cached since 0.1695s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:35,655 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:35,655 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:35,656 INFO sqlalchemy.engine.Engine [cached since 0.1926s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:35,656 - sqlalchemy.engine.Engine - INFO - [cached since 0.1926s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:35,678 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:35,678 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:35,678 INFO sqlalchemy.engine.Engine [cached since 0.2155s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:35,678 - sqlalchemy.engine.Engine - INFO - [cached since 0.2155s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:35,700 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:35,700 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:49:35,701 INFO sqlalchemy.engine.Engine [cached since 0.2377s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:35,701 - sqlalchemy.engine.Engine - INFO - [cached since 0.2377s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:49:35,722 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 14:49:35,722 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 14:49:35,740 - app.database - INFO - Database tables created successfully
2025-10-09 14:49:35,740 - app.main - INFO - ✅ Database tables ready
2025-10-09 14:49:35,740 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 14:49:35,740 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
INFO:     127.0.0.1:64100 - "OPTIONS /api/cv/list HTTP/1.1" 200 OK
2025-10-09 14:56:58,470 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:56:58,471 - app.routes.cv_simple - INFO - Listed 2 CV files
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
INFO:     127.0.0.1:64100 - "GET /api/cv/list HTTP/1.1" 200 OK
INFO:     127.0.0.1:64100 - "OPTIONS /api/cv/upload HTTP/1.1" 200 OK
2025-10-09 14:56:58,650 - app.routes.cv_simple - INFO - Uploading maheshwor_tiwari.pdf with structured processing for user: simran@gmail.com
2025-10-09 14:56:58,651 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:56:58,651 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:56:58,652 - app.services.enhanced_cv_upload_service - INFO - CV file saved: maheshwor_tiwari.pdf (130169 bytes)
2025-10-09 14:56:59,135 - app.services.enhanced_cv_upload_service - INFO - Text extracted successfully: 4864 characters
2025-10-09 14:56:59,135 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 14:56:59,135 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 14:56:59,136 - app.ai.ai_service - INFO - - Prompt length: 10449
2025-10-09 14:56:59,136 - app.ai.ai_service - INFO - - System prompt length: 348
2025-10-09 14:56:59,136 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 14:56:59,136 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 14:56:59,137 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 14:56:59,137 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 14:56:59,137 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 14:56:59,137 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 14:56:59,138 - app.ai.ai_service - INFO - - Available providers: []
2025-10-09 14:56:59,138 - app.ai.ai_service - INFO - - Provider status: {}
2025-10-09 14:56:59,138 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 14:56:59,138 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: []
2025-10-09 14:56:59,138 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 14:56:59,139 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {}
2025-10-09 14:56:59,139 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 14:56:59,140 - app.services.structured_cv_parser - ERROR - Error in LLM parsing: No API key configured for any. Please configure your API key in settings.
2025-10-09 14:56:59,141 - app.services.structured_cv_parser - ERROR - Error parsing CV content with LLM: No API key configured for any. Please configure your API key in settings.
2025-10-09 14:56:59,143 - app.services.enhanced_cv_upload_service - INFO - CV parsed from raw text content
2025-10-09 14:56:59,148 - app.services.structured_cv_parser - INFO - Successfully saved structured CV to user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 14:56:59,148 - app.services.enhanced_cv_upload_service - INFO - Structured CV saved as original_cv.json: user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json (replaced existing)
2025-10-09 14:56:59,149 - app.services.enhanced_cv_upload_service - INFO - CV processed successfully: maheshwor_tiwari.pdf
2025-10-09 14:56:59,149 - app.routes.cv_simple - INFO - ✅ maheshwor_tiwari.pdf uploaded and processed into structured format for user: simran@gmail.com
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
INFO:     127.0.0.1:64102 - "POST /api/cv/upload HTTP/1.1" 200 OK
2025-10-09 14:56:59,185 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:56:59,185 - app.routes.cv_simple - INFO - Listed 2 CV files
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
INFO:     127.0.0.1:64102 - "GET /api/cv/list HTTP/1.1" 200 OK
2025-10-09 14:56:59,415 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:56:59,415 - app.routes.cv_simple - INFO - Listed 2 CV files
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
INFO:     127.0.0.1:64102 - "GET /api/cv/list HTTP/1.1" 200 OK
INFO:     127.0.0.1:64113 - "OPTIONS /api/cv/save-for-analysis/maheshwor_tiwari.pdf HTTP/1.1" 200 OK
2025-10-09 14:57:06,343 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:57:06,590 - app.modules.cv.preview - INFO - CV content extracted: maheshwor_tiwari.pdf (4864 characters)
2025-10-09 14:57:06,590 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:57:06,596 - app.routes.cv_organized - INFO - CV saved as text: user/simran@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 14:57:06,597 - app.routes.cv_organized - INFO - Processing maheshwor_tiwari.pdf for structured CV format (background)...
2025-10-09 14:57:06,597 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:57:06,598 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 14:57:06,960 - app.services.enhanced_cv_upload_service - INFO - Text extracted successfully: 4864 characters
2025-10-09 14:57:06,960 - app.services.enhanced_cv_upload_service - ERROR - Error processing existing CV: 1 validation error for UserData
created_at
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.5/v/datetime_type
2025-10-09 14:57:06,960 - app.routes.cv_organized - ERROR - Background: Error saving structured CV: 
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
INFO:     127.0.0.1:64113 - "POST /api/cv/save-for-analysis/maheshwor_tiwari.pdf HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'app/services/enhanced_cv_upload_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 14:58:00,242 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [58630]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [60116]
INFO:     Waiting for application startup.
2025-10-09 14:58:05,550 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 14:58:05,880 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 14:58:05,880 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 14:58:05,880 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:58:05,880 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:58:05,926 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 14:58:05,926 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 14:58:05,926 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:58:05,926 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:58:05,965 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 14:58:05,965 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 14:58:05,965 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:58:05,965 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:58:06,008 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 14:58:06,008 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:58:06,009 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 14:58:06,009 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 14:58:06,009 INFO sqlalchemy.engine.Engine [generated in 0.00069s] {}
2025-10-09 14:58:06,009 - sqlalchemy.engine.Engine - INFO - [generated in 0.00069s] {}
2025-10-09 14:58:06,049 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 14:58:06,049 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 14:58:06,071 - app.database - INFO - Database connection successful
2025-10-09 14:58:06,072 - app.main - INFO - ✅ Database connection successful
2025-10-09 14:58:06,091 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 14:58:06,091 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:58:06,096 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:58:06,096 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:58:06,097 INFO sqlalchemy.engine.Engine [generated in 0.00049s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:58:06,097 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:58:06,134 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:58:06,134 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:58:06,134 INFO sqlalchemy.engine.Engine [cached since 0.03804s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:58:06,134 - sqlalchemy.engine.Engine - INFO - [cached since 0.03804s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:58:06,158 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:58:06,158 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:58:06,159 INFO sqlalchemy.engine.Engine [cached since 0.06234s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:58:06,159 - sqlalchemy.engine.Engine - INFO - [cached since 0.06234s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:58:06,182 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:58:06,182 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:58:06,183 INFO sqlalchemy.engine.Engine [cached since 0.08636s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:58:06,183 - sqlalchemy.engine.Engine - INFO - [cached since 0.08636s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:58:06,212 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:58:06,212 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:58:06,212 INFO sqlalchemy.engine.Engine [cached since 0.1157s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:58:06,212 - sqlalchemy.engine.Engine - INFO - [cached since 0.1157s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:58:06,235 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:58:06,235 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:58:06,235 INFO sqlalchemy.engine.Engine [cached since 0.1387s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:58:06,235 - sqlalchemy.engine.Engine - INFO - [cached since 0.1387s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:58:06,257 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:58:06,257 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:58:06,258 INFO sqlalchemy.engine.Engine [cached since 0.1613s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:58:06,258 - sqlalchemy.engine.Engine - INFO - [cached since 0.1613s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:58:06,283 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:58:06,283 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:58:06,283 INFO sqlalchemy.engine.Engine [cached since 0.1866s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:58:06,283 - sqlalchemy.engine.Engine - INFO - [cached since 0.1866s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:58:06,303 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:58:06,303 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:58:06,304 INFO sqlalchemy.engine.Engine [cached since 0.2072s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:58:06,304 - sqlalchemy.engine.Engine - INFO - [cached since 0.2072s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:58:06,323 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:58:06,323 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:58:06,323 INFO sqlalchemy.engine.Engine [cached since 0.2271s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:58:06,323 - sqlalchemy.engine.Engine - INFO - [cached since 0.2271s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:58:06,345 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:58:06,345 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:58:06,346 INFO sqlalchemy.engine.Engine [cached since 0.2494s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:58:06,346 - sqlalchemy.engine.Engine - INFO - [cached since 0.2494s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:58:06,366 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 14:58:06,366 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 14:58:06,383 - app.database - INFO - Database tables created successfully
2025-10-09 14:58:06,384 - app.main - INFO - ✅ Database tables ready
2025-10-09 14:58:06,384 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 14:58:06,385 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/services/enhanced_cv_upload_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 14:58:47,656 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [60116]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [62443]
INFO:     Waiting for application startup.
2025-10-09 14:58:52,462 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 14:58:52,773 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 14:58:52,773 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 14:58:52,773 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:58:52,773 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:58:52,808 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 14:58:52,808 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 14:58:52,809 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:58:52,809 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:58:52,842 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 14:58:52,842 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 14:58:52,842 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:58:52,842 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:58:52,887 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 14:58:52,887 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:58:52,888 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 14:58:52,888 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 14:58:52,888 INFO sqlalchemy.engine.Engine [generated in 0.00055s] {}
2025-10-09 14:58:52,888 - sqlalchemy.engine.Engine - INFO - [generated in 0.00055s] {}
2025-10-09 14:58:52,926 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 14:58:52,926 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 14:58:52,947 - app.database - INFO - Database connection successful
2025-10-09 14:58:52,947 - app.main - INFO - ✅ Database connection successful
2025-10-09 14:58:52,965 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 14:58:52,965 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:58:52,970 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:58:52,970 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:58:52,970 INFO sqlalchemy.engine.Engine [generated in 0.00042s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:58:52,970 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:58:53,008 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:58:53,008 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:58:53,008 INFO sqlalchemy.engine.Engine [cached since 0.03798s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:58:53,008 - sqlalchemy.engine.Engine - INFO - [cached since 0.03798s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:58:53,031 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:58:53,031 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:58:53,031 INFO sqlalchemy.engine.Engine [cached since 0.06097s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:58:53,031 - sqlalchemy.engine.Engine - INFO - [cached since 0.06097s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:58:53,053 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:58:53,053 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:58:53,053 INFO sqlalchemy.engine.Engine [cached since 0.08336s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:58:53,053 - sqlalchemy.engine.Engine - INFO - [cached since 0.08336s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:58:53,077 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:58:53,077 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:58:53,078 INFO sqlalchemy.engine.Engine [cached since 0.1075s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:58:53,078 - sqlalchemy.engine.Engine - INFO - [cached since 0.1075s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:58:53,101 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:58:53,101 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:58:53,101 INFO sqlalchemy.engine.Engine [cached since 0.1311s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:58:53,101 - sqlalchemy.engine.Engine - INFO - [cached since 0.1311s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:58:53,124 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:58:53,124 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:58:53,124 INFO sqlalchemy.engine.Engine [cached since 0.1542s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:58:53,124 - sqlalchemy.engine.Engine - INFO - [cached since 0.1542s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:58:53,147 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:58:53,147 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:58:53,148 INFO sqlalchemy.engine.Engine [cached since 0.1776s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:58:53,148 - sqlalchemy.engine.Engine - INFO - [cached since 0.1776s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:58:53,170 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:58:53,170 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:58:53,170 INFO sqlalchemy.engine.Engine [cached since 0.2004s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:58:53,170 - sqlalchemy.engine.Engine - INFO - [cached since 0.2004s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:58:53,192 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:58:53,192 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:58:53,193 INFO sqlalchemy.engine.Engine [cached since 0.2227s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:58:53,193 - sqlalchemy.engine.Engine - INFO - [cached since 0.2227s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:58:53,216 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:58:53,216 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:58:53,217 INFO sqlalchemy.engine.Engine [cached since 0.2466s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:58:53,217 - sqlalchemy.engine.Engine - INFO - [cached since 0.2466s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:58:53,240 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 14:58:53,240 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 14:58:53,262 - app.database - INFO - Database tables created successfully
2025-10-09 14:58:53,262 - app.main - INFO - ✅ Database tables ready
2025-10-09 14:58:53,262 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 14:58:53,262 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/services/enhanced_cv_upload_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 14:59:50,343 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [62443]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [66749]
INFO:     Waiting for application startup.
2025-10-09 14:59:54,028 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 14:59:54,328 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 14:59:54,328 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 14:59:54,328 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:59:54,328 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:59:54,370 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 14:59:54,370 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 14:59:54,370 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:59:54,370 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:59:54,410 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 14:59:54,410 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 14:59:54,411 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 14:59:54,411 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 14:59:54,460 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 14:59:54,460 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:59:54,460 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 14:59:54,460 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 14:59:54,461 INFO sqlalchemy.engine.Engine [generated in 0.00059s] {}
2025-10-09 14:59:54,461 - sqlalchemy.engine.Engine - INFO - [generated in 0.00059s] {}
2025-10-09 14:59:54,500 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 14:59:54,500 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 14:59:54,523 - app.database - INFO - Database connection successful
2025-10-09 14:59:54,523 - app.main - INFO - ✅ Database connection successful
2025-10-09 14:59:54,547 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 14:59:54,547 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 14:59:54,552 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:59:54,552 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:59:54,552 INFO sqlalchemy.engine.Engine [generated in 0.00054s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:59:54,552 - sqlalchemy.engine.Engine - INFO - [generated in 0.00054s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:59:54,591 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:59:54,591 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:59:54,591 INFO sqlalchemy.engine.Engine [cached since 0.03941s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:59:54,591 - sqlalchemy.engine.Engine - INFO - [cached since 0.03941s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:59:54,619 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:59:54,619 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:59:54,619 INFO sqlalchemy.engine.Engine [cached since 0.06712s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:59:54,619 - sqlalchemy.engine.Engine - INFO - [cached since 0.06712s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:59:54,643 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:59:54,643 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:59:54,644 INFO sqlalchemy.engine.Engine [cached since 0.09184s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:59:54,644 - sqlalchemy.engine.Engine - INFO - [cached since 0.09184s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:59:54,666 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:59:54,666 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:59:54,667 INFO sqlalchemy.engine.Engine [cached since 0.1149s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:59:54,667 - sqlalchemy.engine.Engine - INFO - [cached since 0.1149s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:59:54,688 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:59:54,688 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:59:54,688 INFO sqlalchemy.engine.Engine [cached since 0.1367s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:59:54,688 - sqlalchemy.engine.Engine - INFO - [cached since 0.1367s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:59:54,713 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:59:54,713 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:59:54,713 INFO sqlalchemy.engine.Engine [cached since 0.1611s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:59:54,713 - sqlalchemy.engine.Engine - INFO - [cached since 0.1611s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:59:54,745 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:59:54,745 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:59:54,745 INFO sqlalchemy.engine.Engine [cached since 0.1935s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:59:54,745 - sqlalchemy.engine.Engine - INFO - [cached since 0.1935s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:59:54,768 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:59:54,768 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:59:54,769 INFO sqlalchemy.engine.Engine [cached since 0.2168s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:59:54,769 - sqlalchemy.engine.Engine - INFO - [cached since 0.2168s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:59:54,794 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:59:54,794 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:59:54,794 INFO sqlalchemy.engine.Engine [cached since 0.2423s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:59:54,794 - sqlalchemy.engine.Engine - INFO - [cached since 0.2423s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:59:54,820 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:59:54,820 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 14:59:54,820 INFO sqlalchemy.engine.Engine [cached since 0.2687s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:59:54,820 - sqlalchemy.engine.Engine - INFO - [cached since 0.2687s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 14:59:54,842 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 14:59:54,842 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 14:59:54,867 - app.database - INFO - Database tables created successfully
2025-10-09 14:59:54,867 - app.main - INFO - ✅ Database tables ready
2025-10-09 14:59:54,867 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 14:59:54,868 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/services/enhanced_cv_upload_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 15:00:50,224 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [66749]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [68204]
INFO:     Waiting for application startup.
2025-10-09 15:00:56,139 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 15:00:56,430 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 15:00:56,430 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 15:00:56,430 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:00:56,430 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:00:56,467 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 15:00:56,467 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 15:00:56,467 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:00:56,467 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:00:56,509 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 15:00:56,509 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 15:00:56,510 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:00:56,510 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:00:56,550 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:00:56,550 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:00:56,550 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 15:00:56,550 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 15:00:56,550 INFO sqlalchemy.engine.Engine [generated in 0.00058s] {}
2025-10-09 15:00:56,550 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] {}
2025-10-09 15:00:56,584 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:00:56,584 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:00:56,606 - app.database - INFO - Database connection successful
2025-10-09 15:00:56,607 - app.main - INFO - ✅ Database connection successful
2025-10-09 15:00:56,623 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:00:56,623 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:00:56,630 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:00:56,630 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:00:56,630 INFO sqlalchemy.engine.Engine [generated in 0.00056s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:00:56,630 - sqlalchemy.engine.Engine - INFO - [generated in 0.00056s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:00:56,665 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:00:56,665 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:00:56,666 INFO sqlalchemy.engine.Engine [cached since 0.03625s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:00:56,666 - sqlalchemy.engine.Engine - INFO - [cached since 0.03625s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:00:56,688 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:00:56,688 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:00:56,689 INFO sqlalchemy.engine.Engine [cached since 0.05898s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:00:56,689 - sqlalchemy.engine.Engine - INFO - [cached since 0.05898s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:00:56,709 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:00:56,709 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:00:56,710 INFO sqlalchemy.engine.Engine [cached since 0.08002s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:00:56,710 - sqlalchemy.engine.Engine - INFO - [cached since 0.08002s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:00:56,733 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:00:56,733 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:00:56,733 INFO sqlalchemy.engine.Engine [cached since 0.1033s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:00:56,733 - sqlalchemy.engine.Engine - INFO - [cached since 0.1033s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:00:56,755 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:00:56,755 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:00:56,755 INFO sqlalchemy.engine.Engine [cached since 0.1257s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:00:56,755 - sqlalchemy.engine.Engine - INFO - [cached since 0.1257s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:00:56,778 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:00:56,778 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:00:56,779 INFO sqlalchemy.engine.Engine [cached since 0.1491s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:00:56,779 - sqlalchemy.engine.Engine - INFO - [cached since 0.1491s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:00:56,800 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:00:56,800 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:00:56,800 INFO sqlalchemy.engine.Engine [cached since 0.1706s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:00:56,800 - sqlalchemy.engine.Engine - INFO - [cached since 0.1706s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:00:56,822 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:00:56,822 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:00:56,822 INFO sqlalchemy.engine.Engine [cached since 0.1925s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:00:56,822 - sqlalchemy.engine.Engine - INFO - [cached since 0.1925s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:00:56,845 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:00:56,845 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:00:56,846 INFO sqlalchemy.engine.Engine [cached since 0.2162s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:00:56,846 - sqlalchemy.engine.Engine - INFO - [cached since 0.2162s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:00:56,869 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:00:56,869 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:00:56,869 INFO sqlalchemy.engine.Engine [cached since 0.2396s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:00:56,869 - sqlalchemy.engine.Engine - INFO - [cached since 0.2396s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:00:56,891 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 15:00:56,891 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 15:00:56,909 - app.database - INFO - Database tables created successfully
2025-10-09 15:00:56,910 - app.main - INFO - ✅ Database tables ready
2025-10-09 15:00:56,910 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 15:00:56,910 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
2025-10-09 15:00:56,919 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:00:56,920 - app.routes.cv_simple - INFO - Listed 2 CV files
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
INFO:     127.0.0.1:64419 - "GET /api/cv/list HTTP/1.1" 200 OK
2025-10-09 15:00:56,977 - app.routes.cv_simple - INFO - Uploading maheshwor_tiwari.pdf with structured processing for user: simran@gmail.com
2025-10-09 15:00:56,991 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:00:57,074 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:00:57,104 - app.services.enhanced_cv_upload_service - INFO - CV file saved: maheshwor_tiwari.pdf (130169 bytes)
2025-10-09 15:00:57,428 - app.services.enhanced_cv_upload_service - INFO - Text extracted successfully: 4864 characters
2025-10-09 15:00:57,429 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 15:00:57,429 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 15:00:57,429 - app.ai.ai_service - INFO - - Prompt length: 10449
2025-10-09 15:00:57,429 - app.ai.ai_service - INFO - - System prompt length: 348
2025-10-09 15:00:57,429 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 15:00:57,429 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 15:00:57,429 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 15:00:57,430 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 15:00:57,430 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:00:57,430 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 15:00:57,430 - app.ai.ai_service - INFO - - Available providers: []
2025-10-09 15:00:57,430 - app.ai.ai_service - INFO - - Provider status: {}
2025-10-09 15:00:57,430 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 15:00:57,430 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: []
2025-10-09 15:00:57,430 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 15:00:57,431 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {}
2025-10-09 15:00:57,431 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 15:00:57,431 - app.services.structured_cv_parser - ERROR - Error in LLM parsing: No API key configured for any. Please configure your API key in settings.
2025-10-09 15:00:57,431 - app.services.structured_cv_parser - ERROR - Error parsing CV content with LLM: No API key configured for any. Please configure your API key in settings.
2025-10-09 15:00:57,431 - app.services.enhanced_cv_upload_service - INFO - CV parsed from raw text content
2025-10-09 15:00:57,432 - app.services.structured_cv_parser - INFO - Successfully saved structured CV to user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 15:00:57,432 - app.services.enhanced_cv_upload_service - INFO - Structured CV saved as original_cv.json: user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json (replaced existing)
2025-10-09 15:00:57,432 - app.services.enhanced_cv_upload_service - INFO - CV processed successfully: maheshwor_tiwari.pdf
2025-10-09 15:00:57,433 - app.routes.cv_simple - INFO - ✅ maheshwor_tiwari.pdf uploaded and processed into structured format for user: simran@gmail.com
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
INFO:     127.0.0.1:64419 - "POST /api/cv/upload HTTP/1.1" 200 OK
2025-10-09 15:00:57,443 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:00:57,444 - app.routes.cv_simple - INFO - Listed 2 CV files
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
INFO:     127.0.0.1:64419 - "GET /api/cv/list HTTP/1.1" 200 OK
2025-10-09 15:00:57,549 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:00:57,550 - app.routes.cv_simple - INFO - Listed 2 CV files
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
INFO:     127.0.0.1:64419 - "GET /api/cv/list HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'app/services/enhanced_cv_upload_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 15:02:17,222 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [68204]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [68686]
INFO:     Waiting for application startup.
2025-10-09 15:02:21,958 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 15:02:22,263 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 15:02:22,263 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 15:02:22,264 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:02:22,264 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:02:22,311 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 15:02:22,311 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 15:02:22,311 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:02:22,311 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:02:22,356 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 15:02:22,356 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 15:02:22,356 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:02:22,356 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:02:22,397 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:02:22,397 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:02:22,397 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 15:02:22,397 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 15:02:22,397 INFO sqlalchemy.engine.Engine [generated in 0.00059s] {}
2025-10-09 15:02:22,397 - sqlalchemy.engine.Engine - INFO - [generated in 0.00059s] {}
2025-10-09 15:02:22,440 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:02:22,440 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:02:22,462 - app.database - INFO - Database connection successful
2025-10-09 15:02:22,462 - app.main - INFO - ✅ Database connection successful
2025-10-09 15:02:22,484 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:02:22,484 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:02:22,489 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:02:22,489 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:02:22,489 INFO sqlalchemy.engine.Engine [generated in 0.00039s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:02:22,489 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:02:22,532 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:02:22,532 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:02:22,533 INFO sqlalchemy.engine.Engine [cached since 0.04356s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:02:22,533 - sqlalchemy.engine.Engine - INFO - [cached since 0.04356s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:02:22,556 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:02:22,556 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:02:22,556 INFO sqlalchemy.engine.Engine [cached since 0.06689s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:02:22,556 - sqlalchemy.engine.Engine - INFO - [cached since 0.06689s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:02:22,579 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:02:22,579 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:02:22,579 INFO sqlalchemy.engine.Engine [cached since 0.08988s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:02:22,579 - sqlalchemy.engine.Engine - INFO - [cached since 0.08988s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:02:22,601 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:02:22,601 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:02:22,601 INFO sqlalchemy.engine.Engine [cached since 0.1122s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:02:22,601 - sqlalchemy.engine.Engine - INFO - [cached since 0.1122s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:02:22,625 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:02:22,625 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:02:22,625 INFO sqlalchemy.engine.Engine [cached since 0.1361s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:02:22,625 - sqlalchemy.engine.Engine - INFO - [cached since 0.1361s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:02:22,648 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:02:22,648 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:02:22,648 INFO sqlalchemy.engine.Engine [cached since 0.1588s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:02:22,648 - sqlalchemy.engine.Engine - INFO - [cached since 0.1588s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:02:22,671 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:02:22,671 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:02:22,671 INFO sqlalchemy.engine.Engine [cached since 0.1824s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:02:22,671 - sqlalchemy.engine.Engine - INFO - [cached since 0.1824s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:02:22,694 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:02:22,694 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:02:22,695 INFO sqlalchemy.engine.Engine [cached since 0.2057s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:02:22,695 - sqlalchemy.engine.Engine - INFO - [cached since 0.2057s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:02:22,719 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:02:22,719 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:02:22,719 INFO sqlalchemy.engine.Engine [cached since 0.23s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:02:22,719 - sqlalchemy.engine.Engine - INFO - [cached since 0.23s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:02:22,739 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:02:22,739 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:02:22,740 INFO sqlalchemy.engine.Engine [cached since 0.2505s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:02:22,740 - sqlalchemy.engine.Engine - INFO - [cached since 0.2505s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:02:22,758 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 15:02:22,758 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 15:02:22,780 - app.database - INFO - Database tables created successfully
2025-10-09 15:02:22,780 - app.main - INFO - ✅ Database tables ready
2025-10-09 15:02:22,780 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 15:02:22,781 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/services/enhanced_cv_upload_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 15:03:37,837 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [68686]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [73469]
INFO:     Waiting for application startup.
2025-10-09 15:03:41,613 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 15:03:41,906 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 15:03:41,906 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 15:03:41,907 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:03:41,907 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:03:41,947 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 15:03:41,947 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 15:03:41,947 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:03:41,947 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:03:41,985 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 15:03:41,985 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 15:03:41,985 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:03:41,985 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:03:42,025 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:03:42,025 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:03:42,025 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 15:03:42,025 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 15:03:42,026 INFO sqlalchemy.engine.Engine [generated in 0.00067s] {}
2025-10-09 15:03:42,026 - sqlalchemy.engine.Engine - INFO - [generated in 0.00067s] {}
2025-10-09 15:03:42,063 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:03:42,063 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:03:42,080 - app.database - INFO - Database connection successful
2025-10-09 15:03:42,081 - app.main - INFO - ✅ Database connection successful
2025-10-09 15:03:42,098 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:03:42,098 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:03:42,103 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:03:42,103 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:03:42,103 INFO sqlalchemy.engine.Engine [generated in 0.00043s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:03:42,103 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:03:42,148 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:03:42,148 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:03:42,148 INFO sqlalchemy.engine.Engine [cached since 0.04504s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:03:42,148 - sqlalchemy.engine.Engine - INFO - [cached since 0.04504s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:03:42,175 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:03:42,175 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:03:42,176 INFO sqlalchemy.engine.Engine [cached since 0.07306s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:03:42,176 - sqlalchemy.engine.Engine - INFO - [cached since 0.07306s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:03:42,199 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:03:42,199 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:03:42,199 INFO sqlalchemy.engine.Engine [cached since 0.09664s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:03:42,199 - sqlalchemy.engine.Engine - INFO - [cached since 0.09664s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:03:42,223 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:03:42,223 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:03:42,224 INFO sqlalchemy.engine.Engine [cached since 0.1207s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:03:42,224 - sqlalchemy.engine.Engine - INFO - [cached since 0.1207s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:03:42,247 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:03:42,247 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:03:42,247 INFO sqlalchemy.engine.Engine [cached since 0.1442s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:03:42,247 - sqlalchemy.engine.Engine - INFO - [cached since 0.1442s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:03:42,265 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:03:42,265 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:03:42,266 INFO sqlalchemy.engine.Engine [cached since 0.163s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:03:42,266 - sqlalchemy.engine.Engine - INFO - [cached since 0.163s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:03:42,290 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:03:42,290 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:03:42,290 INFO sqlalchemy.engine.Engine [cached since 0.1876s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:03:42,290 - sqlalchemy.engine.Engine - INFO - [cached since 0.1876s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:03:42,312 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:03:42,312 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:03:42,313 INFO sqlalchemy.engine.Engine [cached since 0.2098s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:03:42,313 - sqlalchemy.engine.Engine - INFO - [cached since 0.2098s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:03:42,336 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:03:42,336 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:03:42,336 INFO sqlalchemy.engine.Engine [cached since 0.2331s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:03:42,336 - sqlalchemy.engine.Engine - INFO - [cached since 0.2331s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:03:42,359 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:03:42,359 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:03:42,359 INFO sqlalchemy.engine.Engine [cached since 0.2561s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:03:42,359 - sqlalchemy.engine.Engine - INFO - [cached since 0.2561s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:03:42,382 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 15:03:42,382 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 15:03:42,403 - app.database - INFO - Database tables created successfully
2025-10-09 15:03:42,404 - app.main - INFO - ✅ Database tables ready
2025-10-09 15:03:42,404 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 15:03:42,404 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/services/enhanced_cv_upload_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 15:04:17,782 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [73469]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [74792]
INFO:     Waiting for application startup.
2025-10-09 15:04:22,299 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 15:04:22,592 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 15:04:22,592 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 15:04:22,593 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:04:22,593 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:04:22,629 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 15:04:22,629 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 15:04:22,630 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:04:22,630 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:04:22,672 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 15:04:22,672 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 15:04:22,673 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:04:22,673 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:04:22,721 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:04:22,721 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:04:22,721 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 15:04:22,721 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 15:04:22,721 INFO sqlalchemy.engine.Engine [generated in 0.00057s] {}
2025-10-09 15:04:22,721 - sqlalchemy.engine.Engine - INFO - [generated in 0.00057s] {}
2025-10-09 15:04:22,755 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:04:22,755 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:04:22,778 - app.database - INFO - Database connection successful
2025-10-09 15:04:22,779 - app.main - INFO - ✅ Database connection successful
2025-10-09 15:04:22,801 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:04:22,801 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:04:22,806 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:04:22,806 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:04:22,806 INFO sqlalchemy.engine.Engine [generated in 0.00039s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:04:22,806 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:04:22,845 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:04:22,845 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:04:22,846 INFO sqlalchemy.engine.Engine [cached since 0.03989s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:04:22,846 - sqlalchemy.engine.Engine - INFO - [cached since 0.03989s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:04:22,869 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:04:22,869 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:04:22,869 INFO sqlalchemy.engine.Engine [cached since 0.06334s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:04:22,869 - sqlalchemy.engine.Engine - INFO - [cached since 0.06334s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:04:22,892 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:04:22,892 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:04:22,893 INFO sqlalchemy.engine.Engine [cached since 0.08679s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:04:22,893 - sqlalchemy.engine.Engine - INFO - [cached since 0.08679s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:04:22,916 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:04:22,916 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:04:22,916 INFO sqlalchemy.engine.Engine [cached since 0.1105s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:04:22,916 - sqlalchemy.engine.Engine - INFO - [cached since 0.1105s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:04:22,941 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:04:22,941 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:04:22,941 INFO sqlalchemy.engine.Engine [cached since 0.1351s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:04:22,941 - sqlalchemy.engine.Engine - INFO - [cached since 0.1351s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:04:22,964 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:04:22,964 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:04:22,964 INFO sqlalchemy.engine.Engine [cached since 0.1582s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:04:22,964 - sqlalchemy.engine.Engine - INFO - [cached since 0.1582s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:04:22,987 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:04:22,987 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:04:22,988 INFO sqlalchemy.engine.Engine [cached since 0.1819s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:04:22,988 - sqlalchemy.engine.Engine - INFO - [cached since 0.1819s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:04:23,009 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:04:23,009 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:04:23,010 INFO sqlalchemy.engine.Engine [cached since 0.2039s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:04:23,010 - sqlalchemy.engine.Engine - INFO - [cached since 0.2039s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:04:23,028 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:04:23,028 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:04:23,029 INFO sqlalchemy.engine.Engine [cached since 0.2227s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:04:23,029 - sqlalchemy.engine.Engine - INFO - [cached since 0.2227s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:04:23,053 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:04:23,053 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:04:23,053 INFO sqlalchemy.engine.Engine [cached since 0.2471s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:04:23,053 - sqlalchemy.engine.Engine - INFO - [cached since 0.2471s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:04:23,075 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 15:04:23,075 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 15:04:23,092 - app.database - INFO - Database tables created successfully
2025-10-09 15:04:23,092 - app.main - INFO - ✅ Database tables ready
2025-10-09 15:04:23,092 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 15:04:23,092 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/services/enhanced_cv_upload_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 15:05:13,373 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [74792]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [77003]
INFO:     Waiting for application startup.
2025-10-09 15:05:17,920 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 15:05:18,179 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 15:05:18,179 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 15:05:18,180 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:05:18,180 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:05:18,229 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 15:05:18,229 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 15:05:18,229 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:05:18,229 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:05:18,275 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 15:05:18,275 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 15:05:18,275 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:05:18,275 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:05:18,320 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:05:18,320 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:05:18,320 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 15:05:18,320 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 15:05:18,320 INFO sqlalchemy.engine.Engine [generated in 0.00057s] {}
2025-10-09 15:05:18,320 - sqlalchemy.engine.Engine - INFO - [generated in 0.00057s] {}
2025-10-09 15:05:18,358 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:05:18,358 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:05:18,380 - app.database - INFO - Database connection successful
2025-10-09 15:05:18,380 - app.main - INFO - ✅ Database connection successful
2025-10-09 15:05:18,397 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:05:18,397 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:05:18,402 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:05:18,402 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:05:18,403 INFO sqlalchemy.engine.Engine [generated in 0.00044s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:05:18,403 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:05:18,446 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:05:18,446 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:05:18,447 INFO sqlalchemy.engine.Engine [cached since 0.04453s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:05:18,447 - sqlalchemy.engine.Engine - INFO - [cached since 0.04453s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:05:18,471 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:05:18,471 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:05:18,471 INFO sqlalchemy.engine.Engine [cached since 0.06892s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:05:18,471 - sqlalchemy.engine.Engine - INFO - [cached since 0.06892s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:05:18,496 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:05:18,496 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:05:18,496 INFO sqlalchemy.engine.Engine [cached since 0.09388s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:05:18,496 - sqlalchemy.engine.Engine - INFO - [cached since 0.09388s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:05:18,519 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:05:18,519 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:05:18,519 INFO sqlalchemy.engine.Engine [cached since 0.1172s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:05:18,519 - sqlalchemy.engine.Engine - INFO - [cached since 0.1172s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:05:18,544 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:05:18,544 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:05:18,546 INFO sqlalchemy.engine.Engine [cached since 0.1436s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:05:18,546 - sqlalchemy.engine.Engine - INFO - [cached since 0.1436s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:05:18,569 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:05:18,569 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:05:18,569 INFO sqlalchemy.engine.Engine [cached since 0.1671s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:05:18,569 - sqlalchemy.engine.Engine - INFO - [cached since 0.1671s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:05:18,594 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:05:18,594 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:05:18,595 INFO sqlalchemy.engine.Engine [cached since 0.1932s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:05:18,595 - sqlalchemy.engine.Engine - INFO - [cached since 0.1932s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:05:18,618 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:05:18,618 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:05:18,619 INFO sqlalchemy.engine.Engine [cached since 0.2165s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:05:18,619 - sqlalchemy.engine.Engine - INFO - [cached since 0.2165s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:05:18,642 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:05:18,642 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:05:18,643 INFO sqlalchemy.engine.Engine [cached since 0.2408s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:05:18,643 - sqlalchemy.engine.Engine - INFO - [cached since 0.2408s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:05:18,667 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:05:18,667 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:05:18,667 INFO sqlalchemy.engine.Engine [cached since 0.2654s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:05:18,667 - sqlalchemy.engine.Engine - INFO - [cached since 0.2654s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:05:18,689 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 15:05:18,689 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 15:05:18,705 - app.database - INFO - Database tables created successfully
2025-10-09 15:05:18,706 - app.main - INFO - ✅ Database tables ready
2025-10-09 15:05:18,706 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 15:05:18,706 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
INFO:     127.0.0.1:65050 - "OPTIONS /api/cv/list HTTP/1.1" 200 OK
2025-10-09 15:08:30,942 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:08:30,944 - app.routes.cv_simple - INFO - Listed 2 CV files
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
INFO:     127.0.0.1:65050 - "GET /api/cv/list HTTP/1.1" 200 OK
INFO:     127.0.0.1:65050 - "OPTIONS /api/cv/upload HTTP/1.1" 200 OK
2025-10-09 15:08:31,089 - app.routes.cv_simple - INFO - Uploading maheshwor_tiwari.pdf with structured processing for user: simran@gmail.com
2025-10-09 15:08:31,090 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:08:31,090 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:08:31,092 - app.services.enhanced_cv_upload_service - INFO - CV file saved: maheshwor_tiwari.pdf (130169 bytes)
2025-10-09 15:08:31,424 - app.services.enhanced_cv_upload_service - INFO - Text extracted successfully: 4864 characters
2025-10-09 15:08:31,425 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] Checking user parameter: True
2025-10-09 15:08:31,425 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] User email: simran@gmail.com
2025-10-09 15:08:31,425 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] About to initialize AI service...
2025-10-09 15:08:31,425 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user simran@gmail.com
2025-10-09 15:08:31,425 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Before initialization:
2025-10-09 15:08:31,425 - app.ai.ai_service - INFO - - Current providers: []
2025-10-09 15:08:31,425 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 15:08:31,425 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 15:08:31,426 - app.ai.ai_service - INFO - - Cached providers for user: []
2025-10-09 15:08:31,426 - app.ai.ai_service - INFO - 🔄 [AI_SERVICE] Initializing new providers for user simran@gmail.com
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
🔍 [DEBUG] _parse_to_structured_format called with user: True
2025-10-09 15:08:31,471 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:08:31,471 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:08:31,475 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:08:31,475 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:08:31,475 INFO sqlalchemy.engine.Engine [generated in 0.00042s] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 15:08:31,475 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 15:08:31,516 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:08:31,516 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:08:32,469 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:08:32,483 - app.ai.ai_service - INFO - ✅ Initialized openai provider with model gpt-4o for user simran@gmail.com
2025-10-09 15:08:32,584 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:08:32,584 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:08:32,585 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:08:32,585 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:08:32,586 INFO sqlalchemy.engine.Engine [cached since 1.111s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 15:08:32,586 - sqlalchemy.engine.Engine - INFO - [cached since 1.111s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 15:08:32,940 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:08:32,940 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:08:32,968 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user simran@gmail.com and provider anthropic
2025-10-09 15:08:32,993 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:08:32,993 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:08:32,994 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:08:32,994 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:08:32,994 INFO sqlalchemy.engine.Engine [cached since 1.519s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 15:08:32,994 - sqlalchemy.engine.Engine - INFO - [cached since 1.519s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 15:08:33,045 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:08:33,045 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:08:33,066 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user simran@gmail.com and provider deepseek
2025-10-09 15:08:33,066 - app.ai.ai_service - INFO - 💾 [AI_SERVICE] Cached 1 providers for user simran@gmail.com
2025-10-09 15:08:33,067 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] After initialization:
2025-10-09 15:08:33,067 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 15:08:33,067 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 15:08:33,067 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 15:08:33,067 - app.services.enhanced_cv_upload_service - INFO - 🔄 [CV_UPLOAD] Initialized AI service for user simran@gmail.com
2025-10-09 15:08:33,068 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 15:08:33,068 - app.ai.ai_service - INFO - ✅ Switched to openai provider with model gpt-3.5-turbo
2025-10-09 15:08:33,068 - app.services.enhanced_cv_upload_service - INFO - ✅ [CV_UPLOAD] Auto-selected provider: openai
2025-10-09 15:08:33,069 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 15:08:33,069 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 15:08:33,070 - app.ai.ai_service - INFO - - Prompt length: 10449
2025-10-09 15:08:33,070 - app.ai.ai_service - INFO - - System prompt length: 348
2025-10-09 15:08:33,070 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 15:08:33,070 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 15:08:33,070 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 15:08:33,070 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:08:33,071 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:08:33,071 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:08:33,071 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:08:33,550 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:08:33,567 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:08:33,567 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:08:33,567 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:08:33,567 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 15:08:44,550 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 15:08:44,561 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:08:44,561 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:08:44,561 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:08:44,561 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:08:44,938 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:08:44,951 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:08:44,951 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:08:44,951 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:08:44,951 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:08:44,951 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:08:44,951 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:08:44,952 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:08:45,470 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:08:45,481 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:08:45,481 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:08:45,481 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:08:45,481 - app.services.structured_cv_parser - INFO - Successfully parsed CV using gpt-3.5-turbo
2025-10-09 15:08:45,483 - app.services.enhanced_cv_upload_service - INFO - CV parsed from raw text content
2025-10-09 15:08:45,486 - app.services.structured_cv_parser - INFO - Successfully saved structured CV to user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 15:08:45,486 - app.services.enhanced_cv_upload_service - INFO - Structured CV saved as original_cv.json: user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json (replaced existing)
2025-10-09 15:08:45,486 - app.services.enhanced_cv_upload_service - INFO - CV processed successfully: maheshwor_tiwari.pdf
2025-10-09 15:08:45,487 - app.routes.cv_simple - INFO - ✅ maheshwor_tiwari.pdf uploaded and processed into structured format for user: simran@gmail.com
INFO:     127.0.0.1:65052 - "POST /api/cv/upload HTTP/1.1" 200 OK
2025-10-09 15:08:45,509 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:08:45,510 - app.routes.cv_simple - INFO - Listed 2 CV files
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
INFO:     127.0.0.1:65052 - "GET /api/cv/list HTTP/1.1" 200 OK
2025-10-09 15:08:45,661 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:08:45,662 - app.routes.cv_simple - INFO - Listed 2 CV files
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
INFO:     127.0.0.1:65052 - "GET /api/cv/list HTTP/1.1" 200 OK
2025-10-09 15:14:38,826 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:14:38,828 - app.routes.cv_simple - INFO - Listed 2 CV files
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
INFO:     127.0.0.1:65318 - "GET /api/cv/list HTTP/1.1" 200 OK
2025-10-09 15:14:38,996 - app.routes.cv_simple - INFO - Uploading test_cv.pdf with structured processing for user: simran@gmail.com
2025-10-09 15:14:38,996 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:14:38,997 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:14:38,998 - app.services.enhanced_cv_upload_service - INFO - CV file saved: test_cv.pdf (40289 bytes)
2025-10-09 15:14:39,020 - app.services.enhanced_cv_upload_service - INFO - Text extracted successfully: 477 characters
2025-10-09 15:14:39,021 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] Checking user parameter: True
2025-10-09 15:14:39,021 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] User email: simran@gmail.com
2025-10-09 15:14:39,021 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] About to initialize AI service...
2025-10-09 15:14:39,021 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user simran@gmail.com
2025-10-09 15:14:39,021 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Before initialization:
2025-10-09 15:14:39,021 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 15:14:39,022 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:14:39,022 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:14:39,022 - app.ai.ai_service - INFO - - Cached providers for user: ['openai']
2025-10-09 15:14:39,022 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Using cached providers for user simran@gmail.com
2025-10-09 15:14:39,022 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] After initialization:
2025-10-09 15:14:39,022 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 15:14:39,022 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:14:39,022 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:14:39,022 - app.services.enhanced_cv_upload_service - INFO - 🔄 [CV_UPLOAD] Initialized AI service for user simran@gmail.com
2025-10-09 15:14:39,023 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:14:39,023 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 15:14:39,023 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 15:14:39,023 - app.ai.ai_service - INFO - - Prompt length: 6062
2025-10-09 15:14:39,023 - app.ai.ai_service - INFO - - System prompt length: 348
2025-10-09 15:14:39,023 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 15:14:39,023 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 15:14:39,023 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 15:14:39,024 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:14:39,024 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:14:39,024 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:14:39,024 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:14:39,773 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:14:39,783 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:14:39,784 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:14:39,784 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:14:39,784 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 15:14:45,658 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 15:14:45,662 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:14:45,663 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:14:45,663 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:14:45,663 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:14:46,065 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:14:46,078 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:14:46,078 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:14:46,078 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:14:46,079 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:14:46,079 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:14:46,079 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:14:46,080 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:14:46,966 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:14:46,979 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:14:46,979 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:14:46,979 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:14:46,979 - app.services.structured_cv_parser - INFO - Successfully parsed CV using gpt-3.5-turbo
2025-10-09 15:14:46,980 - app.services.enhanced_cv_upload_service - INFO - CV parsed from raw text content
2025-10-09 15:14:46,981 - app.services.structured_cv_parser - INFO - Successfully saved structured CV to user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 15:14:46,982 - app.services.enhanced_cv_upload_service - INFO - Structured CV saved as original_cv.json: user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json (replaced existing)
2025-10-09 15:14:46,982 - app.services.enhanced_cv_upload_service - INFO - CV processed successfully: test_cv.pdf
2025-10-09 15:14:46,982 - app.routes.cv_simple - INFO - ✅ test_cv.pdf uploaded and processed into structured format for user: simran@gmail.com
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
🔍 [DEBUG] _parse_to_structured_format called with user: True
INFO:     127.0.0.1:65318 - "POST /api/cv/upload HTTP/1.1" 200 OK
2025-10-09 15:14:46,997 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:14:46,998 - app.routes.cv_simple - INFO - Listed 2 CV files
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
INFO:     127.0.0.1:65318 - "GET /api/cv/list HTTP/1.1" 200 OK
2025-10-09 15:14:47,121 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:14:47,123 - app.routes.cv_simple - INFO - Listed 2 CV files
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
INFO:     127.0.0.1:65318 - "GET /api/cv/list HTTP/1.1" 200 OK
INFO:     127.0.0.1:65318 - "OPTIONS /api/cv/save-for-analysis/test_cv.pdf HTTP/1.1" 200 OK
2025-10-09 15:14:50,534 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:14:50,555 - app.modules.cv.preview - INFO - CV content extracted: test_cv.pdf (477 characters)
2025-10-09 15:14:50,556 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:14:50,556 - app.routes.cv_organized - INFO - CV saved as text: user/simran@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 15:14:50,557 - app.routes.cv_organized - INFO - Processing test_cv.pdf for structured CV format (background)...
2025-10-09 15:14:50,557 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:14:50,557 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:14:50,578 - app.services.enhanced_cv_upload_service - INFO - Text extracted successfully: 477 characters
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
2025-10-09 15:14:50,603 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:14:50,603 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:14:50,607 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 15:14:50,607 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 15:14:50,607 INFO sqlalchemy.engine.Engine [generated in 0.00051s] {'email_1': 'simran@gmail.com', 'param_1': 1}
2025-10-09 15:14:50,607 - sqlalchemy.engine.Engine - INFO - [generated in 0.00051s] {'email_1': 'simran@gmail.com', 'param_1': 1}
2025-10-09 15:14:50,648 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:14:50,648 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:14:50,664 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user simran@gmail.com
2025-10-09 15:14:50,664 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Before initialization:
2025-10-09 15:14:50,664 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 15:14:50,664 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:14:50,664 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:14:50,664 - app.ai.ai_service - INFO - - Cached providers for user: ['openai']
2025-10-09 15:14:50,664 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Using cached providers for user simran@gmail.com
2025-10-09 15:14:50,665 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] After initialization:
2025-10-09 15:14:50,665 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 15:14:50,665 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:14:50,665 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:14:50,665 - app.services.enhanced_cv_upload_service - INFO - 🔄 [CV_UPLOAD] Initialized AI service for user simran@gmail.com
2025-10-09 15:14:50,665 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:14:50,665 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] Checking user parameter: True
2025-10-09 15:14:50,665 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] User email: simran@gmail.com
2025-10-09 15:14:50,666 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] About to initialize AI service...
2025-10-09 15:14:50,666 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user simran@gmail.com
2025-10-09 15:14:50,666 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Before initialization:
2025-10-09 15:14:50,666 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 15:14:50,666 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:14:50,666 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:14:50,666 - app.ai.ai_service - INFO - - Cached providers for user: ['openai']
2025-10-09 15:14:50,667 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Using cached providers for user simran@gmail.com
2025-10-09 15:14:50,667 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] After initialization:
2025-10-09 15:14:50,667 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 15:14:50,667 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:14:50,667 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:14:50,667 - app.services.enhanced_cv_upload_service - INFO - 🔄 [CV_UPLOAD] Initialized AI service for user simran@gmail.com
2025-10-09 15:14:50,667 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:14:50,668 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 15:14:50,668 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 15:14:50,668 - app.ai.ai_service - INFO - - Prompt length: 6062
2025-10-09 15:14:50,668 - app.ai.ai_service - INFO - - System prompt length: 348
2025-10-09 15:14:50,668 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 15:14:50,669 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 15:14:50,669 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 15:14:50,671 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:14:50,672 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:14:50,674 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:14:50,676 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:14:51,037 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:14:51,049 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:14:51,050 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:14:51,050 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:14:51,050 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 15:14:53,876 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 15:14:53,882 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:14:53,883 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:14:53,883 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:14:53,883 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:14:54,300 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:14:54,315 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:14:54,315 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:14:54,315 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:14:54,316 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:14:54,316 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:14:54,316 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:14:54,317 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:14:54,952 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:14:54,971 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:14:54,972 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:14:54,972 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:14:54,972 - app.services.structured_cv_parser - INFO - Successfully parsed CV using gpt-3.5-turbo
2025-10-09 15:14:54,974 - app.services.enhanced_cv_upload_service - INFO - CV parsed from raw text content
2025-10-09 15:14:54,976 - app.services.structured_cv_parser - INFO - Successfully saved structured CV to user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 15:14:54,977 - app.services.enhanced_cv_upload_service - INFO - Structured CV saved as original_cv.json: user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json (replaced existing)
2025-10-09 15:14:54,977 - app.services.enhanced_cv_upload_service - INFO - Existing CV processed successfully: test_cv.pdf
2025-10-09 15:14:54,977 - app.routes.cv_organized - INFO - ✅ Background: CV saved as structured JSON: user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
🔍 [DEBUG] _parse_to_structured_format called with user: True
INFO:     127.0.0.1:65318 - "POST /api/cv/save-for-analysis/test_cv.pdf HTTP/1.1" 200 OK
INFO:     127.0.0.1:65333 - "OPTIONS /api/cv/content/test_cv.pdf HTTP/1.1" 200 OK
2025-10-09 15:14:54,986 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:14:55,015 - app.routes.cv_simple - INFO - CV content extracted: test_cv.pdf (477 characters)
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
INFO:     127.0.0.1:65318 - "GET /api/cv/content/test_cv.pdf HTTP/1.1" 200 OK
INFO:     127.0.0.1:65377 - "OPTIONS /api/cv/save-for-analysis/maheshwor_tiwari.pdf HTTP/1.1" 200 OK
2025-10-09 15:15:29,300 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:15:29,830 - app.modules.cv.preview - INFO - CV content extracted: maheshwor_tiwari.pdf (4864 characters)
2025-10-09 15:15:29,831 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:15:29,831 - app.routes.cv_organized - INFO - CV saved as text: user/simran@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 15:15:29,832 - app.routes.cv_organized - INFO - Processing maheshwor_tiwari.pdf for structured CV format (background)...
2025-10-09 15:15:29,832 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:15:29,832 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:15:30,271 - app.services.enhanced_cv_upload_service - INFO - Text extracted successfully: 4864 characters
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
2025-10-09 15:15:30,299 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:15:30,299 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:15:30,300 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 15:15:30,300 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 15:15:30,300 INFO sqlalchemy.engine.Engine [cached since 39.69s ago] {'email_1': 'simran@gmail.com', 'param_1': 1}
2025-10-09 15:15:30,300 - sqlalchemy.engine.Engine - INFO - [cached since 39.69s ago] {'email_1': 'simran@gmail.com', 'param_1': 1}
2025-10-09 15:15:30,338 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:15:30,338 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:15:30,359 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user simran@gmail.com
2025-10-09 15:15:30,360 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Before initialization:
2025-10-09 15:15:30,360 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 15:15:30,361 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:15:30,361 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:15:30,361 - app.ai.ai_service - INFO - - Cached providers for user: ['openai']
2025-10-09 15:15:30,361 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Using cached providers for user simran@gmail.com
2025-10-09 15:15:30,362 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] After initialization:
2025-10-09 15:15:30,362 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 15:15:30,362 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:15:30,362 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:15:30,363 - app.services.enhanced_cv_upload_service - INFO - 🔄 [CV_UPLOAD] Initialized AI service for user simran@gmail.com
2025-10-09 15:15:30,363 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:15:30,363 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] Checking user parameter: True
2025-10-09 15:15:30,363 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] User email: simran@gmail.com
2025-10-09 15:15:30,363 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] About to initialize AI service...
2025-10-09 15:15:30,363 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user simran@gmail.com
2025-10-09 15:15:30,363 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Before initialization:
2025-10-09 15:15:30,364 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 15:15:30,364 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:15:30,364 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:15:30,364 - app.ai.ai_service - INFO - - Cached providers for user: ['openai']
2025-10-09 15:15:30,364 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Using cached providers for user simran@gmail.com
2025-10-09 15:15:30,364 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] After initialization:
2025-10-09 15:15:30,365 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 15:15:30,365 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:15:30,365 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:15:30,366 - app.services.enhanced_cv_upload_service - INFO - 🔄 [CV_UPLOAD] Initialized AI service for user simran@gmail.com
2025-10-09 15:15:30,366 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:15:30,366 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 15:15:30,366 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 15:15:30,367 - app.ai.ai_service - INFO - - Prompt length: 10449
2025-10-09 15:15:30,367 - app.ai.ai_service - INFO - - System prompt length: 348
2025-10-09 15:15:30,367 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 15:15:30,367 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 15:15:30,368 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 15:15:30,368 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:15:30,369 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:15:30,369 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:15:30,369 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:15:31,000 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:15:31,162 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:15:31,162 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:15:31,163 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:15:31,163 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 15:15:53,949 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 15:15:53,963 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:15:53,963 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:15:53,964 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:15:53,964 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:15:55,343 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:15:55,619 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:15:55,619 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:15:55,620 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:15:55,620 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:15:55,620 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:15:55,620 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:15:55,620 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:15:56,161 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:15:56,172 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:15:56,172 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:15:56,172 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:15:56,172 - app.services.structured_cv_parser - INFO - Successfully parsed CV using gpt-3.5-turbo
2025-10-09 15:15:56,173 - app.services.enhanced_cv_upload_service - INFO - CV parsed from raw text content
2025-10-09 15:15:56,176 - app.services.structured_cv_parser - INFO - Successfully saved structured CV to user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 15:15:56,176 - app.services.enhanced_cv_upload_service - INFO - Structured CV saved as original_cv.json: user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json (replaced existing)
2025-10-09 15:15:56,176 - app.services.enhanced_cv_upload_service - INFO - Existing CV processed successfully: maheshwor_tiwari.pdf
2025-10-09 15:15:56,176 - app.routes.cv_organized - INFO - ✅ Background: CV saved as structured JSON: user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
🔍 [DEBUG] _parse_to_structured_format called with user: True
INFO:     127.0.0.1:65379 - "POST /api/cv/save-for-analysis/maheshwor_tiwari.pdf HTTP/1.1" 200 OK
INFO:     127.0.0.1:65377 - "OPTIONS /api/cv/content/maheshwor_tiwari.pdf HTTP/1.1" 200 OK
2025-10-09 15:15:56,182 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:15:56,542 - app.routes.cv_simple - INFO - CV content extracted: maheshwor_tiwari.pdf (4864 characters)
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
INFO:     127.0.0.1:65379 - "GET /api/cv/content/maheshwor_tiwari.pdf HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'app/routes/cv_organized.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 15:20:56,292 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [77003]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [82135]
INFO:     Waiting for application startup.
2025-10-09 15:21:01,702 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 15:21:02,070 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 15:21:02,070 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 15:21:02,070 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:21:02,070 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:21:02,109 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 15:21:02,109 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 15:21:02,109 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:21:02,109 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:21:02,147 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 15:21:02,147 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 15:21:02,149 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:21:02,149 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:21:02,190 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:21:02,190 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:21:02,190 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 15:21:02,190 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 15:21:02,190 INFO sqlalchemy.engine.Engine [generated in 0.00063s] {}
2025-10-09 15:21:02,190 - sqlalchemy.engine.Engine - INFO - [generated in 0.00063s] {}
2025-10-09 15:21:02,227 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:21:02,227 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:21:02,257 - app.database - INFO - Database connection successful
2025-10-09 15:21:02,257 - app.main - INFO - ✅ Database connection successful
2025-10-09 15:21:02,278 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:21:02,278 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:21:02,288 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:21:02,288 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:21:02,288 INFO sqlalchemy.engine.Engine [generated in 0.00097s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:21:02,288 - sqlalchemy.engine.Engine - INFO - [generated in 0.00097s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:21:02,329 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:21:02,329 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:21:02,329 INFO sqlalchemy.engine.Engine [cached since 0.04201s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:21:02,329 - sqlalchemy.engine.Engine - INFO - [cached since 0.04201s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:21:02,353 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:21:02,353 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:21:02,354 INFO sqlalchemy.engine.Engine [cached since 0.06619s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:21:02,354 - sqlalchemy.engine.Engine - INFO - [cached since 0.06619s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:21:02,377 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:21:02,377 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:21:02,377 INFO sqlalchemy.engine.Engine [cached since 0.08962s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:21:02,377 - sqlalchemy.engine.Engine - INFO - [cached since 0.08962s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:21:02,403 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:21:02,403 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:21:02,404 INFO sqlalchemy.engine.Engine [cached since 0.1162s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:21:02,404 - sqlalchemy.engine.Engine - INFO - [cached since 0.1162s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:21:02,428 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:21:02,428 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:21:02,428 INFO sqlalchemy.engine.Engine [cached since 0.1406s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:21:02,428 - sqlalchemy.engine.Engine - INFO - [cached since 0.1406s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:21:02,451 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:21:02,451 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:21:02,452 INFO sqlalchemy.engine.Engine [cached since 0.1643s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:21:02,452 - sqlalchemy.engine.Engine - INFO - [cached since 0.1643s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:21:02,478 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:21:02,478 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:21:02,478 INFO sqlalchemy.engine.Engine [cached since 0.1908s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:21:02,478 - sqlalchemy.engine.Engine - INFO - [cached since 0.1908s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:21:02,504 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:21:02,504 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:21:02,504 INFO sqlalchemy.engine.Engine [cached since 0.2167s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:21:02,504 - sqlalchemy.engine.Engine - INFO - [cached since 0.2167s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:21:02,527 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:21:02,527 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:21:02,527 INFO sqlalchemy.engine.Engine [cached since 0.2401s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:21:02,527 - sqlalchemy.engine.Engine - INFO - [cached since 0.2401s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:21:02,551 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:21:02,551 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:21:02,552 INFO sqlalchemy.engine.Engine [cached since 0.2643s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:21:02,552 - sqlalchemy.engine.Engine - INFO - [cached since 0.2643s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:21:02,572 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 15:21:02,572 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 15:21:02,590 - app.database - INFO - Database tables created successfully
2025-10-09 15:21:02,590 - app.main - INFO - ✅ Database tables ready
2025-10-09 15:21:02,590 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 15:21:02,591 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/routes/cv_organized.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 15:21:03,796 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [82135]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [82173]
INFO:     Waiting for application startup.
2025-10-09 15:21:07,828 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 15:21:08,092 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 15:21:08,092 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 15:21:08,092 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:21:08,092 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:21:08,142 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 15:21:08,142 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 15:21:08,142 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:21:08,142 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:21:08,182 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 15:21:08,182 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 15:21:08,183 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:21:08,183 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:21:08,258 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:21:08,258 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:21:08,260 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 15:21:08,260 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 15:21:08,260 INFO sqlalchemy.engine.Engine [generated in 0.00227s] {}
2025-10-09 15:21:08,260 - sqlalchemy.engine.Engine - INFO - [generated in 0.00227s] {}
2025-10-09 15:21:08,292 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:21:08,292 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:21:08,312 - app.database - INFO - Database connection successful
2025-10-09 15:21:08,312 - app.main - INFO - ✅ Database connection successful
2025-10-09 15:21:08,328 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:21:08,328 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:21:08,335 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:21:08,335 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:21:08,335 INFO sqlalchemy.engine.Engine [generated in 0.00048s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:21:08,335 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:21:08,371 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:21:08,371 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:21:08,371 INFO sqlalchemy.engine.Engine [cached since 0.0364s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:21:08,371 - sqlalchemy.engine.Engine - INFO - [cached since 0.0364s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:21:08,393 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:21:08,393 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:21:08,393 INFO sqlalchemy.engine.Engine [cached since 0.05884s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:21:08,393 - sqlalchemy.engine.Engine - INFO - [cached since 0.05884s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:21:08,416 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:21:08,416 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:21:08,416 INFO sqlalchemy.engine.Engine [cached since 0.08144s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:21:08,416 - sqlalchemy.engine.Engine - INFO - [cached since 0.08144s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:21:08,438 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:21:08,438 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:21:08,438 INFO sqlalchemy.engine.Engine [cached since 0.1038s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:21:08,438 - sqlalchemy.engine.Engine - INFO - [cached since 0.1038s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:21:08,462 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:21:08,462 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:21:08,462 INFO sqlalchemy.engine.Engine [cached since 0.1274s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:21:08,462 - sqlalchemy.engine.Engine - INFO - [cached since 0.1274s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:21:08,485 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:21:08,485 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:21:08,485 INFO sqlalchemy.engine.Engine [cached since 0.1507s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:21:08,485 - sqlalchemy.engine.Engine - INFO - [cached since 0.1507s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:21:08,514 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:21:08,514 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:21:08,514 INFO sqlalchemy.engine.Engine [cached since 0.1796s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:21:08,514 - sqlalchemy.engine.Engine - INFO - [cached since 0.1796s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:21:08,532 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:21:08,532 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:21:08,532 INFO sqlalchemy.engine.Engine [cached since 0.1976s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:21:08,532 - sqlalchemy.engine.Engine - INFO - [cached since 0.1976s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:21:08,555 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:21:08,555 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:21:08,555 INFO sqlalchemy.engine.Engine [cached since 0.2209s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:21:08,555 - sqlalchemy.engine.Engine - INFO - [cached since 0.2209s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:21:08,574 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:21:08,574 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:21:08,574 INFO sqlalchemy.engine.Engine [cached since 0.2394s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:21:08,574 - sqlalchemy.engine.Engine - INFO - [cached since 0.2394s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:21:08,597 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 15:21:08,597 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 15:21:08,612 - app.database - INFO - Database tables created successfully
2025-10-09 15:21:08,612 - app.main - INFO - ✅ Database tables ready
2025-10-09 15:21:08,612 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 15:21:08,613 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
INFO:     127.0.0.1:49320 - "POST /api/cv-organized/save-for-analysis/maheshwor_tiwari.pdf HTTP/1.1" 404 Not Found
2025-10-09 15:21:34,532 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:21:34,802 - app.modules.cv.preview - INFO - CV content extracted: maheshwor_tiwari.pdf (4864 characters)
2025-10-09 15:21:34,803 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:21:34,804 - app.routes.cv_organized - INFO - CV saved as text: user/simran@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 15:21:34,804 - app.routes.cv_organized - INFO - Processing maheshwor_tiwari.pdf for structured CV format (background)...
2025-10-09 15:21:34,805 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:21:34,805 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:21:34,805 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] Checking user parameter: True
2025-10-09 15:21:34,805 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] User email: simran@gmail.com
2025-10-09 15:21:34,805 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] About to initialize AI service...
2025-10-09 15:21:34,806 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user simran@gmail.com
2025-10-09 15:21:34,806 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Before initialization:
2025-10-09 15:21:34,806 - app.ai.ai_service - INFO - - Current providers: []
2025-10-09 15:21:34,806 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 15:21:34,806 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 15:21:34,806 - app.ai.ai_service - INFO - - Cached providers for user: []
2025-10-09 15:21:34,806 - app.ai.ai_service - INFO - 🔄 [AI_SERVICE] Initializing new providers for user simran@gmail.com
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
🔍 [DEBUG] _parse_to_structured_format called with user: True
2025-10-09 15:21:34,841 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:21:34,841 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:21:34,844 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:21:34,844 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:21:34,844 INFO sqlalchemy.engine.Engine [generated in 0.00037s] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 15:21:34,844 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 15:21:34,892 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:21:34,892 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:21:35,645 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:21:36,161 - app.ai.ai_service - INFO - ✅ Initialized openai provider with model gpt-4o for user simran@gmail.com
2025-10-09 15:21:36,229 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:21:36,229 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:21:36,230 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:21:36,230 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:21:36,231 INFO sqlalchemy.engine.Engine [cached since 1.387s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 15:21:36,231 - sqlalchemy.engine.Engine - INFO - [cached since 1.387s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 15:21:36,279 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:21:36,279 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:21:36,296 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user simran@gmail.com and provider anthropic
2025-10-09 15:21:36,314 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:21:36,314 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:21:36,315 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:21:36,315 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:21:36,315 INFO sqlalchemy.engine.Engine [cached since 1.471s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 15:21:36,315 - sqlalchemy.engine.Engine - INFO - [cached since 1.471s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 15:21:36,357 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:21:36,357 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:21:36,379 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user simran@gmail.com and provider deepseek
2025-10-09 15:21:36,379 - app.ai.ai_service - INFO - 💾 [AI_SERVICE] Cached 1 providers for user simran@gmail.com
2025-10-09 15:21:36,379 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] After initialization:
2025-10-09 15:21:36,379 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 15:21:36,380 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 15:21:36,380 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 15:21:36,380 - app.services.enhanced_cv_upload_service - INFO - 🔄 [CV_UPLOAD] Initialized AI service for user simran@gmail.com
2025-10-09 15:21:36,380 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 15:21:36,380 - app.ai.ai_service - INFO - ✅ Switched to openai provider with model gpt-3.5-turbo
2025-10-09 15:21:36,380 - app.services.enhanced_cv_upload_service - INFO - ✅ [CV_UPLOAD] Auto-selected provider: openai
2025-10-09 15:21:36,380 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 15:21:36,381 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 15:21:36,381 - app.ai.ai_service - INFO - - Prompt length: 10449
2025-10-09 15:21:36,381 - app.ai.ai_service - INFO - - System prompt length: 348
2025-10-09 15:21:36,381 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 15:21:36,381 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 15:21:36,381 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 15:21:36,381 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:21:36,381 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:21:36,382 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:21:36,382 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:21:36,880 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:21:37,067 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:21:37,067 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:21:37,067 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:21:37,067 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 15:21:49,136 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 15:21:49,144 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:21:49,144 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:21:49,144 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:21:49,144 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:21:49,670 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:21:49,807 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:21:49,807 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:21:49,807 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:21:49,807 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:21:49,808 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:21:49,808 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:21:49,808 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:21:50,363 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:21:50,443 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:21:50,459 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:21:50,459 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:21:50,459 - app.services.structured_cv_parser - INFO - Successfully parsed CV using gpt-3.5-turbo
2025-10-09 15:21:50,462 - app.services.enhanced_cv_upload_service - INFO - CV parsed from raw text content
2025-10-09 15:21:50,463 - app.routes.cv_organized - WARNING - ⚠️ Background: Failed to save structured CV: Unknown error
INFO:     127.0.0.1:49340 - "POST /api/cv/save-for-analysis/maheshwor_tiwari.pdf HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'app/routes/cv_organized.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 15:22:04,070 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [82173]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [84986]
INFO:     Waiting for application startup.
2025-10-09 15:22:08,600 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 15:22:08,887 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 15:22:08,887 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 15:22:08,887 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:22:08,887 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:22:08,922 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 15:22:08,922 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 15:22:08,922 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:22:08,922 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:22:08,958 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 15:22:08,958 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 15:22:08,959 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:22:08,959 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:22:08,998 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:22:08,998 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:22:08,998 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 15:22:08,998 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 15:22:08,998 INFO sqlalchemy.engine.Engine [generated in 0.00059s] {}
2025-10-09 15:22:08,998 - sqlalchemy.engine.Engine - INFO - [generated in 0.00059s] {}
2025-10-09 15:22:09,029 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:22:09,029 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:22:09,045 - app.database - INFO - Database connection successful
2025-10-09 15:22:09,045 - app.main - INFO - ✅ Database connection successful
2025-10-09 15:22:09,061 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:22:09,061 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:22:09,066 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:22:09,066 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:22:09,067 INFO sqlalchemy.engine.Engine [generated in 0.00047s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:22:09,067 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:22:09,104 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:22:09,104 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:22:09,104 INFO sqlalchemy.engine.Engine [cached since 0.03821s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:22:09,104 - sqlalchemy.engine.Engine - INFO - [cached since 0.03821s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:22:09,126 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:22:09,126 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:22:09,126 INFO sqlalchemy.engine.Engine [cached since 0.05989s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:22:09,126 - sqlalchemy.engine.Engine - INFO - [cached since 0.05989s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:22:09,149 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:22:09,149 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:22:09,149 INFO sqlalchemy.engine.Engine [cached since 0.08333s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:22:09,149 - sqlalchemy.engine.Engine - INFO - [cached since 0.08333s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:22:09,168 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:22:09,168 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:22:09,169 INFO sqlalchemy.engine.Engine [cached since 0.1028s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:22:09,169 - sqlalchemy.engine.Engine - INFO - [cached since 0.1028s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:22:09,191 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:22:09,191 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:22:09,191 INFO sqlalchemy.engine.Engine [cached since 0.1249s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:22:09,191 - sqlalchemy.engine.Engine - INFO - [cached since 0.1249s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:22:09,213 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:22:09,213 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:22:09,213 INFO sqlalchemy.engine.Engine [cached since 0.1472s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:22:09,213 - sqlalchemy.engine.Engine - INFO - [cached since 0.1472s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:22:09,236 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:22:09,236 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:22:09,237 INFO sqlalchemy.engine.Engine [cached since 0.1708s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:22:09,237 - sqlalchemy.engine.Engine - INFO - [cached since 0.1708s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:22:09,259 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:22:09,259 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:22:09,259 INFO sqlalchemy.engine.Engine [cached since 0.1932s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:22:09,259 - sqlalchemy.engine.Engine - INFO - [cached since 0.1932s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:22:09,277 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:22:09,277 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:22:09,277 INFO sqlalchemy.engine.Engine [cached since 0.2113s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:22:09,277 - sqlalchemy.engine.Engine - INFO - [cached since 0.2113s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:22:09,299 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:22:09,299 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:22:09,299 INFO sqlalchemy.engine.Engine [cached since 0.233s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:22:09,299 - sqlalchemy.engine.Engine - INFO - [cached since 0.233s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:22:09,321 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 15:22:09,321 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 15:22:09,336 - app.database - INFO - Database tables created successfully
2025-10-09 15:22:09,337 - app.main - INFO - ✅ Database tables ready
2025-10-09 15:22:09,337 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 15:22:09,337 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/routes/cv_organized.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 15:23:06,529 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [84986]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [85120]
INFO:     Waiting for application startup.
2025-10-09 15:23:09,921 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 15:23:10,216 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 15:23:10,216 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 15:23:10,216 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:23:10,216 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:23:10,252 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 15:23:10,252 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 15:23:10,252 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:23:10,252 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:23:10,290 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 15:23:10,290 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 15:23:10,291 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:23:10,291 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:23:10,335 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:23:10,335 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:23:10,335 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 15:23:10,335 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 15:23:10,335 INFO sqlalchemy.engine.Engine [generated in 0.00058s] {}
2025-10-09 15:23:10,335 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] {}
2025-10-09 15:23:10,379 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:23:10,379 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:23:10,395 - app.database - INFO - Database connection successful
2025-10-09 15:23:10,396 - app.main - INFO - ✅ Database connection successful
2025-10-09 15:23:10,415 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:23:10,415 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:23:10,420 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:23:10,420 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:23:10,420 INFO sqlalchemy.engine.Engine [generated in 0.00040s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:23:10,420 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:23:10,464 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:23:10,464 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:23:10,464 INFO sqlalchemy.engine.Engine [cached since 0.04469s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:23:10,464 - sqlalchemy.engine.Engine - INFO - [cached since 0.04469s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:23:10,488 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:23:10,488 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:23:10,488 INFO sqlalchemy.engine.Engine [cached since 0.06895s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:23:10,488 - sqlalchemy.engine.Engine - INFO - [cached since 0.06895s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:23:10,510 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:23:10,510 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:23:10,510 INFO sqlalchemy.engine.Engine [cached since 0.09074s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:23:10,510 - sqlalchemy.engine.Engine - INFO - [cached since 0.09074s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:23:10,532 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:23:10,532 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:23:10,532 INFO sqlalchemy.engine.Engine [cached since 0.1125s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:23:10,532 - sqlalchemy.engine.Engine - INFO - [cached since 0.1125s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:23:10,556 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:23:10,556 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:23:10,556 INFO sqlalchemy.engine.Engine [cached since 0.1368s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:23:10,556 - sqlalchemy.engine.Engine - INFO - [cached since 0.1368s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:23:10,579 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:23:10,579 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:23:10,580 INFO sqlalchemy.engine.Engine [cached since 0.1604s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:23:10,580 - sqlalchemy.engine.Engine - INFO - [cached since 0.1604s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:23:10,598 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:23:10,598 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:23:10,598 INFO sqlalchemy.engine.Engine [cached since 0.1786s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:23:10,598 - sqlalchemy.engine.Engine - INFO - [cached since 0.1786s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:23:10,620 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:23:10,620 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:23:10,620 INFO sqlalchemy.engine.Engine [cached since 0.2004s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:23:10,620 - sqlalchemy.engine.Engine - INFO - [cached since 0.2004s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:23:10,642 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:23:10,642 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:23:10,643 INFO sqlalchemy.engine.Engine [cached since 0.2232s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:23:10,643 - sqlalchemy.engine.Engine - INFO - [cached since 0.2232s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:23:10,663 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:23:10,663 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:23:10,664 INFO sqlalchemy.engine.Engine [cached since 0.2443s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:23:10,664 - sqlalchemy.engine.Engine - INFO - [cached since 0.2443s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:23:10,686 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 15:23:10,686 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 15:23:10,706 - app.database - INFO - Database tables created successfully
2025-10-09 15:23:10,707 - app.main - INFO - ✅ Database tables ready
2025-10-09 15:23:10,707 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 15:23:10,707 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
2025-10-09 15:24:32,470 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:24:32,575 - app.modules.cv.preview - INFO - CV content extracted: test_cv.pdf (477 characters)
2025-10-09 15:24:32,575 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:24:32,576 - app.routes.cv_organized - INFO - CV saved as text: user/simran@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 15:24:32,577 - app.routes.cv_organized - INFO - Processing test_cv.pdf for structured CV format (background)...
2025-10-09 15:24:32,577 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:24:32,577 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:24:32,577 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] Checking user parameter: True
2025-10-09 15:24:32,578 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] User email: simran@gmail.com
2025-10-09 15:24:32,578 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] About to initialize AI service...
2025-10-09 15:24:32,578 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user simran@gmail.com
2025-10-09 15:24:32,578 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Before initialization:
2025-10-09 15:24:32,578 - app.ai.ai_service - INFO - - Current providers: []
2025-10-09 15:24:32,578 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 15:24:32,578 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 15:24:32,579 - app.ai.ai_service - INFO - - Cached providers for user: []
2025-10-09 15:24:32,579 - app.ai.ai_service - INFO - 🔄 [AI_SERVICE] Initializing new providers for user simran@gmail.com
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
🔍 [DEBUG] _parse_to_structured_format called with user: True
2025-10-09 15:24:32,624 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:24:32,624 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:24:32,638 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:24:32,638 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:24:32,638 INFO sqlalchemy.engine.Engine [generated in 0.00073s] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 15:24:32,638 - sqlalchemy.engine.Engine - INFO - [generated in 0.00073s] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 15:24:32,686 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:24:32,686 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:24:33,800 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:24:33,816 - app.ai.ai_service - INFO - ✅ Initialized openai provider with model gpt-4o for user simran@gmail.com
2025-10-09 15:24:33,842 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:24:33,842 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:24:33,844 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:24:33,844 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:24:33,844 INFO sqlalchemy.engine.Engine [cached since 1.207s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 15:24:33,844 - sqlalchemy.engine.Engine - INFO - [cached since 1.207s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 15:24:33,877 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:24:33,877 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:24:33,893 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user simran@gmail.com and provider anthropic
2025-10-09 15:24:33,911 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:24:33,911 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:24:33,912 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:24:33,912 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:24:33,912 INFO sqlalchemy.engine.Engine [cached since 1.275s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 15:24:33,912 - sqlalchemy.engine.Engine - INFO - [cached since 1.275s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 15:24:33,946 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:24:33,946 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:24:33,964 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user simran@gmail.com and provider deepseek
2025-10-09 15:24:33,964 - app.ai.ai_service - INFO - 💾 [AI_SERVICE] Cached 1 providers for user simran@gmail.com
2025-10-09 15:24:33,965 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] After initialization:
2025-10-09 15:24:33,965 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 15:24:33,965 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 15:24:33,966 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 15:24:33,966 - app.services.enhanced_cv_upload_service - INFO - 🔄 [CV_UPLOAD] Initialized AI service for user simran@gmail.com
2025-10-09 15:24:33,966 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 15:24:33,967 - app.ai.ai_service - INFO - ✅ Switched to openai provider with model gpt-3.5-turbo
2025-10-09 15:24:33,967 - app.services.enhanced_cv_upload_service - INFO - ✅ [CV_UPLOAD] Auto-selected provider: openai
2025-10-09 15:24:33,967 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 15:24:33,967 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 15:24:33,967 - app.ai.ai_service - INFO - - Prompt length: 6062
2025-10-09 15:24:33,968 - app.ai.ai_service - INFO - - System prompt length: 348
2025-10-09 15:24:33,968 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 15:24:33,968 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 15:24:33,968 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 15:24:33,968 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:24:33,968 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:24:33,968 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:24:33,968 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:24:34,554 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:24:34,592 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:24:34,592 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:24:34,593 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:24:34,593 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 15:24:40,726 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 15:24:40,738 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:24:40,738 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:24:40,738 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:24:40,739 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:24:41,577 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:24:41,594 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:24:41,594 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:24:41,594 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:24:41,595 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:24:41,595 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:24:41,595 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:24:41,596 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:24:42,183 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:24:42,255 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:24:42,255 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:24:42,255 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:24:42,256 - app.services.structured_cv_parser - INFO - Successfully parsed CV using gpt-3.5-turbo
2025-10-09 15:24:42,257 - app.services.enhanced_cv_upload_service - INFO - CV parsed from raw text content
2025-10-09 15:24:42,258 - app.routes.cv_organized - WARNING - ⚠️ Background: Failed to save structured CV: Unknown error
INFO:     127.0.0.1:49478 - "POST /api/cv/save-for-analysis/test_cv.pdf HTTP/1.1" 200 OK
2025-10-09 15:24:42,264 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:24:42,288 - app.routes.cv_simple - INFO - CV content extracted: test_cv.pdf (477 characters)
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
INFO:     127.0.0.1:49482 - "GET /api/cv/content/test_cv.pdf HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'app/routes/cv_organized.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 15:29:29,997 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [85120]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [87934]
INFO:     Waiting for application startup.
2025-10-09 15:29:35,693 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 15:29:36,035 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 15:29:36,035 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 15:29:36,035 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:29:36,035 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:29:36,081 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 15:29:36,081 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 15:29:36,082 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:29:36,082 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:29:36,122 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 15:29:36,122 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 15:29:36,122 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:29:36,122 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:29:36,165 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:29:36,165 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:29:36,165 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 15:29:36,165 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 15:29:36,165 INFO sqlalchemy.engine.Engine [generated in 0.00057s] {}
2025-10-09 15:29:36,165 - sqlalchemy.engine.Engine - INFO - [generated in 0.00057s] {}
2025-10-09 15:29:36,199 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:29:36,199 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:29:36,217 - app.database - INFO - Database connection successful
2025-10-09 15:29:36,218 - app.main - INFO - ✅ Database connection successful
2025-10-09 15:29:36,235 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:29:36,235 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:29:36,240 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:29:36,240 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:29:36,240 INFO sqlalchemy.engine.Engine [generated in 0.00042s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:29:36,240 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:29:36,277 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:29:36,277 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:29:36,277 INFO sqlalchemy.engine.Engine [cached since 0.03697s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:29:36,277 - sqlalchemy.engine.Engine - INFO - [cached since 0.03697s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:29:36,298 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:29:36,298 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:29:36,299 INFO sqlalchemy.engine.Engine [cached since 0.05874s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:29:36,299 - sqlalchemy.engine.Engine - INFO - [cached since 0.05874s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:29:36,322 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:29:36,322 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:29:36,322 INFO sqlalchemy.engine.Engine [cached since 0.082s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:29:36,322 - sqlalchemy.engine.Engine - INFO - [cached since 0.082s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:29:36,345 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:29:36,345 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:29:36,345 INFO sqlalchemy.engine.Engine [cached since 0.1053s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:29:36,345 - sqlalchemy.engine.Engine - INFO - [cached since 0.1053s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:29:36,368 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:29:36,368 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:29:36,369 INFO sqlalchemy.engine.Engine [cached since 0.1287s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:29:36,369 - sqlalchemy.engine.Engine - INFO - [cached since 0.1287s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:29:36,393 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:29:36,393 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:29:36,394 INFO sqlalchemy.engine.Engine [cached since 0.1539s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:29:36,394 - sqlalchemy.engine.Engine - INFO - [cached since 0.1539s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:29:36,417 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:29:36,417 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:29:36,418 INFO sqlalchemy.engine.Engine [cached since 0.1776s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:29:36,418 - sqlalchemy.engine.Engine - INFO - [cached since 0.1776s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:29:36,441 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:29:36,441 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:29:36,441 INFO sqlalchemy.engine.Engine [cached since 0.2012s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:29:36,441 - sqlalchemy.engine.Engine - INFO - [cached since 0.2012s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:29:36,464 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:29:36,464 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:29:36,464 INFO sqlalchemy.engine.Engine [cached since 0.224s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:29:36,464 - sqlalchemy.engine.Engine - INFO - [cached since 0.224s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:29:36,487 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:29:36,487 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:29:36,487 INFO sqlalchemy.engine.Engine [cached since 0.2472s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:29:36,487 - sqlalchemy.engine.Engine - INFO - [cached since 0.2472s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:29:36,511 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 15:29:36,511 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 15:29:36,528 - app.database - INFO - Database tables created successfully
2025-10-09 15:29:36,529 - app.main - INFO - ✅ Database tables ready
2025-10-09 15:29:36,529 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 15:29:36,529 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
2025-10-09 15:29:38,289 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:29:38,387 - app.modules.cv.preview - INFO - CV content extracted: test_cv.pdf (477 characters)
2025-10-09 15:29:38,387 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:29:38,388 - app.routes.cv_organized - INFO - CV saved as text: user/simran@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 15:29:38,388 - app.routes.cv_organized - INFO - Processing test_cv.pdf for structured CV format (background)...
2025-10-09 15:29:38,388 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:29:38,389 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:29:38,389 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] Checking user parameter: True
2025-10-09 15:29:38,389 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] User email: simran@gmail.com
2025-10-09 15:29:38,389 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] About to initialize AI service...
2025-10-09 15:29:38,389 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user simran@gmail.com
2025-10-09 15:29:38,389 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Before initialization:
2025-10-09 15:29:38,390 - app.ai.ai_service - INFO - - Current providers: []
2025-10-09 15:29:38,390 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 15:29:38,390 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 15:29:38,390 - app.ai.ai_service - INFO - - Cached providers for user: []
2025-10-09 15:29:38,390 - app.ai.ai_service - INFO - 🔄 [AI_SERVICE] Initializing new providers for user simran@gmail.com
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
🔍 [DEBUG] _parse_to_structured_format called with user: True
2025-10-09 15:29:38,433 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:29:38,433 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:29:38,437 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:29:38,437 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:29:38,438 INFO sqlalchemy.engine.Engine [generated in 0.00047s] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 15:29:38,438 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 15:29:38,484 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:29:38,484 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:29:40,791 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:29:40,803 - app.ai.ai_service - INFO - ✅ Initialized openai provider with model gpt-4o for user simran@gmail.com
2025-10-09 15:29:40,823 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:29:40,823 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:29:40,824 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:29:40,824 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:29:40,824 INFO sqlalchemy.engine.Engine [cached since 2.387s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 15:29:40,824 - sqlalchemy.engine.Engine - INFO - [cached since 2.387s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 15:29:40,859 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:29:40,859 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:29:40,877 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user simran@gmail.com and provider anthropic
2025-10-09 15:29:40,895 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:29:40,895 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:29:40,896 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:29:40,896 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:29:40,896 INFO sqlalchemy.engine.Engine [cached since 2.459s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 15:29:40,896 - sqlalchemy.engine.Engine - INFO - [cached since 2.459s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 15:29:40,932 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:29:40,932 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:29:40,949 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user simran@gmail.com and provider deepseek
2025-10-09 15:29:40,949 - app.ai.ai_service - INFO - 💾 [AI_SERVICE] Cached 1 providers for user simran@gmail.com
2025-10-09 15:29:40,949 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] After initialization:
2025-10-09 15:29:40,949 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 15:29:40,950 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 15:29:40,950 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 15:29:40,950 - app.services.enhanced_cv_upload_service - INFO - 🔄 [CV_UPLOAD] Initialized AI service for user simran@gmail.com
2025-10-09 15:29:40,950 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 15:29:40,950 - app.ai.ai_service - INFO - ✅ Switched to openai provider with model gpt-3.5-turbo
2025-10-09 15:29:40,951 - app.services.enhanced_cv_upload_service - INFO - ✅ [CV_UPLOAD] Auto-selected provider: openai
2025-10-09 15:29:40,951 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 15:29:40,951 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 15:29:40,951 - app.ai.ai_service - INFO - - Prompt length: 6062
2025-10-09 15:29:40,951 - app.ai.ai_service - INFO - - System prompt length: 348
2025-10-09 15:29:40,952 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 15:29:40,952 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 15:29:40,952 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 15:29:40,952 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:29:40,952 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:29:40,952 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:29:40,952 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:29:42,940 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:29:42,953 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:29:42,954 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:29:42,954 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:29:42,954 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 15:29:48,058 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 15:29:48,073 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:29:48,073 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:29:48,073 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:29:48,074 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:29:48,442 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:29:48,455 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:29:48,455 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:29:48,456 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:29:48,456 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:29:48,456 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:29:48,456 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:29:48,456 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:29:48,856 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:29:48,866 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:29:48,867 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:29:48,867 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:29:48,867 - app.services.structured_cv_parser - INFO - Successfully parsed CV using gpt-3.5-turbo
2025-10-09 15:29:48,869 - app.services.enhanced_cv_upload_service - INFO - CV parsed from raw text content
2025-10-09 15:29:48,870 - app.routes.cv_organized - WARNING - ⚠️ Background: Failed to save structured CV: Unknown error
2025-10-09 15:29:48,870 - app.routes.cv_organized - WARNING - ⚠️ Background: Processing result: {'personal_information': {'name': 'Maheshwor Tiwari', 'phone': '+61-123-456-789', 'email': 'maheshwor.tiwari@example.com', 'location': 'Sydney, NSW, Australia', 'linkedin': 'linkedin.com/in/maheshwor-tiwari', 'github': 'github.com/maheshwor-tiwari', 'portfolio_links': {'blogs': None, 'dashboard_portfolio': None, 'website': None}, 'residency_status': None, 'open_to': None}, 'career_profile': {'summary': 'Experienced Data Analyst with expertise in Python and SQL'}, 'skills': {'technical_skills': ['Python', 'SQL', 'Power BI', 'Data Analysis', 'Machine Learning'], 'key_skills': [], 'soft_skills': [], 'domain_expertise': []}, 'education': [{'degree': 'Master of Data Science', 'institution': 'Charles Darwin University', 'year': None, 'gpa': None, 'relevant_courses': [], 'honors': [], 'location': 'Sydney, Australia'}], 'experience': [{'title': 'Data Analyst', 'company': 'iBuild Building Solutions', 'duration': None, 'location': None, 'responsibilities': []}, {'title': 'Data Insight Analyst', 'company': 'Property Console', 'duration': None, 'location': None, 'responsibilities': []}], 'projects': [], 'certifications': [], 'languages': [], 'awards': [], 'publications': [], 'volunteer_work': [], 'professional_memberships': [], 'unknown_sections': {}, 'original_sections': {'section_headers_found': [], 'parsing_approach': 'content_preserving'}, 'saved_at': '2025-10-09T15:29:48.869508', 'metadata': {'source_filename': 'test_cv.pdf', 'processed_at': '2025-10-09T15:29:48.870165', 'processing_version': '1.0', 'title': '', 'description': '', 'user_id': ''}}
INFO:     127.0.0.1:49783 - "POST /api/cv/save-for-analysis/test_cv.pdf HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'app/routes/cv_organized.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 15:30:05,678 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [87934]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [89479]
INFO:     Waiting for application startup.
2025-10-09 15:30:11,003 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 15:30:11,282 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 15:30:11,282 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 15:30:11,282 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:30:11,282 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:30:11,323 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 15:30:11,323 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 15:30:11,324 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:30:11,324 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:30:11,361 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 15:30:11,361 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 15:30:11,362 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:30:11,362 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:30:11,401 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:30:11,401 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:30:11,402 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 15:30:11,402 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 15:30:11,402 INFO sqlalchemy.engine.Engine [generated in 0.00059s] {}
2025-10-09 15:30:11,402 - sqlalchemy.engine.Engine - INFO - [generated in 0.00059s] {}
2025-10-09 15:30:11,435 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:30:11,435 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:30:11,452 - app.database - INFO - Database connection successful
2025-10-09 15:30:11,453 - app.main - INFO - ✅ Database connection successful
2025-10-09 15:30:11,486 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:30:11,486 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:30:11,492 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:30:11,492 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:30:11,492 INFO sqlalchemy.engine.Engine [generated in 0.00056s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:30:11,492 - sqlalchemy.engine.Engine - INFO - [generated in 0.00056s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:30:11,532 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:30:11,532 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:30:11,532 INFO sqlalchemy.engine.Engine [cached since 0.04075s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:30:11,532 - sqlalchemy.engine.Engine - INFO - [cached since 0.04075s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:30:11,556 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:30:11,556 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:30:11,556 INFO sqlalchemy.engine.Engine [cached since 0.0646s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:30:11,556 - sqlalchemy.engine.Engine - INFO - [cached since 0.0646s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:30:11,575 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:30:11,575 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:30:11,575 INFO sqlalchemy.engine.Engine [cached since 0.08335s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:30:11,575 - sqlalchemy.engine.Engine - INFO - [cached since 0.08335s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:30:11,598 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:30:11,598 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:30:11,598 INFO sqlalchemy.engine.Engine [cached since 0.1065s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:30:11,598 - sqlalchemy.engine.Engine - INFO - [cached since 0.1065s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:30:11,621 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:30:11,621 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:30:11,622 INFO sqlalchemy.engine.Engine [cached since 0.1299s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:30:11,622 - sqlalchemy.engine.Engine - INFO - [cached since 0.1299s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:30:11,639 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:30:11,639 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:30:11,640 INFO sqlalchemy.engine.Engine [cached since 0.1481s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:30:11,640 - sqlalchemy.engine.Engine - INFO - [cached since 0.1481s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:30:11,663 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:30:11,663 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:30:11,663 INFO sqlalchemy.engine.Engine [cached since 0.1718s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:30:11,663 - sqlalchemy.engine.Engine - INFO - [cached since 0.1718s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:30:11,687 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:30:11,687 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:30:11,687 INFO sqlalchemy.engine.Engine [cached since 0.1954s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:30:11,687 - sqlalchemy.engine.Engine - INFO - [cached since 0.1954s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:30:11,712 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:30:11,712 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:30:11,712 INFO sqlalchemy.engine.Engine [cached since 0.2207s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:30:11,712 - sqlalchemy.engine.Engine - INFO - [cached since 0.2207s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:30:11,736 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:30:11,736 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:30:11,736 INFO sqlalchemy.engine.Engine [cached since 0.2446s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:30:11,736 - sqlalchemy.engine.Engine - INFO - [cached since 0.2446s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:30:11,760 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 15:30:11,760 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 15:30:11,782 - app.database - INFO - Database tables created successfully
2025-10-09 15:30:11,782 - app.main - INFO - ✅ Database tables ready
2025-10-09 15:30:11,782 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 15:30:11,782 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
2025-10-09 15:30:13,992 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:30:14,087 - app.modules.cv.preview - INFO - CV content extracted: test_cv.pdf (477 characters)
2025-10-09 15:30:14,088 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:30:14,088 - app.routes.cv_organized - INFO - CV saved as text: user/simran@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 15:30:14,089 - app.routes.cv_organized - INFO - Processing test_cv.pdf for structured CV format (background)...
2025-10-09 15:30:14,089 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:30:14,089 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:30:14,089 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] Checking user parameter: True
2025-10-09 15:30:14,089 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] User email: simran@gmail.com
2025-10-09 15:30:14,090 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] About to initialize AI service...
2025-10-09 15:30:14,090 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user simran@gmail.com
2025-10-09 15:30:14,090 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Before initialization:
2025-10-09 15:30:14,090 - app.ai.ai_service - INFO - - Current providers: []
2025-10-09 15:30:14,090 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 15:30:14,090 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 15:30:14,090 - app.ai.ai_service - INFO - - Cached providers for user: []
2025-10-09 15:30:14,090 - app.ai.ai_service - INFO - 🔄 [AI_SERVICE] Initializing new providers for user simran@gmail.com
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
🔍 [DEBUG] _parse_to_structured_format called with user: True
2025-10-09 15:30:14,131 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:30:14,131 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:30:14,134 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:30:14,134 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:30:14,134 INFO sqlalchemy.engine.Engine [generated in 0.00035s] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 15:30:14,134 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 15:30:14,179 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:30:14,179 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:30:15,095 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:30:15,313 - app.ai.ai_service - INFO - ✅ Initialized openai provider with model gpt-4o for user simran@gmail.com
2025-10-09 15:30:15,336 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:30:15,336 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:30:15,338 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:30:15,338 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:30:15,338 INFO sqlalchemy.engine.Engine [cached since 1.204s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 15:30:15,338 - sqlalchemy.engine.Engine - INFO - [cached since 1.204s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 15:30:15,380 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:30:15,380 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:30:15,398 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user simran@gmail.com and provider anthropic
2025-10-09 15:30:15,416 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:30:15,416 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:30:15,419 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:30:15,419 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:30:15,419 INFO sqlalchemy.engine.Engine [cached since 1.285s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 15:30:15,419 - sqlalchemy.engine.Engine - INFO - [cached since 1.285s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 15:30:15,602 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:30:15,602 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:30:15,619 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user simran@gmail.com and provider deepseek
2025-10-09 15:30:15,619 - app.ai.ai_service - INFO - 💾 [AI_SERVICE] Cached 1 providers for user simran@gmail.com
2025-10-09 15:30:15,619 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] After initialization:
2025-10-09 15:30:15,620 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 15:30:15,620 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 15:30:15,620 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 15:30:15,620 - app.services.enhanced_cv_upload_service - INFO - 🔄 [CV_UPLOAD] Initialized AI service for user simran@gmail.com
2025-10-09 15:30:15,620 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 15:30:15,620 - app.ai.ai_service - INFO - ✅ Switched to openai provider with model gpt-3.5-turbo
2025-10-09 15:30:15,620 - app.services.enhanced_cv_upload_service - INFO - ✅ [CV_UPLOAD] Auto-selected provider: openai
2025-10-09 15:30:15,621 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 15:30:15,621 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 15:30:15,621 - app.ai.ai_service - INFO - - Prompt length: 6062
2025-10-09 15:30:15,621 - app.ai.ai_service - INFO - - System prompt length: 348
2025-10-09 15:30:15,621 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 15:30:15,621 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 15:30:15,621 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 15:30:15,621 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:30:15,621 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:30:15,622 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:30:15,622 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:30:16,229 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:30:16,238 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:30:16,239 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:30:16,239 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:30:16,239 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 15:30:19,735 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 15:30:19,742 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:30:19,743 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:30:19,743 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:30:19,743 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:30:20,212 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:30:20,332 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:30:20,332 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:30:20,332 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:30:20,332 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:30:20,332 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:30:20,333 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:30:20,333 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:30:20,829 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:30:20,839 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:30:20,839 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:30:20,840 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:30:20,840 - app.services.structured_cv_parser - INFO - Successfully parsed CV using gpt-3.5-turbo
2025-10-09 15:30:20,841 - app.services.enhanced_cv_upload_service - INFO - CV parsed from raw text content
2025-10-09 15:30:20,843 - app.routes.cv_organized - INFO - ✅ Background: CV saved as structured JSON: user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
INFO:     127.0.0.1:49817 - "POST /api/cv/save-for-analysis/test_cv.pdf HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'app/routes/cv_organized.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 15:30:35,289 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [89479]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [90957]
INFO:     Waiting for application startup.
2025-10-09 15:30:40,333 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 15:30:40,614 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 15:30:40,614 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 15:30:40,615 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:30:40,615 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:30:40,654 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 15:30:40,654 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 15:30:40,655 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:30:40,655 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:30:40,693 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 15:30:40,693 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 15:30:40,693 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:30:40,693 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:30:40,734 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:30:40,734 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:30:40,734 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 15:30:40,734 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 15:30:40,734 INFO sqlalchemy.engine.Engine [generated in 0.00058s] {}
2025-10-09 15:30:40,734 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] {}
2025-10-09 15:30:40,766 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:30:40,766 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:30:40,783 - app.database - INFO - Database connection successful
2025-10-09 15:30:40,783 - app.main - INFO - ✅ Database connection successful
2025-10-09 15:30:40,806 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:30:40,806 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:30:40,812 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:30:40,812 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:30:40,812 INFO sqlalchemy.engine.Engine [generated in 0.00055s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:30:40,812 - sqlalchemy.engine.Engine - INFO - [generated in 0.00055s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:30:40,850 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:30:40,850 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:30:40,851 INFO sqlalchemy.engine.Engine [cached since 0.03895s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:30:40,851 - sqlalchemy.engine.Engine - INFO - [cached since 0.03895s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:30:40,876 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:30:40,876 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:30:40,876 INFO sqlalchemy.engine.Engine [cached since 0.0643s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:30:40,876 - sqlalchemy.engine.Engine - INFO - [cached since 0.0643s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:30:40,897 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:30:40,897 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:30:40,898 INFO sqlalchemy.engine.Engine [cached since 0.08592s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:30:40,898 - sqlalchemy.engine.Engine - INFO - [cached since 0.08592s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:30:40,920 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:30:40,920 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:30:40,920 INFO sqlalchemy.engine.Engine [cached since 0.1084s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:30:40,920 - sqlalchemy.engine.Engine - INFO - [cached since 0.1084s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:30:40,944 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:30:40,944 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:30:40,944 INFO sqlalchemy.engine.Engine [cached since 0.1327s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:30:40,944 - sqlalchemy.engine.Engine - INFO - [cached since 0.1327s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:30:40,969 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:30:40,969 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:30:40,969 INFO sqlalchemy.engine.Engine [cached since 0.1572s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:30:40,969 - sqlalchemy.engine.Engine - INFO - [cached since 0.1572s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:30:40,990 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:30:40,990 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:30:40,991 INFO sqlalchemy.engine.Engine [cached since 0.179s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:30:40,991 - sqlalchemy.engine.Engine - INFO - [cached since 0.179s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:30:41,016 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:30:41,016 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:30:41,016 INFO sqlalchemy.engine.Engine [cached since 0.2043s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:30:41,016 - sqlalchemy.engine.Engine - INFO - [cached since 0.2043s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:30:41,043 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:30:41,043 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:30:41,043 INFO sqlalchemy.engine.Engine [cached since 0.2317s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:30:41,043 - sqlalchemy.engine.Engine - INFO - [cached since 0.2317s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:30:41,067 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:30:41,067 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:30:41,067 INFO sqlalchemy.engine.Engine [cached since 0.2555s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:30:41,067 - sqlalchemy.engine.Engine - INFO - [cached since 0.2555s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:30:41,090 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 15:30:41,090 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 15:30:41,107 - app.database - INFO - Database tables created successfully
2025-10-09 15:30:41,107 - app.main - INFO - ✅ Database tables ready
2025-10-09 15:30:41,108 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 15:30:41,108 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
INFO:     127.0.0.1:49925 - "OPTIONS /api/cv/save-for-analysis/maheshwor_tiwari.pdf HTTP/1.1" 200 OK
2025-10-09 15:32:15,819 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:32:16,216 - app.modules.cv.preview - INFO - CV content extracted: maheshwor_tiwari.pdf (4864 characters)
2025-10-09 15:32:16,217 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:32:16,219 - app.routes.cv_organized - INFO - CV saved as text: user/simran@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 15:32:16,221 - app.routes.cv_organized - INFO - Processing maheshwor_tiwari.pdf for structured CV format (background)...
2025-10-09 15:32:16,223 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:32:16,223 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:32:16,224 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] Checking user parameter: True
2025-10-09 15:32:16,225 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] User email: simran@gmail.com
2025-10-09 15:32:16,225 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] About to initialize AI service...
2025-10-09 15:32:16,226 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user simran@gmail.com
2025-10-09 15:32:16,226 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Before initialization:
2025-10-09 15:32:16,226 - app.ai.ai_service - INFO - - Current providers: []
2025-10-09 15:32:16,227 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 15:32:16,227 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 15:32:16,227 - app.ai.ai_service - INFO - - Cached providers for user: []
2025-10-09 15:32:16,227 - app.ai.ai_service - INFO - 🔄 [AI_SERVICE] Initializing new providers for user simran@gmail.com
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
🔍 [DEBUG] _parse_to_structured_format called with user: True
2025-10-09 15:32:16,280 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:32:16,280 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:32:16,291 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:32:16,291 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:32:16,291 INFO sqlalchemy.engine.Engine [generated in 0.00062s] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 15:32:16,291 - sqlalchemy.engine.Engine - INFO - [generated in 0.00062s] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 15:32:16,342 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:32:16,342 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:32:17,362 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:32:17,379 - app.ai.ai_service - INFO - ✅ Initialized openai provider with model gpt-4o for user simran@gmail.com
2025-10-09 15:32:17,399 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:32:17,399 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:32:17,400 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:32:17,400 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:32:17,401 INFO sqlalchemy.engine.Engine [cached since 1.11s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 15:32:17,401 - sqlalchemy.engine.Engine - INFO - [cached since 1.11s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 15:32:17,442 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:32:17,442 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:32:17,458 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user simran@gmail.com and provider anthropic
2025-10-09 15:32:17,476 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:32:17,476 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:32:17,477 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:32:17,477 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:32:17,478 INFO sqlalchemy.engine.Engine [cached since 1.187s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 15:32:17,478 - sqlalchemy.engine.Engine - INFO - [cached since 1.187s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 15:32:17,516 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:32:17,516 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:32:17,533 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user simran@gmail.com and provider deepseek
2025-10-09 15:32:17,534 - app.ai.ai_service - INFO - 💾 [AI_SERVICE] Cached 1 providers for user simran@gmail.com
2025-10-09 15:32:17,534 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] After initialization:
2025-10-09 15:32:17,535 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 15:32:17,535 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 15:32:17,536 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 15:32:17,536 - app.services.enhanced_cv_upload_service - INFO - 🔄 [CV_UPLOAD] Initialized AI service for user simran@gmail.com
2025-10-09 15:32:17,536 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 15:32:17,537 - app.ai.ai_service - INFO - ✅ Switched to openai provider with model gpt-3.5-turbo
2025-10-09 15:32:17,537 - app.services.enhanced_cv_upload_service - INFO - ✅ [CV_UPLOAD] Auto-selected provider: openai
2025-10-09 15:32:17,538 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 15:32:17,538 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 15:32:17,538 - app.ai.ai_service - INFO - - Prompt length: 10449
2025-10-09 15:32:17,539 - app.ai.ai_service - INFO - - System prompt length: 348
2025-10-09 15:32:17,539 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 15:32:17,540 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 15:32:17,540 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 15:32:17,540 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:32:17,540 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:32:17,540 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:32:17,540 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:32:19,407 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:32:19,418 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:32:19,419 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:32:19,419 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:32:19,419 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 15:32:36,928 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 15:32:36,961 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:32:36,961 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:32:36,962 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:32:36,962 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:32:37,533 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:32:37,547 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:32:37,547 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:32:37,547 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:32:37,547 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:32:37,548 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:32:37,548 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:32:37,548 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:32:38,045 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:32:38,063 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:32:38,063 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:32:38,064 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:32:38,064 - app.services.structured_cv_parser - INFO - Successfully parsed CV using gpt-3.5-turbo
2025-10-09 15:32:38,065 - app.services.enhanced_cv_upload_service - INFO - CV parsed from raw text content
2025-10-09 15:32:38,067 - app.routes.cv_organized - INFO - ✅ Background: CV saved as structured JSON: user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
INFO:     127.0.0.1:49925 - "POST /api/cv/save-for-analysis/maheshwor_tiwari.pdf HTTP/1.1" 200 OK
INFO:     127.0.0.1:49927 - "OPTIONS /api/cv/content/maheshwor_tiwari.pdf HTTP/1.1" 200 OK
2025-10-09 15:32:38,086 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:32:38,598 - app.routes.cv_simple - INFO - CV content extracted: maheshwor_tiwari.pdf (4864 characters)
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
INFO:     127.0.0.1:49925 - "GET /api/cv/content/maheshwor_tiwari.pdf HTTP/1.1" 200 OK
INFO:     127.0.0.1:50010 - "OPTIONS /api/job/scrape HTTP/1.1" 200 OK
2025-10-09 15:33:15,083 - app.utils.directory_utils - ERROR - ❌ Failed to create cv-analysis directories: User email must be provided
INFO:     127.0.0.1:50010 - "POST /api/job/scrape HTTP/1.1" 200 OK
INFO:     127.0.0.1:50010 - "OPTIONS /api/job-analysis/extract-and-save HTTP/1.1" 200 OK
2025-10-09 15:33:18,861 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:33:18,867 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
🔍 Starting AI extraction with token: eyJhbGciOiJIUzI1NiIs...
2025-10-09 15:33:18,898 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:33:18,898 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:33:18,901 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:33:18,901 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:33:18,902 INFO sqlalchemy.engine.Engine [cached since 62.61s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 15:33:18,902 - sqlalchemy.engine.Engine - INFO - [cached since 62.61s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 15:33:18,944 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:33:18,944 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:33:19,664 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:33:19,708 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:33:19,708 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:33:19,710 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:33:19,710 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:33:19,710 INFO sqlalchemy.engine.Engine [cached since 63.42s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 15:33:19,710 - sqlalchemy.engine.Engine - INFO - [cached since 63.42s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 15:33:19,761 INFO sqlalchemy.engine.Engine UPDATE user_api_keys SET last_validated=%(last_validated)s, updated_at=now() WHERE user_api_keys.id = %(user_api_keys_id)s
2025-10-09 15:33:19,761 - sqlalchemy.engine.Engine - INFO - UPDATE user_api_keys SET last_validated=%(last_validated)s, updated_at=now() WHERE user_api_keys.id = %(user_api_keys_id)s
2025-10-09 15:33:19,762 INFO sqlalchemy.engine.Engine [generated in 0.00098s] {'last_validated': datetime.datetime(2025, 10, 9, 4, 33, 19, 749548), 'user_api_keys_id': 32}
2025-10-09 15:33:19,762 - sqlalchemy.engine.Engine - INFO - [generated in 0.00098s] {'last_validated': datetime.datetime(2025, 10, 9, 4, 33, 19, 749548), 'user_api_keys_id': 32}
2025-10-09 15:33:19,784 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 15:33:19,784 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 15:33:19,800 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 15:33:19,801 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 15:33:19,801 - app.ai.ai_service - INFO - - Prompt length: 6611
2025-10-09 15:33:19,801 - app.ai.ai_service - INFO - - System prompt length: 340
2025-10-09 15:33:19,804 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 15:33:19,804 - app.ai.ai_service - INFO - - Max tokens: 1000
2025-10-09 15:33:19,804 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 15:33:19,805 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:33:19,805 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:33:19,805 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:33:19,806 - app.ai.ai_service - INFO - - Available providers: []
2025-10-09 15:33:19,806 - app.ai.ai_service - INFO - - Provider status: {}
2025-10-09 15:33:19,806 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'openai'
2025-10-09 15:33:19,806 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: []
2025-10-09 15:33:19,806 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: openai
2025-10-09 15:33:19,806 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {}
2025-10-09 15:33:19,806 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:33:19,807 - app.services.enhanced_ai_service - ERROR - Error in enhanced AI service: No API key configured for openai. Please configure your API key in settings.
2025-10-09 15:33:19,807 - app.services.job_extraction_service - ERROR - AI service error: 
2025-10-09 15:33:19,934 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:33:19,949 - app.services.job_extraction_service - INFO - ♻️ [JOB_EXTRACTION] Job already exists in saved_jobs.json: Data Analyst at Australia for UNHCR
🔍 AI extraction result: {'error': 'AI service failed: '}
⚠️ AI extraction failed: AI service failed: 
⚠️ Using rule-based extraction as fallback
INFO:     127.0.0.1:50014 - "POST /api/job-analysis/extract-and-save HTTP/1.1" 200 OK
INFO:     127.0.0.1:50014 - "OPTIONS /api/preliminary-analysis/cache HTTP/1.1" 200 OK
INFO:     127.0.0.1:50010 - "GET /api/preliminary-analysis/cache HTTP/1.1" 200 OK
INFO:     127.0.0.1:50010 - "OPTIONS /api/preliminary-analysis HTTP/1.1" 200 OK
2025-10-09 15:33:22,242 - app.core.model_dependency - INFO - 🔍 [MODEL_DEPENDENCY] Initializing model for user: simran@gmail.com
2025-10-09 15:33:22,243 - app.core.model_dependency - INFO - - Header model: gpt-3.5-turbo
2025-10-09 15:33:22,243 - app.core.model_dependency - INFO - - User ID: 93d2b2fe-c1a7-4dd5-8006-199a4fe3e860
2025-10-09 15:33:22,243 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:33:22,243 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:33:22,244 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:33:22,244 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:33:22,984 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:33:23,002 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:33:23,002 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:33:23,002 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:33:23,003 - app.ai.ai_service - INFO - ✅ Switched to model gpt-3.5-turbo
2025-10-09 15:33:23,003 - app.core.model_dependency - INFO - 🔄 Switched to model from header: gpt-3.5-turbo
2025-10-09 15:33:23,004 - app.routes.skills_analysis - INFO - 🎯 Preliminary analysis request: CV=maheshwor_tiwari.pdf, JD_length=6014, CONFIG=None
2025-10-09 15:33:23,006 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:33:23,006 - app.routes.skills_analysis - INFO - 🏢 Extracted company name: Australia_for_UNHCR
2025-10-09 15:33:23,006 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:33:23,012 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:33:23,013 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:33:23,015 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/simran@gmail.com/cv-analysis
2025-10-09 15:33:23,015 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:33:23,019 - app.routes.skills_analysis - INFO - 🔗 [PRELIM_ANALYSIS] JD URL (latest job_info): https://www.ethicaljobs.com.au/members/australiaforunhcr/data-analyst
2025-10-09 15:33:23,020 - app.routes.skills_analysis - INFO - 📄 [PRELIM_ANALYSIS] Latest CV selected → type=original, ts=None, json=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 15:33:23,023 - app.routes.skills_analysis - INFO - 🧪 [PRELIM_ANALYSIS] CV content length=4864, preview='Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD in Physics and completed a Master's in Data Science, bringing over three years of experience in Python  coding, AI, and machine learning. My expertise encompasses modeling and training AI models, writing efficient Python'
2025-10-09 15:33:23,023 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 15:33:23,023 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 15:33:23,023 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 15:33:23,024 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Starting AI-powered skills analysis for maheshwor_tiwari.pdf
2025-10-09 15:33:23,024 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] CV content length: 4864 chars
2025-10-09 15:33:23,024 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] JD content length: 6014 chars
2025-10-09 15:33:23,025 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using config: default
2025-10-09 15:33:23,028 - app.routes.skills_analysis - INFO - 🧪 [SKILLS_ANALYSIS] CV preview: 'Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD '
2025-10-09 15:33:23,029 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:33:23,030 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:33:23,030 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:33:23,031 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:33:23,032 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:33:23,510 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:33:23,526 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:33:23,526 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:33:23,527 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:33:23,527 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI provider: openai
2025-10-09 15:33:23,527 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI model: gpt-3.5-turbo
2025-10-09 15:33:23,527 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Provider available: True
2025-10-09 15:33:23,528 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Model from header: gpt-3.5-turbo
2025-10-09 15:33:23,528 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting CV skills with detailed structured analysis...
2025-10-09 15:33:23,528 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 15:33:23,529 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 15:33:23,529 - app.ai.ai_service - INFO - - Prompt length: 15675
2025-10-09 15:33:23,530 - app.ai.ai_service - INFO - - System prompt length: 0
2025-10-09 15:33:23,530 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 15:33:23,530 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 15:33:23,530 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 15:33:23,531 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:33:23,531 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:33:23,531 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:33:23,531 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:33:23,532 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:33:24,226 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:33:24,247 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:33:24,248 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:33:24,248 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:33:24,248 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 15:33:27,153 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 15:33:27,162 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] Starting response parsing...
2025-10-09 15:33:27,163 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] Raw response preview: **SOFT SKILLS:**
- Communication
- Leadership
- Teamwork
- Collaboration
- Problem-solving

**TECHNICAL SKILLS:**
- Python
- Pandas
- NumPy
- scikit-learn
- SQL
- PostgreSQL
- MySQL
- Tableau
- Power BI
- Matplotlib
- GitHub
- Docker
- Snowflake
- Visual Studio Code
- Google Analytics
- Excel

**DOMAIN KEYWORDS:**
- Data Analysis
- Machine Learning
- AI
- Data Pipelines
- Data Visualization
- Predictive Analytics
- Cloud Data Warehousing
- Version Control
- Data Cleaning
- Automation
- Computati...
2025-10-09 15:33:27,163 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] FULL CV RESPONSE: **SOFT SKILLS:**
- Communication
- Leadership
- Teamwork
- Collaboration
- Problem-solving

**TECHNICAL SKILLS:**
- Python
- Pandas
- NumPy
- scikit-learn
- SQL
- PostgreSQL
- MySQL
- Tableau
- Power BI
- Matplotlib
- GitHub
- Docker
- Snowflake
- Visual Studio Code
- Google Analytics
- Excel

**DOMAIN KEYWORDS:**
- Data Analysis
- Machine Learning
- AI
- Data Pipelines
- Data Visualization
- Predictive Analytics
- Cloud Data Warehousing
- Version Control
- Data Cleaning
- Automation
- Computational Modeling
- Research Analysis
- Physics
- Data Science
- Research Projects
- Customer Behavior Insights
- Population Datasets
- Operational Efficiency
- Strategic Decision-making
- Key Metrics Tracking
- Analytics Capabilities
- Data Integrity
- Cross-functional Teams
- Research Findings
- Course Facilitation
- Student Engagement
2025-10-09 15:33:27,163 - app.services.skill_extraction.response_parser - WARNING - ⚠️ [CV] No SOFT_SKILLS variable found in response
2025-10-09 15:33:27,164 - app.services.skill_extraction.response_parser - WARNING - ⚠️ [CV] No TECHNICAL_SKILLS variable found in response
2025-10-09 15:33:27,165 - app.services.skill_extraction.response_parser - WARNING - ⚠️ [CV] No DOMAIN_KEYWORDS variable found in response
2025-10-09 15:33:27,166 - app.services.skill_extraction.response_parser - INFO - 🔄 [CV] Python format not found, trying markdown format...
2025-10-09 15:33:27,169 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Successfully extracted 47 total skills using multi-format parser
2025-10-09 15:33:27,169 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated soft_skills: 5 valid skills
2025-10-09 15:33:27,170 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated technical_skills: 16 valid skills
2025-10-09 15:33:27,170 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated domain_keywords: 26 valid skills
2025-10-09 15:33:27,170 - app.services.skill_extraction.response_parser - INFO - 📊 [CV] Parsing completed:
2025-10-09 15:33:27,170 - app.services.skill_extraction.response_parser - INFO -    Soft Skills (5): ['Communication', 'Leadership', 'Teamwork']...
2025-10-09 15:33:27,170 - app.services.skill_extraction.response_parser - INFO -    Technical Skills (16): ['Python', 'Pandas', 'NumPy']...
2025-10-09 15:33:27,170 - app.services.skill_extraction.response_parser - INFO -    Domain Keywords (26): ['Data Analysis', 'Machine Learning', 'AI']...
2025-10-09 15:33:27,170 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting JD skills with detailed structured analysis...
2025-10-09 15:33:27,171 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 15:33:27,171 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 15:33:27,171 - app.ai.ai_service - INFO - - Prompt length: 18001
2025-10-09 15:33:27,171 - app.ai.ai_service - INFO - - System prompt length: 0
2025-10-09 15:33:27,171 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 15:33:27,171 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 15:33:27,171 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 15:33:27,171 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:33:27,172 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:33:27,172 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:33:27,172 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:33:27,172 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:33:29,225 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:33:29,237 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:33:29,237 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:33:29,237 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:33:29,237 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 15:33:33,878 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 15:33:33,879 - app.services.skill_extraction.response_parser - INFO - 🔍 [JD] Starting response parsing...
2025-10-09 15:33:33,879 - app.services.skill_extraction.response_parser - INFO - 🔍 [JD] Raw response preview: ## SOFT SKILLS:
- Communication
- Leadership
- Teamwork
- Collaboration
- Negotiation
- Time Management
- Organization
- Adaptability
- Problem-solving
- Analytical Thinking
- Critical Thinking
- Creativity
- Innovation
- Detail-oriented
- Self-motivated
- Proactive
- Results-driven

## TECHNICAL SKILLS:
- Data Analysis
- Data Mining
- Business Intelligence
- Power BI
- SQL
- Excel
- Database Management
- Data Modeling
- Data Warehousing
- Spreadsheets
- VBA
- Stakeholder Management
- Report Cre...
2025-10-09 15:33:33,880 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Successfully extracted 57 total skills using multi-format parser
2025-10-09 15:33:33,880 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated soft_skills: 17 valid skills
2025-10-09 15:33:33,881 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated technical_skills: 20 valid skills
2025-10-09 15:33:33,881 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated domain_keywords: 20 valid skills
2025-10-09 15:33:33,881 - app.services.skill_extraction.response_parser - INFO - 📊 [JD] Parsing completed:
2025-10-09 15:33:33,881 - app.services.skill_extraction.response_parser - INFO -    Soft Skills (17): ['Communication', 'Leadership', 'Teamwork']...
2025-10-09 15:33:33,881 - app.services.skill_extraction.response_parser - INFO -    Technical Skills (20): ['Data Analysis', 'Data Mining', 'Business Intelligence']...
2025-10-09 15:33:33,881 - app.services.skill_extraction.response_parser - INFO -    Domain Keywords (20): ['Fundraising', 'Humanitarian Aid', 'Refugee Support']...
2025-10-09 15:33:33,881 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using structured analysis as comprehensive analysis...
2025-10-09 15:33:33,881 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Technical Skills (16): ['Python', 'Pandas', 'NumPy', 'scikit-learn', 'SQL', 'PostgreSQL', 'MySQL', 'Tableau', 'Power BI', 'Matplotlib', 'GitHub', 'Docker', 'Snowflake', 'Visual Studio Code', 'Google Analytics', 'Excel']
2025-10-09 15:33:33,882 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Soft Skills (5): ['Communication', 'Leadership', 'Teamwork', 'Collaboration', 'Problem-solving']
2025-10-09 15:33:33,882 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Domain Keywords (26): ['Data Analysis', 'Machine Learning', 'AI', 'Data Pipelines', 'Data Visualization', 'Predictive Analytics', 'Cloud Data Warehousing', 'Version Control', 'Data Cleaning', 'Automation', 'Computational Modeling', 'Research Analysis', 'Physics', 'Data Science', 'Research Projects', 'Customer Behavior Insights', 'Population Datasets', 'Operational Efficiency', 'Strategic Decision-making', 'Key Metrics Tracking', 'Analytics Capabilities', 'Data Integrity', 'Cross-functional Teams', 'Research Findings', 'Course Facilitation', 'Student Engagement']
2025-10-09 15:33:33,882 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Technical Skills (20): ['Data Analysis', 'Data Mining', 'Business Intelligence', 'Power BI', 'SQL', 'Excel', 'Database Management', 'Data Modeling', 'Data Warehousing', 'Spreadsheets', 'VBA', 'Stakeholder Management', 'Report Creation', 'Project Management', 'Data Extraction', 'Data Segmentation', 'Data Cleansing', 'Data Visualization', 'Querying', 'Relational Databases']
2025-10-09 15:33:33,882 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Soft Skills (17): ['Communication', 'Leadership', 'Teamwork', 'Collaboration', 'Negotiation', 'Time Management', 'Organization', 'Adaptability', 'Problem-solving', 'Analytical Thinking', 'Critical Thinking', 'Creativity', 'Innovation', 'Detail-oriented', 'Self-motivated', 'Proactive', 'Results-driven']
2025-10-09 15:33:33,882 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Domain Keywords (20): ['Fundraising', 'Humanitarian Aid', 'Refugee Support', 'Donor Management', 'Direct Marketing', 'Multi-channel Communication', 'Data-driven Decision Making', 'Business Requirements', 'Data Warehouse Administration', 'Business Intelligence Unit', 'Stakeholder Engagement', 'Campaign Analysis', 'Communication Strategies', 'Data Governance', 'Clean Data Maintenance', 'Nonprofit Sector', 'Employee Engagement', 'Inclusive Work Environment', 'Diversity and Inclusion', 'Equal Opportunity']
2025-10-09 15:33:33,882 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] Analysis completed successfully
2025-10-09 15:33:33,882 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 15:33:33,883 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:33:33,883 - app.services.skill_extraction.result_saver - INFO - 📁 Result saver initialized with base directory: user/simran@gmail.com/cv-analysis
2025-10-09 15:33:33,883 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:33:33,883 - app.routes.skills_analysis - INFO - 🔍 [COMPANY_DETECTION] Looking in: user/simran@gmail.com/cv-analysis/applied_companies
2025-10-09 15:33:33,884 - app.routes.skills_analysis - INFO - 📁 [COMPANY_DETECTION] Found company folder: Australia_for_UNHCR with 3 job_info files
2025-10-09 15:33:33,884 - app.routes.skills_analysis - INFO - 🏢 [COMPANY_DETECTION] Using most recent company folder: Australia_for_UNHCR
2025-10-09 15:33:33,884 - app.routes.skills_analysis - INFO - 📋 [COMPANY_DETECTION] Job info company: Australia for UNHCR
2025-10-09 15:33:33,885 - app.services.skill_extraction.result_saver - INFO - 🏢 Using provided company name: Australia_for_UNHCR -> Australia_for_UNHCR
2025-10-09 15:33:33,885 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:33:33,885 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/simran@gmail.com/cv-analysis
2025-10-09 15:33:33,886 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:33:33,886 - app.services.skill_extraction.result_saver - INFO - 💾 Structured CV already exists, preserving it: user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 15:33:33,886 - app.services.skill_extraction.result_saver - INFO - 💾 Structured CV preserved, skipping save: user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 15:33:33,887 - app.services.skill_extraction.result_saver - INFO - 💾 Analysis results saved (JSON) to: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_153333.json
2025-10-09 15:33:33,887 - app.routes.skills_analysis - INFO - 📁 [FILE_SAVE] Results saved to: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_153333.json
2025-10-09 15:33:33,888 - app.routes.skills_analysis - INFO - 🔍 [ANALYZE_MATCH] Starting analyze match assessment...
2025-10-09 15:33:33,891 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 15:33:33,891 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 15:33:33,891 - app.ai.ai_service - INFO - - Prompt length: 16967
2025-10-09 15:33:33,891 - app.ai.ai_service - INFO - - System prompt length: 0
2025-10-09 15:33:33,891 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 15:33:33,891 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 15:33:33,891 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 15:33:33,892 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:33:33,892 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:33:33,892 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:33:33,892 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:33:33,893 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:33:34,294 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:33:34,489 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:33:34,489 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:33:34,489 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:33:34,490 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 15:33:37,535 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 15:33:37,537 - app.routes.skills_analysis - INFO - ✅ [ANALYZE_MATCH] Analysis completed (length: 1586 chars)
2025-10-09 15:33:37,537 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:33:37,538 - app.services.skill_extraction.result_saver - INFO - 📂 Found existing analysis file: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_153333.json
2025-10-09 15:33:37,538 - app.services.skill_extraction.result_saver - INFO - 🔍 Looking for analysis file in: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 15:33:37,538 - app.services.skill_extraction.result_saver - INFO - 📄 Using existing file: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_153333.json
2025-10-09 15:33:37,539 - app.services.skill_extraction.result_saver - INFO - 📁 [ANALYZE_MATCH] Results appended to: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_153333.json
2025-10-09 15:33:37,539 - app.routes.skills_analysis - INFO - 📁 [ANALYZE_MATCH] Results appended to: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_153333.json
2025-10-09 15:33:37,539 - app.routes.skills_analysis - INFO - 🔍 [PREEXTRACTED_COMPARISON] Starting pre-extracted skills semantic comparison...
2025-10-09 15:33:37,543 - app.services.skill_extraction.preextracted_comparator - INFO - 🔍 [EXACT_MATCHES] Found 3 exact matches: {'technical_skills': [{'jd_skill': 'Excel', 'cv_skill': 'Excel', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Power BI', 'cv_skill': 'Power BI', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'SQL', 'cv_skill': 'SQL', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}], 'soft_skills': [{'jd_skill': 'Collaboration', 'cv_skill': 'Collaboration', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Communication', 'cv_skill': 'Communication', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Leadership', 'cv_skill': 'Leadership', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Problem-solving', 'cv_skill': 'Problem-solving', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Teamwork', 'cv_skill': 'Teamwork', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}], 'domain_keywords': []}
2025-10-09 15:33:37,544 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 15:33:37,545 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 15:33:37,545 - app.ai.ai_service - INFO - - Prompt length: 7313
2025-10-09 15:33:37,545 - app.ai.ai_service - INFO - - System prompt length: 0
2025-10-09 15:33:37,545 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 15:33:37,545 - app.ai.ai_service - INFO - - Max tokens: 3000
2025-10-09 15:33:37,545 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 15:33:37,545 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:33:37,546 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:33:37,546 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:33:37,546 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:33:37,546 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:33:37,948 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:33:37,959 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:33:37,959 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:33:37,959 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:33:37,959 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 15:33:53,869 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 15:33:53,876 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Collaboration → Collaboration
2025-10-09 15:33:53,876 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Communication → Communication
2025-10-09 15:33:53,876 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Leadership → Leadership
2025-10-09 15:33:53,877 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Problem-solving → Problem-solving
2025-10-09 15:33:53,877 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Teamwork → Teamwork
2025-10-09 15:33:53,877 - app.services.skill_extraction.preextracted_comparator - INFO - ℹ️ [VALIDATION] technical_skills: matched 14 + missing 4 = 18 vs JD count 20 (acceptable variance)
2025-10-09 15:33:53,877 - app.services.skill_extraction.preextracted_comparator - INFO - ℹ️ [VALIDATION] soft_skills: matched 5 + missing 7 = 12 vs JD count 17 (acceptable variance)
2025-10-09 15:33:53,877 - app.services.skill_extraction.preextracted_comparator - INFO - ℹ️ [VALIDATION] domain_keywords: matched 9 + missing 8 = 17 vs JD count 20 (acceptable variance)
2025-10-09 15:33:53,877 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] CV Skills: Tech=16, Soft=5, Domain=26
2025-10-09 15:33:53,878 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] JD Skills: Tech=20, Soft=17, Domain=20
2025-10-09 15:33:53,878 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [VALIDATION] Comparison results passed validation
2025-10-09 15:33:53,878 - app.routes.skills_analysis - INFO - ✅ [PREEXTRACTED_COMPARISON] Completed (length: 6716 chars)
2025-10-09 15:33:53,878 - app.services.skill_extraction.result_saver - INFO - 🏢 [PREEXTRACTED_COMPARISON] Inferred company from saved_file_path: Australia_for_UNHCR
2025-10-09 15:33:53,880 - app.services.skill_extraction.result_saver - INFO - 📁 [PREEXTRACTED_COMPARISON] Results appended to: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_153333.json
2025-10-09 15:33:53,880 - app.routes.skills_analysis - INFO - 📁 [PREEXTRACTED_COMPARISON] Results appended to: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_153333.json
2025-10-09 15:33:53,881 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:33:53,881 - app.routes.skills_analysis - INFO - ♻️ [PIPELINE] (preliminary-analysis) JD file already exists: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/jd_original_20251009_153319.json
2025-10-09 15:33:53,882 - app.routes.skills_analysis - INFO - ♻️ [JOBS] Job already exists in saved_jobs.json: Data Analyst at Australia for UNHCR
2025-10-09 15:33:53,883 - app.routes.skills_analysis - INFO - 🚀 [PIPELINE] (preliminary-analysis) scheduling for company: Australia_for_UNHCR
2025-10-09 15:33:53,883 - app.routes.skills_analysis - INFO - 🚀 [PIPELINE] Scheduling JD analysis and CV–JD matching for 'Australia_for_UNHCR'...
2025-10-09 15:33:53,884 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:33:53,884 - app.routes.skills_analysis - INFO - 🔧 [PIPELINE] Starting JD analysis for Australia_for_UNHCR (force_refresh=True)
2025-10-09 15:33:53,884 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:33:53,885 - app.services.jd_analysis.jd_analyzer - INFO - 🔄 Analyzing JD for Australia_for_UNHCR (force_refresh=True)
2025-10-09 15:33:53,886 - app.services.jd_analysis.jd_analyzer - INFO - 📄 Analyzing JD file: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/jd_original_20251009_153319.json
2025-10-09 15:33:53,886 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 15:33:53,886 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 15:33:53,887 - app.ai.ai_service - INFO - - Prompt length: 6409
2025-10-09 15:33:53,887 - app.ai.ai_service - INFO - - System prompt length: 2650
2025-10-09 15:33:53,887 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 15:33:53,887 - app.ai.ai_service - INFO - - Max tokens: 2000
2025-10-09 15:33:53,887 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 15:33:53,887 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:33:53,887 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:33:53,887 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:33:53,888 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:33:53,888 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:33:54,432 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:33:54,613 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:33:54,613 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:33:54,613 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:33:54,613 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 15:33:56,125 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 15:33:56,131 - app.services.jd_analysis.jd_analyzer - INFO - ✅ JD analysis completed. Found 0 required and 0 preferred keywords
2025-10-09 15:33:56,132 - app.services.jd_analysis.jd_analyzer - INFO - ♻️ JD analysis already exists, reusing: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_jd_analysis_20251009_140236.json
2025-10-09 15:33:56,132 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] JD analysis saved for Australia_for_UNHCR at: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_jd_analysis_20251009_140236.json
2025-10-09 15:33:56,135 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:33:56,135 - app.services.jd_usage_tracker - INFO - 🔍 [JD_TRACKER] Recording JD usage:
2025-10-09 15:33:56,135 - app.services.jd_usage_tracker - INFO - - jd_url: 
2025-10-09 15:33:56,135 - app.services.jd_usage_tracker - INFO - - jd_text length: 0
2025-10-09 15:33:56,136 - app.services.jd_usage_tracker - INFO - - company: Australia_for_UNHCR
2025-10-09 15:33:56,136 - app.services.jd_usage_tracker - INFO - - job_title: 
2025-10-09 15:33:56,136 - app.services.jd_usage_tracker - ERROR - ❌ [JD_TRACKER] Error recording JD usage: Either jd_url or jd_text must be provided
2025-10-09 15:33:56,136 - app.routes.skills_analysis - INFO - 📝 [PIPELINE] JD usage recorded for Australia_for_UNHCR
2025-10-09 15:33:56,136 - app.routes.skills_analysis - INFO - 🔧 [PIPELINE] Starting CV–JD matching for Australia_for_UNHCR
2025-10-09 15:33:56,136 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:33:56,137 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:33:56,137 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:33:56,138 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/simran@gmail.com/cv-analysis
2025-10-09 15:33:56,138 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] CV–JD matching will use CV TXT: user/simran@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 15:33:56,138 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 📄 [CV_JD_MATCHER] Using provided CV path: user/simran@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 15:33:56,139 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 📄 [CV_JD_MATCHER] Read CV from: user/simran@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 15:33:56,139 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🧪 [CV_JD_MATCHER] CV content length=4864, preview='Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD in Physics and completed a Master's in Data Science, bringing over three years of experience in Python  coding, AI, and machine learning. My expertise encompasses modeling and training AI models, writing efficient Python'
2025-10-09 15:33:56,139 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🔍 Found 11 required and 4 preferred keywords
2025-10-09 15:33:56,140 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 15:33:56,140 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 15:33:56,140 - app.ai.ai_service - INFO - - Prompt length: 6275
2025-10-09 15:33:56,140 - app.ai.ai_service - INFO - - System prompt length: 2705
2025-10-09 15:33:56,140 - app.ai.ai_service - INFO - - Temperature: 0.3
2025-10-09 15:33:56,140 - app.ai.ai_service - INFO - - Max tokens: 3000
2025-10-09 15:33:56,140 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 15:33:56,140 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:33:56,141 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:33:56,141 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:33:56,141 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:33:56,141 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:33:57,659 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:33:57,735 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:33:57,735 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:33:57,735 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:33:57,736 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 15:34:00,168 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 15:34:00,170 - app.services.cv_jd_matching.cv_jd_matcher - INFO - ✅ CV-JD matching completed. Found 6 matched required keywords
2025-10-09 15:34:00,170 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:34:00,170 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:34:00,171 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 💾 Saved CV-JD match results to: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_cv_jd_matching_20251009_153400.json
2025-10-09 15:34:00,171 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] CV–JD match results saved for Australia_for_UNHCR
2025-10-09 15:34:00,171 - app.routes.skills_analysis - INFO - 🔍 [PIPELINE] Starting component analysis for Australia_for_UNHCR
2025-10-09 15:34:00,174 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:34:00,174 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:34:00,175 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:34:00,175 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/simran@gmail.com/cv-analysis
2025-10-09 15:34:00,175 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Latest CV selected → type=original, ts=None, json=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 15:34:00,176 - app.routes.skills_analysis - INFO - 🧪 [PIPELINE] CV content length=4864, preview='Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD in Physics and completed a Master's in Data Science, bringing over three years of experience in Python  coding, AI, and machine learning. My expertise encompasses modeling and training AI models, writing efficient Python'
2025-10-09 15:34:00,176 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:34:00,177 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Required files found, proceeding with component analysis
2025-10-09 15:34:00,177 - app.services.ats.modular_ats_orchestrator - INFO - ===== [MODULAR ATS] Starting component analysis for: Australia_for_UNHCR =====
2025-10-09 15:34:00,177 - app.services.ats.component_assembler - INFO - ===== [ASSEMBLER] Starting component assembly for: Australia_for_UNHCR =====
2025-10-09 15:34:00,178 - app.services.ats.component_assembler - INFO - 📄 [ASSEMBLER] Using CV text provided by caller
2025-10-09 15:34:00,185 - app.services.ats.component_assembler - WARNING - [ASSEMBLER] Match results not found: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/cv_jd_match_results.json
2025-10-09 15:34:00,186 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Starting parallel component analyses...
2025-10-09 15:34:00,187 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Requesting skills relevance analysis...
2025-10-09 15:34:00,187 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 15:34:00,187 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 15:34:00,188 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Requirement bonus using match file: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_cv_jd_matching_20251009_153400.json
2025-10-09 15:34:00,188 - app.ai.ai_service - INFO - - Prompt length: 12710
2025-10-09 15:34:00,188 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Using existing match_counts from file
2025-10-09 15:34:00,189 - app.ai.ai_service - INFO - - System prompt length: 163
2025-10-09 15:34:00,189 - app.services.ats.requirement_bonus_calculator - INFO - [ATS][BONUS] required_total=11 matched_required=6 missing_required=5 required_bonus=3.00 required_penalty=-4.00 preferred_total=4 matched_preferred=0 missing_preferred=4 preferred_bonus=0.00 preferred_penalty=-0.60 total_bonus=-1.60
2025-10-09 15:34:00,189 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 15:34:00,189 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Requirement bonus calculated: -1.60 points
2025-10-09 15:34:00,189 - app.ai.ai_service - INFO - - Max tokens: 1500
2025-10-09 15:34:00,190 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 15:34:00,190 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:34:00,190 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:34:00,190 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:34:00,190 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:34:00,190 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:34:00,679 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:34:00,820 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:34:00,820 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:34:00,820 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:34:00,820 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 15:34:15,529 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 15:34:15,530 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Raw response length: 5408
2025-10-09 15:34:15,531 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Raw response preview: {
 "skills_analysis": [
  {
   "skill": "Python programming",
   "cv_evidence": "Specialized in Python programming, including data analysis, automation, and machine learning using libraries such as Pa
2025-10-09 15:34:15,531 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Cleaned response: {
 "skills_analysis": [
  {
   "skill": "Python programming",
   "cv_evidence": "Specialized in Python programming, including data analysis, automation, and machine learning using libraries such as Pa
2025-10-09 15:34:15,531 - app.services.ats.components.skills_relevance_analyzer - WARNING - [SKILLS] Direct parse failed: Extra data: line 100 column 1 (char 5407)
2025-10-09 15:34:15,532 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Found 1 JSON objects
2025-10-09 15:34:15,533 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Object 0 parse successful
2025-10-09 15:34:15,533 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Analysis completed. Score: 78.0
2025-10-09 15:34:15,533 - app.services.ats.components.experience_analyzer - INFO - [EXPERIENCE] Requesting experience alignment analysis...
2025-10-09 15:34:15,533 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 15:34:15,533 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 15:34:15,533 - app.ai.ai_service - INFO - - Prompt length: 11491
2025-10-09 15:34:15,533 - app.ai.ai_service - INFO - - System prompt length: 163
2025-10-09 15:34:15,534 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 15:34:15,534 - app.ai.ai_service - INFO - - Max tokens: 1500
2025-10-09 15:34:15,534 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 15:34:15,534 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:34:15,534 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:34:15,534 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:34:15,534 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:34:15,534 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:34:16,245 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:34:16,253 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:34:16,254 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:34:16,254 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:34:16,254 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 15:34:21,261 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 15:34:21,263 - app.services.ats.components.experience_analyzer - INFO - [EXPERIENCE] Analysis completed. Score: 85.0
2025-10-09 15:34:21,263 - app.services.ats.components.industry_analyzer - INFO - [INDUSTRY] Requesting industry fit analysis...
2025-10-09 15:34:21,263 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 15:34:21,264 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 15:34:21,264 - app.ai.ai_service - INFO - - Prompt length: 12947
2025-10-09 15:34:21,264 - app.ai.ai_service - INFO - - System prompt length: 163
2025-10-09 15:34:21,264 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 15:34:21,264 - app.ai.ai_service - INFO - - Max tokens: 1500
2025-10-09 15:34:21,264 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 15:34:21,264 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:34:21,264 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:34:21,265 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:34:21,265 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:34:21,265 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:34:21,773 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:34:21,783 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:34:21,783 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:34:21,784 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:34:21,784 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 15:34:25,373 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 15:34:25,374 - app.services.ats.components.industry_analyzer - INFO - [INDUSTRY] Analysis completed. Score: 60.0
2025-10-09 15:34:25,381 - app.services.ats.components.seniority_analyzer - INFO - [SENIORITY] Requesting role seniority analysis...
2025-10-09 15:34:25,381 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 15:34:25,381 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 15:34:25,382 - app.ai.ai_service - INFO - - Prompt length: 14019
2025-10-09 15:34:25,382 - app.ai.ai_service - INFO - - System prompt length: 163
2025-10-09 15:34:25,382 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 15:34:25,382 - app.ai.ai_service - INFO - - Max tokens: 1500
2025-10-09 15:34:25,382 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 15:34:25,382 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:34:25,382 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:34:25,382 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:34:25,382 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:34:25,383 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:34:25,870 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:34:25,998 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:34:25,998 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:34:25,998 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:34:25,998 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 15:34:30,275 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 15:34:30,276 - app.services.ats.components.seniority_analyzer - INFO - [SENIORITY] Analysis completed. Score: 65.0
2025-10-09 15:34:30,277 - app.services.ats.components.technical_analyzer - INFO - [TECHNICAL] Requesting technical depth analysis...
2025-10-09 15:34:30,277 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 15:34:30,277 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 15:34:30,277 - app.ai.ai_service - INFO - - Prompt length: 9464
2025-10-09 15:34:30,277 - app.ai.ai_service - INFO - - System prompt length: 163
2025-10-09 15:34:30,277 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 15:34:30,277 - app.ai.ai_service - INFO - - Max tokens: 1500
2025-10-09 15:34:30,278 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 15:34:30,278 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:34:30,278 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:34:30,278 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:34:30,278 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:34:30,278 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:34:30,786 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:34:30,795 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:34:30,795 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:34:30,795 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:34:30,796 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 15:34:33,858 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 15:34:33,860 - app.services.ats.components.technical_analyzer - INFO - [TECHNICAL] Analysis completed. Score: 90.0
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=original, ts=00000000_000000, mtime=1759984358.0670488, json=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=original, ts=00000000_000000, json=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.txt
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=original, ts=00000000_000000, mtime=1759984358.0670488, json=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=original, ts=00000000_000000, json=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.txt
📄 [UNIFIED] Reading CV content from: txt=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.txt, json=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
🧪 [UNIFIED] CV content length=4864, preview='Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD in Physics and completed a Master's in Data Science, bringing over three years of experience in Python  coding, AI, and machine learning. My expertise encompasses modeling and training AI models, writing efficient Python'
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=original, ts=00000000_000000, mtime=1759984358.0670488, json=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=original, ts=00000000_000000, json=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.txt
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=original, ts=00000000_000000, mtime=1759984358.0670488, json=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=original, ts=00000000_000000, json=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.txt
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=original, ts=00000000_000000, mtime=1759984358.0670488, json=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=original, ts=00000000_000000, json=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.txt
📄 [UNIFIED] Reading CV content from: txt=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.txt, json=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
🧪 [UNIFIED] CV content length=4864, preview='Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD in Physics and completed a Master's in Data Science, bringing over three years of experience in Python  coding, AI, and machine learning. My expertise encompasses modeling and training AI models, writing efficient Python'
INFO:     127.0.0.1:50014 - "POST /api/preliminary-analysis HTTP/1.1" 200 OK
2025-10-09 15:34:33,861 - app.services.ats.component_assembler - INFO - [ASSEMBLER] All component analyses completed successfully
2025-10-09 15:34:33,862 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Validating cross-analyzer consistency...
2025-10-09 15:34:33,862 - app.services.ats.components.consistency_validator - ERROR - [CONSISTENCY] Validation failed: unsupported operand type(s) for -: 'str' and 'int'
2025-10-09 15:34:33,862 - app.services.ats.component_assembler - WARNING - [ASSEMBLER] Inconsistencies detected in analysis results
2025-10-09 15:34:33,862 - app.services.ats.component_assembler - WARNING - [ASSEMBLER] Confidence score: 100%
2025-10-09 15:34:33,865 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Results saved to: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_153333.json
2025-10-09 15:34:33,865 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Starting ATS score calculation...
2025-10-09 15:34:33,866 - app.services.ats.ats_score_calculator - INFO - [ATS] Starting comprehensive ATS score calculation
2025-10-09 15:34:33,866 - app.services.ats.ats_score_calculator - INFO - [ATS] Match rates - Tech: 78.0%, Domain: 53.0%, Soft: 42.0%
2025-10-09 15:34:33,866 - app.services.ats.ats_score_calculator - INFO - [ATS] Missing counts - Tech: 4, Domain: 8, Soft: 7
2025-10-09 15:34:33,867 - app.services.ats.ats_score_calculator - INFO - [ATS] Category 1 - Tech: 15.6, Domain: 2.7, Soft: 6.3, Total: 24.6
2025-10-09 15:34:33,867 - app.services.ats.ats_score_calculator - INFO - [ATS] Category 2 - Core: 15.9, Exp: 8.4, Potential: 6.0, Company: 0.8, Total: 31.1
2025-10-09 15:34:33,867 - app.services.ats.ats_score_calculator - INFO - [ATS] Final ATS Score: 54.0/100 (❌ Poor fit)
2025-10-09 15:34:33,870 - app.services.ats.component_assembler - INFO - [ASSEMBLER] ATS calculation completed. Score: 54.0/100 (❌ Poor fit)
2025-10-09 15:34:33,871 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:34:33,872 - app.services.ats_recommendation_service - INFO - Final ATS Score: 54.0375
2025-10-09 15:34:33,872 - app.services.ats_recommendation_service - INFO - Category Status: ❌ Poor fit
2025-10-09 15:34:33,872 - app.services.ats_recommendation_service - INFO - Successfully extracted comprehensive recommendation data for Australia_for_UNHCR
2025-10-09 15:34:33,875 - app.services.ats_recommendation_service - INFO - Successfully created recommendation file: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_153433.json
2025-10-09 15:34:33,897 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:34:33,897 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:34:33,903 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 15:34:33,903 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 15:34:33,904 INFO sqlalchemy.engine.Engine [generated in 0.00037s] {'email_1': 'simran@gmail.com'}
2025-10-09 15:34:33,904 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] {'email_1': 'simran@gmail.com'}
2025-10-09 15:34:33,947 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 15:34:33,947 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 15:34:33,947 INFO sqlalchemy.engine.Engine [generated in 0.00040s] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 15:34:33,947 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 15:34:33,975 INFO sqlalchemy.engine.Engine INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 15:34:33,975 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 15:34:33,975 INFO sqlalchemy.engine.Engine [generated in 0.00078s] {'user_id': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'company_id': 14, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_153433.json', 'file_path': 'user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_153433.json', 'file_size': 29642, 'sha256': '66855d98b1af8f7ad46b85a3a882a82b0e1635ec49291ca230312f46bdfd15fe', 'timestamp': '20251009_153433'}
2025-10-09 15:34:33,975 - sqlalchemy.engine.Engine - INFO - [generated in 0.00078s] {'user_id': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'company_id': 14, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_153433.json', 'file_path': 'user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_153433.json', 'file_size': 29642, 'sha256': '66855d98b1af8f7ad46b85a3a882a82b0e1635ec49291ca230312f46bdfd15fe', 'timestamp': '20251009_153433'}
2025-10-09 15:34:33,999 INFO sqlalchemy.engine.Engine INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 15:34:33,999 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 15:34:34,000 INFO sqlalchemy.engine.Engine [generated in 0.00052s] {'user_id': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'company_id': 14, 'kind': 'input_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 165}
2025-10-09 15:34:34,000 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s] {'user_id': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'company_id': 14, 'kind': 'input_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 165}
2025-10-09 15:34:34,021 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 15:34:34,021 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 15:34:34,041 - app.services.ats_recommendation_service - INFO - Successfully created AI recommendation prompt: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_prompt_recommendation.py
2025-10-09 15:34:34,042 - app.services.ats_recommendation_service - INFO - 🤖 [TRIGGER] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-09 15:34:34,042 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:34:34,042 - app.services.ats_recommendation_service - INFO - 📋 [TRIGGER] AI generation scheduled as background task for Australia_for_UNHCR
2025-10-09 15:34:34,043 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Recommendation file created for Australia_for_UNHCR
2025-10-09 15:34:34,043 - app.services.ats.component_assembler - INFO - ===== [ASSEMBLER] Completed assembly. Scores: skills=78.0 exp=85.0 industry=60.0 seniority=65.0 tech=90.0 =====
2025-10-09 15:34:34,043 - app.services.ats.modular_ats_orchestrator - INFO - ===== [MODULAR ATS] Component analysis completed for: Australia_for_UNHCR =====
2025-10-09 15:34:34,043 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Component analysis completed for Australia_for_UNHCR
2025-10-09 15:34:34,043 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] Component scores extracted: 23 scores
2025-10-09 15:34:34,043 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] skills_relevance: 78.0
2025-10-09 15:34:34,043 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] experience_alignment: 85.0
2025-10-09 15:34:34,044 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] industry_fit: 60.0
2025-10-09 15:34:34,044 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] role_seniority: 65.0
2025-10-09 15:34:34,044 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] technical_depth: 90.0
2025-10-09 15:34:34,044 - app.routes.skills_analysis - INFO - 🎯 [PIPELINE] ATS Score calculated: 54.0375
2025-10-09 15:34:34,044 - app.routes.skills_analysis - INFO - 📋 [PIPELINE] Creating input recommendation file for Australia_for_UNHCR
2025-10-09 15:34:34,044 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:34:34,045 - app.services.ats_recommendation_service - INFO - Final ATS Score: 54.0375
2025-10-09 15:34:34,045 - app.services.ats_recommendation_service - INFO - Category Status: ❌ Poor fit
2025-10-09 15:34:34,046 - app.services.ats_recommendation_service - INFO - Successfully extracted comprehensive recommendation data for Australia_for_UNHCR
2025-10-09 15:34:34,047 - app.services.ats_recommendation_service - INFO - Successfully created recommendation file: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_153434.json
2025-10-09 15:34:34,067 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:34:34,067 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:34:34,068 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 15:34:34,068 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 15:34:34,068 INFO sqlalchemy.engine.Engine [cached since 0.1647s ago] {'email_1': 'simran@gmail.com'}
2025-10-09 15:34:34,068 - sqlalchemy.engine.Engine - INFO - [cached since 0.1647s ago] {'email_1': 'simran@gmail.com'}
2025-10-09 15:34:34,112 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 15:34:34,112 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 15:34:34,112 INFO sqlalchemy.engine.Engine [cached since 0.1651s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 15:34:34,112 - sqlalchemy.engine.Engine - INFO - [cached since 0.1651s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 15:34:34,137 INFO sqlalchemy.engine.Engine INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 15:34:34,137 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 15:34:34,137 INFO sqlalchemy.engine.Engine [cached since 0.1626s ago] {'user_id': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'company_id': 14, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_153434.json', 'file_path': 'user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_153434.json', 'file_size': 29642, 'sha256': '66855d98b1af8f7ad46b85a3a882a82b0e1635ec49291ca230312f46bdfd15fe', 'timestamp': '20251009_153434'}
2025-10-09 15:34:34,137 - sqlalchemy.engine.Engine - INFO - [cached since 0.1626s ago] {'user_id': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'company_id': 14, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_153434.json', 'file_path': 'user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_153434.json', 'file_size': 29642, 'sha256': '66855d98b1af8f7ad46b85a3a882a82b0e1635ec49291ca230312f46bdfd15fe', 'timestamp': '20251009_153434'}
2025-10-09 15:34:34,162 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:34:34,162 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:34:34,180 - app.services.ats_recommendation_service - WARNING - ⚠️ [DB] Failed to register input recommendation: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "uq_company_files_dedupe"
DETAIL:  Key (user_id, company_id, file_type, sha256)=(93d2b2fe-c1a7-4dd5-8006-199a4fe3e860, 14, input_recommendation, 66855d98b1af8f7ad46b85a3a882a82b0e1635ec49291ca230312f46bdfd15fe) already exists.

[SQL: INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at]
[parameters: {'user_id': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'company_id': 14, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_153434.json', 'file_path': 'user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_153434.json', 'file_size': 29642, 'sha256': '66855d98b1af8f7ad46b85a3a882a82b0e1635ec49291ca230312f46bdfd15fe', 'timestamp': '20251009_153434'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-10-09 15:34:34,180 - app.services.ats_recommendation_service - INFO - Successfully created AI recommendation prompt: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_prompt_recommendation.py
2025-10-09 15:34:34,181 - app.services.ats_recommendation_service - INFO - 🤖 [TRIGGER] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-09 15:34:34,181 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:34:34,181 - app.services.ats_recommendation_service - INFO - 📋 [TRIGGER] AI generation scheduled as background task for Australia_for_UNHCR
2025-10-09 15:34:34,181 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Input recommendation file created for Australia_for_UNHCR
2025-10-09 15:34:34,181 - app.routes.skills_analysis - INFO - 🤖 [PIPELINE] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-09 15:34:34,181 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:34:34,182 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-09 15:34:34,184 - app.services.ai_recommendation_generator - INFO - 🟡 [AI GENERATOR] Input recommendation is newer (ai_mtime=1759980253.8321602, input_mtime=1759984474.0476604); regenerating AI recommendation
2025-10-09 15:34:34,184 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:34:34,184 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:34:34,184 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/simran@gmail.com/cv-analysis
2025-10-09 15:34:34,185 - app.services.ai_recommendation_generator - INFO - ✅ [AI GENERATOR] CV is fresh - no updates since input recommendation
2025-10-09 15:34:34,187 - app.services.ai_recommendation_generator - INFO - 📋 [AI GENERATOR] Generated AI prompt for Australia_for_UNHCR using centralized template (13034 characters)
2025-10-09 15:34:34,187 - app.services.ai_recommendation_generator - INFO - 🧠 [AI GENERATOR] Executing AI prompt for Australia_for_UNHCR
2025-10-09 15:34:34,187 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 15:34:34,188 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 15:34:34,188 - app.ai.ai_service - INFO - - Prompt length: 13034
2025-10-09 15:34:34,188 - app.ai.ai_service - INFO - - System prompt length: 130
2025-10-09 15:34:34,188 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 15:34:34,188 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 15:34:34,188 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 15:34:34,189 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:34:34,189 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:34:34,189 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:34:34,189 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:34:34,189 - app.ai.ai_service - INFO - - Available providers: ['openai']
WARNING:  WatchFiles detected changes in 'user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_prompt_recommendation.py'. Reloading...
2025-10-09 15:34:34,635 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:34:34,646 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:34:34,646 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:34:34,646 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:34:34,647 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 15:34:39,491 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 15:34:39,493 - app.services.ai_recommendation_generator - INFO - 🧠 [AI GENERATOR] AI response generated - Provider: openai, Model: gpt-3.5-turbo
2025-10-09 15:34:39,493 - app.services.ai_recommendation_generator - INFO - 💰 [AI GENERATOR] Cost: $0.0047, Tokens: 3594
2025-10-09 15:34:39,494 - app.services.ai_recommendation_generator - INFO - 💾 [AI GENERATOR] Saved AI recommendation: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_153439.json (3.2KB)
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=original, ts=00000000_000000, mtime=1759984358.0670488, json=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=original, ts=00000000_000000, json=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 15:34:39,509 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:34:39,509 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:34:39,509 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 15:34:39,509 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 15:34:39,509 INFO sqlalchemy.engine.Engine [cached since 5.606s ago] {'email_1': 'simran@gmail.com'}
2025-10-09 15:34:39,509 - sqlalchemy.engine.Engine - INFO - [cached since 5.606s ago] {'email_1': 'simran@gmail.com'}
2025-10-09 15:34:39,553 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 15:34:39,553 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 15:34:39,554 INFO sqlalchemy.engine.Engine [cached since 5.607s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 15:34:39,554 - sqlalchemy.engine.Engine - INFO - [cached since 5.607s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 15:34:39,577 INFO sqlalchemy.engine.Engine INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 15:34:39,577 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 15:34:39,577 INFO sqlalchemy.engine.Engine [cached since 5.603s ago] {'user_id': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'company_id': 14, 'file_type': 'ai_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_ai_recommendation_20251009_153439.json', 'file_path': 'user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_153439.json', 'file_size': 3276, 'sha256': 'ae14c0b4b7e2b41086432cefae0c37b4c4b7f01aee3b3f9449d08f4828a59d2f', 'timestamp': '20251009_153439'}
2025-10-09 15:34:39,577 - sqlalchemy.engine.Engine - INFO - [cached since 5.603s ago] {'user_id': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'company_id': 14, 'file_type': 'ai_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_ai_recommendation_20251009_153439.json', 'file_path': 'user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_153439.json', 'file_size': 3276, 'sha256': 'ae14c0b4b7e2b41086432cefae0c37b4c4b7f01aee3b3f9449d08f4828a59d2f', 'timestamp': '20251009_153439'}
2025-10-09 15:34:39,601 INFO sqlalchemy.engine.Engine INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 15:34:39,601 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 15:34:39,602 INFO sqlalchemy.engine.Engine [cached since 5.603s ago] {'user_id': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'company_id': 14, 'kind': 'ai_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 167}
2025-10-09 15:34:39,602 - sqlalchemy.engine.Engine - INFO - [cached since 5.603s ago] {'user_id': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'company_id': 14, 'kind': 'ai_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 167}
2025-10-09 15:34:39,623 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 15:34:39,623 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 15:34:39,641 - app.services.ai_recommendation_generator - INFO - ✅ [AI GENERATOR] AI recommendation generated and saved for Australia_for_UNHCR
2025-10-09 15:34:39,641 - app.services.ai_recommendation_generator - INFO - 📄 File: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_142413.json
2025-10-09 15:34:39,641 - app.services.ai_recommendation_generator - INFO - 💰 Cost: $0.0047
2025-10-09 15:34:39,641 - app.services.ai_recommendation_generator - INFO - 🔤 Tokens: 3594
2025-10-09 15:34:39,642 - app.services.ai_recommendation_generator - INFO - 🚀 [AI GENERATOR] Starting automatic CV tailoring for Australia_for_UNHCR
2025-10-09 15:34:39,642 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:34:39,644 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded CV optimization framework from /Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/tailored_cv/prompts/framework.md
2025-10-09 15:34:39,644 - app.tailored_cv.services.cv_tailoring_service - INFO - Loading real data for Australia_for_UNHCR
2025-10-09 15:34:39,644 - app.tailored_cv.services.cv_tailoring_service - INFO - Company folder: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 15:34:39,645 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:34:39,645 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:34:39,645 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/simran@gmail.com/cv-analysis
2025-10-09 15:34:39,646 - app.tailored_cv.services.cv_tailoring_service - INFO - 📄 [TAILORING] Using latest CV via unified selector → type=original, ts=None, path=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 15:34:39,646 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [DEBUG] Loading CV from user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 15:34:39,646 - app.tailored_cv.services.cv_tailoring_service - INFO - - First 200 chars: {   "personal_information": {     "name": "Maheshwor Tiwari",     "phone": "0414 032 507",     "email": "maheshtwari99@gmail.com",     "location": "Hurstville, NSW, 2220",     "linkedin": "LinkedIn", 
2025-10-09 15:34:39,646 - app.tailored_cv.services.recommendation_parser - INFO - 📂 Loading CV from: user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 15:34:39,647 - app.tailored_cv.services.recommendation_parser - INFO - 📋 CV format check:
2025-10-09 15:34:39,647 - app.tailored_cv.services.recommendation_parser - INFO -   - Top-level keys: ['personal_information', 'career_profile', 'skills', 'education', 'experience', 'projects', 'certifications', 'languages', 'awards', 'publications', 'volunteer_work', 'professional_memberships', 'unknown_sections', 'original_sections', 'saved_at', 'metadata']
2025-10-09 15:34:39,647 - app.tailored_cv.services.recommendation_parser - INFO -   - Has metadata: True
2025-10-09 15:34:39,647 - app.tailored_cv.services.recommendation_parser - INFO -   - Source file: maheshwor_tiwari.pdf
2025-10-09 15:34:39,647 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing version: 1.0
2025-10-09 15:34:39,647 - app.tailored_cv.services.recommendation_parser - INFO - 🔍 [CV_PARSER] Detailed CV structure analysis:
2025-10-09 15:34:39,648 - app.tailored_cv.services.recommendation_parser - INFO -   - Has contact: False
2025-10-09 15:34:39,648 - app.tailored_cv.services.recommendation_parser - INFO -   - Has experience: True
2025-10-09 15:34:39,648 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience type: <class 'list'>
2025-10-09 15:34:39,648 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience count: 6
2025-10-09 15:34:39,648 - app.tailored_cv.services.recommendation_parser - INFO -   - First experience keys: ['title', 'company', 'duration', 'location', 'responsibilities', 'achievements', 'technologies']
2025-10-09 15:34:39,648 - app.tailored_cv.services.recommendation_parser - INFO -   - Has skills: True
2025-10-09 15:34:39,648 - app.tailored_cv.services.recommendation_parser - INFO -   - Skills type: <class 'dict'>
2025-10-09 15:34:39,648 - app.tailored_cv.services.recommendation_parser - INFO -   - Skills count: Not a list
2025-10-09 15:34:39,649 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Detected structured CV format
2025-10-09 15:34:39,649 - app.tailored_cv.services.recommendation_parser - INFO - 📊 Structure overview:
2025-10-09 15:34:39,649 - app.tailored_cv.services.recommendation_parser - INFO -   - Skills sections: ['technical_skills', 'key_skills', 'soft_skills', 'domain_expertise']
2025-10-09 15:34:39,649 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience entries: 6
2025-10-09 15:34:39,649 - app.tailored_cv.services.recommendation_parser - INFO -   - Education entries: 3
2025-10-09 15:34:39,649 - app.tailored_cv.services.recommendation_parser - INFO -   - Projects: 0
2025-10-09 15:34:39,649 - app.tailored_cv.services.recommendation_parser - INFO - 🔄 Starting structured CV conversion
2025-10-09 15:34:39,650 - app.tailored_cv.services.recommendation_parser - INFO - 📊 Input data validation:
2025-10-09 15:34:39,650 - app.tailored_cv.services.recommendation_parser - INFO - 👤 Converting contact information
2025-10-09 15:34:39,650 - app.tailored_cv.services.recommendation_parser - INFO -   - Source fields: ['name', 'phone', 'email', 'location', 'linkedin', 'github', 'portfolio_links', 'residency_status', 'open_to']
2025-10-09 15:34:39,650 - app.tailored_cv.services.recommendation_parser - INFO -   - Mapped fields: ['name', 'email', 'phone', 'location', 'linkedin', 'website']
2025-10-09 15:34:39,650 - app.tailored_cv.services.recommendation_parser - INFO -   - Contact completeness: 100.0%
2025-10-09 15:34:39,650 - app.tailored_cv.services.recommendation_parser - INFO -   - LinkedIn: LinkedIn
2025-10-09 15:34:39,650 - app.tailored_cv.services.recommendation_parser - INFO -   - Website: GitHub
2025-10-09 15:34:39,650 - app.tailored_cv.services.recommendation_parser - INFO - 💼 Converting experience entries
2025-10-09 15:34:39,651 - app.tailored_cv.services.recommendation_parser - INFO -   - Found 6 experience entries
2025-10-09 15:34:39,651 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 1/6
2025-10-09 15:34:39,651 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: The Bitrates
2025-10-09 15:34:39,651 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Data Analyst
2025-10-09 15:34:39,651 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Jul 2024 to Present
2025-10-09 15:34:39,651 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 5
2025-10-09 15:34:39,651 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 2/6
2025-10-09 15:34:39,651 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: iBuild Building Solutions
2025-10-09 15:34:39,652 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Data Analyst
2025-10-09 15:34:39,652 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Mar 2024 to Jun 2024
2025-10-09 15:34:39,652 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 4
2025-10-09 15:34:39,652 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 3/6
2025-10-09 15:34:39,652 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: Property Console
2025-10-09 15:34:39,652 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Software engineer and Analyst
2025-10-09 15:34:39,652 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Jun 2023 to Nov 2023
2025-10-09 15:34:39,652 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 4
2025-10-09 15:34:39,652 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 4/6
2025-10-09 15:34:39,653 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: CY Cergy Paris University
2025-10-09 15:34:39,653 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Research Assistant
2025-10-09 15:34:39,653 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Oct 2018 to Sep 2022
2025-10-09 15:34:39,653 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 3
2025-10-09 15:34:39,653 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 5/6
2025-10-09 15:34:39,653 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: CY Cergy Paris University
2025-10-09 15:34:39,653 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Lecturer and Course Facilitator
2025-10-09 15:34:39,653 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Sep 2019 to Jun 2022
2025-10-09 15:34:39,654 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 3
2025-10-09 15:34:39,654 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 6/6
2025-10-09 15:34:39,654 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: CY Cergy Paris University
2025-10-09 15:34:39,654 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Research Intern
2025-10-09 15:34:39,654 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Feb 2018 to Jun 2018
2025-10-09 15:34:39,654 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 3
2025-10-09 15:34:39,654 - app.tailored_cv.services.recommendation_parser - INFO - Converted 6 experience entries
2025-10-09 15:34:39,654 - app.tailored_cv.services.recommendation_parser - INFO - 🔧 Converting skills section
2025-10-09 15:34:39,655 - app.tailored_cv.services.recommendation_parser - INFO -   - Source skill categories: ['technical_skills', 'key_skills', 'soft_skills', 'domain_expertise']
2025-10-09 15:34:39,655 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing technical skills:
2025-10-09 15:34:39,655 - app.tailored_cv.services.recommendation_parser - INFO -     • Extracted 5 unique technical skills
2025-10-09 15:34:39,655 - app.tailored_cv.services.recommendation_parser - INFO -     • Skills: Data Analysis, Python, SQL, Excel, Power BI
2025-10-09 15:34:39,655 - app.tailored_cv.services.recommendation_parser - INFO - Converted 1 skill categories
2025-10-09 15:34:39,655 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Conversion complete - Validating output
2025-10-09 15:34:39,655 - app.tailored_cv.services.recommendation_parser - INFO - ✓ Experience: 6 entries
2025-10-09 15:34:39,655 - app.tailored_cv.services.recommendation_parser - INFO - ✓ Skills: 1 categories
2025-10-09 15:34:39,656 - app.tailored_cv.services.recommendation_parser - INFO -   • Technical Skills: 5 skills
2025-10-09 15:34:39,656 - app.tailored_cv.services.recommendation_parser - INFO - ✨ Validation passed - All required sections present
2025-10-09 15:34:39,656 - app.tailored_cv.services.recommendation_parser - INFO - 🎓 Converting education entries
2025-10-09 15:34:39,656 - app.tailored_cv.services.recommendation_parser - INFO -   - Found 3 education entries
2025-10-09 15:34:39,656 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing education 1/3
2025-10-09 15:34:39,656 - app.tailored_cv.services.recommendation_parser - INFO -     • Institution: Charles Darwin University, Sydney, Australia
2025-10-09 15:34:39,656 - app.tailored_cv.services.recommendation_parser - INFO -     • Degree: Master of Data Science
2025-10-09 15:34:39,656 - app.tailored_cv.services.recommendation_parser - INFO -     • Graduation date: Mar 2023 - Nov 2024
2025-10-09 15:34:39,656 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing education 2/3
2025-10-09 15:34:39,657 - app.tailored_cv.services.recommendation_parser - INFO -     • Institution: CY Cergy Paris University, Cergy, France
2025-10-09 15:34:39,657 - app.tailored_cv.services.recommendation_parser - INFO -     • Degree: PhD in Physics
2025-10-09 15:34:39,657 - app.tailored_cv.services.recommendation_parser - INFO -     • Graduation date: Oct 2018 - Sep 2022
2025-10-09 15:34:39,657 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing education 3/3
2025-10-09 15:34:39,657 - app.tailored_cv.services.recommendation_parser - INFO -     • Institution: CY Cergy Paris University, Cergy, France
2025-10-09 15:34:39,657 - app.tailored_cv.services.recommendation_parser - INFO -     • Degree: Master of Theoretical Physics
2025-10-09 15:34:39,657 - app.tailored_cv.services.recommendation_parser - INFO -     • Graduation date: Sep 2016 - Jun 2018
2025-10-09 15:34:39,657 - app.tailored_cv.services.recommendation_parser - INFO - Converted 3 education entries
2025-10-09 15:34:39,658 - app.tailored_cv.services.recommendation_parser - INFO - 📤 Returning converted CV data:
2025-10-09 15:34:39,658 - app.tailored_cv.services.recommendation_parser - INFO -   - Contact fields: ['name', 'email', 'phone', 'location', 'linkedin', 'website']
2025-10-09 15:34:39,658 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience entries: 6
2025-10-09 15:34:39,658 - app.tailored_cv.services.recommendation_parser - INFO -   - Skill categories: 1
2025-10-09 15:34:39,658 - app.tailored_cv.services.recommendation_parser - INFO -   - Education entries: 3
2025-10-09 15:34:39,658 - app.tailored_cv.services.cv_tailoring_service - INFO - - Parsed CV data keys: ['contact', 'experience', 'skills', 'education']
2025-10-09 15:34:39,658 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Skills already in SkillCategory format
2025-10-09 15:34:39,659 - app.tailored_cv.services.cv_tailoring_service - INFO - - Final CV object attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__repr__', '__repr_args__', '__repr_name__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_check_frozen', '_copy_and_set_values', '_get_value', '_iter', 'construct', 'contact', 'copy', 'created_at', 'dict', 'education', 'experience', 'experience_level', 'from_orm', 'json', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'projects', 'schema', 'schema_json', 'skills', 'total_years_experience', 'update_forward_refs', 'updated_at', 'validate']
2025-10-09 15:34:39,664 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Parsed recommendation for Australia_for_UNHCR
2025-10-09 15:34:39,664 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded real CV and recommendation for Australia_for_UNHCR
2025-10-09 15:34:39,665 - app.tailored_cv.services.cv_tailoring_service - INFO - 🎯 Starting CV tailoring for Australia_for_UNHCR - Senior Data Analyst
2025-10-09 15:34:39,665 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [DEBUG] Validating CV structure:
2025-10-09 15:34:39,665 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV object type: <class 'app.tailored_cv.models.cv_models.OriginalCV'>
2025-10-09 15:34:39,665 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__repr__', '__repr_args__', '__repr_name__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_check_frozen', '_copy_and_set_values', '_get_value', '_iter', 'construct', 'contact', 'copy', 'created_at', 'dict', 'education', 'experience', 'experience_level', 'from_orm', 'json', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'projects', 'schema', 'schema_json', 'skills', 'total_years_experience', 'update_forward_refs', 'updated_at', 'validate']
2025-10-09 15:34:39,666 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV data: {
  "contact": {
    "name": "Maheshwor Tiwari",
    "phone": "0414 032 507",
    "email": "maheshtwari99@gmail.com",
    "linkedin": "LinkedIn",
    "location": "Hurstville, NSW, 2220",
    "website": "GitHub"
  },
  "education": [
    {
      "institution": "Charles Darwin University, Sydney, Australia",
      "degree": "Master of Data Science",
      "location": "Sydney, Australia",
      "graduation_date": "Mar 2023 - Nov 2024",
      "gpa": "GPA",
      "relevant_coursework": [],
      "honors": []
    },
    {
      "institution": "CY Cergy Paris University, Cergy, France",
      "degree": "PhD in Physics",
      "location": "Cergy, France",
      "graduation_date": "Oct 2018 - Sep 2022",
      "gpa": "",
      "relevant_coursework": [],
      "honors": []
    },
    {
      "institution": "CY Cergy Paris University, Cergy, France",
      "degree": "Master of Theoretical Physics",
      "location": "Cergy, France",
      "graduation_date": "Sep 2016 - Jun 2018",
      "gpa": "",
      "relevant_coursework": [],
      "honors": []
    }
  ],
  "experience": [
    {
      "company": "The Bitrates",
      "title": "Data Analyst",
      "location": "",
      "start_date": "Jul 2024",
      "end_date": "Present",
      "duration": null,
      "bullets": [
        "Designed and implemented Python scripts for data cleaning, preprocessing, and analysis, improving data pipeline efficiency by 30%.",
        "Developed machine learning models in Python for predictive analytics, enabling data-driven business decisions.",
        "Leveraged AI techniques to automate repetitive tasks, reducing manual effort and improving productivity.",
        "Built dynamic dashboards and visualizations using Python libraries like Matplotlib and Seaborn to communicate insights effectively.",
        "Integrated Google Analytics data with Python for advanced analysis, enhancing customer behavior insights."
      ],
      "skills_used": null
    },
    {
      "company": "iBuild Building Solutions",
      "title": "Data Analyst",
      "location": "",
      "start_date": "Mar 2024",
      "end_date": "Jun 2024",
      "duration": null,
      "bullets": [
        "Automated data extraction and structuring of population datasets using Python, improving data accuracy and team collaboration.",
        "Analyzed customer support data with Python to optimize response times and enhance operational efficiency.",
        "Developed Python-based solutions to generate actionable insights, meeting strict deadlines for strategic decision-making.",
        "Designed Python scripts to create dynamic reports and dashboards, significantly improving customer satisfaction and decision-making processes."
      ],
      "skills_used": null
    },
    {
      "company": "Property Console",
      "title": "Software engineer and Analyst",
      "location": "",
      "start_date": "Jun 2023",
      "end_date": "Nov 2023",
      "duration": null,
      "bullets": [
        "Built Python scripts to track key metrics, ensuring 99% data accuracy and improving data integrity and operational efficiency.",
        "Collaborated with the development team to enhance analytics capabilities, using Python to improve data processing speed by 25%.",
        "Leveraged Python for data preprocessing and analysis, producing Tableau dashboards that improved decision-making.",
        "Supported cross-functional teams with Python-driven insights, enabling customer-focused initiatives."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Research Assistant",
      "location": "",
      "start_date": "Oct 2018",
      "end_date": "Sep 2022",
      "duration": null,
      "bullets": [
        "Utilized advanced Python programming for computational modeling and solving complex research problems.",
        "Developed Python-based workflows to manage and analyze large datasets across multiple research projects.",
        "Presented Python-enabled research findings at international conferences, demonstrating technical expertise and communication skills."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Lecturer and Course Facilitator",
      "location": "",
      "start_date": "Sep 2019",
      "end_date": "Jun 2022",
      "duration": null,
      "bullets": [
        "Led engaging physics tutorials for master\u2019s students, enhancing understanding and promoting teamwork.",
        "Designed course materials, assignments, and exams, strengthening the learning experience.",
        "Mentored students on projects, collaborated with faculty, and fostered student engagement."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Research Intern",
      "location": "",
      "start_date": "Feb 2018",
      "end_date": "Jun 2018",
      "duration": null,
      "bullets": [
        "Developed proficiency in Python programming by researching the effect of magnetic fields on 2D materials.",
        "Managed and analyzed complex data sets, improving their accuracy and reliability.",
        "Used dashboard using Power BI to present research findings and participated in weekly reviews, improving collaboration and research skills."
      ],
      "skills_used": null
    }
  ],
  "projects": null,
  "skills": [
    {
      "category": "Technical Skills",
      "skills": [
        "Data Analysis",
        "Python",
        "SQL",
        "Excel",
        "Power BI"
      ]
    }
  ],
  "experience_level": null,
  "total_years_experience": null,
  "created_at": null,
  "updated_at": null
}
2025-10-09 15:34:39,666 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [CV_VALIDATION] Starting detailed validation:
2025-10-09 15:34:39,666 - app.tailored_cv.services.cv_tailoring_service - INFO - - Has contact: True
2025-10-09 15:34:39,666 - app.tailored_cv.services.cv_tailoring_service - INFO - - Contact name: Maheshwor Tiwari
2025-10-09 15:34:39,666 - app.tailored_cv.services.cv_tailoring_service - INFO - - Contact email: maheshtwari99@gmail.com
2025-10-09 15:34:39,666 - app.tailored_cv.services.cv_tailoring_service - INFO - - Has experience: True
2025-10-09 15:34:39,667 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience count: 6
2025-10-09 15:34:39,667 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 1: company=The Bitrates, bullets=5
2025-10-09 15:34:39,667 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 2: company=iBuild Building Solutions, bullets=4
2025-10-09 15:34:39,667 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 3: company=Property Console, bullets=4
2025-10-09 15:34:39,667 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 4: company=CY Cergy Paris University, bullets=3
2025-10-09 15:34:39,667 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 5: company=CY Cergy Paris University, bullets=3
2025-10-09 15:34:39,667 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 6: company=CY Cergy Paris University, bullets=3
2025-10-09 15:34:39,667 - app.tailored_cv.services.cv_tailoring_service - INFO - - Has skills: True
2025-10-09 15:34:39,668 - app.tailored_cv.services.cv_tailoring_service - INFO - - Skills count: 1
2025-10-09 15:34:39,668 - app.tailored_cv.services.cv_tailoring_service - INFO - - Skill category 1: Technical Skills, skills=5
2025-10-09 15:34:39,668 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [CV_VALIDATION] Checking required fields:
2025-10-09 15:34:39,668 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Contact name present: Maheshwor Tiwari
2025-10-09 15:34:39,668 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Contact email present: maheshtwari99@gmail.com
2025-10-09 15:34:39,668 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Experience entries present: 6
2025-10-09 15:34:39,668 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Skills section present: 1 categories
2025-10-09 15:34:39,669 - app.tailored_cv.services.cv_tailoring_service - INFO - [7808828a] 🎯 Starting CV tailoring for Australia_for_UNHCR with strategy: education_last
2025-10-09 15:34:39,669 - app.tailored_cv.services.cv_tailoring_service - INFO - [7808828a] Initial stats:
2025-10-09 15:34:39,670 - app.tailored_cv.services.cv_tailoring_service - INFO - [7808828a] - Experience entries: 6
2025-10-09 15:34:39,670 - app.tailored_cv.services.cv_tailoring_service - INFO - [7808828a] - Total bullets: 22
2025-10-09 15:34:39,670 - app.tailored_cv.services.cv_tailoring_service - INFO - [7808828a] - Skills categories: 1
2025-10-09 15:34:39,670 - app.tailored_cv.services.cv_tailoring_service - INFO - [7808828a] - Total skills: 5
2025-10-09 15:34:39,670 - app.tailored_cv.services.cv_tailoring_service - INFO - [7808828a] Critical gaps to address: Business Intelligence, Detail-oriented
2025-10-09 15:34:39,670 - app.tailored_cv.services.cv_tailoring_service - INFO - [7808828a] Technical enhancements needed: 
2025-10-09 15:34:39,671 - app.tailored_cv.services.cv_tailoring_service - INFO - [7808828a] 🤖 Generating tailored CV using AI service...
2025-10-09 15:34:39,671 - app.tailored_cv.services.cv_tailoring_service - INFO - [7808828a] Attempt 1/5 with temp=0.0
2025-10-09 15:34:39,671 - app.tailored_cv.services.cv_tailoring_service - INFO - [7808828a] - System prompt length: 10574
2025-10-09 15:34:39,671 - app.tailored_cv.services.cv_tailoring_service - INFO - [7808828a] - User prompt length: 12299
2025-10-09 15:34:39,671 - app.tailored_cv.services.cv_tailoring_service - ERROR - ❌ CV tailoring failed: generate_response() missing 1 required positional argument: 'user'
2025-10-09 15:34:39,671 - app.services.ai_recommendation_generator - ERROR - ❌ [AI GENERATOR] Error during automatic CV tailoring for Australia_for_UNHCR: CV tailoring process failed: generate_response() missing 1 required positional argument: 'user'
2025-10-09 15:34:39,672 - app.services.ai_recommendation_generator - WARNING - ⚠️ [AI GENERATOR] CV tailoring failed for Australia_for_UNHCR
2025-10-09 15:34:39,672 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] AI recommendation generated for Australia_for_UNHCR
2025-10-09 15:34:39,672 - app.routes.skills_analysis - INFO - 🎯 [PIPELINE] Starting tailored CV generation for Australia_for_UNHCR
2025-10-09 15:34:39,672 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:34:39,672 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded CV optimization framework from /Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/tailored_cv/prompts/framework.md
2025-10-09 15:34:39,673 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:34:39,673 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Found AI recommendation file: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_153439.json
2025-10-09 15:34:39,673 - app.routes.skills_analysis - WARNING - ⚠️ [PIPELINE] No tailored CV found for Australia_for_UNHCR
2025-10-09 15:34:39,673 - app.routes.skills_analysis - INFO - 📋 [PIPELINE] Pipeline summary for Australia_for_UNHCR:
2025-10-09 15:34:39,674 - app.routes.skills_analysis - INFO -    ✅ Successful: ['jd_analysis', 'cv_jd_matching', 'component_analysis', 'input_recommendation', 'ai_recommendation']
2025-10-09 15:34:39,674 - app.routes.skills_analysis - INFO -    ❌ Failed: ['tailored_cv']
2025-10-09 15:34:39,674 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-09 15:34:39,676 - app.services.ai_recommendation_generator - INFO - 🟢 [AI GENERATOR] Latest AI recommendation (Australia_for_UNHCR_ai_recommendation_20251009_153439.json) is up-to-date vs input (Australia_for_UNHCR_input_recommendation_20251009_153434.json); skipping regeneration
2025-10-09 15:34:39,676 - app.services.ats_recommendation_service - INFO - ✅ [TRIGGER] AI recommendation generated successfully for Australia_for_UNHCR
2025-10-09 15:34:39,676 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-09 15:34:39,677 - app.services.ai_recommendation_generator - INFO - 🟢 [AI GENERATOR] Latest AI recommendation (Australia_for_UNHCR_ai_recommendation_20251009_153439.json) is up-to-date vs input (Australia_for_UNHCR_input_recommendation_20251009_153434.json); skipping regeneration
2025-10-09 15:34:39,677 - app.services.ats_recommendation_service - INFO - ✅ [TRIGGER] AI recommendation generated successfully for Australia_for_UNHCR
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 15:34:39,780 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [90957]
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=original, ts=00000000_000000, mtime=1759984358.0670488, json=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=original, ts=00000000_000000, json=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.txt
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [92918]
INFO:     Waiting for application startup.
2025-10-09 15:34:45,063 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 15:34:45,393 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 15:34:45,393 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 15:34:45,393 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:34:45,393 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:34:45,436 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 15:34:45,436 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 15:34:45,437 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:34:45,437 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:34:45,482 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 15:34:45,482 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 15:34:45,482 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:34:45,482 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:34:45,524 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:34:45,524 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:34:45,525 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 15:34:45,525 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 15:34:45,526 INFO sqlalchemy.engine.Engine [generated in 0.00209s] {}
2025-10-09 15:34:45,526 - sqlalchemy.engine.Engine - INFO - [generated in 0.00209s] {}
2025-10-09 15:34:45,562 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:34:45,562 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:34:45,580 - app.database - INFO - Database connection successful
2025-10-09 15:34:45,580 - app.main - INFO - ✅ Database connection successful
2025-10-09 15:34:45,600 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:34:45,600 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:34:45,606 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:34:45,606 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:34:45,607 INFO sqlalchemy.engine.Engine [generated in 0.00051s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:34:45,607 - sqlalchemy.engine.Engine - INFO - [generated in 0.00051s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:34:45,650 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:34:45,650 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:34:45,651 INFO sqlalchemy.engine.Engine [cached since 0.0447s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:34:45,651 - sqlalchemy.engine.Engine - INFO - [cached since 0.0447s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:34:45,676 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:34:45,676 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:34:45,677 INFO sqlalchemy.engine.Engine [cached since 0.07061s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:34:45,677 - sqlalchemy.engine.Engine - INFO - [cached since 0.07061s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:34:45,700 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:34:45,700 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:34:45,700 INFO sqlalchemy.engine.Engine [cached since 0.09402s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:34:45,700 - sqlalchemy.engine.Engine - INFO - [cached since 0.09402s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:34:45,724 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:34:45,724 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:34:45,726 INFO sqlalchemy.engine.Engine [cached since 0.1202s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:34:45,726 - sqlalchemy.engine.Engine - INFO - [cached since 0.1202s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:34:45,747 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:34:45,747 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:34:45,747 INFO sqlalchemy.engine.Engine [cached since 0.1414s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:34:45,747 - sqlalchemy.engine.Engine - INFO - [cached since 0.1414s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:34:45,770 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:34:45,770 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:34:45,771 INFO sqlalchemy.engine.Engine [cached since 0.165s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:34:45,771 - sqlalchemy.engine.Engine - INFO - [cached since 0.165s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:34:45,795 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:34:45,795 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:34:45,795 INFO sqlalchemy.engine.Engine [cached since 0.1891s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:34:45,795 - sqlalchemy.engine.Engine - INFO - [cached since 0.1891s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:34:45,813 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:34:45,813 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:34:45,814 INFO sqlalchemy.engine.Engine [cached since 0.2077s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:34:45,814 - sqlalchemy.engine.Engine - INFO - [cached since 0.2077s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:34:45,838 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:34:45,838 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:34:45,839 INFO sqlalchemy.engine.Engine [cached since 0.2327s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:34:45,839 - sqlalchemy.engine.Engine - INFO - [cached since 0.2327s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:34:45,861 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:34:45,861 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:34:45,862 INFO sqlalchemy.engine.Engine [cached since 0.2556s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:34:45,862 - sqlalchemy.engine.Engine - INFO - [cached since 0.2556s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:34:45,885 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 15:34:45,885 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 15:34:45,903 - app.database - INFO - Database tables created successfully
2025-10-09 15:34:45,903 - app.main - INFO - ✅ Database tables ready
2025-10-09 15:34:45,904 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 15:34:45,904 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
INFO:     127.0.0.1:50108 - "OPTIONS /api/analysis-results/Australia_for_UNHCR HTTP/1.1" 200 OK
2025-10-09 15:34:45,917 - app.routes.skills_analysis - INFO - 📊 [API] Fetching analysis results for company: Australia_for_UNHCR
2025-10-09 15:34:45,918 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:34:45,918 - app.utils.path_debug - INFO - 
📌 Starting get_analysis_results
2025-10-09 15:34:45,918 - app.utils.path_debug - INFO -   📂 User base dir: user/simran@gmail.com/cv-analysis
2025-10-09 15:34:45,918 - app.utils.path_debug - INFO -   📂 Company dir: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 15:34:45,921 - app.utils.path_debug - INFO -   📂 Using analysis file: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_153333.json
2025-10-09 15:34:45,923 - app.utils.path_debug - INFO -   ✅ Loaded analysis file, size: 34692 bytes
INFO:     127.0.0.1:50108 - "GET /api/analysis-results/Australia_for_UNHCR HTTP/1.1" 200 OK
2025-10-09 15:34:59,738 - app.routes.skills_analysis - INFO - 📊 [API] Fetching analysis results for company: Australia_for_UNHCR
2025-10-09 15:34:59,738 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:34:59,739 - app.utils.path_debug - INFO - 
📌 Starting get_analysis_results
2025-10-09 15:34:59,739 - app.utils.path_debug - INFO -   📂 User base dir: user/simran@gmail.com/cv-analysis
2025-10-09 15:34:59,739 - app.utils.path_debug - INFO -   📂 Company dir: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 15:34:59,739 - app.utils.path_debug - INFO -   📂 Using analysis file: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_153333.json
2025-10-09 15:34:59,740 - app.utils.path_debug - INFO -   ✅ Loaded analysis file, size: 34692 bytes
INFO:     127.0.0.1:50116 - "GET /api/analysis-results/Australia_for_UNHCR HTTP/1.1" 200 OK
INFO:     127.0.0.1:50143 - "OPTIONS /api/ai-recommendations/company/Australia_for_UNHCR HTTP/1.1" 200 OK
2025-10-09 15:35:21,764 - app.routes.ai_recommendations - INFO - 🔍 [AI_RECOMMENDATIONS] Fetching for company: Australia_for_UNHCR, user: simran@gmail.com
2025-10-09 15:35:21,765 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:35:21,765 - app.routes.ai_recommendations - INFO - 🔍 [AI_RECOMMENDATIONS] Searching in: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 15:35:21,765 - app.routes.ai_recommendations - INFO - ✅ [AI_RECOMMENDATIONS] Found file: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_153439.json
2025-10-09 15:35:21,766 - app.routes.ai_recommendations - INFO - ✅ [AI_RECOMMENDATIONS] Successfully loaded recommendation, content length: 2866
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
INFO:     127.0.0.1:50143 - "GET /api/ai-recommendations/company/Australia_for_UNHCR HTTP/1.1" 200 OK
INFO:     127.0.0.1:50370 - "OPTIONS /api/tailored-cv/available-companies-real HTTP/1.1" 200 OK
2025-10-09 15:40:27,033 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
INFO:     127.0.0.1:50372 - "GET /api/tailored-cv/available-companies-real HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'app/tailored_cv/services/cv_tailoring_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 15:41:22,914 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [92918]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [94453]
INFO:     Waiting for application startup.
2025-10-09 15:41:29,925 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 15:41:30,240 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 15:41:30,240 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 15:41:30,241 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:41:30,241 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:41:30,279 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 15:41:30,279 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 15:41:30,279 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:41:30,279 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:41:30,322 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 15:41:30,322 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 15:41:30,323 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:41:30,323 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:41:30,365 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:41:30,365 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:41:30,366 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 15:41:30,366 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 15:41:30,366 INFO sqlalchemy.engine.Engine [generated in 0.00065s] {}
2025-10-09 15:41:30,366 - sqlalchemy.engine.Engine - INFO - [generated in 0.00065s] {}
2025-10-09 15:41:30,399 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:41:30,399 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:41:30,420 - app.database - INFO - Database connection successful
2025-10-09 15:41:30,420 - app.main - INFO - ✅ Database connection successful
2025-10-09 15:41:30,440 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:41:30,440 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:41:30,447 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:41:30,447 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:41:30,447 INFO sqlalchemy.engine.Engine [generated in 0.00054s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:41:30,447 - sqlalchemy.engine.Engine - INFO - [generated in 0.00054s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:41:30,487 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:41:30,487 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:41:30,487 INFO sqlalchemy.engine.Engine [cached since 0.04043s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:41:30,487 - sqlalchemy.engine.Engine - INFO - [cached since 0.04043s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:41:30,509 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:41:30,509 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:41:30,510 INFO sqlalchemy.engine.Engine [cached since 0.06331s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:41:30,510 - sqlalchemy.engine.Engine - INFO - [cached since 0.06331s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:41:30,530 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:41:30,530 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:41:30,531 INFO sqlalchemy.engine.Engine [cached since 0.08421s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:41:30,531 - sqlalchemy.engine.Engine - INFO - [cached since 0.08421s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:41:30,553 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:41:30,553 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:41:30,553 INFO sqlalchemy.engine.Engine [cached since 0.1069s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:41:30,553 - sqlalchemy.engine.Engine - INFO - [cached since 0.1069s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:41:30,576 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:41:30,576 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:41:30,576 INFO sqlalchemy.engine.Engine [cached since 0.1299s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:41:30,576 - sqlalchemy.engine.Engine - INFO - [cached since 0.1299s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:41:30,592 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:41:30,592 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:41:30,593 INFO sqlalchemy.engine.Engine [cached since 0.1465s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:41:30,593 - sqlalchemy.engine.Engine - INFO - [cached since 0.1465s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:41:30,614 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:41:30,614 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:41:30,614 INFO sqlalchemy.engine.Engine [cached since 0.1677s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:41:30,614 - sqlalchemy.engine.Engine - INFO - [cached since 0.1677s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:41:30,636 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:41:30,636 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:41:30,637 INFO sqlalchemy.engine.Engine [cached since 0.1901s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:41:30,637 - sqlalchemy.engine.Engine - INFO - [cached since 0.1901s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:41:30,653 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:41:30,653 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:41:30,654 INFO sqlalchemy.engine.Engine [cached since 0.2071s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:41:30,654 - sqlalchemy.engine.Engine - INFO - [cached since 0.2071s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:41:30,674 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:41:30,674 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:41:30,674 INFO sqlalchemy.engine.Engine [cached since 0.2278s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:41:30,674 - sqlalchemy.engine.Engine - INFO - [cached since 0.2278s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:41:30,696 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 15:41:30,696 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 15:41:30,713 - app.database - INFO - Database tables created successfully
2025-10-09 15:41:30,714 - app.main - INFO - ✅ Database tables ready
2025-10-09 15:41:30,714 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 15:41:30,714 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
2025-10-09 15:41:34,815 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🎯 CV tailoring with real data for user 93d2b2fe-c1a7-4dd5-8006-199a4fe3e860 - Australia_for_UNHCR
2025-10-09 15:41:34,816 - app.tailored_cv.routes.cv_tailoring_routes - ERROR - ❌ CV tailoring with real data failed: name 'cv_tailoring_service' is not defined
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
INFO:     127.0.0.1:50497 - "POST /api/tailored-cv/tailor-with-real-data/Australia_for_UNHCR HTTP/1.1" 500 Internal Server Error
WARNING:  WatchFiles detected changes in 'app/tailored_cv/routes/cv_tailoring_routes.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 15:41:47,888 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [94453]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [95986]
INFO:     Waiting for application startup.
2025-10-09 15:41:53,406 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 15:41:53,700 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 15:41:53,700 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 15:41:53,700 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:41:53,700 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:41:53,749 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 15:41:53,749 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 15:41:53,750 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:41:53,750 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:41:53,783 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 15:41:53,783 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 15:41:53,784 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:41:53,784 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:41:53,825 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:41:53,825 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:41:53,826 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 15:41:53,826 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 15:41:53,826 INFO sqlalchemy.engine.Engine [generated in 0.00072s] {}
2025-10-09 15:41:53,826 - sqlalchemy.engine.Engine - INFO - [generated in 0.00072s] {}
2025-10-09 15:41:53,868 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:41:53,868 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:41:53,886 - app.database - INFO - Database connection successful
2025-10-09 15:41:53,887 - app.main - INFO - ✅ Database connection successful
2025-10-09 15:41:53,905 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:41:53,905 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:41:53,912 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:41:53,912 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:41:53,913 INFO sqlalchemy.engine.Engine [generated in 0.00047s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:41:53,913 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:41:53,954 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:41:53,954 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:41:53,954 INFO sqlalchemy.engine.Engine [cached since 0.04191s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:41:53,954 - sqlalchemy.engine.Engine - INFO - [cached since 0.04191s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:41:53,978 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:41:53,978 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:41:53,978 INFO sqlalchemy.engine.Engine [cached since 0.06627s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:41:53,978 - sqlalchemy.engine.Engine - INFO - [cached since 0.06627s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:41:54,002 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:41:54,002 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:41:54,002 INFO sqlalchemy.engine.Engine [cached since 0.08983s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:41:54,002 - sqlalchemy.engine.Engine - INFO - [cached since 0.08983s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:41:54,026 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:41:54,026 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:41:54,027 INFO sqlalchemy.engine.Engine [cached since 0.1147s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:41:54,027 - sqlalchemy.engine.Engine - INFO - [cached since 0.1147s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:41:54,053 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:41:54,053 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:41:54,053 INFO sqlalchemy.engine.Engine [cached since 0.1414s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:41:54,053 - sqlalchemy.engine.Engine - INFO - [cached since 0.1414s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:41:54,077 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:41:54,077 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:41:54,077 INFO sqlalchemy.engine.Engine [cached since 0.1652s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:41:54,077 - sqlalchemy.engine.Engine - INFO - [cached since 0.1652s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:41:54,100 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:41:54,100 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:41:54,101 INFO sqlalchemy.engine.Engine [cached since 0.1888s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:41:54,101 - sqlalchemy.engine.Engine - INFO - [cached since 0.1888s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:41:54,123 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:41:54,123 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:41:54,124 INFO sqlalchemy.engine.Engine [cached since 0.2122s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:41:54,124 - sqlalchemy.engine.Engine - INFO - [cached since 0.2122s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:41:54,146 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:41:54,146 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:41:54,146 INFO sqlalchemy.engine.Engine [cached since 0.2341s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:41:54,146 - sqlalchemy.engine.Engine - INFO - [cached since 0.2341s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:41:54,169 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:41:54,169 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:41:54,170 INFO sqlalchemy.engine.Engine [cached since 0.2576s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:41:54,170 - sqlalchemy.engine.Engine - INFO - [cached since 0.2576s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:41:54,192 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 15:41:54,192 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 15:41:54,208 - app.database - INFO - Database tables created successfully
2025-10-09 15:41:54,209 - app.main - INFO - ✅ Database tables ready
2025-10-09 15:41:54,209 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 15:41:54,210 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
2025-10-09 15:41:58,118 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🎯 CV tailoring with real data for user 93d2b2fe-c1a7-4dd5-8006-199a4fe3e860 - Australia_for_UNHCR
2025-10-09 15:41:58,119 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:41:58,120 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded CV optimization framework from /Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/tailored_cv/prompts/framework.md
2025-10-09 15:41:58,120 - app.tailored_cv.routes.cv_tailoring_routes - INFO - Available companies: []
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
INFO:     127.0.0.1:50532 - "POST /api/tailored-cv/tailor-with-real-data/Australia_for_UNHCR HTTP/1.1" 404 Not Found
WARNING:  WatchFiles detected changes in 'app/tailored_cv/services/cv_tailoring_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 15:42:25,918 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [95986]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [98109]
INFO:     Waiting for application startup.
2025-10-09 15:42:31,278 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 15:42:31,544 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 15:42:31,544 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 15:42:31,544 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:42:31,544 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:42:31,579 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 15:42:31,579 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 15:42:31,579 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:42:31,579 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:42:31,620 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 15:42:31,620 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 15:42:31,620 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:42:31,620 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:42:31,661 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:42:31,661 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:42:31,661 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 15:42:31,661 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 15:42:31,661 INFO sqlalchemy.engine.Engine [generated in 0.00065s] {}
2025-10-09 15:42:31,661 - sqlalchemy.engine.Engine - INFO - [generated in 0.00065s] {}
2025-10-09 15:42:31,702 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:42:31,702 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:42:31,717 - app.database - INFO - Database connection successful
2025-10-09 15:42:31,717 - app.main - INFO - ✅ Database connection successful
2025-10-09 15:42:31,734 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:42:31,734 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:42:31,739 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:42:31,739 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:42:31,739 INFO sqlalchemy.engine.Engine [generated in 0.00059s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:42:31,739 - sqlalchemy.engine.Engine - INFO - [generated in 0.00059s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:42:31,776 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:42:31,776 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:42:31,777 INFO sqlalchemy.engine.Engine [cached since 0.03835s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:42:31,777 - sqlalchemy.engine.Engine - INFO - [cached since 0.03835s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:42:31,798 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:42:31,798 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:42:31,799 INFO sqlalchemy.engine.Engine [cached since 0.06026s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:42:31,799 - sqlalchemy.engine.Engine - INFO - [cached since 0.06026s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:42:31,821 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:42:31,821 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:42:31,821 INFO sqlalchemy.engine.Engine [cached since 0.08273s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:42:31,821 - sqlalchemy.engine.Engine - INFO - [cached since 0.08273s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:42:31,839 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:42:31,839 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:42:31,840 INFO sqlalchemy.engine.Engine [cached since 0.1014s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:42:31,840 - sqlalchemy.engine.Engine - INFO - [cached since 0.1014s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:42:31,863 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:42:31,863 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:42:31,863 INFO sqlalchemy.engine.Engine [cached since 0.1249s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:42:31,863 - sqlalchemy.engine.Engine - INFO - [cached since 0.1249s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:42:31,883 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:42:31,883 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:42:31,883 INFO sqlalchemy.engine.Engine [cached since 0.1448s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:42:31,883 - sqlalchemy.engine.Engine - INFO - [cached since 0.1448s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:42:31,906 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:42:31,906 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:42:31,907 INFO sqlalchemy.engine.Engine [cached since 0.1684s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:42:31,907 - sqlalchemy.engine.Engine - INFO - [cached since 0.1684s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:42:31,930 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:42:31,930 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:42:31,930 INFO sqlalchemy.engine.Engine [cached since 0.1918s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:42:31,930 - sqlalchemy.engine.Engine - INFO - [cached since 0.1918s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:42:31,951 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:42:31,951 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:42:31,951 INFO sqlalchemy.engine.Engine [cached since 0.2128s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:42:31,951 - sqlalchemy.engine.Engine - INFO - [cached since 0.2128s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:42:31,974 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:42:31,974 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:42:31,975 INFO sqlalchemy.engine.Engine [cached since 0.2363s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:42:31,975 - sqlalchemy.engine.Engine - INFO - [cached since 0.2363s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:42:31,998 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 15:42:31,998 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 15:42:32,019 - app.database - INFO - Database tables created successfully
2025-10-09 15:42:32,019 - app.main - INFO - ✅ Database tables ready
2025-10-09 15:42:32,019 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 15:42:32,019 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
2025-10-09 15:42:36,137 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🎯 CV tailoring with real data for user 93d2b2fe-c1a7-4dd5-8006-199a4fe3e860 - Australia_for_UNHCR
2025-10-09 15:42:36,137 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:42:36,138 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded CV optimization framework from /Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/tailored_cv/prompts/framework.md
2025-10-09 15:42:36,139 - app.tailored_cv.routes.cv_tailoring_routes - INFO - Available companies: ['Australia_for_UNHCR']
2025-10-09 15:42:36,140 - app.tailored_cv.services.cv_tailoring_service - INFO - Loading real data for Australia_for_UNHCR
2025-10-09 15:42:36,140 - app.tailored_cv.services.cv_tailoring_service - INFO - Company folder: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 15:42:36,140 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:42:36,140 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:42:36,141 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/simran@gmail.com/cv-analysis
2025-10-09 15:42:36,142 - app.tailored_cv.services.cv_tailoring_service - INFO - 📄 [TAILORING] Using latest CV via unified selector → type=original, ts=None, path=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 15:42:36,142 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [DEBUG] Loading CV from user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 15:42:36,143 - app.tailored_cv.services.cv_tailoring_service - INFO - - First 200 chars: {   "personal_information": {     "name": "Maheshwor Tiwari",     "phone": "0414 032 507",     "email": "maheshtwari99@gmail.com",     "location": "Hurstville, NSW, 2220",     "linkedin": "LinkedIn", 
2025-10-09 15:42:36,143 - app.tailored_cv.services.recommendation_parser - INFO - 📂 Loading CV from: user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 15:42:36,144 - app.tailored_cv.services.recommendation_parser - INFO - 📋 CV format check:
2025-10-09 15:42:36,144 - app.tailored_cv.services.recommendation_parser - INFO -   - Top-level keys: ['personal_information', 'career_profile', 'skills', 'education', 'experience', 'projects', 'certifications', 'languages', 'awards', 'publications', 'volunteer_work', 'professional_memberships', 'unknown_sections', 'original_sections', 'saved_at', 'metadata']
2025-10-09 15:42:36,144 - app.tailored_cv.services.recommendation_parser - INFO -   - Has metadata: True
2025-10-09 15:42:36,144 - app.tailored_cv.services.recommendation_parser - INFO -   - Source file: maheshwor_tiwari.pdf
2025-10-09 15:42:36,144 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing version: 1.0
2025-10-09 15:42:36,144 - app.tailored_cv.services.recommendation_parser - INFO - 🔍 [CV_PARSER] Detailed CV structure analysis:
2025-10-09 15:42:36,144 - app.tailored_cv.services.recommendation_parser - INFO -   - Has contact: False
2025-10-09 15:42:36,145 - app.tailored_cv.services.recommendation_parser - INFO -   - Has experience: True
2025-10-09 15:42:36,145 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience type: <class 'list'>
2025-10-09 15:42:36,145 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience count: 6
2025-10-09 15:42:36,145 - app.tailored_cv.services.recommendation_parser - INFO -   - First experience keys: ['title', 'company', 'duration', 'location', 'responsibilities', 'achievements', 'technologies']
2025-10-09 15:42:36,145 - app.tailored_cv.services.recommendation_parser - INFO -   - Has skills: True
2025-10-09 15:42:36,145 - app.tailored_cv.services.recommendation_parser - INFO -   - Skills type: <class 'dict'>
2025-10-09 15:42:36,146 - app.tailored_cv.services.recommendation_parser - INFO -   - Skills count: Not a list
2025-10-09 15:42:36,146 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Detected structured CV format
2025-10-09 15:42:36,146 - app.tailored_cv.services.recommendation_parser - INFO - 📊 Structure overview:
2025-10-09 15:42:36,146 - app.tailored_cv.services.recommendation_parser - INFO -   - Skills sections: ['technical_skills', 'key_skills', 'soft_skills', 'domain_expertise']
2025-10-09 15:42:36,146 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience entries: 6
2025-10-09 15:42:36,146 - app.tailored_cv.services.recommendation_parser - INFO -   - Education entries: 3
2025-10-09 15:42:36,146 - app.tailored_cv.services.recommendation_parser - INFO -   - Projects: 0
2025-10-09 15:42:36,146 - app.tailored_cv.services.recommendation_parser - INFO - 🔄 Starting structured CV conversion
2025-10-09 15:42:36,147 - app.tailored_cv.services.recommendation_parser - INFO - 📊 Input data validation:
2025-10-09 15:42:36,147 - app.tailored_cv.services.recommendation_parser - INFO - 👤 Converting contact information
2025-10-09 15:42:36,147 - app.tailored_cv.services.recommendation_parser - INFO -   - Source fields: ['name', 'phone', 'email', 'location', 'linkedin', 'github', 'portfolio_links', 'residency_status', 'open_to']
2025-10-09 15:42:36,147 - app.tailored_cv.services.recommendation_parser - INFO -   - Mapped fields: ['name', 'email', 'phone', 'location', 'linkedin', 'website']
2025-10-09 15:42:36,147 - app.tailored_cv.services.recommendation_parser - INFO -   - Contact completeness: 100.0%
2025-10-09 15:42:36,147 - app.tailored_cv.services.recommendation_parser - INFO -   - LinkedIn: LinkedIn
2025-10-09 15:42:36,147 - app.tailored_cv.services.recommendation_parser - INFO -   - Website: GitHub
2025-10-09 15:42:36,147 - app.tailored_cv.services.recommendation_parser - INFO - 💼 Converting experience entries
2025-10-09 15:42:36,148 - app.tailored_cv.services.recommendation_parser - INFO -   - Found 6 experience entries
2025-10-09 15:42:36,148 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 1/6
2025-10-09 15:42:36,148 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: The Bitrates
2025-10-09 15:42:36,148 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Data Analyst
2025-10-09 15:42:36,149 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Jul 2024 to Present
2025-10-09 15:42:36,149 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 5
2025-10-09 15:42:36,149 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 2/6
2025-10-09 15:42:36,149 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: iBuild Building Solutions
2025-10-09 15:42:36,149 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Data Analyst
2025-10-09 15:42:36,149 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Mar 2024 to Jun 2024
2025-10-09 15:42:36,149 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 4
2025-10-09 15:42:36,149 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 3/6
2025-10-09 15:42:36,150 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: Property Console
2025-10-09 15:42:36,150 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Software engineer and Analyst
2025-10-09 15:42:36,150 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Jun 2023 to Nov 2023
2025-10-09 15:42:36,150 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 4
2025-10-09 15:42:36,150 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 4/6
2025-10-09 15:42:36,150 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: CY Cergy Paris University
2025-10-09 15:42:36,150 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Research Assistant
2025-10-09 15:42:36,150 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Oct 2018 to Sep 2022
2025-10-09 15:42:36,150 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 3
2025-10-09 15:42:36,151 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 5/6
2025-10-09 15:42:36,151 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: CY Cergy Paris University
2025-10-09 15:42:36,151 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Lecturer and Course Facilitator
2025-10-09 15:42:36,151 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Sep 2019 to Jun 2022
2025-10-09 15:42:36,151 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 3
2025-10-09 15:42:36,151 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 6/6
2025-10-09 15:42:36,151 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: CY Cergy Paris University
2025-10-09 15:42:36,151 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Research Intern
2025-10-09 15:42:36,151 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Feb 2018 to Jun 2018
2025-10-09 15:42:36,152 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 3
2025-10-09 15:42:36,152 - app.tailored_cv.services.recommendation_parser - INFO - Converted 6 experience entries
2025-10-09 15:42:36,152 - app.tailored_cv.services.recommendation_parser - INFO - 🔧 Converting skills section
2025-10-09 15:42:36,152 - app.tailored_cv.services.recommendation_parser - INFO -   - Source skill categories: ['technical_skills', 'key_skills', 'soft_skills', 'domain_expertise']
2025-10-09 15:42:36,152 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing technical skills:
2025-10-09 15:42:36,152 - app.tailored_cv.services.recommendation_parser - INFO -     • Extracted 5 unique technical skills
2025-10-09 15:42:36,152 - app.tailored_cv.services.recommendation_parser - INFO -     • Skills: Python, Power BI, SQL, Excel, Data Analysis
2025-10-09 15:42:36,152 - app.tailored_cv.services.recommendation_parser - INFO - Converted 1 skill categories
2025-10-09 15:42:36,153 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Conversion complete - Validating output
2025-10-09 15:42:36,153 - app.tailored_cv.services.recommendation_parser - INFO - ✓ Experience: 6 entries
2025-10-09 15:42:36,153 - app.tailored_cv.services.recommendation_parser - INFO - ✓ Skills: 1 categories
2025-10-09 15:42:36,153 - app.tailored_cv.services.recommendation_parser - INFO -   • Technical Skills: 5 skills
2025-10-09 15:42:36,153 - app.tailored_cv.services.recommendation_parser - INFO - ✨ Validation passed - All required sections present
2025-10-09 15:42:36,153 - app.tailored_cv.services.recommendation_parser - INFO - 🎓 Converting education entries
2025-10-09 15:42:36,153 - app.tailored_cv.services.recommendation_parser - INFO -   - Found 3 education entries
2025-10-09 15:42:36,153 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing education 1/3
2025-10-09 15:42:36,153 - app.tailored_cv.services.recommendation_parser - INFO -     • Institution: Charles Darwin University, Sydney, Australia
2025-10-09 15:42:36,153 - app.tailored_cv.services.recommendation_parser - INFO -     • Degree: Master of Data Science
2025-10-09 15:42:36,154 - app.tailored_cv.services.recommendation_parser - INFO -     • Graduation date: Mar 2023 - Nov 2024
2025-10-09 15:42:36,154 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing education 2/3
2025-10-09 15:42:36,154 - app.tailored_cv.services.recommendation_parser - INFO -     • Institution: CY Cergy Paris University, Cergy, France
2025-10-09 15:42:36,154 - app.tailored_cv.services.recommendation_parser - INFO -     • Degree: PhD in Physics
2025-10-09 15:42:36,154 - app.tailored_cv.services.recommendation_parser - INFO -     • Graduation date: Oct 2018 - Sep 2022
2025-10-09 15:42:36,154 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing education 3/3
2025-10-09 15:42:36,154 - app.tailored_cv.services.recommendation_parser - INFO -     • Institution: CY Cergy Paris University, Cergy, France
2025-10-09 15:42:36,154 - app.tailored_cv.services.recommendation_parser - INFO -     • Degree: Master of Theoretical Physics
2025-10-09 15:42:36,154 - app.tailored_cv.services.recommendation_parser - INFO -     • Graduation date: Sep 2016 - Jun 2018
2025-10-09 15:42:36,155 - app.tailored_cv.services.recommendation_parser - INFO - Converted 3 education entries
2025-10-09 15:42:36,155 - app.tailored_cv.services.recommendation_parser - INFO - 📤 Returning converted CV data:
2025-10-09 15:42:36,155 - app.tailored_cv.services.recommendation_parser - INFO -   - Contact fields: ['name', 'email', 'phone', 'location', 'linkedin', 'website']
2025-10-09 15:42:36,155 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience entries: 6
2025-10-09 15:42:36,155 - app.tailored_cv.services.recommendation_parser - INFO -   - Skill categories: 1
2025-10-09 15:42:36,155 - app.tailored_cv.services.recommendation_parser - INFO -   - Education entries: 3
2025-10-09 15:42:36,155 - app.tailored_cv.services.cv_tailoring_service - INFO - - Parsed CV data keys: ['contact', 'experience', 'skills', 'education']
2025-10-09 15:42:36,155 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Skills already in SkillCategory format
2025-10-09 15:42:36,156 - app.tailored_cv.services.cv_tailoring_service - INFO - - Final CV object attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__repr__', '__repr_args__', '__repr_name__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_check_frozen', '_copy_and_set_values', '_get_value', '_iter', 'construct', 'contact', 'copy', 'created_at', 'dict', 'education', 'experience', 'experience_level', 'from_orm', 'json', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'projects', 'schema', 'schema_json', 'skills', 'total_years_experience', 'update_forward_refs', 'updated_at', 'validate']
2025-10-09 15:42:36,164 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Parsed recommendation for Australia_for_UNHCR
2025-10-09 15:42:36,164 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded real CV and recommendation for Australia_for_UNHCR
2025-10-09 15:42:36,164 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ Loaded real data for Australia_for_UNHCR
2025-10-09 15:42:36,164 - app.tailored_cv.services.cv_tailoring_service - INFO - 🎯 Starting CV tailoring for Australia_for_UNHCR - Senior Data Analyst
2025-10-09 15:42:36,164 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [DEBUG] Validating CV structure:
2025-10-09 15:42:36,165 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV object type: <class 'app.tailored_cv.models.cv_models.OriginalCV'>
2025-10-09 15:42:36,165 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__repr__', '__repr_args__', '__repr_name__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_check_frozen', '_copy_and_set_values', '_get_value', '_iter', 'construct', 'contact', 'copy', 'created_at', 'dict', 'education', 'experience', 'experience_level', 'from_orm', 'json', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'projects', 'schema', 'schema_json', 'skills', 'total_years_experience', 'update_forward_refs', 'updated_at', 'validate']
2025-10-09 15:42:36,165 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV data: {
  "contact": {
    "name": "Maheshwor Tiwari",
    "phone": "0414 032 507",
    "email": "maheshtwari99@gmail.com",
    "linkedin": "LinkedIn",
    "location": "Hurstville, NSW, 2220",
    "website": "GitHub"
  },
  "education": [
    {
      "institution": "Charles Darwin University, Sydney, Australia",
      "degree": "Master of Data Science",
      "location": "Sydney, Australia",
      "graduation_date": "Mar 2023 - Nov 2024",
      "gpa": "GPA",
      "relevant_coursework": [],
      "honors": []
    },
    {
      "institution": "CY Cergy Paris University, Cergy, France",
      "degree": "PhD in Physics",
      "location": "Cergy, France",
      "graduation_date": "Oct 2018 - Sep 2022",
      "gpa": "",
      "relevant_coursework": [],
      "honors": []
    },
    {
      "institution": "CY Cergy Paris University, Cergy, France",
      "degree": "Master of Theoretical Physics",
      "location": "Cergy, France",
      "graduation_date": "Sep 2016 - Jun 2018",
      "gpa": "",
      "relevant_coursework": [],
      "honors": []
    }
  ],
  "experience": [
    {
      "company": "The Bitrates",
      "title": "Data Analyst",
      "location": "",
      "start_date": "Jul 2024",
      "end_date": "Present",
      "duration": null,
      "bullets": [
        "Designed and implemented Python scripts for data cleaning, preprocessing, and analysis, improving data pipeline efficiency by 30%.",
        "Developed machine learning models in Python for predictive analytics, enabling data-driven business decisions.",
        "Leveraged AI techniques to automate repetitive tasks, reducing manual effort and improving productivity.",
        "Built dynamic dashboards and visualizations using Python libraries like Matplotlib and Seaborn to communicate insights effectively.",
        "Integrated Google Analytics data with Python for advanced analysis, enhancing customer behavior insights."
      ],
      "skills_used": null
    },
    {
      "company": "iBuild Building Solutions",
      "title": "Data Analyst",
      "location": "",
      "start_date": "Mar 2024",
      "end_date": "Jun 2024",
      "duration": null,
      "bullets": [
        "Automated data extraction and structuring of population datasets using Python, improving data accuracy and team collaboration.",
        "Analyzed customer support data with Python to optimize response times and enhance operational efficiency.",
        "Developed Python-based solutions to generate actionable insights, meeting strict deadlines for strategic decision-making.",
        "Designed Python scripts to create dynamic reports and dashboards, significantly improving customer satisfaction and decision-making processes."
      ],
      "skills_used": null
    },
    {
      "company": "Property Console",
      "title": "Software engineer and Analyst",
      "location": "",
      "start_date": "Jun 2023",
      "end_date": "Nov 2023",
      "duration": null,
      "bullets": [
        "Built Python scripts to track key metrics, ensuring 99% data accuracy and improving data integrity and operational efficiency.",
        "Collaborated with the development team to enhance analytics capabilities, using Python to improve data processing speed by 25%.",
        "Leveraged Python for data preprocessing and analysis, producing Tableau dashboards that improved decision-making.",
        "Supported cross-functional teams with Python-driven insights, enabling customer-focused initiatives."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Research Assistant",
      "location": "",
      "start_date": "Oct 2018",
      "end_date": "Sep 2022",
      "duration": null,
      "bullets": [
        "Utilized advanced Python programming for computational modeling and solving complex research problems.",
        "Developed Python-based workflows to manage and analyze large datasets across multiple research projects.",
        "Presented Python-enabled research findings at international conferences, demonstrating technical expertise and communication skills."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Lecturer and Course Facilitator",
      "location": "",
      "start_date": "Sep 2019",
      "end_date": "Jun 2022",
      "duration": null,
      "bullets": [
        "Led engaging physics tutorials for master\u2019s students, enhancing understanding and promoting teamwork.",
        "Designed course materials, assignments, and exams, strengthening the learning experience.",
        "Mentored students on projects, collaborated with faculty, and fostered student engagement."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Research Intern",
      "location": "",
      "start_date": "Feb 2018",
      "end_date": "Jun 2018",
      "duration": null,
      "bullets": [
        "Developed proficiency in Python programming by researching the effect of magnetic fields on 2D materials.",
        "Managed and analyzed complex data sets, improving their accuracy and reliability.",
        "Used dashboard using Power BI to present research findings and participated in weekly reviews, improving collaboration and research skills."
      ],
      "skills_used": null
    }
  ],
  "projects": null,
  "skills": [
    {
      "category": "Technical Skills",
      "skills": [
        "Python",
        "Power BI",
        "SQL",
        "Excel",
        "Data Analysis"
      ]
    }
  ],
  "experience_level": null,
  "total_years_experience": null,
  "created_at": null,
  "updated_at": null
}
2025-10-09 15:42:36,165 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [CV_VALIDATION] Starting detailed validation:
2025-10-09 15:42:36,166 - app.tailored_cv.services.cv_tailoring_service - INFO - - Has contact: True
2025-10-09 15:42:36,166 - app.tailored_cv.services.cv_tailoring_service - INFO - - Contact name: Maheshwor Tiwari
2025-10-09 15:42:36,166 - app.tailored_cv.services.cv_tailoring_service - INFO - - Contact email: maheshtwari99@gmail.com
2025-10-09 15:42:36,166 - app.tailored_cv.services.cv_tailoring_service - INFO - - Has experience: True
2025-10-09 15:42:36,166 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience count: 6
2025-10-09 15:42:36,166 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 1: company=The Bitrates, bullets=5
2025-10-09 15:42:36,166 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 2: company=iBuild Building Solutions, bullets=4
2025-10-09 15:42:36,166 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 3: company=Property Console, bullets=4
2025-10-09 15:42:36,166 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 4: company=CY Cergy Paris University, bullets=3
2025-10-09 15:42:36,167 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 5: company=CY Cergy Paris University, bullets=3
2025-10-09 15:42:36,167 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 6: company=CY Cergy Paris University, bullets=3
2025-10-09 15:42:36,167 - app.tailored_cv.services.cv_tailoring_service - INFO - - Has skills: True
2025-10-09 15:42:36,167 - app.tailored_cv.services.cv_tailoring_service - INFO - - Skills count: 1
2025-10-09 15:42:36,167 - app.tailored_cv.services.cv_tailoring_service - INFO - - Skill category 1: Technical Skills, skills=5
2025-10-09 15:42:36,167 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [CV_VALIDATION] Checking required fields:
2025-10-09 15:42:36,167 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Contact name present: Maheshwor Tiwari
2025-10-09 15:42:36,167 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Contact email present: maheshtwari99@gmail.com
2025-10-09 15:42:36,167 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Experience entries present: 6
2025-10-09 15:42:36,168 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Skills section present: 1 categories
2025-10-09 15:42:36,168 - app.tailored_cv.services.cv_tailoring_service - INFO - [f5fe6703] 🎯 Starting CV tailoring for Australia_for_UNHCR with strategy: education_last
2025-10-09 15:42:36,169 - app.tailored_cv.services.cv_tailoring_service - INFO - [f5fe6703] Initial stats:
2025-10-09 15:42:36,169 - app.tailored_cv.services.cv_tailoring_service - INFO - [f5fe6703] - Experience entries: 6
2025-10-09 15:42:36,169 - app.tailored_cv.services.cv_tailoring_service - INFO - [f5fe6703] - Total bullets: 22
2025-10-09 15:42:36,169 - app.tailored_cv.services.cv_tailoring_service - INFO - [f5fe6703] - Skills categories: 1
2025-10-09 15:42:36,169 - app.tailored_cv.services.cv_tailoring_service - INFO - [f5fe6703] - Total skills: 5
2025-10-09 15:42:36,169 - app.tailored_cv.services.cv_tailoring_service - INFO - [f5fe6703] Critical gaps to address: Business Intelligence, Detail-oriented
2025-10-09 15:42:36,169 - app.tailored_cv.services.cv_tailoring_service - INFO - [f5fe6703] Technical enhancements needed: 
2025-10-09 15:42:36,169 - app.tailored_cv.services.cv_tailoring_service - INFO - [f5fe6703] 🤖 Generating tailored CV using AI service...
2025-10-09 15:42:36,170 - app.tailored_cv.services.cv_tailoring_service - INFO - [f5fe6703] Attempt 1/5 with temp=0.0
2025-10-09 15:42:36,170 - app.tailored_cv.services.cv_tailoring_service - INFO - [f5fe6703] - System prompt length: 10574
2025-10-09 15:42:36,170 - app.tailored_cv.services.cv_tailoring_service - INFO - [f5fe6703] - User prompt length: 12226
2025-10-09 15:42:36,170 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 15:42:36,170 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 15:42:36,170 - app.ai.ai_service - INFO - - Prompt length: 12226
2025-10-09 15:42:36,170 - app.ai.ai_service - INFO - - System prompt length: 10574
2025-10-09 15:42:36,170 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 15:42:36,171 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 15:42:36,171 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 15:42:36,171 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 15:42:36,171 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:42:36,171 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 15:42:36,171 - app.ai.ai_service - INFO - - Available providers: []
2025-10-09 15:42:36,171 - app.ai.ai_service - INFO - - Provider status: {}
2025-10-09 15:42:36,171 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 15:42:36,171 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: []
2025-10-09 15:42:36,172 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 15:42:36,172 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {}
2025-10-09 15:42:36,172 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 15:42:36,172 - app.tailored_cv.services.cv_tailoring_service - ERROR - ❌ CV tailoring failed: No API key configured for any. Please configure your API key in settings.
2025-10-09 15:42:36,172 - app.tailored_cv.routes.cv_tailoring_routes - ERROR - ❌ CV tailoring with real data failed: CV tailoring process failed: No API key configured for any. Please configure your API key in settings.
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=original, ts=00000000_000000, mtime=1759984358.0670488, json=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=original, ts=00000000_000000, json=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.txt
INFO:     127.0.0.1:50593 - "POST /api/tailored-cv/tailor-with-real-data/Australia_for_UNHCR HTTP/1.1" 500 Internal Server Error
WARNING:  WatchFiles detected changes in 'app/tailored_cv/services/cv_tailoring_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 15:42:45,847 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [98109]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [99586]
INFO:     Waiting for application startup.
2025-10-09 15:42:50,414 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 15:42:50,695 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 15:42:50,695 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 15:42:50,695 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:42:50,695 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:42:50,736 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 15:42:50,736 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 15:42:50,736 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:42:50,736 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:42:50,776 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 15:42:50,776 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 15:42:50,777 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:42:50,777 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:42:50,816 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:42:50,816 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:42:50,816 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 15:42:50,816 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 15:42:50,816 INFO sqlalchemy.engine.Engine [generated in 0.00058s] {}
2025-10-09 15:42:50,816 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] {}
2025-10-09 15:42:50,850 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:42:50,850 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:42:50,867 - app.database - INFO - Database connection successful
2025-10-09 15:42:50,867 - app.main - INFO - ✅ Database connection successful
2025-10-09 15:42:50,884 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:42:50,884 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:42:50,889 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:42:50,889 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:42:50,889 INFO sqlalchemy.engine.Engine [generated in 0.00045s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:42:50,889 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:42:50,933 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:42:50,933 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:42:50,934 INFO sqlalchemy.engine.Engine [cached since 0.04504s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:42:50,934 - sqlalchemy.engine.Engine - INFO - [cached since 0.04504s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:42:50,955 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:42:50,955 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:42:50,956 INFO sqlalchemy.engine.Engine [cached since 0.06706s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:42:50,956 - sqlalchemy.engine.Engine - INFO - [cached since 0.06706s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:42:50,978 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:42:50,978 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:42:50,978 INFO sqlalchemy.engine.Engine [cached since 0.08933s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:42:50,978 - sqlalchemy.engine.Engine - INFO - [cached since 0.08933s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:42:51,001 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:42:51,001 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:42:51,002 INFO sqlalchemy.engine.Engine [cached since 0.1132s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:42:51,002 - sqlalchemy.engine.Engine - INFO - [cached since 0.1132s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:42:51,020 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:42:51,020 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:42:51,021 INFO sqlalchemy.engine.Engine [cached since 0.132s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:42:51,021 - sqlalchemy.engine.Engine - INFO - [cached since 0.132s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:42:51,043 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:42:51,043 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:42:51,044 INFO sqlalchemy.engine.Engine [cached since 0.1551s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:42:51,044 - sqlalchemy.engine.Engine - INFO - [cached since 0.1551s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:42:51,067 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:42:51,067 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:42:51,067 INFO sqlalchemy.engine.Engine [cached since 0.1785s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:42:51,067 - sqlalchemy.engine.Engine - INFO - [cached since 0.1785s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:42:51,090 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:42:51,090 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:42:51,091 INFO sqlalchemy.engine.Engine [cached since 0.2023s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:42:51,091 - sqlalchemy.engine.Engine - INFO - [cached since 0.2023s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:42:51,115 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:42:51,115 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:42:51,115 INFO sqlalchemy.engine.Engine [cached since 0.2265s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:42:51,115 - sqlalchemy.engine.Engine - INFO - [cached since 0.2265s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:42:51,139 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:42:51,139 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:42:51,140 INFO sqlalchemy.engine.Engine [cached since 0.2509s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:42:51,140 - sqlalchemy.engine.Engine - INFO - [cached since 0.2509s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:42:51,161 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 15:42:51,161 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 15:42:51,182 - app.database - INFO - Database tables created successfully
2025-10-09 15:42:51,182 - app.main - INFO - ✅ Database tables ready
2025-10-09 15:42:51,182 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 15:42:51,182 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
2025-10-09 15:42:56,614 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🎯 CV tailoring with real data for user 93d2b2fe-c1a7-4dd5-8006-199a4fe3e860 - Australia_for_UNHCR
2025-10-09 15:42:56,615 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:42:56,615 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded CV optimization framework from /Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/tailored_cv/prompts/framework.md
2025-10-09 15:42:56,616 - app.tailored_cv.routes.cv_tailoring_routes - INFO - Available companies: ['Australia_for_UNHCR']
2025-10-09 15:42:56,616 - app.tailored_cv.services.cv_tailoring_service - INFO - Loading real data for Australia_for_UNHCR
2025-10-09 15:42:56,616 - app.tailored_cv.services.cv_tailoring_service - INFO - Company folder: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 15:42:56,617 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:42:56,617 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:42:56,617 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/simran@gmail.com/cv-analysis
2025-10-09 15:42:56,618 - app.tailored_cv.services.cv_tailoring_service - INFO - 📄 [TAILORING] Using latest CV via unified selector → type=original, ts=None, path=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 15:42:56,618 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [DEBUG] Loading CV from user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 15:42:56,619 - app.tailored_cv.services.cv_tailoring_service - INFO - - First 200 chars: {   "personal_information": {     "name": "Maheshwor Tiwari",     "phone": "0414 032 507",     "email": "maheshtwari99@gmail.com",     "location": "Hurstville, NSW, 2220",     "linkedin": "LinkedIn", 
2025-10-09 15:42:56,619 - app.tailored_cv.services.recommendation_parser - INFO - 📂 Loading CV from: user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 15:42:56,619 - app.tailored_cv.services.recommendation_parser - INFO - 📋 CV format check:
2025-10-09 15:42:56,619 - app.tailored_cv.services.recommendation_parser - INFO -   - Top-level keys: ['personal_information', 'career_profile', 'skills', 'education', 'experience', 'projects', 'certifications', 'languages', 'awards', 'publications', 'volunteer_work', 'professional_memberships', 'unknown_sections', 'original_sections', 'saved_at', 'metadata']
2025-10-09 15:42:56,619 - app.tailored_cv.services.recommendation_parser - INFO -   - Has metadata: True
2025-10-09 15:42:56,620 - app.tailored_cv.services.recommendation_parser - INFO -   - Source file: maheshwor_tiwari.pdf
2025-10-09 15:42:56,620 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing version: 1.0
2025-10-09 15:42:56,620 - app.tailored_cv.services.recommendation_parser - INFO - 🔍 [CV_PARSER] Detailed CV structure analysis:
2025-10-09 15:42:56,620 - app.tailored_cv.services.recommendation_parser - INFO -   - Has contact: False
2025-10-09 15:42:56,620 - app.tailored_cv.services.recommendation_parser - INFO -   - Has experience: True
2025-10-09 15:42:56,620 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience type: <class 'list'>
2025-10-09 15:42:56,620 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience count: 6
2025-10-09 15:42:56,620 - app.tailored_cv.services.recommendation_parser - INFO -   - First experience keys: ['title', 'company', 'duration', 'location', 'responsibilities', 'achievements', 'technologies']
2025-10-09 15:42:56,621 - app.tailored_cv.services.recommendation_parser - INFO -   - Has skills: True
2025-10-09 15:42:56,621 - app.tailored_cv.services.recommendation_parser - INFO -   - Skills type: <class 'dict'>
2025-10-09 15:42:56,621 - app.tailored_cv.services.recommendation_parser - INFO -   - Skills count: Not a list
2025-10-09 15:42:56,621 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Detected structured CV format
2025-10-09 15:42:56,621 - app.tailored_cv.services.recommendation_parser - INFO - 📊 Structure overview:
2025-10-09 15:42:56,621 - app.tailored_cv.services.recommendation_parser - INFO -   - Skills sections: ['technical_skills', 'key_skills', 'soft_skills', 'domain_expertise']
2025-10-09 15:42:56,621 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience entries: 6
2025-10-09 15:42:56,622 - app.tailored_cv.services.recommendation_parser - INFO -   - Education entries: 3
2025-10-09 15:42:56,622 - app.tailored_cv.services.recommendation_parser - INFO -   - Projects: 0
2025-10-09 15:42:56,622 - app.tailored_cv.services.recommendation_parser - INFO - 🔄 Starting structured CV conversion
2025-10-09 15:42:56,622 - app.tailored_cv.services.recommendation_parser - INFO - 📊 Input data validation:
2025-10-09 15:42:56,622 - app.tailored_cv.services.recommendation_parser - INFO - 👤 Converting contact information
2025-10-09 15:42:56,622 - app.tailored_cv.services.recommendation_parser - INFO -   - Source fields: ['name', 'phone', 'email', 'location', 'linkedin', 'github', 'portfolio_links', 'residency_status', 'open_to']
2025-10-09 15:42:56,622 - app.tailored_cv.services.recommendation_parser - INFO -   - Mapped fields: ['name', 'email', 'phone', 'location', 'linkedin', 'website']
2025-10-09 15:42:56,623 - app.tailored_cv.services.recommendation_parser - INFO -   - Contact completeness: 100.0%
2025-10-09 15:42:56,623 - app.tailored_cv.services.recommendation_parser - INFO -   - LinkedIn: LinkedIn
2025-10-09 15:42:56,623 - app.tailored_cv.services.recommendation_parser - INFO -   - Website: GitHub
2025-10-09 15:42:56,623 - app.tailored_cv.services.recommendation_parser - INFO - 💼 Converting experience entries
2025-10-09 15:42:56,623 - app.tailored_cv.services.recommendation_parser - INFO -   - Found 6 experience entries
2025-10-09 15:42:56,623 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 1/6
2025-10-09 15:42:56,624 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: The Bitrates
2025-10-09 15:42:56,624 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Data Analyst
2025-10-09 15:42:56,624 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Jul 2024 to Present
2025-10-09 15:42:56,624 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 5
2025-10-09 15:42:56,624 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 2/6
2025-10-09 15:42:56,624 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: iBuild Building Solutions
2025-10-09 15:42:56,624 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Data Analyst
2025-10-09 15:42:56,625 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Mar 2024 to Jun 2024
2025-10-09 15:42:56,625 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 4
2025-10-09 15:42:56,625 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 3/6
2025-10-09 15:42:56,625 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: Property Console
2025-10-09 15:42:56,625 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Software engineer and Analyst
2025-10-09 15:42:56,625 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Jun 2023 to Nov 2023
2025-10-09 15:42:56,626 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 4
2025-10-09 15:42:56,626 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 4/6
2025-10-09 15:42:56,626 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: CY Cergy Paris University
2025-10-09 15:42:56,626 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Research Assistant
2025-10-09 15:42:56,626 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Oct 2018 to Sep 2022
2025-10-09 15:42:56,626 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 3
2025-10-09 15:42:56,626 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 5/6
2025-10-09 15:42:56,627 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: CY Cergy Paris University
2025-10-09 15:42:56,627 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Lecturer and Course Facilitator
2025-10-09 15:42:56,627 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Sep 2019 to Jun 2022
2025-10-09 15:42:56,627 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 3
2025-10-09 15:42:56,627 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 6/6
2025-10-09 15:42:56,627 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: CY Cergy Paris University
2025-10-09 15:42:56,627 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Research Intern
2025-10-09 15:42:56,627 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Feb 2018 to Jun 2018
2025-10-09 15:42:56,628 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 3
2025-10-09 15:42:56,628 - app.tailored_cv.services.recommendation_parser - INFO - Converted 6 experience entries
2025-10-09 15:42:56,628 - app.tailored_cv.services.recommendation_parser - INFO - 🔧 Converting skills section
2025-10-09 15:42:56,628 - app.tailored_cv.services.recommendation_parser - INFO -   - Source skill categories: ['technical_skills', 'key_skills', 'soft_skills', 'domain_expertise']
2025-10-09 15:42:56,628 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing technical skills:
2025-10-09 15:42:56,628 - app.tailored_cv.services.recommendation_parser - INFO -     • Extracted 5 unique technical skills
2025-10-09 15:42:56,628 - app.tailored_cv.services.recommendation_parser - INFO -     • Skills: SQL, Data Analysis, Power BI, Python, Excel
2025-10-09 15:42:56,628 - app.tailored_cv.services.recommendation_parser - INFO - Converted 1 skill categories
2025-10-09 15:42:56,629 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Conversion complete - Validating output
2025-10-09 15:42:56,629 - app.tailored_cv.services.recommendation_parser - INFO - ✓ Experience: 6 entries
2025-10-09 15:42:56,629 - app.tailored_cv.services.recommendation_parser - INFO - ✓ Skills: 1 categories
2025-10-09 15:42:56,629 - app.tailored_cv.services.recommendation_parser - INFO -   • Technical Skills: 5 skills
2025-10-09 15:42:56,629 - app.tailored_cv.services.recommendation_parser - INFO - ✨ Validation passed - All required sections present
2025-10-09 15:42:56,629 - app.tailored_cv.services.recommendation_parser - INFO - 🎓 Converting education entries
2025-10-09 15:42:56,630 - app.tailored_cv.services.recommendation_parser - INFO -   - Found 3 education entries
2025-10-09 15:42:56,630 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing education 1/3
2025-10-09 15:42:56,630 - app.tailored_cv.services.recommendation_parser - INFO -     • Institution: Charles Darwin University, Sydney, Australia
2025-10-09 15:42:56,630 - app.tailored_cv.services.recommendation_parser - INFO -     • Degree: Master of Data Science
2025-10-09 15:42:56,630 - app.tailored_cv.services.recommendation_parser - INFO -     • Graduation date: Mar 2023 - Nov 2024
2025-10-09 15:42:56,630 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing education 2/3
2025-10-09 15:42:56,630 - app.tailored_cv.services.recommendation_parser - INFO -     • Institution: CY Cergy Paris University, Cergy, France
2025-10-09 15:42:56,630 - app.tailored_cv.services.recommendation_parser - INFO -     • Degree: PhD in Physics
2025-10-09 15:42:56,631 - app.tailored_cv.services.recommendation_parser - INFO -     • Graduation date: Oct 2018 - Sep 2022
2025-10-09 15:42:56,631 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing education 3/3
2025-10-09 15:42:56,631 - app.tailored_cv.services.recommendation_parser - INFO -     • Institution: CY Cergy Paris University, Cergy, France
2025-10-09 15:42:56,631 - app.tailored_cv.services.recommendation_parser - INFO -     • Degree: Master of Theoretical Physics
2025-10-09 15:42:56,631 - app.tailored_cv.services.recommendation_parser - INFO -     • Graduation date: Sep 2016 - Jun 2018
2025-10-09 15:42:56,631 - app.tailored_cv.services.recommendation_parser - INFO - Converted 3 education entries
2025-10-09 15:42:56,631 - app.tailored_cv.services.recommendation_parser - INFO - 📤 Returning converted CV data:
2025-10-09 15:42:56,631 - app.tailored_cv.services.recommendation_parser - INFO -   - Contact fields: ['name', 'email', 'phone', 'location', 'linkedin', 'website']
2025-10-09 15:42:56,631 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience entries: 6
2025-10-09 15:42:56,632 - app.tailored_cv.services.recommendation_parser - INFO -   - Skill categories: 1
2025-10-09 15:42:56,632 - app.tailored_cv.services.recommendation_parser - INFO -   - Education entries: 3
2025-10-09 15:42:56,632 - app.tailored_cv.services.cv_tailoring_service - INFO - - Parsed CV data keys: ['contact', 'experience', 'skills', 'education']
2025-10-09 15:42:56,632 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Skills already in SkillCategory format
2025-10-09 15:42:56,632 - app.tailored_cv.services.cv_tailoring_service - INFO - - Final CV object attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__repr__', '__repr_args__', '__repr_name__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_check_frozen', '_copy_and_set_values', '_get_value', '_iter', 'construct', 'contact', 'copy', 'created_at', 'dict', 'education', 'experience', 'experience_level', 'from_orm', 'json', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'projects', 'schema', 'schema_json', 'skills', 'total_years_experience', 'update_forward_refs', 'updated_at', 'validate']
2025-10-09 15:42:56,639 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Parsed recommendation for Australia_for_UNHCR
2025-10-09 15:42:56,639 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded real CV and recommendation for Australia_for_UNHCR
2025-10-09 15:42:56,639 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ Loaded real data for Australia_for_UNHCR
2025-10-09 15:42:56,640 - app.tailored_cv.services.cv_tailoring_service - INFO - 🎯 Starting CV tailoring for Australia_for_UNHCR - Senior Data Analyst
2025-10-09 15:42:56,640 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [DEBUG] Validating CV structure:
2025-10-09 15:42:56,640 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV object type: <class 'app.tailored_cv.models.cv_models.OriginalCV'>
2025-10-09 15:42:56,640 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__repr__', '__repr_args__', '__repr_name__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_check_frozen', '_copy_and_set_values', '_get_value', '_iter', 'construct', 'contact', 'copy', 'created_at', 'dict', 'education', 'experience', 'experience_level', 'from_orm', 'json', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'projects', 'schema', 'schema_json', 'skills', 'total_years_experience', 'update_forward_refs', 'updated_at', 'validate']
2025-10-09 15:42:56,641 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV data: {
  "contact": {
    "name": "Maheshwor Tiwari",
    "phone": "0414 032 507",
    "email": "maheshtwari99@gmail.com",
    "linkedin": "LinkedIn",
    "location": "Hurstville, NSW, 2220",
    "website": "GitHub"
  },
  "education": [
    {
      "institution": "Charles Darwin University, Sydney, Australia",
      "degree": "Master of Data Science",
      "location": "Sydney, Australia",
      "graduation_date": "Mar 2023 - Nov 2024",
      "gpa": "GPA",
      "relevant_coursework": [],
      "honors": []
    },
    {
      "institution": "CY Cergy Paris University, Cergy, France",
      "degree": "PhD in Physics",
      "location": "Cergy, France",
      "graduation_date": "Oct 2018 - Sep 2022",
      "gpa": "",
      "relevant_coursework": [],
      "honors": []
    },
    {
      "institution": "CY Cergy Paris University, Cergy, France",
      "degree": "Master of Theoretical Physics",
      "location": "Cergy, France",
      "graduation_date": "Sep 2016 - Jun 2018",
      "gpa": "",
      "relevant_coursework": [],
      "honors": []
    }
  ],
  "experience": [
    {
      "company": "The Bitrates",
      "title": "Data Analyst",
      "location": "",
      "start_date": "Jul 2024",
      "end_date": "Present",
      "duration": null,
      "bullets": [
        "Designed and implemented Python scripts for data cleaning, preprocessing, and analysis, improving data pipeline efficiency by 30%.",
        "Developed machine learning models in Python for predictive analytics, enabling data-driven business decisions.",
        "Leveraged AI techniques to automate repetitive tasks, reducing manual effort and improving productivity.",
        "Built dynamic dashboards and visualizations using Python libraries like Matplotlib and Seaborn to communicate insights effectively.",
        "Integrated Google Analytics data with Python for advanced analysis, enhancing customer behavior insights."
      ],
      "skills_used": null
    },
    {
      "company": "iBuild Building Solutions",
      "title": "Data Analyst",
      "location": "",
      "start_date": "Mar 2024",
      "end_date": "Jun 2024",
      "duration": null,
      "bullets": [
        "Automated data extraction and structuring of population datasets using Python, improving data accuracy and team collaboration.",
        "Analyzed customer support data with Python to optimize response times and enhance operational efficiency.",
        "Developed Python-based solutions to generate actionable insights, meeting strict deadlines for strategic decision-making.",
        "Designed Python scripts to create dynamic reports and dashboards, significantly improving customer satisfaction and decision-making processes."
      ],
      "skills_used": null
    },
    {
      "company": "Property Console",
      "title": "Software engineer and Analyst",
      "location": "",
      "start_date": "Jun 2023",
      "end_date": "Nov 2023",
      "duration": null,
      "bullets": [
        "Built Python scripts to track key metrics, ensuring 99% data accuracy and improving data integrity and operational efficiency.",
        "Collaborated with the development team to enhance analytics capabilities, using Python to improve data processing speed by 25%.",
        "Leveraged Python for data preprocessing and analysis, producing Tableau dashboards that improved decision-making.",
        "Supported cross-functional teams with Python-driven insights, enabling customer-focused initiatives."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Research Assistant",
      "location": "",
      "start_date": "Oct 2018",
      "end_date": "Sep 2022",
      "duration": null,
      "bullets": [
        "Utilized advanced Python programming for computational modeling and solving complex research problems.",
        "Developed Python-based workflows to manage and analyze large datasets across multiple research projects.",
        "Presented Python-enabled research findings at international conferences, demonstrating technical expertise and communication skills."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Lecturer and Course Facilitator",
      "location": "",
      "start_date": "Sep 2019",
      "end_date": "Jun 2022",
      "duration": null,
      "bullets": [
        "Led engaging physics tutorials for master\u2019s students, enhancing understanding and promoting teamwork.",
        "Designed course materials, assignments, and exams, strengthening the learning experience.",
        "Mentored students on projects, collaborated with faculty, and fostered student engagement."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Research Intern",
      "location": "",
      "start_date": "Feb 2018",
      "end_date": "Jun 2018",
      "duration": null,
      "bullets": [
        "Developed proficiency in Python programming by researching the effect of magnetic fields on 2D materials.",
        "Managed and analyzed complex data sets, improving their accuracy and reliability.",
        "Used dashboard using Power BI to present research findings and participated in weekly reviews, improving collaboration and research skills."
      ],
      "skills_used": null
    }
  ],
  "projects": null,
  "skills": [
    {
      "category": "Technical Skills",
      "skills": [
        "SQL",
        "Data Analysis",
        "Power BI",
        "Python",
        "Excel"
      ]
    }
  ],
  "experience_level": null,
  "total_years_experience": null,
  "created_at": null,
  "updated_at": null
}
2025-10-09 15:42:56,641 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [CV_VALIDATION] Starting detailed validation:
2025-10-09 15:42:56,641 - app.tailored_cv.services.cv_tailoring_service - INFO - - Has contact: True
2025-10-09 15:42:56,641 - app.tailored_cv.services.cv_tailoring_service - INFO - - Contact name: Maheshwor Tiwari
2025-10-09 15:42:56,641 - app.tailored_cv.services.cv_tailoring_service - INFO - - Contact email: maheshtwari99@gmail.com
2025-10-09 15:42:56,641 - app.tailored_cv.services.cv_tailoring_service - INFO - - Has experience: True
2025-10-09 15:42:56,641 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience count: 6
2025-10-09 15:42:56,642 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 1: company=The Bitrates, bullets=5
2025-10-09 15:42:56,642 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 2: company=iBuild Building Solutions, bullets=4
2025-10-09 15:42:56,642 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 3: company=Property Console, bullets=4
2025-10-09 15:42:56,642 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 4: company=CY Cergy Paris University, bullets=3
2025-10-09 15:42:56,642 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 5: company=CY Cergy Paris University, bullets=3
2025-10-09 15:42:56,642 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 6: company=CY Cergy Paris University, bullets=3
2025-10-09 15:42:56,643 - app.tailored_cv.services.cv_tailoring_service - INFO - - Has skills: True
2025-10-09 15:42:56,643 - app.tailored_cv.services.cv_tailoring_service - INFO - - Skills count: 1
2025-10-09 15:42:56,643 - app.tailored_cv.services.cv_tailoring_service - INFO - - Skill category 1: Technical Skills, skills=5
2025-10-09 15:42:56,643 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [CV_VALIDATION] Checking required fields:
2025-10-09 15:42:56,643 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Contact name present: Maheshwor Tiwari
2025-10-09 15:42:56,643 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Contact email present: maheshtwari99@gmail.com
2025-10-09 15:42:56,643 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Experience entries present: 6
2025-10-09 15:42:56,644 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Skills section present: 1 categories
2025-10-09 15:42:56,644 - app.tailored_cv.services.cv_tailoring_service - INFO - [1513338f] 🎯 Starting CV tailoring for Australia_for_UNHCR with strategy: education_last
2025-10-09 15:42:56,645 - app.tailored_cv.services.cv_tailoring_service - INFO - [1513338f] Initial stats:
2025-10-09 15:42:56,645 - app.tailored_cv.services.cv_tailoring_service - INFO - [1513338f] - Experience entries: 6
2025-10-09 15:42:56,645 - app.tailored_cv.services.cv_tailoring_service - INFO - [1513338f] - Total bullets: 22
2025-10-09 15:42:56,645 - app.tailored_cv.services.cv_tailoring_service - INFO - [1513338f] - Skills categories: 1
2025-10-09 15:42:56,645 - app.tailored_cv.services.cv_tailoring_service - INFO - [1513338f] - Total skills: 5
2025-10-09 15:42:56,645 - app.tailored_cv.services.cv_tailoring_service - INFO - [1513338f] Critical gaps to address: Business Intelligence, Detail-oriented
2025-10-09 15:42:56,645 - app.tailored_cv.services.cv_tailoring_service - INFO - [1513338f] Technical enhancements needed: 
2025-10-09 15:42:56,646 - app.tailored_cv.services.cv_tailoring_service - INFO - [1513338f] 🤖 Generating tailored CV using AI service...
2025-10-09 15:42:56,646 - app.tailored_cv.services.cv_tailoring_service - INFO - [1513338f] Attempt 1/5 with temp=0.0
2025-10-09 15:42:56,646 - app.tailored_cv.services.cv_tailoring_service - INFO - [1513338f] - System prompt length: 10574
2025-10-09 15:42:56,646 - app.tailored_cv.services.cv_tailoring_service - INFO - [1513338f] - User prompt length: 12226
2025-10-09 15:42:56,646 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user simran@gmail.com
2025-10-09 15:42:56,646 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Before initialization:
2025-10-09 15:42:56,647 - app.ai.ai_service - INFO - - Current providers: []
2025-10-09 15:42:56,647 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 15:42:56,647 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 15:42:56,647 - app.ai.ai_service - INFO - - Cached providers for user: []
2025-10-09 15:42:56,647 - app.ai.ai_service - INFO - 🔄 [AI_SERVICE] Initializing new providers for user simran@gmail.com
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=original, ts=00000000_000000, mtime=1759984358.0670488, json=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=original, ts=00000000_000000, json=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 15:42:56,688 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:42:56,688 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:42:56,692 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:42:56,692 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:42:56,692 INFO sqlalchemy.engine.Engine [generated in 0.00041s] {'user_id_1': 'temp', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 15:42:56,692 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] {'user_id_1': 'temp', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 15:42:56,734 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:42:56,734 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:42:56,750 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user simran@gmail.com and provider openai
2025-10-09 15:42:56,768 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:42:56,768 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:42:56,769 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:42:56,769 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:42:56,769 INFO sqlalchemy.engine.Engine [cached since 0.07781s ago] {'user_id_1': 'temp', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 15:42:56,769 - sqlalchemy.engine.Engine - INFO - [cached since 0.07781s ago] {'user_id_1': 'temp', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 15:42:56,803 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:42:56,803 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:42:56,821 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user simran@gmail.com and provider anthropic
2025-10-09 15:42:56,839 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:42:56,839 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:42:56,840 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:42:56,840 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:42:56,840 INFO sqlalchemy.engine.Engine [cached since 0.1488s ago] {'user_id_1': 'temp', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 15:42:56,840 - sqlalchemy.engine.Engine - INFO - [cached since 0.1488s ago] {'user_id_1': 'temp', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 15:42:56,874 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:42:56,874 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:42:56,890 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user simran@gmail.com and provider deepseek
2025-10-09 15:42:56,890 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] After initialization:
2025-10-09 15:42:56,890 - app.ai.ai_service - INFO - - Current providers: []
2025-10-09 15:42:56,890 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 15:42:56,891 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 15:42:56,891 - app.tailored_cv.services.cv_tailoring_service - INFO - [1513338f] 🔄 Initialized AI service for user simran@gmail.com
2025-10-09 15:42:56,891 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 15:42:56,891 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 15:42:56,891 - app.ai.ai_service - INFO - - Prompt length: 12226
2025-10-09 15:42:56,891 - app.ai.ai_service - INFO - - System prompt length: 10574
2025-10-09 15:42:56,891 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 15:42:56,892 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 15:42:56,892 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 15:42:56,892 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 15:42:56,892 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:42:56,892 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 15:42:56,892 - app.ai.ai_service - INFO - - Available providers: []
2025-10-09 15:42:56,893 - app.ai.ai_service - INFO - - Provider status: {}
2025-10-09 15:42:56,893 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 15:42:56,893 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: []
2025-10-09 15:42:56,893 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 15:42:56,893 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {}
2025-10-09 15:42:56,893 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 15:42:56,893 - app.tailored_cv.services.cv_tailoring_service - ERROR - ❌ CV tailoring failed: No API key configured for any. Please configure your API key in settings.
2025-10-09 15:42:56,894 - app.tailored_cv.routes.cv_tailoring_routes - ERROR - ❌ CV tailoring with real data failed: CV tailoring process failed: No API key configured for any. Please configure your API key in settings.
INFO:     127.0.0.1:50616 - "POST /api/tailored-cv/tailor-with-real-data/Australia_for_UNHCR HTTP/1.1" 500 Internal Server Error
WARNING:  WatchFiles detected changes in 'app/tailored_cv/services/cv_tailoring_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 15:43:21,256 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [99586]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [2000]
INFO:     Waiting for application startup.
2025-10-09 15:43:26,281 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 15:43:26,652 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 15:43:26,652 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 15:43:26,653 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:43:26,653 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:43:26,707 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 15:43:26,707 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 15:43:26,707 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:43:26,707 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:43:26,771 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 15:43:26,771 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 15:43:26,771 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:43:26,771 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:43:26,822 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:43:26,822 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:43:26,822 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 15:43:26,822 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 15:43:26,823 INFO sqlalchemy.engine.Engine [generated in 0.00080s] {}
2025-10-09 15:43:26,823 - sqlalchemy.engine.Engine - INFO - [generated in 0.00080s] {}
2025-10-09 15:43:26,894 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:43:26,894 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:43:26,923 - app.database - INFO - Database connection successful
2025-10-09 15:43:26,924 - app.main - INFO - ✅ Database connection successful
2025-10-09 15:43:26,952 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:43:26,952 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:43:26,958 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:43:26,958 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:43:26,959 INFO sqlalchemy.engine.Engine [generated in 0.00094s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:43:26,959 - sqlalchemy.engine.Engine - INFO - [generated in 0.00094s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:43:27,036 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:43:27,036 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:43:27,037 INFO sqlalchemy.engine.Engine [cached since 0.07864s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:43:27,037 - sqlalchemy.engine.Engine - INFO - [cached since 0.07864s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:43:27,071 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:43:27,071 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:43:27,072 INFO sqlalchemy.engine.Engine [cached since 0.1134s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:43:27,072 - sqlalchemy.engine.Engine - INFO - [cached since 0.1134s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:43:27,098 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:43:27,098 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:43:27,098 INFO sqlalchemy.engine.Engine [cached since 0.1402s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:43:27,098 - sqlalchemy.engine.Engine - INFO - [cached since 0.1402s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:43:27,150 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:43:27,150 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:43:27,151 INFO sqlalchemy.engine.Engine [cached since 0.1925s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:43:27,151 - sqlalchemy.engine.Engine - INFO - [cached since 0.1925s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:43:27,218 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:43:27,218 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:43:27,218 INFO sqlalchemy.engine.Engine [cached since 0.2602s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:43:27,218 - sqlalchemy.engine.Engine - INFO - [cached since 0.2602s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:43:27,241 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:43:27,241 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:43:27,241 INFO sqlalchemy.engine.Engine [cached since 0.2832s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:43:27,241 - sqlalchemy.engine.Engine - INFO - [cached since 0.2832s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:43:27,265 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:43:27,265 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:43:27,265 INFO sqlalchemy.engine.Engine [cached since 0.3069s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:43:27,265 - sqlalchemy.engine.Engine - INFO - [cached since 0.3069s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:43:27,288 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:43:27,288 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:43:27,288 INFO sqlalchemy.engine.Engine [cached since 0.3302s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:43:27,288 - sqlalchemy.engine.Engine - INFO - [cached since 0.3302s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:43:27,309 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:43:27,309 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:43:27,310 INFO sqlalchemy.engine.Engine [cached since 0.3518s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:43:27,310 - sqlalchemy.engine.Engine - INFO - [cached since 0.3518s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:43:27,331 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:43:27,331 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:43:27,332 INFO sqlalchemy.engine.Engine [cached since 0.3735s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:43:27,332 - sqlalchemy.engine.Engine - INFO - [cached since 0.3735s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:43:27,355 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 15:43:27,355 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 15:43:27,371 - app.database - INFO - Database tables created successfully
2025-10-09 15:43:27,371 - app.main - INFO - ✅ Database tables ready
2025-10-09 15:43:27,372 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 15:43:27,372 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
2025-10-09 15:43:32,040 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🎯 CV tailoring with real data for user 93d2b2fe-c1a7-4dd5-8006-199a4fe3e860 - Australia_for_UNHCR
2025-10-09 15:43:32,040 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:43:32,041 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded CV optimization framework from /Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/tailored_cv/prompts/framework.md
2025-10-09 15:43:32,042 - app.tailored_cv.routes.cv_tailoring_routes - INFO - Available companies: ['Australia_for_UNHCR']
2025-10-09 15:43:32,042 - app.tailored_cv.services.cv_tailoring_service - INFO - Loading real data for Australia_for_UNHCR
2025-10-09 15:43:32,042 - app.tailored_cv.services.cv_tailoring_service - INFO - Company folder: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 15:43:32,043 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:43:32,043 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:43:32,043 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/simran@gmail.com/cv-analysis
2025-10-09 15:43:32,044 - app.tailored_cv.services.cv_tailoring_service - INFO - 📄 [TAILORING] Using latest CV via unified selector → type=original, ts=None, path=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 15:43:32,045 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [DEBUG] Loading CV from user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 15:43:32,045 - app.tailored_cv.services.cv_tailoring_service - INFO - - First 200 chars: {   "personal_information": {     "name": "Maheshwor Tiwari",     "phone": "0414 032 507",     "email": "maheshtwari99@gmail.com",     "location": "Hurstville, NSW, 2220",     "linkedin": "LinkedIn", 
2025-10-09 15:43:32,046 - app.tailored_cv.services.recommendation_parser - INFO - 📂 Loading CV from: user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 15:43:32,046 - app.tailored_cv.services.recommendation_parser - INFO - 📋 CV format check:
2025-10-09 15:43:32,046 - app.tailored_cv.services.recommendation_parser - INFO -   - Top-level keys: ['personal_information', 'career_profile', 'skills', 'education', 'experience', 'projects', 'certifications', 'languages', 'awards', 'publications', 'volunteer_work', 'professional_memberships', 'unknown_sections', 'original_sections', 'saved_at', 'metadata']
2025-10-09 15:43:32,046 - app.tailored_cv.services.recommendation_parser - INFO -   - Has metadata: True
2025-10-09 15:43:32,047 - app.tailored_cv.services.recommendation_parser - INFO -   - Source file: maheshwor_tiwari.pdf
2025-10-09 15:43:32,047 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing version: 1.0
2025-10-09 15:43:32,047 - app.tailored_cv.services.recommendation_parser - INFO - 🔍 [CV_PARSER] Detailed CV structure analysis:
2025-10-09 15:43:32,047 - app.tailored_cv.services.recommendation_parser - INFO -   - Has contact: False
2025-10-09 15:43:32,047 - app.tailored_cv.services.recommendation_parser - INFO -   - Has experience: True
2025-10-09 15:43:32,047 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience type: <class 'list'>
2025-10-09 15:43:32,047 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience count: 6
2025-10-09 15:43:32,047 - app.tailored_cv.services.recommendation_parser - INFO -   - First experience keys: ['title', 'company', 'duration', 'location', 'responsibilities', 'achievements', 'technologies']
2025-10-09 15:43:32,048 - app.tailored_cv.services.recommendation_parser - INFO -   - Has skills: True
2025-10-09 15:43:32,048 - app.tailored_cv.services.recommendation_parser - INFO -   - Skills type: <class 'dict'>
2025-10-09 15:43:32,048 - app.tailored_cv.services.recommendation_parser - INFO -   - Skills count: Not a list
2025-10-09 15:43:32,048 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Detected structured CV format
2025-10-09 15:43:32,048 - app.tailored_cv.services.recommendation_parser - INFO - 📊 Structure overview:
2025-10-09 15:43:32,048 - app.tailored_cv.services.recommendation_parser - INFO -   - Skills sections: ['technical_skills', 'key_skills', 'soft_skills', 'domain_expertise']
2025-10-09 15:43:32,048 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience entries: 6
2025-10-09 15:43:32,048 - app.tailored_cv.services.recommendation_parser - INFO -   - Education entries: 3
2025-10-09 15:43:32,048 - app.tailored_cv.services.recommendation_parser - INFO -   - Projects: 0
2025-10-09 15:43:32,049 - app.tailored_cv.services.recommendation_parser - INFO - 🔄 Starting structured CV conversion
2025-10-09 15:43:32,049 - app.tailored_cv.services.recommendation_parser - INFO - 📊 Input data validation:
2025-10-09 15:43:32,049 - app.tailored_cv.services.recommendation_parser - INFO - 👤 Converting contact information
2025-10-09 15:43:32,049 - app.tailored_cv.services.recommendation_parser - INFO -   - Source fields: ['name', 'phone', 'email', 'location', 'linkedin', 'github', 'portfolio_links', 'residency_status', 'open_to']
2025-10-09 15:43:32,049 - app.tailored_cv.services.recommendation_parser - INFO -   - Mapped fields: ['name', 'email', 'phone', 'location', 'linkedin', 'website']
2025-10-09 15:43:32,049 - app.tailored_cv.services.recommendation_parser - INFO -   - Contact completeness: 100.0%
2025-10-09 15:43:32,049 - app.tailored_cv.services.recommendation_parser - INFO -   - LinkedIn: LinkedIn
2025-10-09 15:43:32,049 - app.tailored_cv.services.recommendation_parser - INFO -   - Website: GitHub
2025-10-09 15:43:32,050 - app.tailored_cv.services.recommendation_parser - INFO - 💼 Converting experience entries
2025-10-09 15:43:32,050 - app.tailored_cv.services.recommendation_parser - INFO -   - Found 6 experience entries
2025-10-09 15:43:32,050 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 1/6
2025-10-09 15:43:32,050 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: The Bitrates
2025-10-09 15:43:32,050 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Data Analyst
2025-10-09 15:43:32,050 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Jul 2024 to Present
2025-10-09 15:43:32,050 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 5
2025-10-09 15:43:32,050 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 2/6
2025-10-09 15:43:32,050 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: iBuild Building Solutions
2025-10-09 15:43:32,051 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Data Analyst
2025-10-09 15:43:32,051 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Mar 2024 to Jun 2024
2025-10-09 15:43:32,051 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 4
2025-10-09 15:43:32,051 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 3/6
2025-10-09 15:43:32,051 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: Property Console
2025-10-09 15:43:32,051 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Software engineer and Analyst
2025-10-09 15:43:32,051 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Jun 2023 to Nov 2023
2025-10-09 15:43:32,051 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 4
2025-10-09 15:43:32,052 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 4/6
2025-10-09 15:43:32,052 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: CY Cergy Paris University
2025-10-09 15:43:32,052 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Research Assistant
2025-10-09 15:43:32,052 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Oct 2018 to Sep 2022
2025-10-09 15:43:32,052 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 3
2025-10-09 15:43:32,052 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 5/6
2025-10-09 15:43:32,052 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: CY Cergy Paris University
2025-10-09 15:43:32,052 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Lecturer and Course Facilitator
2025-10-09 15:43:32,052 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Sep 2019 to Jun 2022
2025-10-09 15:43:32,053 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 3
2025-10-09 15:43:32,053 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 6/6
2025-10-09 15:43:32,053 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: CY Cergy Paris University
2025-10-09 15:43:32,053 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Research Intern
2025-10-09 15:43:32,053 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Feb 2018 to Jun 2018
2025-10-09 15:43:32,053 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 3
2025-10-09 15:43:32,053 - app.tailored_cv.services.recommendation_parser - INFO - Converted 6 experience entries
2025-10-09 15:43:32,053 - app.tailored_cv.services.recommendation_parser - INFO - 🔧 Converting skills section
2025-10-09 15:43:32,053 - app.tailored_cv.services.recommendation_parser - INFO -   - Source skill categories: ['technical_skills', 'key_skills', 'soft_skills', 'domain_expertise']
2025-10-09 15:43:32,054 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing technical skills:
2025-10-09 15:43:32,054 - app.tailored_cv.services.recommendation_parser - INFO -     • Extracted 5 unique technical skills
2025-10-09 15:43:32,054 - app.tailored_cv.services.recommendation_parser - INFO -     • Skills: Data Analysis, Python, Power BI, Excel, SQL
2025-10-09 15:43:32,054 - app.tailored_cv.services.recommendation_parser - INFO - Converted 1 skill categories
2025-10-09 15:43:32,055 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Conversion complete - Validating output
2025-10-09 15:43:32,055 - app.tailored_cv.services.recommendation_parser - INFO - ✓ Experience: 6 entries
2025-10-09 15:43:32,055 - app.tailored_cv.services.recommendation_parser - INFO - ✓ Skills: 1 categories
2025-10-09 15:43:32,055 - app.tailored_cv.services.recommendation_parser - INFO -   • Technical Skills: 5 skills
2025-10-09 15:43:32,056 - app.tailored_cv.services.recommendation_parser - INFO - ✨ Validation passed - All required sections present
2025-10-09 15:43:32,056 - app.tailored_cv.services.recommendation_parser - INFO - 🎓 Converting education entries
2025-10-09 15:43:32,056 - app.tailored_cv.services.recommendation_parser - INFO -   - Found 3 education entries
2025-10-09 15:43:32,056 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing education 1/3
2025-10-09 15:43:32,056 - app.tailored_cv.services.recommendation_parser - INFO -     • Institution: Charles Darwin University, Sydney, Australia
2025-10-09 15:43:32,056 - app.tailored_cv.services.recommendation_parser - INFO -     • Degree: Master of Data Science
2025-10-09 15:43:32,056 - app.tailored_cv.services.recommendation_parser - INFO -     • Graduation date: Mar 2023 - Nov 2024
2025-10-09 15:43:32,057 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing education 2/3
2025-10-09 15:43:32,057 - app.tailored_cv.services.recommendation_parser - INFO -     • Institution: CY Cergy Paris University, Cergy, France
2025-10-09 15:43:32,057 - app.tailored_cv.services.recommendation_parser - INFO -     • Degree: PhD in Physics
2025-10-09 15:43:32,057 - app.tailored_cv.services.recommendation_parser - INFO -     • Graduation date: Oct 2018 - Sep 2022
2025-10-09 15:43:32,057 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing education 3/3
2025-10-09 15:43:32,057 - app.tailored_cv.services.recommendation_parser - INFO -     • Institution: CY Cergy Paris University, Cergy, France
2025-10-09 15:43:32,058 - app.tailored_cv.services.recommendation_parser - INFO -     • Degree: Master of Theoretical Physics
2025-10-09 15:43:32,058 - app.tailored_cv.services.recommendation_parser - INFO -     • Graduation date: Sep 2016 - Jun 2018
2025-10-09 15:43:32,058 - app.tailored_cv.services.recommendation_parser - INFO - Converted 3 education entries
2025-10-09 15:43:32,058 - app.tailored_cv.services.recommendation_parser - INFO - 📤 Returning converted CV data:
2025-10-09 15:43:32,058 - app.tailored_cv.services.recommendation_parser - INFO -   - Contact fields: ['name', 'email', 'phone', 'location', 'linkedin', 'website']
2025-10-09 15:43:32,058 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience entries: 6
2025-10-09 15:43:32,058 - app.tailored_cv.services.recommendation_parser - INFO -   - Skill categories: 1
2025-10-09 15:43:32,058 - app.tailored_cv.services.recommendation_parser - INFO -   - Education entries: 3
2025-10-09 15:43:32,059 - app.tailored_cv.services.cv_tailoring_service - INFO - - Parsed CV data keys: ['contact', 'experience', 'skills', 'education']
2025-10-09 15:43:32,059 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Skills already in SkillCategory format
2025-10-09 15:43:32,059 - app.tailored_cv.services.cv_tailoring_service - INFO - - Final CV object attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__repr__', '__repr_args__', '__repr_name__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_check_frozen', '_copy_and_set_values', '_get_value', '_iter', 'construct', 'contact', 'copy', 'created_at', 'dict', 'education', 'experience', 'experience_level', 'from_orm', 'json', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'projects', 'schema', 'schema_json', 'skills', 'total_years_experience', 'update_forward_refs', 'updated_at', 'validate']
2025-10-09 15:43:32,067 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Parsed recommendation for Australia_for_UNHCR
2025-10-09 15:43:32,067 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded real CV and recommendation for Australia_for_UNHCR
2025-10-09 15:43:32,067 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ Loaded real data for Australia_for_UNHCR
2025-10-09 15:43:32,067 - app.tailored_cv.services.cv_tailoring_service - INFO - 🎯 Starting CV tailoring for Australia_for_UNHCR - Senior Data Analyst
2025-10-09 15:43:32,067 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [DEBUG] Validating CV structure:
2025-10-09 15:43:32,067 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV object type: <class 'app.tailored_cv.models.cv_models.OriginalCV'>
2025-10-09 15:43:32,068 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__repr__', '__repr_args__', '__repr_name__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_check_frozen', '_copy_and_set_values', '_get_value', '_iter', 'construct', 'contact', 'copy', 'created_at', 'dict', 'education', 'experience', 'experience_level', 'from_orm', 'json', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'projects', 'schema', 'schema_json', 'skills', 'total_years_experience', 'update_forward_refs', 'updated_at', 'validate']
2025-10-09 15:43:32,068 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV data: {
  "contact": {
    "name": "Maheshwor Tiwari",
    "phone": "0414 032 507",
    "email": "maheshtwari99@gmail.com",
    "linkedin": "LinkedIn",
    "location": "Hurstville, NSW, 2220",
    "website": "GitHub"
  },
  "education": [
    {
      "institution": "Charles Darwin University, Sydney, Australia",
      "degree": "Master of Data Science",
      "location": "Sydney, Australia",
      "graduation_date": "Mar 2023 - Nov 2024",
      "gpa": "GPA",
      "relevant_coursework": [],
      "honors": []
    },
    {
      "institution": "CY Cergy Paris University, Cergy, France",
      "degree": "PhD in Physics",
      "location": "Cergy, France",
      "graduation_date": "Oct 2018 - Sep 2022",
      "gpa": "",
      "relevant_coursework": [],
      "honors": []
    },
    {
      "institution": "CY Cergy Paris University, Cergy, France",
      "degree": "Master of Theoretical Physics",
      "location": "Cergy, France",
      "graduation_date": "Sep 2016 - Jun 2018",
      "gpa": "",
      "relevant_coursework": [],
      "honors": []
    }
  ],
  "experience": [
    {
      "company": "The Bitrates",
      "title": "Data Analyst",
      "location": "",
      "start_date": "Jul 2024",
      "end_date": "Present",
      "duration": null,
      "bullets": [
        "Designed and implemented Python scripts for data cleaning, preprocessing, and analysis, improving data pipeline efficiency by 30%.",
        "Developed machine learning models in Python for predictive analytics, enabling data-driven business decisions.",
        "Leveraged AI techniques to automate repetitive tasks, reducing manual effort and improving productivity.",
        "Built dynamic dashboards and visualizations using Python libraries like Matplotlib and Seaborn to communicate insights effectively.",
        "Integrated Google Analytics data with Python for advanced analysis, enhancing customer behavior insights."
      ],
      "skills_used": null
    },
    {
      "company": "iBuild Building Solutions",
      "title": "Data Analyst",
      "location": "",
      "start_date": "Mar 2024",
      "end_date": "Jun 2024",
      "duration": null,
      "bullets": [
        "Automated data extraction and structuring of population datasets using Python, improving data accuracy and team collaboration.",
        "Analyzed customer support data with Python to optimize response times and enhance operational efficiency.",
        "Developed Python-based solutions to generate actionable insights, meeting strict deadlines for strategic decision-making.",
        "Designed Python scripts to create dynamic reports and dashboards, significantly improving customer satisfaction and decision-making processes."
      ],
      "skills_used": null
    },
    {
      "company": "Property Console",
      "title": "Software engineer and Analyst",
      "location": "",
      "start_date": "Jun 2023",
      "end_date": "Nov 2023",
      "duration": null,
      "bullets": [
        "Built Python scripts to track key metrics, ensuring 99% data accuracy and improving data integrity and operational efficiency.",
        "Collaborated with the development team to enhance analytics capabilities, using Python to improve data processing speed by 25%.",
        "Leveraged Python for data preprocessing and analysis, producing Tableau dashboards that improved decision-making.",
        "Supported cross-functional teams with Python-driven insights, enabling customer-focused initiatives."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Research Assistant",
      "location": "",
      "start_date": "Oct 2018",
      "end_date": "Sep 2022",
      "duration": null,
      "bullets": [
        "Utilized advanced Python programming for computational modeling and solving complex research problems.",
        "Developed Python-based workflows to manage and analyze large datasets across multiple research projects.",
        "Presented Python-enabled research findings at international conferences, demonstrating technical expertise and communication skills."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Lecturer and Course Facilitator",
      "location": "",
      "start_date": "Sep 2019",
      "end_date": "Jun 2022",
      "duration": null,
      "bullets": [
        "Led engaging physics tutorials for master\u2019s students, enhancing understanding and promoting teamwork.",
        "Designed course materials, assignments, and exams, strengthening the learning experience.",
        "Mentored students on projects, collaborated with faculty, and fostered student engagement."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Research Intern",
      "location": "",
      "start_date": "Feb 2018",
      "end_date": "Jun 2018",
      "duration": null,
      "bullets": [
        "Developed proficiency in Python programming by researching the effect of magnetic fields on 2D materials.",
        "Managed and analyzed complex data sets, improving their accuracy and reliability.",
        "Used dashboard using Power BI to present research findings and participated in weekly reviews, improving collaboration and research skills."
      ],
      "skills_used": null
    }
  ],
  "projects": null,
  "skills": [
    {
      "category": "Technical Skills",
      "skills": [
        "Data Analysis",
        "Python",
        "Power BI",
        "Excel",
        "SQL"
      ]
    }
  ],
  "experience_level": null,
  "total_years_experience": null,
  "created_at": null,
  "updated_at": null
}
2025-10-09 15:43:32,068 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [CV_VALIDATION] Starting detailed validation:
2025-10-09 15:43:32,068 - app.tailored_cv.services.cv_tailoring_service - INFO - - Has contact: True
2025-10-09 15:43:32,068 - app.tailored_cv.services.cv_tailoring_service - INFO - - Contact name: Maheshwor Tiwari
2025-10-09 15:43:32,069 - app.tailored_cv.services.cv_tailoring_service - INFO - - Contact email: maheshtwari99@gmail.com
2025-10-09 15:43:32,069 - app.tailored_cv.services.cv_tailoring_service - INFO - - Has experience: True
2025-10-09 15:43:32,069 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience count: 6
2025-10-09 15:43:32,069 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 1: company=The Bitrates, bullets=5
2025-10-09 15:43:32,069 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 2: company=iBuild Building Solutions, bullets=4
2025-10-09 15:43:32,069 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 3: company=Property Console, bullets=4
2025-10-09 15:43:32,069 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 4: company=CY Cergy Paris University, bullets=3
2025-10-09 15:43:32,069 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 5: company=CY Cergy Paris University, bullets=3
2025-10-09 15:43:32,070 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 6: company=CY Cergy Paris University, bullets=3
2025-10-09 15:43:32,070 - app.tailored_cv.services.cv_tailoring_service - INFO - - Has skills: True
2025-10-09 15:43:32,070 - app.tailored_cv.services.cv_tailoring_service - INFO - - Skills count: 1
2025-10-09 15:43:32,070 - app.tailored_cv.services.cv_tailoring_service - INFO - - Skill category 1: Technical Skills, skills=5
2025-10-09 15:43:32,070 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [CV_VALIDATION] Checking required fields:
2025-10-09 15:43:32,070 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Contact name present: Maheshwor Tiwari
2025-10-09 15:43:32,070 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Contact email present: maheshtwari99@gmail.com
2025-10-09 15:43:32,070 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Experience entries present: 6
2025-10-09 15:43:32,071 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Skills section present: 1 categories
2025-10-09 15:43:32,072 - app.tailored_cv.services.cv_tailoring_service - INFO - [b84e6b78] 🎯 Starting CV tailoring for Australia_for_UNHCR with strategy: education_last
2025-10-09 15:43:32,072 - app.tailored_cv.services.cv_tailoring_service - INFO - [b84e6b78] Initial stats:
2025-10-09 15:43:32,072 - app.tailored_cv.services.cv_tailoring_service - INFO - [b84e6b78] - Experience entries: 6
2025-10-09 15:43:32,073 - app.tailored_cv.services.cv_tailoring_service - INFO - [b84e6b78] - Total bullets: 22
2025-10-09 15:43:32,073 - app.tailored_cv.services.cv_tailoring_service - INFO - [b84e6b78] - Skills categories: 1
2025-10-09 15:43:32,073 - app.tailored_cv.services.cv_tailoring_service - INFO - [b84e6b78] - Total skills: 5
2025-10-09 15:43:32,073 - app.tailored_cv.services.cv_tailoring_service - INFO - [b84e6b78] Critical gaps to address: Business Intelligence, Detail-oriented
2025-10-09 15:43:32,073 - app.tailored_cv.services.cv_tailoring_service - INFO - [b84e6b78] Technical enhancements needed: 
2025-10-09 15:43:32,074 - app.tailored_cv.services.cv_tailoring_service - INFO - [b84e6b78] 🤖 Generating tailored CV using AI service...
2025-10-09 15:43:32,074 - app.tailored_cv.services.cv_tailoring_service - INFO - [b84e6b78] Attempt 1/5 with temp=0.0
2025-10-09 15:43:32,074 - app.tailored_cv.services.cv_tailoring_service - INFO - [b84e6b78] - System prompt length: 10574
2025-10-09 15:43:32,074 - app.tailored_cv.services.cv_tailoring_service - INFO - [b84e6b78] - User prompt length: 12226
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=original, ts=00000000_000000, mtime=1759984358.0670488, json=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=original, ts=00000000_000000, json=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 15:43:32,126 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:43:32,126 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:43:32,130 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 15:43:32,130 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 15:43:32,131 INFO sqlalchemy.engine.Engine [generated in 0.00043s] {'email_1': 'simran@gmail.com', 'param_1': 1}
2025-10-09 15:43:32,131 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] {'email_1': 'simran@gmail.com', 'param_1': 1}
2025-10-09 15:43:32,162 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:43:32,162 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:43:32,179 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user simran@gmail.com
2025-10-09 15:43:32,179 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Before initialization:
2025-10-09 15:43:32,179 - app.ai.ai_service - INFO - - Current providers: []
2025-10-09 15:43:32,179 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 15:43:32,179 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 15:43:32,180 - app.ai.ai_service - INFO - - Cached providers for user: []
2025-10-09 15:43:32,180 - app.ai.ai_service - INFO - 🔄 [AI_SERVICE] Initializing new providers for user simran@gmail.com
2025-10-09 15:43:32,198 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:43:32,198 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:43:32,201 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:43:32,201 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:43:32,201 INFO sqlalchemy.engine.Engine [generated in 0.00036s] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 15:43:32,201 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 15:43:32,250 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:43:32,250 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:43:33,082 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:43:33,100 - app.ai.ai_service - INFO - ✅ Initialized openai provider with model gpt-4o for user simran@gmail.com
2025-10-09 15:43:33,121 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:43:33,121 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:43:33,122 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:43:33,122 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:43:33,123 INFO sqlalchemy.engine.Engine [cached since 0.9219s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 15:43:33,123 - sqlalchemy.engine.Engine - INFO - [cached since 0.9219s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 15:43:33,157 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:43:33,157 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:43:33,178 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user simran@gmail.com and provider anthropic
2025-10-09 15:43:33,197 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:43:33,197 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:43:33,198 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:43:33,198 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:43:33,199 INFO sqlalchemy.engine.Engine [cached since 0.9979s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 15:43:33,199 - sqlalchemy.engine.Engine - INFO - [cached since 0.9979s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 15:43:33,236 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:43:33,236 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:43:33,253 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user simran@gmail.com and provider deepseek
2025-10-09 15:43:33,253 - app.ai.ai_service - INFO - 💾 [AI_SERVICE] Cached 1 providers for user simran@gmail.com
2025-10-09 15:43:33,254 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] After initialization:
2025-10-09 15:43:33,254 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 15:43:33,254 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 15:43:33,254 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 15:43:33,255 - app.tailored_cv.services.cv_tailoring_service - INFO - [b84e6b78] 🔄 Initialized AI service for user simran@gmail.com
2025-10-09 15:43:33,255 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 15:43:33,255 - app.ai.ai_service - INFO - ✅ Switched to openai provider with model gpt-3.5-turbo
2025-10-09 15:43:33,256 - app.tailored_cv.services.cv_tailoring_service - INFO - [b84e6b78] ✅ Auto-selected provider: openai
2025-10-09 15:43:33,256 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 15:43:33,256 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 15:43:33,256 - app.ai.ai_service - INFO - - Prompt length: 12226
2025-10-09 15:43:33,256 - app.ai.ai_service - INFO - - System prompt length: 10574
2025-10-09 15:43:33,256 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 15:43:33,257 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 15:43:33,257 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 15:43:33,257 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:43:33,257 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:43:33,257 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:43:33,258 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:43:34,203 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:43:34,214 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:43:34,215 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:43:34,215 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:43:34,215 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 15:43:43,606 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 15:43:43,614 - app.tailored_cv.services.cv_tailoring_service - INFO - [b84e6b78] AI response stats:
2025-10-09 15:43:43,615 - app.tailored_cv.services.cv_tailoring_service - INFO - [b84e6b78] - Content length: 5514
2025-10-09 15:43:43,615 - app.tailored_cv.services.cv_tailoring_service - INFO - [b84e6b78] - First 300 chars: {   "contact": {     "name": "Maheshwor Tiwari",     "phone": "0414 032 507",     "email": "maheshtwari99@gmail.com",     "location": "Hurstville, NSW, 2220",     "linkedin": "",     "website": ""   },   "education": [     {       "institution": "Charles Darwin University, Sydney, Australia",       ...
2025-10-09 15:43:43,615 - app.tailored_cv.services.cv_tailoring_service - INFO - Starting JSON extraction from content length: 5514
2025-10-09 15:43:43,615 - app.tailored_cv.services.cv_tailoring_service - INFO - [b84e6b78] 🔍 Starting JSON validation
2025-10-09 15:43:43,616 - app.tailored_cv.services.cv_tailoring_service - WARNING - [b84e6b78] CV created below minimum standards: 43.5% quantification
2025-10-09 15:43:43,616 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ JSON structure and Impact Formula validation passed (10/23 bullets with quantification)
2025-10-09 15:43:43,616 - app.tailored_cv.services.cv_tailoring_service - INFO - ℹ️ Skipping placeholder checks; proceeding with generated data as-is.
2025-10-09 15:43:43,617 - app.tailored_cv.services.cv_tailoring_service - INFO - [b84e6b78] 🔍 Starting keyword integration validation
2025-10-09 15:43:43,617 - app.tailored_cv.services.cv_tailoring_service - INFO - [b84e6b78] Scanning experience bullets:
2025-10-09 15:43:43,617 - app.tailored_cv.services.cv_tailoring_service - INFO - [b84e6b78] - Experience 1: 6 bullets
2025-10-09 15:43:43,617 - app.tailored_cv.services.cv_tailoring_service - INFO - [b84e6b78] - Experience 2: 4 bullets
2025-10-09 15:43:43,617 - app.tailored_cv.services.cv_tailoring_service - INFO - [b84e6b78] - Experience 3: 4 bullets
2025-10-09 15:43:43,617 - app.tailored_cv.services.cv_tailoring_service - INFO - [b84e6b78] - Experience 4: 3 bullets
2025-10-09 15:43:43,617 - app.tailored_cv.services.cv_tailoring_service - INFO - [b84e6b78] - Experience 5: 3 bullets
2025-10-09 15:43:43,617 - app.tailored_cv.services.cv_tailoring_service - INFO - [b84e6b78] - Experience 6: 3 bullets
2025-10-09 15:43:43,618 - app.tailored_cv.services.cv_tailoring_service - INFO - [b84e6b78] Scanning skills:
2025-10-09 15:43:43,618 - app.tailored_cv.services.cv_tailoring_service - INFO - [b84e6b78] - Category 1: 6 skills
2025-10-09 15:43:43,618 - app.tailored_cv.services.cv_tailoring_service - WARNING - ⚠️ Some keywords not found but within acceptable range: Detail-oriented
2025-10-09 15:43:43,618 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Keyword integration validation passed - 1/2 critical keywords found
2025-10-09 15:43:43,618 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Keyword integration validation passed - 2 critical keywords found
2025-10-09 15:43:43,618 - app.tailored_cv.services.cv_tailoring_service - INFO - [b84e6b78] ✅ AI generation successful on attempt 1
2025-10-09 15:43:43,618 - app.tailored_cv.services.cv_tailoring_service - INFO - [b84e6b78] 🔁 Quantification below 60% (43.5%). Enhancement attempt 1/3
2025-10-09 15:43:43,619 - app.tailored_cv.services.cv_tailoring_service - ERROR - ❌ CV tailoring failed: generate_response() missing 1 required positional argument: 'user'
2025-10-09 15:43:43,619 - app.tailored_cv.routes.cv_tailoring_routes - ERROR - ❌ CV tailoring with real data failed: CV tailoring process failed: generate_response() missing 1 required positional argument: 'user'
INFO:     127.0.0.1:50655 - "POST /api/tailored-cv/tailor-with-real-data/Australia_for_UNHCR HTTP/1.1" 500 Internal Server Error
WARNING:  WatchFiles detected changes in 'app/tailored_cv/services/cv_tailoring_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 15:44:06,188 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [2000]
No AI providers auto-configured - user must select provider and configure API keys via frontend
WARNING:  WatchFiles detected changes in 'app/tailored_cv/services/cv_tailoring_service.py'. Reloading...
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [3849]
INFO:     Waiting for application startup.
2025-10-09 15:44:14,860 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 15:44:15,173 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 15:44:15,173 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 15:44:15,174 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:44:15,174 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:44:15,211 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 15:44:15,211 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 15:44:15,212 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:44:15,212 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:44:15,251 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 15:44:15,251 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 15:44:15,252 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:44:15,252 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:44:15,291 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:44:15,291 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:44:15,292 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 15:44:15,292 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 15:44:15,292 INFO sqlalchemy.engine.Engine [generated in 0.00097s] {}
2025-10-09 15:44:15,292 - sqlalchemy.engine.Engine - INFO - [generated in 0.00097s] {}
2025-10-09 15:44:15,328 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:44:15,328 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:44:15,345 - app.database - INFO - Database connection successful
2025-10-09 15:44:15,346 - app.main - INFO - ✅ Database connection successful
2025-10-09 15:44:15,365 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:44:15,365 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:44:15,370 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:44:15,370 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:44:15,371 INFO sqlalchemy.engine.Engine [generated in 0.00052s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:44:15,371 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:44:15,414 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:44:15,414 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:44:15,414 INFO sqlalchemy.engine.Engine [cached since 0.04383s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:44:15,414 - sqlalchemy.engine.Engine - INFO - [cached since 0.04383s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:44:15,435 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:44:15,435 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:44:15,436 INFO sqlalchemy.engine.Engine [cached since 0.06563s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:44:15,436 - sqlalchemy.engine.Engine - INFO - [cached since 0.06563s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:44:15,459 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:44:15,459 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:44:15,459 INFO sqlalchemy.engine.Engine [cached since 0.08935s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:44:15,459 - sqlalchemy.engine.Engine - INFO - [cached since 0.08935s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:44:15,483 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:44:15,483 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:44:15,484 INFO sqlalchemy.engine.Engine [cached since 0.1136s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:44:15,484 - sqlalchemy.engine.Engine - INFO - [cached since 0.1136s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:44:15,506 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:44:15,506 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:44:15,507 INFO sqlalchemy.engine.Engine [cached since 0.1365s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:44:15,507 - sqlalchemy.engine.Engine - INFO - [cached since 0.1365s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:44:15,527 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:44:15,527 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:44:15,528 INFO sqlalchemy.engine.Engine [cached since 0.1574s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:44:15,528 - sqlalchemy.engine.Engine - INFO - [cached since 0.1574s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:44:15,551 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:44:15,551 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:44:15,552 INFO sqlalchemy.engine.Engine [cached since 0.1817s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:44:15,552 - sqlalchemy.engine.Engine - INFO - [cached since 0.1817s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:44:15,571 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:44:15,571 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:44:15,571 INFO sqlalchemy.engine.Engine [cached since 0.2014s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:44:15,571 - sqlalchemy.engine.Engine - INFO - [cached since 0.2014s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:44:15,594 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:44:15,594 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:44:15,595 INFO sqlalchemy.engine.Engine [cached since 0.2246s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:44:15,595 - sqlalchemy.engine.Engine - INFO - [cached since 0.2246s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:44:15,615 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:44:15,615 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:44:15,616 INFO sqlalchemy.engine.Engine [cached since 0.2457s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:44:15,616 - sqlalchemy.engine.Engine - INFO - [cached since 0.2457s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:44:15,640 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 15:44:15,640 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 15:44:15,656 - app.database - INFO - Database tables created successfully
2025-10-09 15:44:15,657 - app.main - INFO - ✅ Database tables ready
2025-10-09 15:44:15,657 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 15:44:15,657 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
2025-10-09 15:44:21,047 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🎯 CV tailoring with real data for user 93d2b2fe-c1a7-4dd5-8006-199a4fe3e860 - Australia_for_UNHCR
2025-10-09 15:44:21,047 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:44:21,048 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded CV optimization framework from /Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/tailored_cv/prompts/framework.md
2025-10-09 15:44:21,049 - app.tailored_cv.routes.cv_tailoring_routes - INFO - Available companies: ['Australia_for_UNHCR']
2025-10-09 15:44:21,049 - app.tailored_cv.services.cv_tailoring_service - INFO - Loading real data for Australia_for_UNHCR
2025-10-09 15:44:21,049 - app.tailored_cv.services.cv_tailoring_service - INFO - Company folder: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 15:44:21,050 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:44:21,050 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:44:21,050 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/simran@gmail.com/cv-analysis
2025-10-09 15:44:21,051 - app.tailored_cv.services.cv_tailoring_service - INFO - 📄 [TAILORING] Using latest CV via unified selector → type=original, ts=None, path=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 15:44:21,051 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [DEBUG] Loading CV from user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 15:44:21,052 - app.tailored_cv.services.cv_tailoring_service - INFO - - First 200 chars: {   "personal_information": {     "name": "Maheshwor Tiwari",     "phone": "0414 032 507",     "email": "maheshtwari99@gmail.com",     "location": "Hurstville, NSW, 2220",     "linkedin": "LinkedIn", 
2025-10-09 15:44:21,052 - app.tailored_cv.services.recommendation_parser - INFO - 📂 Loading CV from: user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 15:44:21,053 - app.tailored_cv.services.recommendation_parser - INFO - 📋 CV format check:
2025-10-09 15:44:21,053 - app.tailored_cv.services.recommendation_parser - INFO -   - Top-level keys: ['personal_information', 'career_profile', 'skills', 'education', 'experience', 'projects', 'certifications', 'languages', 'awards', 'publications', 'volunteer_work', 'professional_memberships', 'unknown_sections', 'original_sections', 'saved_at', 'metadata']
2025-10-09 15:44:21,053 - app.tailored_cv.services.recommendation_parser - INFO -   - Has metadata: True
2025-10-09 15:44:21,053 - app.tailored_cv.services.recommendation_parser - INFO -   - Source file: maheshwor_tiwari.pdf
2025-10-09 15:44:21,053 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing version: 1.0
2025-10-09 15:44:21,054 - app.tailored_cv.services.recommendation_parser - INFO - 🔍 [CV_PARSER] Detailed CV structure analysis:
2025-10-09 15:44:21,054 - app.tailored_cv.services.recommendation_parser - INFO -   - Has contact: False
2025-10-09 15:44:21,054 - app.tailored_cv.services.recommendation_parser - INFO -   - Has experience: True
2025-10-09 15:44:21,055 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience type: <class 'list'>
2025-10-09 15:44:21,055 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience count: 6
2025-10-09 15:44:21,055 - app.tailored_cv.services.recommendation_parser - INFO -   - First experience keys: ['title', 'company', 'duration', 'location', 'responsibilities', 'achievements', 'technologies']
2025-10-09 15:44:21,055 - app.tailored_cv.services.recommendation_parser - INFO -   - Has skills: True
2025-10-09 15:44:21,055 - app.tailored_cv.services.recommendation_parser - INFO -   - Skills type: <class 'dict'>
2025-10-09 15:44:21,055 - app.tailored_cv.services.recommendation_parser - INFO -   - Skills count: Not a list
2025-10-09 15:44:21,056 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Detected structured CV format
2025-10-09 15:44:21,056 - app.tailored_cv.services.recommendation_parser - INFO - 📊 Structure overview:
2025-10-09 15:44:21,056 - app.tailored_cv.services.recommendation_parser - INFO -   - Skills sections: ['technical_skills', 'key_skills', 'soft_skills', 'domain_expertise']
2025-10-09 15:44:21,056 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience entries: 6
2025-10-09 15:44:21,056 - app.tailored_cv.services.recommendation_parser - INFO -   - Education entries: 3
2025-10-09 15:44:21,056 - app.tailored_cv.services.recommendation_parser - INFO -   - Projects: 0
2025-10-09 15:44:21,056 - app.tailored_cv.services.recommendation_parser - INFO - 🔄 Starting structured CV conversion
2025-10-09 15:44:21,057 - app.tailored_cv.services.recommendation_parser - INFO - 📊 Input data validation:
2025-10-09 15:44:21,057 - app.tailored_cv.services.recommendation_parser - INFO - 👤 Converting contact information
2025-10-09 15:44:21,057 - app.tailored_cv.services.recommendation_parser - INFO -   - Source fields: ['name', 'phone', 'email', 'location', 'linkedin', 'github', 'portfolio_links', 'residency_status', 'open_to']
2025-10-09 15:44:21,057 - app.tailored_cv.services.recommendation_parser - INFO -   - Mapped fields: ['name', 'email', 'phone', 'location', 'linkedin', 'website']
2025-10-09 15:44:21,057 - app.tailored_cv.services.recommendation_parser - INFO -   - Contact completeness: 100.0%
2025-10-09 15:44:21,057 - app.tailored_cv.services.recommendation_parser - INFO -   - LinkedIn: LinkedIn
2025-10-09 15:44:21,058 - app.tailored_cv.services.recommendation_parser - INFO -   - Website: GitHub
2025-10-09 15:44:21,058 - app.tailored_cv.services.recommendation_parser - INFO - 💼 Converting experience entries
2025-10-09 15:44:21,058 - app.tailored_cv.services.recommendation_parser - INFO -   - Found 6 experience entries
2025-10-09 15:44:21,058 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 1/6
2025-10-09 15:44:21,058 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: The Bitrates
2025-10-09 15:44:21,058 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Data Analyst
2025-10-09 15:44:21,058 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Jul 2024 to Present
2025-10-09 15:44:21,058 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 5
2025-10-09 15:44:21,058 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 2/6
2025-10-09 15:44:21,059 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: iBuild Building Solutions
2025-10-09 15:44:21,059 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Data Analyst
2025-10-09 15:44:21,059 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Mar 2024 to Jun 2024
2025-10-09 15:44:21,059 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 4
2025-10-09 15:44:21,059 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 3/6
2025-10-09 15:44:21,059 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: Property Console
2025-10-09 15:44:21,059 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Software engineer and Analyst
2025-10-09 15:44:21,059 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Jun 2023 to Nov 2023
2025-10-09 15:44:21,060 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 4
2025-10-09 15:44:21,060 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 4/6
2025-10-09 15:44:21,060 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: CY Cergy Paris University
2025-10-09 15:44:21,060 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Research Assistant
2025-10-09 15:44:21,060 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Oct 2018 to Sep 2022
2025-10-09 15:44:21,060 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 3
2025-10-09 15:44:21,060 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 5/6
2025-10-09 15:44:21,061 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: CY Cergy Paris University
2025-10-09 15:44:21,061 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Lecturer and Course Facilitator
2025-10-09 15:44:21,061 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Sep 2019 to Jun 2022
2025-10-09 15:44:21,061 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 3
2025-10-09 15:44:21,061 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 6/6
2025-10-09 15:44:21,061 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: CY Cergy Paris University
2025-10-09 15:44:21,061 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Research Intern
2025-10-09 15:44:21,061 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Feb 2018 to Jun 2018
2025-10-09 15:44:21,062 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 3
2025-10-09 15:44:21,062 - app.tailored_cv.services.recommendation_parser - INFO - Converted 6 experience entries
2025-10-09 15:44:21,062 - app.tailored_cv.services.recommendation_parser - INFO - 🔧 Converting skills section
2025-10-09 15:44:21,062 - app.tailored_cv.services.recommendation_parser - INFO -   - Source skill categories: ['technical_skills', 'key_skills', 'soft_skills', 'domain_expertise']
2025-10-09 15:44:21,062 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing technical skills:
2025-10-09 15:44:21,062 - app.tailored_cv.services.recommendation_parser - INFO -     • Extracted 5 unique technical skills
2025-10-09 15:44:21,062 - app.tailored_cv.services.recommendation_parser - INFO -     • Skills: Excel, Power BI, Python, Data Analysis, SQL
2025-10-09 15:44:21,062 - app.tailored_cv.services.recommendation_parser - INFO - Converted 1 skill categories
2025-10-09 15:44:21,063 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Conversion complete - Validating output
2025-10-09 15:44:21,063 - app.tailored_cv.services.recommendation_parser - INFO - ✓ Experience: 6 entries
2025-10-09 15:44:21,063 - app.tailored_cv.services.recommendation_parser - INFO - ✓ Skills: 1 categories
2025-10-09 15:44:21,063 - app.tailored_cv.services.recommendation_parser - INFO -   • Technical Skills: 5 skills
2025-10-09 15:44:21,063 - app.tailored_cv.services.recommendation_parser - INFO - ✨ Validation passed - All required sections present
2025-10-09 15:44:21,063 - app.tailored_cv.services.recommendation_parser - INFO - 🎓 Converting education entries
2025-10-09 15:44:21,063 - app.tailored_cv.services.recommendation_parser - INFO -   - Found 3 education entries
2025-10-09 15:44:21,063 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing education 1/3
2025-10-09 15:44:21,063 - app.tailored_cv.services.recommendation_parser - INFO -     • Institution: Charles Darwin University, Sydney, Australia
2025-10-09 15:44:21,064 - app.tailored_cv.services.recommendation_parser - INFO -     • Degree: Master of Data Science
2025-10-09 15:44:21,064 - app.tailored_cv.services.recommendation_parser - INFO -     • Graduation date: Mar 2023 - Nov 2024
2025-10-09 15:44:21,064 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing education 2/3
2025-10-09 15:44:21,064 - app.tailored_cv.services.recommendation_parser - INFO -     • Institution: CY Cergy Paris University, Cergy, France
2025-10-09 15:44:21,064 - app.tailored_cv.services.recommendation_parser - INFO -     • Degree: PhD in Physics
2025-10-09 15:44:21,064 - app.tailored_cv.services.recommendation_parser - INFO -     • Graduation date: Oct 2018 - Sep 2022
2025-10-09 15:44:21,065 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing education 3/3
2025-10-09 15:44:21,065 - app.tailored_cv.services.recommendation_parser - INFO -     • Institution: CY Cergy Paris University, Cergy, France
2025-10-09 15:44:21,065 - app.tailored_cv.services.recommendation_parser - INFO -     • Degree: Master of Theoretical Physics
2025-10-09 15:44:21,065 - app.tailored_cv.services.recommendation_parser - INFO -     • Graduation date: Sep 2016 - Jun 2018
2025-10-09 15:44:21,065 - app.tailored_cv.services.recommendation_parser - INFO - Converted 3 education entries
2025-10-09 15:44:21,065 - app.tailored_cv.services.recommendation_parser - INFO - 📤 Returning converted CV data:
2025-10-09 15:44:21,065 - app.tailored_cv.services.recommendation_parser - INFO -   - Contact fields: ['name', 'email', 'phone', 'location', 'linkedin', 'website']
2025-10-09 15:44:21,065 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience entries: 6
2025-10-09 15:44:21,065 - app.tailored_cv.services.recommendation_parser - INFO -   - Skill categories: 1
2025-10-09 15:44:21,066 - app.tailored_cv.services.recommendation_parser - INFO -   - Education entries: 3
2025-10-09 15:44:21,066 - app.tailored_cv.services.cv_tailoring_service - INFO - - Parsed CV data keys: ['contact', 'experience', 'skills', 'education']
2025-10-09 15:44:21,066 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Skills already in SkillCategory format
2025-10-09 15:44:21,066 - app.tailored_cv.services.cv_tailoring_service - INFO - - Final CV object attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__repr__', '__repr_args__', '__repr_name__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_check_frozen', '_copy_and_set_values', '_get_value', '_iter', 'construct', 'contact', 'copy', 'created_at', 'dict', 'education', 'experience', 'experience_level', 'from_orm', 'json', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'projects', 'schema', 'schema_json', 'skills', 'total_years_experience', 'update_forward_refs', 'updated_at', 'validate']
2025-10-09 15:44:21,074 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Parsed recommendation for Australia_for_UNHCR
2025-10-09 15:44:21,075 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded real CV and recommendation for Australia_for_UNHCR
2025-10-09 15:44:21,075 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ Loaded real data for Australia_for_UNHCR
2025-10-09 15:44:21,075 - app.tailored_cv.services.cv_tailoring_service - INFO - 🎯 Starting CV tailoring for Australia_for_UNHCR - Senior Data Analyst
2025-10-09 15:44:21,075 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [DEBUG] Validating CV structure:
2025-10-09 15:44:21,075 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV object type: <class 'app.tailored_cv.models.cv_models.OriginalCV'>
2025-10-09 15:44:21,076 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__repr__', '__repr_args__', '__repr_name__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_check_frozen', '_copy_and_set_values', '_get_value', '_iter', 'construct', 'contact', 'copy', 'created_at', 'dict', 'education', 'experience', 'experience_level', 'from_orm', 'json', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'projects', 'schema', 'schema_json', 'skills', 'total_years_experience', 'update_forward_refs', 'updated_at', 'validate']
2025-10-09 15:44:21,076 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV data: {
  "contact": {
    "name": "Maheshwor Tiwari",
    "phone": "0414 032 507",
    "email": "maheshtwari99@gmail.com",
    "linkedin": "LinkedIn",
    "location": "Hurstville, NSW, 2220",
    "website": "GitHub"
  },
  "education": [
    {
      "institution": "Charles Darwin University, Sydney, Australia",
      "degree": "Master of Data Science",
      "location": "Sydney, Australia",
      "graduation_date": "Mar 2023 - Nov 2024",
      "gpa": "GPA",
      "relevant_coursework": [],
      "honors": []
    },
    {
      "institution": "CY Cergy Paris University, Cergy, France",
      "degree": "PhD in Physics",
      "location": "Cergy, France",
      "graduation_date": "Oct 2018 - Sep 2022",
      "gpa": "",
      "relevant_coursework": [],
      "honors": []
    },
    {
      "institution": "CY Cergy Paris University, Cergy, France",
      "degree": "Master of Theoretical Physics",
      "location": "Cergy, France",
      "graduation_date": "Sep 2016 - Jun 2018",
      "gpa": "",
      "relevant_coursework": [],
      "honors": []
    }
  ],
  "experience": [
    {
      "company": "The Bitrates",
      "title": "Data Analyst",
      "location": "",
      "start_date": "Jul 2024",
      "end_date": "Present",
      "duration": null,
      "bullets": [
        "Designed and implemented Python scripts for data cleaning, preprocessing, and analysis, improving data pipeline efficiency by 30%.",
        "Developed machine learning models in Python for predictive analytics, enabling data-driven business decisions.",
        "Leveraged AI techniques to automate repetitive tasks, reducing manual effort and improving productivity.",
        "Built dynamic dashboards and visualizations using Python libraries like Matplotlib and Seaborn to communicate insights effectively.",
        "Integrated Google Analytics data with Python for advanced analysis, enhancing customer behavior insights."
      ],
      "skills_used": null
    },
    {
      "company": "iBuild Building Solutions",
      "title": "Data Analyst",
      "location": "",
      "start_date": "Mar 2024",
      "end_date": "Jun 2024",
      "duration": null,
      "bullets": [
        "Automated data extraction and structuring of population datasets using Python, improving data accuracy and team collaboration.",
        "Analyzed customer support data with Python to optimize response times and enhance operational efficiency.",
        "Developed Python-based solutions to generate actionable insights, meeting strict deadlines for strategic decision-making.",
        "Designed Python scripts to create dynamic reports and dashboards, significantly improving customer satisfaction and decision-making processes."
      ],
      "skills_used": null
    },
    {
      "company": "Property Console",
      "title": "Software engineer and Analyst",
      "location": "",
      "start_date": "Jun 2023",
      "end_date": "Nov 2023",
      "duration": null,
      "bullets": [
        "Built Python scripts to track key metrics, ensuring 99% data accuracy and improving data integrity and operational efficiency.",
        "Collaborated with the development team to enhance analytics capabilities, using Python to improve data processing speed by 25%.",
        "Leveraged Python for data preprocessing and analysis, producing Tableau dashboards that improved decision-making.",
        "Supported cross-functional teams with Python-driven insights, enabling customer-focused initiatives."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Research Assistant",
      "location": "",
      "start_date": "Oct 2018",
      "end_date": "Sep 2022",
      "duration": null,
      "bullets": [
        "Utilized advanced Python programming for computational modeling and solving complex research problems.",
        "Developed Python-based workflows to manage and analyze large datasets across multiple research projects.",
        "Presented Python-enabled research findings at international conferences, demonstrating technical expertise and communication skills."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Lecturer and Course Facilitator",
      "location": "",
      "start_date": "Sep 2019",
      "end_date": "Jun 2022",
      "duration": null,
      "bullets": [
        "Led engaging physics tutorials for master\u2019s students, enhancing understanding and promoting teamwork.",
        "Designed course materials, assignments, and exams, strengthening the learning experience.",
        "Mentored students on projects, collaborated with faculty, and fostered student engagement."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Research Intern",
      "location": "",
      "start_date": "Feb 2018",
      "end_date": "Jun 2018",
      "duration": null,
      "bullets": [
        "Developed proficiency in Python programming by researching the effect of magnetic fields on 2D materials.",
        "Managed and analyzed complex data sets, improving their accuracy and reliability.",
        "Used dashboard using Power BI to present research findings and participated in weekly reviews, improving collaboration and research skills."
      ],
      "skills_used": null
    }
  ],
  "projects": null,
  "skills": [
    {
      "category": "Technical Skills",
      "skills": [
        "Excel",
        "Power BI",
        "Python",
        "Data Analysis",
        "SQL"
      ]
    }
  ],
  "experience_level": null,
  "total_years_experience": null,
  "created_at": null,
  "updated_at": null
}
2025-10-09 15:44:21,076 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [CV_VALIDATION] Starting detailed validation:
2025-10-09 15:44:21,076 - app.tailored_cv.services.cv_tailoring_service - INFO - - Has contact: True
2025-10-09 15:44:21,076 - app.tailored_cv.services.cv_tailoring_service - INFO - - Contact name: Maheshwor Tiwari
2025-10-09 15:44:21,077 - app.tailored_cv.services.cv_tailoring_service - INFO - - Contact email: maheshtwari99@gmail.com
2025-10-09 15:44:21,077 - app.tailored_cv.services.cv_tailoring_service - INFO - - Has experience: True
2025-10-09 15:44:21,077 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience count: 6
2025-10-09 15:44:21,077 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 1: company=The Bitrates, bullets=5
2025-10-09 15:44:21,077 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 2: company=iBuild Building Solutions, bullets=4
2025-10-09 15:44:21,077 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 3: company=Property Console, bullets=4
2025-10-09 15:44:21,077 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 4: company=CY Cergy Paris University, bullets=3
2025-10-09 15:44:21,077 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 5: company=CY Cergy Paris University, bullets=3
2025-10-09 15:44:21,078 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 6: company=CY Cergy Paris University, bullets=3
2025-10-09 15:44:21,078 - app.tailored_cv.services.cv_tailoring_service - INFO - - Has skills: True
2025-10-09 15:44:21,078 - app.tailored_cv.services.cv_tailoring_service - INFO - - Skills count: 1
2025-10-09 15:44:21,078 - app.tailored_cv.services.cv_tailoring_service - INFO - - Skill category 1: Technical Skills, skills=5
2025-10-09 15:44:21,078 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [CV_VALIDATION] Checking required fields:
2025-10-09 15:44:21,078 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Contact name present: Maheshwor Tiwari
2025-10-09 15:44:21,078 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Contact email present: maheshtwari99@gmail.com
2025-10-09 15:44:21,079 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Experience entries present: 6
2025-10-09 15:44:21,079 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Skills section present: 1 categories
2025-10-09 15:44:21,080 - app.tailored_cv.services.cv_tailoring_service - INFO - [b39f8e7c] 🎯 Starting CV tailoring for Australia_for_UNHCR with strategy: education_last
2025-10-09 15:44:21,080 - app.tailored_cv.services.cv_tailoring_service - INFO - [b39f8e7c] Initial stats:
2025-10-09 15:44:21,080 - app.tailored_cv.services.cv_tailoring_service - INFO - [b39f8e7c] - Experience entries: 6
2025-10-09 15:44:21,080 - app.tailored_cv.services.cv_tailoring_service - INFO - [b39f8e7c] - Total bullets: 22
2025-10-09 15:44:21,080 - app.tailored_cv.services.cv_tailoring_service - INFO - [b39f8e7c] - Skills categories: 1
2025-10-09 15:44:21,080 - app.tailored_cv.services.cv_tailoring_service - INFO - [b39f8e7c] - Total skills: 5
2025-10-09 15:44:21,080 - app.tailored_cv.services.cv_tailoring_service - INFO - [b39f8e7c] Critical gaps to address: Business Intelligence, Detail-oriented
2025-10-09 15:44:21,081 - app.tailored_cv.services.cv_tailoring_service - INFO - [b39f8e7c] Technical enhancements needed: 
2025-10-09 15:44:21,081 - app.tailored_cv.services.cv_tailoring_service - INFO - [b39f8e7c] 🤖 Generating tailored CV using AI service...
2025-10-09 15:44:21,081 - app.tailored_cv.services.cv_tailoring_service - INFO - [b39f8e7c] Attempt 1/5 with temp=0.0
2025-10-09 15:44:21,081 - app.tailored_cv.services.cv_tailoring_service - INFO - [b39f8e7c] - System prompt length: 10574
2025-10-09 15:44:21,081 - app.tailored_cv.services.cv_tailoring_service - INFO - [b39f8e7c] - User prompt length: 12226
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=original, ts=00000000_000000, mtime=1759984358.0670488, json=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=original, ts=00000000_000000, json=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 15:44:21,118 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:44:21,118 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:44:21,123 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 15:44:21,123 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 15:44:21,123 INFO sqlalchemy.engine.Engine [generated in 0.00042s] {'email_1': 'simran@gmail.com', 'param_1': 1}
2025-10-09 15:44:21,123 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] {'email_1': 'simran@gmail.com', 'param_1': 1}
2025-10-09 15:44:21,165 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:44:21,165 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:44:21,180 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user simran@gmail.com
2025-10-09 15:44:21,180 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Before initialization:
2025-10-09 15:44:21,181 - app.ai.ai_service - INFO - - Current providers: []
2025-10-09 15:44:21,181 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 15:44:21,181 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 15:44:21,181 - app.ai.ai_service - INFO - - Cached providers for user: []
2025-10-09 15:44:21,181 - app.ai.ai_service - INFO - 🔄 [AI_SERVICE] Initializing new providers for user simran@gmail.com
2025-10-09 15:44:21,197 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:44:21,197 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:44:21,200 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:44:21,200 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:44:21,200 INFO sqlalchemy.engine.Engine [generated in 0.00041s] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 15:44:21,200 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 15:44:21,242 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:44:21,242 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:44:22,031 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:44:22,115 - app.ai.ai_service - INFO - ✅ Initialized openai provider with model gpt-4o for user simran@gmail.com
2025-10-09 15:44:22,132 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:44:22,132 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:44:22,133 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:44:22,133 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:44:22,134 INFO sqlalchemy.engine.Engine [cached since 0.9341s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 15:44:22,134 - sqlalchemy.engine.Engine - INFO - [cached since 0.9341s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 15:44:22,171 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:44:22,171 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:44:22,200 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user simran@gmail.com and provider anthropic
2025-10-09 15:44:22,217 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:44:22,217 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:44:22,217 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:44:22,217 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:44:22,218 INFO sqlalchemy.engine.Engine [cached since 1.018s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 15:44:22,218 - sqlalchemy.engine.Engine - INFO - [cached since 1.018s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 15:44:22,258 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:44:22,258 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:44:22,286 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user simran@gmail.com and provider deepseek
2025-10-09 15:44:22,287 - app.ai.ai_service - INFO - 💾 [AI_SERVICE] Cached 1 providers for user simran@gmail.com
2025-10-09 15:44:22,287 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] After initialization:
2025-10-09 15:44:22,287 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 15:44:22,288 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 15:44:22,288 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 15:44:22,288 - app.tailored_cv.services.cv_tailoring_service - INFO - [b39f8e7c] 🔄 Initialized AI service for user simran@gmail.com
2025-10-09 15:44:22,288 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 15:44:22,289 - app.ai.ai_service - INFO - ✅ Switched to openai provider with model gpt-3.5-turbo
2025-10-09 15:44:22,289 - app.tailored_cv.services.cv_tailoring_service - INFO - [b39f8e7c] ✅ Auto-selected provider: openai
2025-10-09 15:44:22,289 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 15:44:22,289 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 15:44:22,290 - app.ai.ai_service - INFO - - Prompt length: 12226
2025-10-09 15:44:22,291 - app.ai.ai_service - INFO - - System prompt length: 10574
2025-10-09 15:44:22,293 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 15:44:22,293 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 15:44:22,293 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 15:44:22,293 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:44:22,293 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:44:22,294 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:44:22,294 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:44:22,946 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:44:22,958 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:44:22,959 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:44:22,959 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:44:22,959 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 15:44:32,369 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 15:44:32,381 - app.tailored_cv.services.cv_tailoring_service - INFO - [b39f8e7c] AI response stats:
2025-10-09 15:44:32,381 - app.tailored_cv.services.cv_tailoring_service - INFO - [b39f8e7c] - Content length: 5514
2025-10-09 15:44:32,381 - app.tailored_cv.services.cv_tailoring_service - INFO - [b39f8e7c] - First 300 chars: {   "contact": {     "name": "Maheshwor Tiwari",     "phone": "0414 032 507",     "email": "maheshtwari99@gmail.com",     "location": "Hurstville, NSW, 2220",     "linkedin": "",     "website": ""   },   "education": [     {       "institution": "Charles Darwin University, Sydney, Australia",       ...
2025-10-09 15:44:32,382 - app.tailored_cv.services.cv_tailoring_service - INFO - Starting JSON extraction from content length: 5514
2025-10-09 15:44:32,382 - app.tailored_cv.services.cv_tailoring_service - INFO - [b39f8e7c] 🔍 Starting JSON validation
2025-10-09 15:44:32,383 - app.tailored_cv.services.cv_tailoring_service - WARNING - [b39f8e7c] CV created below minimum standards: 43.5% quantification
2025-10-09 15:44:32,383 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ JSON structure and Impact Formula validation passed (10/23 bullets with quantification)
2025-10-09 15:44:32,383 - app.tailored_cv.services.cv_tailoring_service - INFO - ℹ️ Skipping placeholder checks; proceeding with generated data as-is.
2025-10-09 15:44:32,383 - app.tailored_cv.services.cv_tailoring_service - INFO - [b39f8e7c] 🔍 Starting keyword integration validation
2025-10-09 15:44:32,383 - app.tailored_cv.services.cv_tailoring_service - INFO - [b39f8e7c] Scanning experience bullets:
2025-10-09 15:44:32,383 - app.tailored_cv.services.cv_tailoring_service - INFO - [b39f8e7c] - Experience 1: 6 bullets
2025-10-09 15:44:32,383 - app.tailored_cv.services.cv_tailoring_service - INFO - [b39f8e7c] - Experience 2: 4 bullets
2025-10-09 15:44:32,384 - app.tailored_cv.services.cv_tailoring_service - INFO - [b39f8e7c] - Experience 3: 4 bullets
2025-10-09 15:44:32,384 - app.tailored_cv.services.cv_tailoring_service - INFO - [b39f8e7c] - Experience 4: 3 bullets
2025-10-09 15:44:32,384 - app.tailored_cv.services.cv_tailoring_service - INFO - [b39f8e7c] - Experience 5: 3 bullets
2025-10-09 15:44:32,384 - app.tailored_cv.services.cv_tailoring_service - INFO - [b39f8e7c] - Experience 6: 3 bullets
2025-10-09 15:44:32,384 - app.tailored_cv.services.cv_tailoring_service - INFO - [b39f8e7c] Scanning skills:
2025-10-09 15:44:32,384 - app.tailored_cv.services.cv_tailoring_service - INFO - [b39f8e7c] - Category 1: 6 skills
2025-10-09 15:44:32,384 - app.tailored_cv.services.cv_tailoring_service - WARNING - ⚠️ Some keywords not found but within acceptable range: Detail-oriented
2025-10-09 15:44:32,384 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Keyword integration validation passed - 1/2 critical keywords found
2025-10-09 15:44:32,385 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Keyword integration validation passed - 2 critical keywords found
2025-10-09 15:44:32,385 - app.tailored_cv.services.cv_tailoring_service - INFO - [b39f8e7c] ✅ AI generation successful on attempt 1
2025-10-09 15:44:32,385 - app.tailored_cv.services.cv_tailoring_service - INFO - [b39f8e7c] 🔁 Quantification below 60% (43.5%). Enhancement attempt 1/3
2025-10-09 15:44:32,385 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 15:44:32,385 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 15:44:32,385 - app.ai.ai_service - INFO - - Prompt length: 13982
2025-10-09 15:44:32,385 - app.ai.ai_service - INFO - - System prompt length: 10574
2025-10-09 15:44:32,385 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 15:44:32,386 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 15:44:32,386 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 15:44:32,386 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:44:32,386 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:44:32,386 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:44:32,386 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:44:33,085 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:44:33,097 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:44:33,098 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:44:33,098 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:44:33,098 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 15:44:42,682 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 15:44:42,690 - app.tailored_cv.services.cv_tailoring_service - INFO - Starting JSON extraction from content length: 5452
2025-10-09 15:44:42,690 - app.tailored_cv.services.cv_tailoring_service - INFO - [b39f8e7c] 🔍 Starting JSON validation
2025-10-09 15:44:42,691 - app.tailored_cv.services.cv_tailoring_service - INFO - [b39f8e7c] CV created with improvement suggestions: 72.7% quantification
2025-10-09 15:44:42,692 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ JSON structure and Impact Formula validation passed (16/22 bullets with quantification)
2025-10-09 15:44:42,694 - app.tailored_cv.services.cv_tailoring_service - ERROR - Failed to estimate ATS score: name 'user_data' is not defined
2025-10-09 15:44:42,694 - app.tailored_cv.services.cv_tailoring_service - ERROR - ❌ CV tailoring failed: ATS score estimation failed: name 'user_data' is not defined
2025-10-09 15:44:42,694 - app.tailored_cv.routes.cv_tailoring_routes - ERROR - ❌ CV tailoring with real data failed: CV tailoring process failed: ATS score estimation failed: name 'user_data' is not defined
INFO:     127.0.0.1:50707 - "POST /api/tailored-cv/tailor-with-real-data/Australia_for_UNHCR HTTP/1.1" 500 Internal Server Error
WARNING:  WatchFiles detected changes in 'app/tailored_cv/services/cv_tailoring_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 15:44:56,182 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [3849]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [5383]
INFO:     Waiting for application startup.
2025-10-09 15:45:01,096 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 15:45:01,362 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 15:45:01,362 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 15:45:01,363 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:45:01,363 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:45:01,407 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 15:45:01,407 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 15:45:01,407 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:45:01,407 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:45:01,443 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 15:45:01,443 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 15:45:01,443 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:45:01,443 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:45:01,488 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:45:01,488 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:45:01,488 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 15:45:01,488 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 15:45:01,488 INFO sqlalchemy.engine.Engine [generated in 0.00067s] {}
2025-10-09 15:45:01,488 - sqlalchemy.engine.Engine - INFO - [generated in 0.00067s] {}
2025-10-09 15:45:01,521 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:45:01,521 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:45:01,540 - app.database - INFO - Database connection successful
2025-10-09 15:45:01,541 - app.main - INFO - ✅ Database connection successful
2025-10-09 15:45:01,558 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:45:01,558 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:45:01,564 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:45:01,564 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:45:01,565 INFO sqlalchemy.engine.Engine [generated in 0.00055s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:45:01,565 - sqlalchemy.engine.Engine - INFO - [generated in 0.00055s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:45:01,611 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:45:01,611 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:45:01,612 INFO sqlalchemy.engine.Engine [cached since 0.04785s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:45:01,612 - sqlalchemy.engine.Engine - INFO - [cached since 0.04785s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:45:01,634 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:45:01,634 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:45:01,634 INFO sqlalchemy.engine.Engine [cached since 0.06983s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:45:01,634 - sqlalchemy.engine.Engine - INFO - [cached since 0.06983s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:45:01,655 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:45:01,655 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:45:01,655 INFO sqlalchemy.engine.Engine [cached since 0.09093s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:45:01,655 - sqlalchemy.engine.Engine - INFO - [cached since 0.09093s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:45:01,679 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:45:01,679 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:45:01,679 INFO sqlalchemy.engine.Engine [cached since 0.1148s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:45:01,679 - sqlalchemy.engine.Engine - INFO - [cached since 0.1148s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:45:01,703 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:45:01,703 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:45:01,703 INFO sqlalchemy.engine.Engine [cached since 0.1388s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:45:01,703 - sqlalchemy.engine.Engine - INFO - [cached since 0.1388s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:45:01,727 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:45:01,727 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:45:01,728 INFO sqlalchemy.engine.Engine [cached since 0.1633s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:45:01,728 - sqlalchemy.engine.Engine - INFO - [cached since 0.1633s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:45:01,750 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:45:01,750 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:45:01,751 INFO sqlalchemy.engine.Engine [cached since 0.1865s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:45:01,751 - sqlalchemy.engine.Engine - INFO - [cached since 0.1865s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:45:01,774 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:45:01,774 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:45:01,775 INFO sqlalchemy.engine.Engine [cached since 0.2106s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:45:01,775 - sqlalchemy.engine.Engine - INFO - [cached since 0.2106s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:45:01,799 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:45:01,799 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:45:01,799 INFO sqlalchemy.engine.Engine [cached since 0.2351s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:45:01,799 - sqlalchemy.engine.Engine - INFO - [cached since 0.2351s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:45:01,822 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:45:01,822 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:45:01,823 INFO sqlalchemy.engine.Engine [cached since 0.2585s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:45:01,823 - sqlalchemy.engine.Engine - INFO - [cached since 0.2585s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:45:01,845 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 15:45:01,845 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 15:45:01,861 - app.database - INFO - Database tables created successfully
2025-10-09 15:45:01,862 - app.main - INFO - ✅ Database tables ready
2025-10-09 15:45:01,862 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 15:45:01,862 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/tailored_cv/services/cv_tailoring_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 15:45:14,116 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [5383]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [5431]
INFO:     Waiting for application startup.
2025-10-09 15:45:19,197 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 15:45:19,457 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 15:45:19,457 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 15:45:19,457 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:45:19,457 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:45:19,491 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 15:45:19,491 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 15:45:19,491 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:45:19,491 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:45:19,523 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 15:45:19,523 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 15:45:19,524 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:45:19,524 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:45:19,565 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:45:19,565 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:45:19,565 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 15:45:19,565 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 15:45:19,565 INFO sqlalchemy.engine.Engine [generated in 0.00056s] {}
2025-10-09 15:45:19,565 - sqlalchemy.engine.Engine - INFO - [generated in 0.00056s] {}
2025-10-09 15:45:19,600 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:45:19,600 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:45:19,616 - app.database - INFO - Database connection successful
2025-10-09 15:45:19,616 - app.main - INFO - ✅ Database connection successful
2025-10-09 15:45:19,633 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:45:19,633 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:45:19,639 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:45:19,639 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:45:19,640 INFO sqlalchemy.engine.Engine [generated in 0.00058s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:45:19,640 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:45:19,671 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:45:19,671 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:45:19,672 INFO sqlalchemy.engine.Engine [cached since 0.03281s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:45:19,672 - sqlalchemy.engine.Engine - INFO - [cached since 0.03281s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:45:19,741 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:45:19,741 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:45:19,741 INFO sqlalchemy.engine.Engine [cached since 0.1022s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:45:19,741 - sqlalchemy.engine.Engine - INFO - [cached since 0.1022s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:45:19,763 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:45:19,763 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:45:19,763 INFO sqlalchemy.engine.Engine [cached since 0.1241s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:45:19,763 - sqlalchemy.engine.Engine - INFO - [cached since 0.1241s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:45:19,790 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:45:19,790 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:45:19,791 INFO sqlalchemy.engine.Engine [cached since 0.1518s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:45:19,791 - sqlalchemy.engine.Engine - INFO - [cached since 0.1518s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:45:19,812 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:45:19,812 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:45:19,812 INFO sqlalchemy.engine.Engine [cached since 0.1731s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:45:19,812 - sqlalchemy.engine.Engine - INFO - [cached since 0.1731s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:45:19,835 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:45:19,835 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:45:19,836 INFO sqlalchemy.engine.Engine [cached since 0.1969s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:45:19,836 - sqlalchemy.engine.Engine - INFO - [cached since 0.1969s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:45:19,858 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:45:19,858 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:45:19,859 INFO sqlalchemy.engine.Engine [cached since 0.2196s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:45:19,859 - sqlalchemy.engine.Engine - INFO - [cached since 0.2196s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:45:19,881 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:45:19,881 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:45:19,882 INFO sqlalchemy.engine.Engine [cached since 0.2425s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:45:19,882 - sqlalchemy.engine.Engine - INFO - [cached since 0.2425s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:45:19,905 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:45:19,905 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:45:19,906 INFO sqlalchemy.engine.Engine [cached since 0.2668s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:45:19,906 - sqlalchemy.engine.Engine - INFO - [cached since 0.2668s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:45:19,928 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:45:19,928 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:45:19,928 INFO sqlalchemy.engine.Engine [cached since 0.2891s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:45:19,928 - sqlalchemy.engine.Engine - INFO - [cached since 0.2891s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:45:19,950 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 15:45:19,950 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 15:45:19,967 - app.database - INFO - Database tables created successfully
2025-10-09 15:45:19,968 - app.main - INFO - ✅ Database tables ready
2025-10-09 15:45:19,968 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 15:45:19,968 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
2025-10-09 15:45:25,515 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🎯 CV tailoring with real data for user 93d2b2fe-c1a7-4dd5-8006-199a4fe3e860 - Australia_for_UNHCR
2025-10-09 15:45:25,517 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:45:25,518 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded CV optimization framework from /Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/tailored_cv/prompts/framework.md
2025-10-09 15:45:25,519 - app.tailored_cv.routes.cv_tailoring_routes - INFO - Available companies: ['Australia_for_UNHCR']
2025-10-09 15:45:25,519 - app.tailored_cv.services.cv_tailoring_service - INFO - Loading real data for Australia_for_UNHCR
2025-10-09 15:45:25,519 - app.tailored_cv.services.cv_tailoring_service - INFO - Company folder: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 15:45:25,520 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:45:25,520 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:45:25,521 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/simran@gmail.com/cv-analysis
2025-10-09 15:45:25,522 - app.tailored_cv.services.cv_tailoring_service - INFO - 📄 [TAILORING] Using latest CV via unified selector → type=original, ts=None, path=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 15:45:25,523 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [DEBUG] Loading CV from user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 15:45:25,523 - app.tailored_cv.services.cv_tailoring_service - INFO - - First 200 chars: {   "personal_information": {     "name": "Maheshwor Tiwari",     "phone": "0414 032 507",     "email": "maheshtwari99@gmail.com",     "location": "Hurstville, NSW, 2220",     "linkedin": "LinkedIn", 
2025-10-09 15:45:25,523 - app.tailored_cv.services.recommendation_parser - INFO - 📂 Loading CV from: user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 15:45:25,524 - app.tailored_cv.services.recommendation_parser - INFO - 📋 CV format check:
2025-10-09 15:45:25,524 - app.tailored_cv.services.recommendation_parser - INFO -   - Top-level keys: ['personal_information', 'career_profile', 'skills', 'education', 'experience', 'projects', 'certifications', 'languages', 'awards', 'publications', 'volunteer_work', 'professional_memberships', 'unknown_sections', 'original_sections', 'saved_at', 'metadata']
2025-10-09 15:45:25,524 - app.tailored_cv.services.recommendation_parser - INFO -   - Has metadata: True
2025-10-09 15:45:25,524 - app.tailored_cv.services.recommendation_parser - INFO -   - Source file: maheshwor_tiwari.pdf
2025-10-09 15:45:25,524 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing version: 1.0
2025-10-09 15:45:25,525 - app.tailored_cv.services.recommendation_parser - INFO - 🔍 [CV_PARSER] Detailed CV structure analysis:
2025-10-09 15:45:25,525 - app.tailored_cv.services.recommendation_parser - INFO -   - Has contact: False
2025-10-09 15:45:25,525 - app.tailored_cv.services.recommendation_parser - INFO -   - Has experience: True
2025-10-09 15:45:25,525 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience type: <class 'list'>
2025-10-09 15:45:25,525 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience count: 6
2025-10-09 15:45:25,525 - app.tailored_cv.services.recommendation_parser - INFO -   - First experience keys: ['title', 'company', 'duration', 'location', 'responsibilities', 'achievements', 'technologies']
2025-10-09 15:45:25,525 - app.tailored_cv.services.recommendation_parser - INFO -   - Has skills: True
2025-10-09 15:45:25,525 - app.tailored_cv.services.recommendation_parser - INFO -   - Skills type: <class 'dict'>
2025-10-09 15:45:25,525 - app.tailored_cv.services.recommendation_parser - INFO -   - Skills count: Not a list
2025-10-09 15:45:25,526 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Detected structured CV format
2025-10-09 15:45:25,526 - app.tailored_cv.services.recommendation_parser - INFO - 📊 Structure overview:
2025-10-09 15:45:25,526 - app.tailored_cv.services.recommendation_parser - INFO -   - Skills sections: ['technical_skills', 'key_skills', 'soft_skills', 'domain_expertise']
2025-10-09 15:45:25,526 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience entries: 6
2025-10-09 15:45:25,526 - app.tailored_cv.services.recommendation_parser - INFO -   - Education entries: 3
2025-10-09 15:45:25,526 - app.tailored_cv.services.recommendation_parser - INFO -   - Projects: 0
2025-10-09 15:45:25,526 - app.tailored_cv.services.recommendation_parser - INFO - 🔄 Starting structured CV conversion
2025-10-09 15:45:25,526 - app.tailored_cv.services.recommendation_parser - INFO - 📊 Input data validation:
2025-10-09 15:45:25,526 - app.tailored_cv.services.recommendation_parser - INFO - 👤 Converting contact information
2025-10-09 15:45:25,527 - app.tailored_cv.services.recommendation_parser - INFO -   - Source fields: ['name', 'phone', 'email', 'location', 'linkedin', 'github', 'portfolio_links', 'residency_status', 'open_to']
2025-10-09 15:45:25,527 - app.tailored_cv.services.recommendation_parser - INFO -   - Mapped fields: ['name', 'email', 'phone', 'location', 'linkedin', 'website']
2025-10-09 15:45:25,527 - app.tailored_cv.services.recommendation_parser - INFO -   - Contact completeness: 100.0%
2025-10-09 15:45:25,527 - app.tailored_cv.services.recommendation_parser - INFO -   - LinkedIn: LinkedIn
2025-10-09 15:45:25,527 - app.tailored_cv.services.recommendation_parser - INFO -   - Website: GitHub
2025-10-09 15:45:25,527 - app.tailored_cv.services.recommendation_parser - INFO - 💼 Converting experience entries
2025-10-09 15:45:25,527 - app.tailored_cv.services.recommendation_parser - INFO -   - Found 6 experience entries
2025-10-09 15:45:25,528 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 1/6
2025-10-09 15:45:25,528 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: The Bitrates
2025-10-09 15:45:25,528 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Data Analyst
2025-10-09 15:45:25,528 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Jul 2024 to Present
2025-10-09 15:45:25,528 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 5
2025-10-09 15:45:25,528 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 2/6
2025-10-09 15:45:25,528 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: iBuild Building Solutions
2025-10-09 15:45:25,528 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Data Analyst
2025-10-09 15:45:25,529 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Mar 2024 to Jun 2024
2025-10-09 15:45:25,529 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 4
2025-10-09 15:45:25,529 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 3/6
2025-10-09 15:45:25,529 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: Property Console
2025-10-09 15:45:25,529 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Software engineer and Analyst
2025-10-09 15:45:25,529 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Jun 2023 to Nov 2023
2025-10-09 15:45:25,529 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 4
2025-10-09 15:45:25,529 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 4/6
2025-10-09 15:45:25,529 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: CY Cergy Paris University
2025-10-09 15:45:25,530 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Research Assistant
2025-10-09 15:45:25,530 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Oct 2018 to Sep 2022
2025-10-09 15:45:25,530 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 3
2025-10-09 15:45:25,530 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 5/6
2025-10-09 15:45:25,530 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: CY Cergy Paris University
2025-10-09 15:45:25,530 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Lecturer and Course Facilitator
2025-10-09 15:45:25,530 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Sep 2019 to Jun 2022
2025-10-09 15:45:25,531 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 3
2025-10-09 15:45:25,531 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 6/6
2025-10-09 15:45:25,531 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: CY Cergy Paris University
2025-10-09 15:45:25,531 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Research Intern
2025-10-09 15:45:25,531 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Feb 2018 to Jun 2018
2025-10-09 15:45:25,531 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 3
2025-10-09 15:45:25,531 - app.tailored_cv.services.recommendation_parser - INFO - Converted 6 experience entries
2025-10-09 15:45:25,531 - app.tailored_cv.services.recommendation_parser - INFO - 🔧 Converting skills section
2025-10-09 15:45:25,532 - app.tailored_cv.services.recommendation_parser - INFO -   - Source skill categories: ['technical_skills', 'key_skills', 'soft_skills', 'domain_expertise']
2025-10-09 15:45:25,532 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing technical skills:
2025-10-09 15:45:25,532 - app.tailored_cv.services.recommendation_parser - INFO -     • Extracted 5 unique technical skills
2025-10-09 15:45:25,532 - app.tailored_cv.services.recommendation_parser - INFO -     • Skills: Excel, Power BI, Python, SQL, Data Analysis
2025-10-09 15:45:25,532 - app.tailored_cv.services.recommendation_parser - INFO - Converted 1 skill categories
2025-10-09 15:45:25,532 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Conversion complete - Validating output
2025-10-09 15:45:25,532 - app.tailored_cv.services.recommendation_parser - INFO - ✓ Experience: 6 entries
2025-10-09 15:45:25,532 - app.tailored_cv.services.recommendation_parser - INFO - ✓ Skills: 1 categories
2025-10-09 15:45:25,532 - app.tailored_cv.services.recommendation_parser - INFO -   • Technical Skills: 5 skills
2025-10-09 15:45:25,533 - app.tailored_cv.services.recommendation_parser - INFO - ✨ Validation passed - All required sections present
2025-10-09 15:45:25,533 - app.tailored_cv.services.recommendation_parser - INFO - 🎓 Converting education entries
2025-10-09 15:45:25,533 - app.tailored_cv.services.recommendation_parser - INFO -   - Found 3 education entries
2025-10-09 15:45:25,533 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing education 1/3
2025-10-09 15:45:25,533 - app.tailored_cv.services.recommendation_parser - INFO -     • Institution: Charles Darwin University, Sydney, Australia
2025-10-09 15:45:25,533 - app.tailored_cv.services.recommendation_parser - INFO -     • Degree: Master of Data Science
2025-10-09 15:45:25,533 - app.tailored_cv.services.recommendation_parser - INFO -     • Graduation date: Mar 2023 - Nov 2024
2025-10-09 15:45:25,533 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing education 2/3
2025-10-09 15:45:25,533 - app.tailored_cv.services.recommendation_parser - INFO -     • Institution: CY Cergy Paris University, Cergy, France
2025-10-09 15:45:25,534 - app.tailored_cv.services.recommendation_parser - INFO -     • Degree: PhD in Physics
2025-10-09 15:45:25,534 - app.tailored_cv.services.recommendation_parser - INFO -     • Graduation date: Oct 2018 - Sep 2022
2025-10-09 15:45:25,534 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing education 3/3
2025-10-09 15:45:25,534 - app.tailored_cv.services.recommendation_parser - INFO -     • Institution: CY Cergy Paris University, Cergy, France
2025-10-09 15:45:25,534 - app.tailored_cv.services.recommendation_parser - INFO -     • Degree: Master of Theoretical Physics
2025-10-09 15:45:25,534 - app.tailored_cv.services.recommendation_parser - INFO -     • Graduation date: Sep 2016 - Jun 2018
2025-10-09 15:45:25,534 - app.tailored_cv.services.recommendation_parser - INFO - Converted 3 education entries
2025-10-09 15:45:25,534 - app.tailored_cv.services.recommendation_parser - INFO - 📤 Returning converted CV data:
2025-10-09 15:45:25,534 - app.tailored_cv.services.recommendation_parser - INFO -   - Contact fields: ['name', 'email', 'phone', 'location', 'linkedin', 'website']
2025-10-09 15:45:25,535 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience entries: 6
2025-10-09 15:45:25,535 - app.tailored_cv.services.recommendation_parser - INFO -   - Skill categories: 1
2025-10-09 15:45:25,535 - app.tailored_cv.services.recommendation_parser - INFO -   - Education entries: 3
2025-10-09 15:45:25,535 - app.tailored_cv.services.cv_tailoring_service - INFO - - Parsed CV data keys: ['contact', 'experience', 'skills', 'education']
2025-10-09 15:45:25,535 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Skills already in SkillCategory format
2025-10-09 15:45:25,535 - app.tailored_cv.services.cv_tailoring_service - INFO - - Final CV object attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__repr__', '__repr_args__', '__repr_name__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_check_frozen', '_copy_and_set_values', '_get_value', '_iter', 'construct', 'contact', 'copy', 'created_at', 'dict', 'education', 'experience', 'experience_level', 'from_orm', 'json', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'projects', 'schema', 'schema_json', 'skills', 'total_years_experience', 'update_forward_refs', 'updated_at', 'validate']
2025-10-09 15:45:25,543 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Parsed recommendation for Australia_for_UNHCR
2025-10-09 15:45:25,543 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded real CV and recommendation for Australia_for_UNHCR
2025-10-09 15:45:25,543 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ Loaded real data for Australia_for_UNHCR
2025-10-09 15:45:25,543 - app.tailored_cv.services.cv_tailoring_service - INFO - 🎯 Starting CV tailoring for Australia_for_UNHCR - Senior Data Analyst
2025-10-09 15:45:25,544 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [DEBUG] Validating CV structure:
2025-10-09 15:45:25,544 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV object type: <class 'app.tailored_cv.models.cv_models.OriginalCV'>
2025-10-09 15:45:25,544 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__repr__', '__repr_args__', '__repr_name__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_check_frozen', '_copy_and_set_values', '_get_value', '_iter', 'construct', 'contact', 'copy', 'created_at', 'dict', 'education', 'experience', 'experience_level', 'from_orm', 'json', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'projects', 'schema', 'schema_json', 'skills', 'total_years_experience', 'update_forward_refs', 'updated_at', 'validate']
2025-10-09 15:45:25,544 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV data: {
  "contact": {
    "name": "Maheshwor Tiwari",
    "phone": "0414 032 507",
    "email": "maheshtwari99@gmail.com",
    "linkedin": "LinkedIn",
    "location": "Hurstville, NSW, 2220",
    "website": "GitHub"
  },
  "education": [
    {
      "institution": "Charles Darwin University, Sydney, Australia",
      "degree": "Master of Data Science",
      "location": "Sydney, Australia",
      "graduation_date": "Mar 2023 - Nov 2024",
      "gpa": "GPA",
      "relevant_coursework": [],
      "honors": []
    },
    {
      "institution": "CY Cergy Paris University, Cergy, France",
      "degree": "PhD in Physics",
      "location": "Cergy, France",
      "graduation_date": "Oct 2018 - Sep 2022",
      "gpa": "",
      "relevant_coursework": [],
      "honors": []
    },
    {
      "institution": "CY Cergy Paris University, Cergy, France",
      "degree": "Master of Theoretical Physics",
      "location": "Cergy, France",
      "graduation_date": "Sep 2016 - Jun 2018",
      "gpa": "",
      "relevant_coursework": [],
      "honors": []
    }
  ],
  "experience": [
    {
      "company": "The Bitrates",
      "title": "Data Analyst",
      "location": "",
      "start_date": "Jul 2024",
      "end_date": "Present",
      "duration": null,
      "bullets": [
        "Designed and implemented Python scripts for data cleaning, preprocessing, and analysis, improving data pipeline efficiency by 30%.",
        "Developed machine learning models in Python for predictive analytics, enabling data-driven business decisions.",
        "Leveraged AI techniques to automate repetitive tasks, reducing manual effort and improving productivity.",
        "Built dynamic dashboards and visualizations using Python libraries like Matplotlib and Seaborn to communicate insights effectively.",
        "Integrated Google Analytics data with Python for advanced analysis, enhancing customer behavior insights."
      ],
      "skills_used": null
    },
    {
      "company": "iBuild Building Solutions",
      "title": "Data Analyst",
      "location": "",
      "start_date": "Mar 2024",
      "end_date": "Jun 2024",
      "duration": null,
      "bullets": [
        "Automated data extraction and structuring of population datasets using Python, improving data accuracy and team collaboration.",
        "Analyzed customer support data with Python to optimize response times and enhance operational efficiency.",
        "Developed Python-based solutions to generate actionable insights, meeting strict deadlines for strategic decision-making.",
        "Designed Python scripts to create dynamic reports and dashboards, significantly improving customer satisfaction and decision-making processes."
      ],
      "skills_used": null
    },
    {
      "company": "Property Console",
      "title": "Software engineer and Analyst",
      "location": "",
      "start_date": "Jun 2023",
      "end_date": "Nov 2023",
      "duration": null,
      "bullets": [
        "Built Python scripts to track key metrics, ensuring 99% data accuracy and improving data integrity and operational efficiency.",
        "Collaborated with the development team to enhance analytics capabilities, using Python to improve data processing speed by 25%.",
        "Leveraged Python for data preprocessing and analysis, producing Tableau dashboards that improved decision-making.",
        "Supported cross-functional teams with Python-driven insights, enabling customer-focused initiatives."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Research Assistant",
      "location": "",
      "start_date": "Oct 2018",
      "end_date": "Sep 2022",
      "duration": null,
      "bullets": [
        "Utilized advanced Python programming for computational modeling and solving complex research problems.",
        "Developed Python-based workflows to manage and analyze large datasets across multiple research projects.",
        "Presented Python-enabled research findings at international conferences, demonstrating technical expertise and communication skills."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Lecturer and Course Facilitator",
      "location": "",
      "start_date": "Sep 2019",
      "end_date": "Jun 2022",
      "duration": null,
      "bullets": [
        "Led engaging physics tutorials for master\u2019s students, enhancing understanding and promoting teamwork.",
        "Designed course materials, assignments, and exams, strengthening the learning experience.",
        "Mentored students on projects, collaborated with faculty, and fostered student engagement."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Research Intern",
      "location": "",
      "start_date": "Feb 2018",
      "end_date": "Jun 2018",
      "duration": null,
      "bullets": [
        "Developed proficiency in Python programming by researching the effect of magnetic fields on 2D materials.",
        "Managed and analyzed complex data sets, improving their accuracy and reliability.",
        "Used dashboard using Power BI to present research findings and participated in weekly reviews, improving collaboration and research skills."
      ],
      "skills_used": null
    }
  ],
  "projects": null,
  "skills": [
    {
      "category": "Technical Skills",
      "skills": [
        "Excel",
        "Power BI",
        "Python",
        "SQL",
        "Data Analysis"
      ]
    }
  ],
  "experience_level": null,
  "total_years_experience": null,
  "created_at": null,
  "updated_at": null
}
2025-10-09 15:45:25,545 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [CV_VALIDATION] Starting detailed validation:
2025-10-09 15:45:25,545 - app.tailored_cv.services.cv_tailoring_service - INFO - - Has contact: True
2025-10-09 15:45:25,545 - app.tailored_cv.services.cv_tailoring_service - INFO - - Contact name: Maheshwor Tiwari
2025-10-09 15:45:25,545 - app.tailored_cv.services.cv_tailoring_service - INFO - - Contact email: maheshtwari99@gmail.com
2025-10-09 15:45:25,545 - app.tailored_cv.services.cv_tailoring_service - INFO - - Has experience: True
2025-10-09 15:45:25,545 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience count: 6
2025-10-09 15:45:25,545 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 1: company=The Bitrates, bullets=5
2025-10-09 15:45:25,546 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 2: company=iBuild Building Solutions, bullets=4
2025-10-09 15:45:25,546 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 3: company=Property Console, bullets=4
2025-10-09 15:45:25,546 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 4: company=CY Cergy Paris University, bullets=3
2025-10-09 15:45:25,546 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 5: company=CY Cergy Paris University, bullets=3
2025-10-09 15:45:25,546 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 6: company=CY Cergy Paris University, bullets=3
2025-10-09 15:45:25,546 - app.tailored_cv.services.cv_tailoring_service - INFO - - Has skills: True
2025-10-09 15:45:25,546 - app.tailored_cv.services.cv_tailoring_service - INFO - - Skills count: 1
2025-10-09 15:45:25,546 - app.tailored_cv.services.cv_tailoring_service - INFO - - Skill category 1: Technical Skills, skills=5
2025-10-09 15:45:25,547 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [CV_VALIDATION] Checking required fields:
2025-10-09 15:45:25,547 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Contact name present: Maheshwor Tiwari
2025-10-09 15:45:25,547 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Contact email present: maheshtwari99@gmail.com
2025-10-09 15:45:25,547 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Experience entries present: 6
2025-10-09 15:45:25,547 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Skills section present: 1 categories
2025-10-09 15:45:25,548 - app.tailored_cv.services.cv_tailoring_service - INFO - [4c766e94] 🎯 Starting CV tailoring for Australia_for_UNHCR with strategy: education_last
2025-10-09 15:45:25,548 - app.tailored_cv.services.cv_tailoring_service - INFO - [4c766e94] Initial stats:
2025-10-09 15:45:25,548 - app.tailored_cv.services.cv_tailoring_service - INFO - [4c766e94] - Experience entries: 6
2025-10-09 15:45:25,548 - app.tailored_cv.services.cv_tailoring_service - INFO - [4c766e94] - Total bullets: 22
2025-10-09 15:45:25,549 - app.tailored_cv.services.cv_tailoring_service - INFO - [4c766e94] - Skills categories: 1
2025-10-09 15:45:25,549 - app.tailored_cv.services.cv_tailoring_service - INFO - [4c766e94] - Total skills: 5
2025-10-09 15:45:25,549 - app.tailored_cv.services.cv_tailoring_service - INFO - [4c766e94] Critical gaps to address: Business Intelligence, Detail-oriented
2025-10-09 15:45:25,549 - app.tailored_cv.services.cv_tailoring_service - INFO - [4c766e94] Technical enhancements needed: 
2025-10-09 15:45:25,549 - app.tailored_cv.services.cv_tailoring_service - INFO - [4c766e94] 🤖 Generating tailored CV using AI service...
2025-10-09 15:45:25,549 - app.tailored_cv.services.cv_tailoring_service - INFO - [4c766e94] Attempt 1/5 with temp=0.0
2025-10-09 15:45:25,549 - app.tailored_cv.services.cv_tailoring_service - INFO - [4c766e94] - System prompt length: 10574
2025-10-09 15:45:25,550 - app.tailored_cv.services.cv_tailoring_service - INFO - [4c766e94] - User prompt length: 12226
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=original, ts=00000000_000000, mtime=1759984358.0670488, json=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=original, ts=00000000_000000, json=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 15:45:25,587 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:45:25,587 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:45:25,591 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 15:45:25,591 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 15:45:25,591 INFO sqlalchemy.engine.Engine [generated in 0.00039s] {'email_1': 'simran@gmail.com', 'param_1': 1}
2025-10-09 15:45:25,591 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] {'email_1': 'simran@gmail.com', 'param_1': 1}
2025-10-09 15:45:25,629 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:45:25,629 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:45:25,645 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user simran@gmail.com
2025-10-09 15:45:25,645 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Before initialization:
2025-10-09 15:45:25,645 - app.ai.ai_service - INFO - - Current providers: []
2025-10-09 15:45:25,646 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 15:45:25,646 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 15:45:25,646 - app.ai.ai_service - INFO - - Cached providers for user: []
2025-10-09 15:45:25,646 - app.ai.ai_service - INFO - 🔄 [AI_SERVICE] Initializing new providers for user simran@gmail.com
2025-10-09 15:45:25,662 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:45:25,662 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:45:25,665 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:45:25,665 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:45:25,665 INFO sqlalchemy.engine.Engine [generated in 0.00039s] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 15:45:25,665 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 15:45:25,707 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:45:25,707 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:45:26,540 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:45:26,551 - app.ai.ai_service - INFO - ✅ Initialized openai provider with model gpt-4o for user simran@gmail.com
2025-10-09 15:45:26,572 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:45:26,572 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:45:26,574 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:45:26,574 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:45:26,574 INFO sqlalchemy.engine.Engine [cached since 0.9091s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 15:45:26,574 - sqlalchemy.engine.Engine - INFO - [cached since 0.9091s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 15:45:26,610 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:45:26,610 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:45:26,626 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user simran@gmail.com and provider anthropic
2025-10-09 15:45:26,646 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:45:26,646 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:45:26,646 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:45:26,646 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:45:26,647 INFO sqlalchemy.engine.Engine [cached since 0.982s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 15:45:26,647 - sqlalchemy.engine.Engine - INFO - [cached since 0.982s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 15:45:26,688 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:45:26,688 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:45:26,704 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user simran@gmail.com and provider deepseek
2025-10-09 15:45:26,705 - app.ai.ai_service - INFO - 💾 [AI_SERVICE] Cached 1 providers for user simran@gmail.com
2025-10-09 15:45:26,705 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] After initialization:
2025-10-09 15:45:26,705 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 15:45:26,705 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 15:45:26,705 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 15:45:26,706 - app.tailored_cv.services.cv_tailoring_service - INFO - [4c766e94] 🔄 Initialized AI service for user simran@gmail.com
2025-10-09 15:45:26,706 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 15:45:26,706 - app.ai.ai_service - INFO - ✅ Switched to openai provider with model gpt-3.5-turbo
2025-10-09 15:45:26,706 - app.tailored_cv.services.cv_tailoring_service - INFO - [4c766e94] ✅ Auto-selected provider: openai
2025-10-09 15:45:26,707 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 15:45:26,707 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 15:45:26,707 - app.ai.ai_service - INFO - - Prompt length: 12226
2025-10-09 15:45:26,707 - app.ai.ai_service - INFO - - System prompt length: 10574
2025-10-09 15:45:26,707 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 15:45:26,708 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 15:45:26,708 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 15:45:26,708 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:45:26,708 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:45:26,708 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:45:26,709 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:45:27,206 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:45:27,218 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:45:27,218 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:45:27,218 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:45:27,219 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 15:45:36,981 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 15:45:36,991 - app.tailored_cv.services.cv_tailoring_service - INFO - [4c766e94] AI response stats:
2025-10-09 15:45:36,991 - app.tailored_cv.services.cv_tailoring_service - INFO - [4c766e94] - Content length: 5514
2025-10-09 15:45:36,992 - app.tailored_cv.services.cv_tailoring_service - INFO - [4c766e94] - First 300 chars: {   "contact": {     "name": "Maheshwor Tiwari",     "phone": "0414 032 507",     "email": "maheshtwari99@gmail.com",     "location": "Hurstville, NSW, 2220",     "linkedin": "",     "website": ""   },   "education": [     {       "institution": "Charles Darwin University, Sydney, Australia",       ...
2025-10-09 15:45:36,992 - app.tailored_cv.services.cv_tailoring_service - INFO - Starting JSON extraction from content length: 5514
2025-10-09 15:45:36,992 - app.tailored_cv.services.cv_tailoring_service - INFO - [4c766e94] 🔍 Starting JSON validation
2025-10-09 15:45:36,993 - app.tailored_cv.services.cv_tailoring_service - WARNING - [4c766e94] CV created below minimum standards: 43.5% quantification
2025-10-09 15:45:36,993 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ JSON structure and Impact Formula validation passed (10/23 bullets with quantification)
2025-10-09 15:45:36,993 - app.tailored_cv.services.cv_tailoring_service - INFO - ℹ️ Skipping placeholder checks; proceeding with generated data as-is.
2025-10-09 15:45:36,994 - app.tailored_cv.services.cv_tailoring_service - INFO - [4c766e94] 🔍 Starting keyword integration validation
2025-10-09 15:45:36,994 - app.tailored_cv.services.cv_tailoring_service - INFO - [4c766e94] Scanning experience bullets:
2025-10-09 15:45:36,994 - app.tailored_cv.services.cv_tailoring_service - INFO - [4c766e94] - Experience 1: 6 bullets
2025-10-09 15:45:36,994 - app.tailored_cv.services.cv_tailoring_service - INFO - [4c766e94] - Experience 2: 4 bullets
2025-10-09 15:45:36,994 - app.tailored_cv.services.cv_tailoring_service - INFO - [4c766e94] - Experience 3: 4 bullets
2025-10-09 15:45:36,995 - app.tailored_cv.services.cv_tailoring_service - INFO - [4c766e94] - Experience 4: 3 bullets
2025-10-09 15:45:36,995 - app.tailored_cv.services.cv_tailoring_service - INFO - [4c766e94] - Experience 5: 3 bullets
2025-10-09 15:45:36,996 - app.tailored_cv.services.cv_tailoring_service - INFO - [4c766e94] - Experience 6: 3 bullets
2025-10-09 15:45:36,996 - app.tailored_cv.services.cv_tailoring_service - INFO - [4c766e94] Scanning skills:
2025-10-09 15:45:36,996 - app.tailored_cv.services.cv_tailoring_service - INFO - [4c766e94] - Category 1: 6 skills
2025-10-09 15:45:36,996 - app.tailored_cv.services.cv_tailoring_service - WARNING - ⚠️ Some keywords not found but within acceptable range: Detail-oriented
2025-10-09 15:45:36,997 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Keyword integration validation passed - 1/2 critical keywords found
2025-10-09 15:45:36,997 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Keyword integration validation passed - 2 critical keywords found
2025-10-09 15:45:36,997 - app.tailored_cv.services.cv_tailoring_service - INFO - [4c766e94] ✅ AI generation successful on attempt 1
2025-10-09 15:45:36,997 - app.tailored_cv.services.cv_tailoring_service - INFO - [4c766e94] 🔁 Quantification below 60% (43.5%). Enhancement attempt 1/3
2025-10-09 15:45:36,997 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 15:45:36,997 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 15:45:36,998 - app.ai.ai_service - INFO - - Prompt length: 13982
2025-10-09 15:45:36,998 - app.ai.ai_service - INFO - - System prompt length: 10574
2025-10-09 15:45:36,998 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 15:45:36,998 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 15:45:36,998 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 15:45:36,998 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:45:36,998 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:45:36,999 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:45:36,999 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:45:37,719 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:45:37,732 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:45:37,732 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:45:37,732 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:45:37,732 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 15:45:48,042 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 15:45:48,047 - app.tailored_cv.services.cv_tailoring_service - INFO - Starting JSON extraction from content length: 5461
2025-10-09 15:45:48,048 - app.tailored_cv.services.cv_tailoring_service - INFO - [4c766e94] 🔍 Starting JSON validation
2025-10-09 15:45:48,048 - app.tailored_cv.services.cv_tailoring_service - INFO - [4c766e94] CV created with excellent quality: 77.3% quantification
2025-10-09 15:45:48,048 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ JSON structure and Impact Formula validation passed (17/22 bullets with quantification)
2025-10-09 15:45:48,069 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:45:48,069 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:45:48,071 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 15:45:48,071 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 15:45:48,071 INFO sqlalchemy.engine.Engine [cached since 22.48s ago] {'email_1': 'simran@gmail.com', 'param_1': 1}
2025-10-09 15:45:48,071 - sqlalchemy.engine.Engine - INFO - [cached since 22.48s ago] {'email_1': 'simran@gmail.com', 'param_1': 1}
2025-10-09 15:45:48,110 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:45:48,110 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:45:48,126 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 15:45:48,127 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 15:45:48,127 - app.ai.ai_service - INFO - - Prompt length: 2972
2025-10-09 15:45:48,127 - app.ai.ai_service - INFO - - System prompt length: 424
2025-10-09 15:45:48,127 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 15:45:48,127 - app.ai.ai_service - INFO - - Max tokens: 10
2025-10-09 15:45:48,128 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 15:45:48,128 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:45:48,128 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:45:48,129 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:45:48,129 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:45:48,730 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:45:48,742 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:45:48,742 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:45:48,743 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:45:48,743 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 15:45:49,547 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 15:45:49,549 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ CV tailoring completed successfully. Estimated ATS score: 85
2025-10-09 15:45:49,551 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Saved tailored CV to user/simran@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_154549.json
2025-10-09 15:45:49,551 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Saved tailored CV text to user/simran@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_154549.txt
2025-10-09 15:45:49,551 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ Tailored CV saved to user/simran@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_154549.json
INFO:     127.0.0.1:50765 - "POST /api/tailored-cv/tailor-with-real-data/Australia_for_UNHCR HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'app/tailored_cv/services/cv_tailoring_service.py', 'app/tailored_cv/routes/cv_tailoring_routes.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 15:46:08,300 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [5431]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [7406]
INFO:     Waiting for application startup.
2025-10-09 15:46:13,490 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 15:46:14,293 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 15:46:14,293 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 15:46:14,293 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:46:14,293 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:46:14,376 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 15:46:14,376 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 15:46:14,376 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:46:14,376 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:46:14,472 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 15:46:14,472 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 15:46:14,473 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:46:14,473 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:46:14,578 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:46:14,578 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:46:14,578 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 15:46:14,578 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 15:46:14,578 INFO sqlalchemy.engine.Engine [generated in 0.00058s] {}
2025-10-09 15:46:14,578 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] {}
2025-10-09 15:46:14,730 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:46:14,730 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:46:14,790 - app.database - INFO - Database connection successful
2025-10-09 15:46:14,790 - app.main - INFO - ✅ Database connection successful
2025-10-09 15:46:14,822 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:46:14,822 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:46:14,829 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:46:14,829 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:46:14,829 INFO sqlalchemy.engine.Engine [generated in 0.00065s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:46:14,829 - sqlalchemy.engine.Engine - INFO - [generated in 0.00065s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:46:14,875 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:46:14,875 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:46:14,876 INFO sqlalchemy.engine.Engine [cached since 0.04728s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:46:14,876 - sqlalchemy.engine.Engine - INFO - [cached since 0.04728s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:46:14,902 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:46:14,902 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:46:14,902 INFO sqlalchemy.engine.Engine [cached since 0.07362s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:46:14,902 - sqlalchemy.engine.Engine - INFO - [cached since 0.07362s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:46:14,936 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:46:14,936 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:46:14,936 INFO sqlalchemy.engine.Engine [cached since 0.1077s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:46:14,936 - sqlalchemy.engine.Engine - INFO - [cached since 0.1077s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:46:14,967 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:46:14,967 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:46:14,967 INFO sqlalchemy.engine.Engine [cached since 0.1385s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:46:14,967 - sqlalchemy.engine.Engine - INFO - [cached since 0.1385s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:46:14,987 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:46:14,987 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:46:14,987 INFO sqlalchemy.engine.Engine [cached since 0.1587s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:46:14,987 - sqlalchemy.engine.Engine - INFO - [cached since 0.1587s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:46:15,011 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:46:15,011 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:46:15,012 INFO sqlalchemy.engine.Engine [cached since 0.1829s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:46:15,012 - sqlalchemy.engine.Engine - INFO - [cached since 0.1829s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:46:15,036 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:46:15,036 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:46:15,036 INFO sqlalchemy.engine.Engine [cached since 0.2074s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:46:15,036 - sqlalchemy.engine.Engine - INFO - [cached since 0.2074s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:46:15,058 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:46:15,058 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:46:15,058 INFO sqlalchemy.engine.Engine [cached since 0.2297s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:46:15,058 - sqlalchemy.engine.Engine - INFO - [cached since 0.2297s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:46:15,080 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:46:15,080 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:46:15,081 INFO sqlalchemy.engine.Engine [cached since 0.2521s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:46:15,081 - sqlalchemy.engine.Engine - INFO - [cached since 0.2521s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:46:15,125 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:46:15,125 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:46:15,125 INFO sqlalchemy.engine.Engine [cached since 0.2966s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:46:15,125 - sqlalchemy.engine.Engine - INFO - [cached since 0.2966s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:46:15,172 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 15:46:15,172 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 15:46:15,198 - app.database - INFO - Database tables created successfully
2025-10-09 15:46:15,198 - app.main - INFO - ✅ Database tables ready
2025-10-09 15:46:15,198 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 15:46:15,198 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
2025-10-09 15:47:07,210 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
INFO:     127.0.0.1:50912 - "GET /api/tailored-cv/available-companies-real HTTP/1.1" 200 OK
INFO:     127.0.0.1:50912 - "OPTIONS /api/tailored-cv/content/Australia_for_UNHCR HTTP/1.1" 200 OK
2025-10-09 15:47:07,256 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 📄 Tailored CV content request for Australia_for_UNHCR from user 93d2b2fe-c1a7-4dd5-8006-199a4fe3e860
2025-10-09 15:47:07,256 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:47:07,257 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:47:07,257 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/simran@gmail.com/cv-analysis
2025-10-09 15:47:07,260 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ Served TAILORED CV content: Australia_for_UNHCR_tailored_cv_20251009_154549.txt from tailored folder (3525 characters)
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
🔍 Searching for tailored CV ONLY for company: Australia_for_UNHCR
📁 Found 1 tailored CV candidates
✅ Selected tailored CV: tailored - user/simran@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_154549.json
INFO:     127.0.0.1:50914 - "GET /api/tailored-cv/content/Australia_for_UNHCR HTTP/1.1" 200 OK
INFO:     127.0.0.1:50922 - "OPTIONS /api/preliminary-analysis/cache HTTP/1.1" 200 OK
INFO:     127.0.0.1:50922 - "GET /api/preliminary-analysis/cache HTTP/1.1" 200 OK
INFO:     127.0.0.1:50922 - "OPTIONS /api/preliminary-analysis HTTP/1.1" 200 OK
2025-10-09 15:47:18,804 - app.core.model_dependency - INFO - 🔍 [MODEL_DEPENDENCY] Initializing model for user: simran@gmail.com
2025-10-09 15:47:18,805 - app.core.model_dependency - INFO - - Header model: gpt-3.5-turbo
2025-10-09 15:47:18,805 - app.core.model_dependency - INFO - - User ID: 93d2b2fe-c1a7-4dd5-8006-199a4fe3e860
2025-10-09 15:47:18,805 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 15:47:18,805 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:47:18,806 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 15:47:18,806 - app.ai.ai_service - INFO - - Available providers: []
2025-10-09 15:47:18,806 - app.ai.ai_service - INFO - - Provider status: {}
2025-10-09 15:47:18,806 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 15:47:18,806 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: []
2025-10-09 15:47:18,806 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 15:47:18,806 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {}
2025-10-09 15:47:18,806 - app.ai.ai_service - ERROR - ❌ No current provider available for model switching
2025-10-09 15:47:18,807 - app.core.model_dependency - WARNING - ⚠️ Failed to switch to header model gpt-3.5-turbo
2025-10-09 15:47:18,812 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user simran@gmail.com
2025-10-09 15:47:18,812 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Before initialization:
2025-10-09 15:47:18,812 - app.ai.ai_service - INFO - - Current providers: []
2025-10-09 15:47:18,812 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 15:47:18,812 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 15:47:18,812 - app.ai.ai_service - INFO - - Cached providers for user: []
2025-10-09 15:47:18,813 - app.ai.ai_service - INFO - 🔄 [AI_SERVICE] Initializing new providers for user simran@gmail.com
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
2025-10-09 15:47:18,850 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:47:18,850 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:47:18,854 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:47:18,854 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:47:18,854 INFO sqlalchemy.engine.Engine [generated in 0.00042s] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 15:47:18,854 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 15:47:18,912 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:47:18,912 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:47:19,806 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:47:19,819 - app.ai.ai_service - INFO - ✅ Initialized openai provider with model gpt-4o for user simran@gmail.com
2025-10-09 15:47:19,838 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:47:19,838 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:47:19,840 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:47:19,840 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:47:19,840 INFO sqlalchemy.engine.Engine [cached since 0.9864s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 15:47:19,840 - sqlalchemy.engine.Engine - INFO - [cached since 0.9864s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 15:47:19,873 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:47:19,873 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:47:19,889 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user simran@gmail.com and provider anthropic
2025-10-09 15:47:19,905 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:47:19,905 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:47:19,906 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:47:19,906 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:47:19,907 INFO sqlalchemy.engine.Engine [cached since 1.053s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 15:47:19,907 - sqlalchemy.engine.Engine - INFO - [cached since 1.053s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 15:47:19,947 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:47:19,947 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:47:19,963 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user simran@gmail.com and provider deepseek
2025-10-09 15:47:19,963 - app.ai.ai_service - INFO - 💾 [AI_SERVICE] Cached 1 providers for user simran@gmail.com
2025-10-09 15:47:19,963 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] After initialization:
2025-10-09 15:47:19,963 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 15:47:19,964 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 15:47:19,964 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 15:47:19,964 - app.core.model_dependency - INFO - ✅ [MODEL_DEPENDENCY] AI providers initialized for user simran@gmail.com
2025-10-09 15:47:19,986 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:47:19,986 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:47:19,989 INFO sqlalchemy.engine.Engine SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 15:47:19,989 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 15:47:19,990 INFO sqlalchemy.engine.Engine [generated in 0.00098s] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'param_1': 1}
2025-10-09 15:47:19,990 - sqlalchemy.engine.Engine - INFO - [generated in 0.00098s] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'param_1': 1}
2025-10-09 15:47:20,022 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:47:20,022 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:47:20,040 - app.core.model_dependency - INFO - 🔍 [MODEL_DEPENDENCY] Found saved preference: openai/gpt-3.5-turbo
2025-10-09 15:47:20,040 - app.ai.ai_service - INFO - ✅ Switched to openai provider with model gpt-3.5-turbo
2025-10-09 15:47:20,040 - app.core.model_dependency - INFO - ✅ [MODEL_DEPENDENCY] Successfully restored user preference: openai/gpt-3.5-turbo
2025-10-09 15:47:20,042 - app.routes.skills_analysis - INFO - 🎯 Preliminary analysis request: CV=maheshwor_tiwari.pdf, JD_length=6014, CONFIG=None
2025-10-09 15:47:20,043 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:47:20,044 - app.routes.skills_analysis - INFO - 🏢 Extracted company name: Australia_for_UNHCR
2025-10-09 15:47:20,044 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:47:20,047 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:47:20,048 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:47:20,048 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/simran@gmail.com/cv-analysis
2025-10-09 15:47:20,048 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:47:20,050 - app.routes.skills_analysis - INFO - 🔗 [PRELIM_ANALYSIS] JD URL (latest job_info): https://www.ethicaljobs.com.au/members/australiaforunhcr/data-analyst
2025-10-09 15:47:20,051 - app.routes.skills_analysis - INFO - 📄 [PRELIM_ANALYSIS] Latest CV selected → type=tailored, ts=20251009_154549, json=user/simran@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_154549.json, txt=user/simran@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_154549.txt
2025-10-09 15:47:20,052 - app.routes.skills_analysis - INFO - 🧪 [PRELIM_ANALYSIS] CV content length=3525, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • Excel, Power BI, Python, SQL, Data Analysis, Business Intelligence  EXPERIENCE Data Analyst         Jul 2024 – Present The Bitrates  • Designed and implemented Python scripts for data cleaning, preprocessing, and analysis, improving data pipeline efficiency by 30%. • Developed 5 machine learnin'
2025-10-09 15:47:20,053 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 15:47:20,053 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 15:47:20,053 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 15:47:20,053 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Starting AI-powered skills analysis for maheshwor_tiwari.pdf
2025-10-09 15:47:20,053 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] CV content length: 3525 chars
2025-10-09 15:47:20,053 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] JD content length: 6014 chars
2025-10-09 15:47:20,054 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using config: default
2025-10-09 15:47:20,054 - app.routes.skills_analysis - INFO - 🧪 [SKILLS_ANALYSIS] CV preview: 'Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • Excel, Power BI, Python, SQL, Data Analysis, Business Intelligence  EXPERIE'
2025-10-09 15:47:20,054 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:47:20,054 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:47:20,055 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:47:20,055 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:47:20,055 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:47:20,916 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:47:20,928 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:47:20,929 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:47:20,929 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:47:20,929 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI provider: openai
2025-10-09 15:47:20,929 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI model: gpt-3.5-turbo
2025-10-09 15:47:20,929 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Provider available: True
2025-10-09 15:47:20,929 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Model from header: gpt-3.5-turbo
2025-10-09 15:47:20,930 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting CV skills with detailed structured analysis...
2025-10-09 15:47:20,930 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 15:47:20,930 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 15:47:20,930 - app.ai.ai_service - INFO - - Prompt length: 12996
2025-10-09 15:47:20,930 - app.ai.ai_service - INFO - - System prompt length: 0
2025-10-09 15:47:20,931 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 15:47:20,931 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 15:47:20,931 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 15:47:20,931 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:47:20,931 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:47:20,931 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:47:20,932 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:47:20,932 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:47:21,531 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:47:21,543 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:47:21,543 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:47:21,543 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:47:21,543 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 15:47:23,375 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 15:47:23,383 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] Starting response parsing...
2025-10-09 15:47:23,383 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] Raw response preview: 
**SOFT SKILLS:**
- Communication
- Leadership
- Teamwork
- Collaboration
- Time Management
- Organization
- Adaptability
- Problem-solving
- Analytical Thinking
- Critical Thinking
- Creativity
- Innovation
- Detail-oriented
- Self-motivated
- Proactive
- Results-driven

**TECHNICAL SKILLS:**
- Excel
- Power BI
- Python
- SQL
- Data Analysis
- Business Intelligence
- Data Cleaning
- Preprocessing
- Machine Learning
- AI Techniques
- Automation
- Dashboards
- Visualizations
- Google Analytics

*...
2025-10-09 15:47:23,383 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] FULL CV RESPONSE: 
**SOFT SKILLS:**
- Communication
- Leadership
- Teamwork
- Collaboration
- Time Management
- Organization
- Adaptability
- Problem-solving
- Analytical Thinking
- Critical Thinking
- Creativity
- Innovation
- Detail-oriented
- Self-motivated
- Proactive
- Results-driven

**TECHNICAL SKILLS:**
- Excel
- Power BI
- Python
- SQL
- Data Analysis
- Business Intelligence
- Data Cleaning
- Preprocessing
- Machine Learning
- AI Techniques
- Automation
- Dashboards
- Visualizations
- Google Analytics

**DOMAIN KEYWORDS:**
- Data Analyst
- Software Engineer
- Analyst
- Research Assistant
- Lecturer
- Course Facilitator
- Research Intern
- Data Science
- Physics
- Computational Modeling
- Research Projects
- Physics Tutorials
- Course Materials
- Data Sets
- Data Science
- Theoretical Physics
2025-10-09 15:47:23,384 - app.services.skill_extraction.response_parser - WARNING - ⚠️ [CV] No SOFT_SKILLS variable found in response
2025-10-09 15:47:23,384 - app.services.skill_extraction.response_parser - WARNING - ⚠️ [CV] No TECHNICAL_SKILLS variable found in response
2025-10-09 15:47:23,384 - app.services.skill_extraction.response_parser - WARNING - ⚠️ [CV] No DOMAIN_KEYWORDS variable found in response
2025-10-09 15:47:23,385 - app.services.skill_extraction.response_parser - INFO - 🔄 [CV] Python format not found, trying markdown format...
2025-10-09 15:47:23,386 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Successfully extracted 46 total skills using multi-format parser
2025-10-09 15:47:23,386 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated soft_skills: 16 valid skills
2025-10-09 15:47:23,386 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated technical_skills: 14 valid skills
2025-10-09 15:47:23,386 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated domain_keywords: 16 valid skills
2025-10-09 15:47:23,386 - app.services.skill_extraction.response_parser - INFO - 📊 [CV] Parsing completed:
2025-10-09 15:47:23,386 - app.services.skill_extraction.response_parser - INFO -    Soft Skills (16): ['Communication', 'Leadership', 'Teamwork']...
2025-10-09 15:47:23,387 - app.services.skill_extraction.response_parser - INFO -    Technical Skills (14): ['Excel', 'Power BI', 'Python']...
2025-10-09 15:47:23,387 - app.services.skill_extraction.response_parser - INFO -    Domain Keywords (16): ['Data Analyst', 'Software Engineer', 'Analyst']...
2025-10-09 15:47:23,387 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting JD skills with detailed structured analysis...
2025-10-09 15:47:23,387 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 15:47:23,387 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 15:47:23,387 - app.ai.ai_service - INFO - - Prompt length: 18001
2025-10-09 15:47:23,388 - app.ai.ai_service - INFO - - System prompt length: 0
2025-10-09 15:47:23,388 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 15:47:23,388 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 15:47:23,388 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 15:47:23,389 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:47:23,389 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:47:23,389 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:47:23,390 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:47:23,390 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:47:24,234 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:47:24,246 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:47:24,246 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:47:24,246 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:47:24,247 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 15:47:28,651 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 15:47:28,653 - app.services.skill_extraction.response_parser - INFO - 🔍 [JD] Starting response parsing...
2025-10-09 15:47:28,653 - app.services.skill_extraction.response_parser - INFO - 🔍 [JD] Raw response preview: ## SOFT SKILLS:
- Communication
- Leadership
- Teamwork
- Collaboration
- Negotiation
- Time Management
- Organization
- Adaptability
- Problem-solving
- Analytical Thinking
- Critical Thinking
- Creativity
- Innovation
- Detail-oriented
- Self-motivated
- Proactive
- Results-driven

## TECHNICAL SKILLS:
- SQL
- Excel
- Data Mining
- Data Analysis
- Power BI
- Tableau
- Spreadsheets
- VBA
- Database Management
- Business Intelligence Tools
- Project Management
- Data Extraction
- Data Modeling
-...
2025-10-09 15:47:28,654 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Successfully extracted 56 total skills using multi-format parser
2025-10-09 15:47:28,654 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated soft_skills: 17 valid skills
2025-10-09 15:47:28,655 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated technical_skills: 19 valid skills
2025-10-09 15:47:28,655 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated domain_keywords: 20 valid skills
2025-10-09 15:47:28,656 - app.services.skill_extraction.response_parser - INFO - 📊 [JD] Parsing completed:
2025-10-09 15:47:28,656 - app.services.skill_extraction.response_parser - INFO -    Soft Skills (17): ['Communication', 'Leadership', 'Teamwork']...
2025-10-09 15:47:28,656 - app.services.skill_extraction.response_parser - INFO -    Technical Skills (19): ['SQL', 'Excel', 'Data Mining']...
2025-10-09 15:47:28,656 - app.services.skill_extraction.response_parser - INFO -    Domain Keywords (20): ['Fundraising', 'Business Intelligence', 'Data Requirements']...
2025-10-09 15:47:28,657 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using structured analysis as comprehensive analysis...
2025-10-09 15:47:28,657 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Technical Skills (14): ['Excel', 'Power BI', 'Python', 'SQL', 'Data Analysis', 'Business Intelligence', 'Data Cleaning', 'Preprocessing', 'Machine Learning', 'AI Techniques', 'Automation', 'Dashboards', 'Visualizations', 'Google Analytics']
2025-10-09 15:47:28,657 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Soft Skills (16): ['Communication', 'Leadership', 'Teamwork', 'Collaboration', 'Time Management', 'Organization', 'Adaptability', 'Problem-solving', 'Analytical Thinking', 'Critical Thinking', 'Creativity', 'Innovation', 'Detail-oriented', 'Self-motivated', 'Proactive', 'Results-driven']
2025-10-09 15:47:28,657 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Domain Keywords (16): ['Data Analyst', 'Software Engineer', 'Analyst', 'Research Assistant', 'Lecturer', 'Course Facilitator', 'Research Intern', 'Data Science', 'Physics', 'Computational Modeling', 'Research Projects', 'Physics Tutorials', 'Course Materials', 'Data Sets', 'Data Science', 'Theoretical Physics']
2025-10-09 15:47:28,658 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Technical Skills (19): ['SQL', 'Excel', 'Data Mining', 'Data Analysis', 'Power BI', 'Tableau', 'Spreadsheets', 'VBA', 'Database Management', 'Business Intelligence Tools', 'Project Management', 'Data Extraction', 'Data Modeling', 'Data Warehouse', 'Stakeholder Management', 'Data Segmentation', 'Data Selection', 'Data Cleansing', 'Report Creation']
2025-10-09 15:47:28,658 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Soft Skills (17): ['Communication', 'Leadership', 'Teamwork', 'Collaboration', 'Negotiation', 'Time Management', 'Organization', 'Adaptability', 'Problem-solving', 'Analytical Thinking', 'Critical Thinking', 'Creativity', 'Innovation', 'Detail-oriented', 'Self-motivated', 'Proactive', 'Results-driven']
2025-10-09 15:47:28,658 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Domain Keywords (20): ['Fundraising', 'Business Intelligence', 'Data Requirements', 'Direct Marketing', 'Donor-centricity', 'Multi-channel Communication', 'Data Warehouse Administration', 'Business Decision-making', 'Data-driven', 'Humanitarian Emergencies', 'Refugee Support', 'Data Governance', 'Campaign Optimization', 'Communication Purposes', 'Clean Data Maintenance', 'Inclusive Work Culture', 'Employee Engagement', 'Wellbeing Programs', 'Diversity and Inclusion', 'Equal Opportunity']
2025-10-09 15:47:28,659 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] Analysis completed successfully
2025-10-09 15:47:28,659 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 15:47:28,660 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:47:28,660 - app.services.skill_extraction.result_saver - INFO - 📁 Result saver initialized with base directory: user/simran@gmail.com/cv-analysis
2025-10-09 15:47:28,660 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:47:28,660 - app.routes.skills_analysis - INFO - 🔍 [COMPANY_DETECTION] Looking in: user/simran@gmail.com/cv-analysis/applied_companies
2025-10-09 15:47:28,661 - app.routes.skills_analysis - INFO - 📁 [COMPANY_DETECTION] Found company folder: Australia_for_UNHCR with 3 job_info files
2025-10-09 15:47:28,661 - app.routes.skills_analysis - INFO - 🏢 [COMPANY_DETECTION] Using most recent company folder: Australia_for_UNHCR
2025-10-09 15:47:28,662 - app.routes.skills_analysis - INFO - 📋 [COMPANY_DETECTION] Job info company: Australia for UNHCR
2025-10-09 15:47:28,662 - app.services.skill_extraction.result_saver - INFO - 🏢 Using provided company name: Australia_for_UNHCR -> Australia_for_UNHCR
2025-10-09 15:47:28,663 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:47:28,663 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/simran@gmail.com/cv-analysis
2025-10-09 15:47:28,663 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:47:28,665 - app.services.skill_extraction.result_saver - INFO - 💾 Structured CV already exists, preserving it: user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 15:47:28,665 - app.services.skill_extraction.result_saver - INFO - 💾 Structured CV preserved, skipping save: user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 15:47:28,666 - app.services.skill_extraction.result_saver - INFO - 💾 Analysis results saved (JSON) to: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_154728.json
2025-10-09 15:47:28,667 - app.routes.skills_analysis - INFO - 📁 [FILE_SAVE] Results saved to: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_154728.json
2025-10-09 15:47:28,667 - app.routes.skills_analysis - INFO - 🔍 [ANALYZE_MATCH] Starting analyze match assessment...
2025-10-09 15:47:28,670 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 15:47:28,671 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 15:47:28,671 - app.ai.ai_service - INFO - - Prompt length: 15628
2025-10-09 15:47:28,672 - app.ai.ai_service - INFO - - System prompt length: 0
2025-10-09 15:47:28,672 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 15:47:28,672 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 15:47:28,672 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 15:47:28,673 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:47:28,673 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:47:28,673 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:47:28,673 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:47:28,673 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:47:29,195 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:47:29,209 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:47:29,209 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:47:29,209 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:47:29,210 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 15:47:34,037 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 15:47:34,043 - app.routes.skills_analysis - INFO - ✅ [ANALYZE_MATCH] Analysis completed (length: 1709 chars)
2025-10-09 15:47:34,044 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:47:34,045 - app.services.skill_extraction.result_saver - INFO - 📂 Found existing analysis file: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_154728.json
2025-10-09 15:47:34,045 - app.services.skill_extraction.result_saver - INFO - 🔍 Looking for analysis file in: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 15:47:34,045 - app.services.skill_extraction.result_saver - INFO - 📄 Using existing file: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_154728.json
2025-10-09 15:47:34,047 - app.services.skill_extraction.result_saver - INFO - 📁 [ANALYZE_MATCH] Results appended to: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_154728.json
2025-10-09 15:47:34,047 - app.routes.skills_analysis - INFO - 📁 [ANALYZE_MATCH] Results appended to: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_154728.json
2025-10-09 15:47:34,047 - app.routes.skills_analysis - INFO - 🔍 [PREEXTRACTED_COMPARISON] Starting pre-extracted skills semantic comparison...
2025-10-09 15:47:34,050 - app.services.skill_extraction.preextracted_comparator - INFO - 🔍 [EXACT_MATCHES] Found 3 exact matches: {'technical_skills': [{'jd_skill': 'Data Analysis', 'cv_skill': 'Data Analysis', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Excel', 'cv_skill': 'Excel', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Power BI', 'cv_skill': 'Power BI', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'SQL', 'cv_skill': 'SQL', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}], 'soft_skills': [{'jd_skill': 'Adaptability', 'cv_skill': 'Adaptability', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Analytical Thinking', 'cv_skill': 'Analytical Thinking', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Collaboration', 'cv_skill': 'Collaboration', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Communication', 'cv_skill': 'Communication', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Creativity', 'cv_skill': 'Creativity', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Critical Thinking', 'cv_skill': 'Critical Thinking', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Detail-oriented', 'cv_skill': 'Detail-oriented', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Innovation', 'cv_skill': 'Innovation', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Leadership', 'cv_skill': 'Leadership', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Organization', 'cv_skill': 'Organization', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Proactive', 'cv_skill': 'Proactive', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Problem-solving', 'cv_skill': 'Problem-solving', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Results-driven', 'cv_skill': 'Results-driven', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Self-motivated', 'cv_skill': 'Self-motivated', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Teamwork', 'cv_skill': 'Teamwork', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Time Management', 'cv_skill': 'Time Management', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}], 'domain_keywords': []}
2025-10-09 15:47:34,051 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 15:47:34,052 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 15:47:34,052 - app.ai.ai_service - INFO - - Prompt length: 7216
2025-10-09 15:47:34,052 - app.ai.ai_service - INFO - - System prompt length: 0
2025-10-09 15:47:34,052 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 15:47:34,052 - app.ai.ai_service - INFO - - Max tokens: 3000
2025-10-09 15:47:34,053 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 15:47:34,053 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:47:34,053 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:47:34,053 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:47:34,053 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:47:34,053 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:47:34,537 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:47:34,549 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:47:34,550 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:47:34,550 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:47:34,550 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 15:47:42,627 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 15:47:42,630 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Adaptability → Adaptability
2025-10-09 15:47:42,630 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Analytical Thinking → Analytical Thinking
2025-10-09 15:47:42,630 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Collaboration → Collaboration
2025-10-09 15:47:42,631 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Communication → Communication
2025-10-09 15:47:42,631 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Creativity → Creativity
2025-10-09 15:47:42,631 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Critical Thinking → Critical Thinking
2025-10-09 15:47:42,631 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Detail-oriented → Detail-oriented
2025-10-09 15:47:42,631 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Innovation → Innovation
2025-10-09 15:47:42,632 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Leadership → Leadership
2025-10-09 15:47:42,632 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Organization → Organization
2025-10-09 15:47:42,632 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Proactive → Proactive
2025-10-09 15:47:42,632 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Problem-solving → Problem-solving
2025-10-09 15:47:42,632 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Results-driven → Results-driven
2025-10-09 15:47:42,632 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Self-motivated → Self-motivated
2025-10-09 15:47:42,632 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Teamwork → Teamwork
2025-10-09 15:47:42,632 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Time Management → Time Management
2025-10-09 15:47:42,633 - app.services.skill_extraction.preextracted_comparator - INFO - ℹ️ [VALIDATION] soft_skills: matched 16 + missing 0 = 16 vs JD count 17 (acceptable variance)
2025-10-09 15:47:42,633 - app.services.skill_extraction.preextracted_comparator - INFO - ℹ️ [VALIDATION] domain_keywords: matched 0 + missing 19 = 19 vs JD count 20 (acceptable variance)
2025-10-09 15:47:42,633 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] CV Skills: Tech=14, Soft=16, Domain=16
2025-10-09 15:47:42,633 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] JD Skills: Tech=19, Soft=17, Domain=20
2025-10-09 15:47:42,633 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [VALIDATION] Comparison results passed validation
2025-10-09 15:47:42,633 - app.routes.skills_analysis - INFO - ✅ [PREEXTRACTED_COMPARISON] Completed (length: 6952 chars)
2025-10-09 15:47:42,634 - app.services.skill_extraction.result_saver - INFO - 🏢 [PREEXTRACTED_COMPARISON] Inferred company from saved_file_path: Australia_for_UNHCR
2025-10-09 15:47:42,636 - app.services.skill_extraction.result_saver - INFO - 📁 [PREEXTRACTED_COMPARISON] Results appended to: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_154728.json
2025-10-09 15:47:42,637 - app.routes.skills_analysis - INFO - 📁 [PREEXTRACTED_COMPARISON] Results appended to: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_154728.json
2025-10-09 15:47:42,638 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:47:42,638 - app.routes.skills_analysis - INFO - ♻️ [PIPELINE] (preliminary-analysis) JD file already exists: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/jd_original_20251009_153319.json
2025-10-09 15:47:42,641 - app.routes.skills_analysis - INFO - ♻️ [JOBS] Job already exists in saved_jobs.json: Data Analyst at Australia for UNHCR
2025-10-09 15:47:42,641 - app.routes.skills_analysis - INFO - 🚀 [PIPELINE] (preliminary-analysis) scheduling for company: Australia_for_UNHCR
2025-10-09 15:47:42,641 - app.routes.skills_analysis - INFO - 🚀 [PIPELINE] Scheduling JD analysis and CV–JD matching for 'Australia_for_UNHCR'...
2025-10-09 15:47:42,642 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:47:42,643 - app.routes.skills_analysis - INFO - 🔧 [PIPELINE] Starting JD analysis for Australia_for_UNHCR (force_refresh=True)
2025-10-09 15:47:42,643 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:47:42,643 - app.services.jd_analysis.jd_analyzer - INFO - 🔄 Analyzing JD for Australia_for_UNHCR (force_refresh=True)
2025-10-09 15:47:42,644 - app.services.jd_analysis.jd_analyzer - INFO - 📄 Analyzing JD file: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/jd_original_20251009_153319.json
2025-10-09 15:47:42,644 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 15:47:42,645 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 15:47:42,645 - app.ai.ai_service - INFO - - Prompt length: 6409
2025-10-09 15:47:42,645 - app.ai.ai_service - INFO - - System prompt length: 2650
2025-10-09 15:47:42,645 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 15:47:42,645 - app.ai.ai_service - INFO - - Max tokens: 2000
2025-10-09 15:47:42,646 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 15:47:42,646 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:47:42,646 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:47:42,647 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:47:42,647 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:47:42,647 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:47:43,245 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:47:43,260 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:47:43,260 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:47:43,260 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:47:43,261 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 15:47:44,674 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 15:47:44,676 - app.services.jd_analysis.jd_analyzer - INFO - ✅ JD analysis completed. Found 0 required and 0 preferred keywords
2025-10-09 15:47:44,677 - app.services.jd_analysis.jd_analyzer - INFO - ♻️ JD analysis already exists, reusing: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_jd_analysis_20251009_140236.json
2025-10-09 15:47:44,678 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] JD analysis saved for Australia_for_UNHCR at: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_jd_analysis_20251009_140236.json
2025-10-09 15:47:44,680 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:47:44,680 - app.services.jd_usage_tracker - INFO - 🔍 [JD_TRACKER] Recording JD usage:
2025-10-09 15:47:44,681 - app.services.jd_usage_tracker - INFO - - jd_url: 
2025-10-09 15:47:44,681 - app.services.jd_usage_tracker - INFO - - jd_text length: 0
2025-10-09 15:47:44,681 - app.services.jd_usage_tracker - INFO - - company: Australia_for_UNHCR
2025-10-09 15:47:44,681 - app.services.jd_usage_tracker - INFO - - job_title: 
2025-10-09 15:47:44,681 - app.services.jd_usage_tracker - ERROR - ❌ [JD_TRACKER] Error recording JD usage: Either jd_url or jd_text must be provided
2025-10-09 15:47:44,682 - app.routes.skills_analysis - INFO - 📝 [PIPELINE] JD usage recorded for Australia_for_UNHCR
2025-10-09 15:47:44,682 - app.routes.skills_analysis - INFO - 🔧 [PIPELINE] Starting CV–JD matching for Australia_for_UNHCR
2025-10-09 15:47:44,682 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:47:44,683 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:47:44,683 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:47:44,683 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/simran@gmail.com/cv-analysis
2025-10-09 15:47:44,684 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] CV–JD matching will use CV TXT: user/simran@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_154549.txt
2025-10-09 15:47:44,684 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 📄 [CV_JD_MATCHER] Using provided CV path: user/simran@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_154549.txt
2025-10-09 15:47:44,685 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 📄 [CV_JD_MATCHER] Read CV from: user/simran@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_154549.txt
2025-10-09 15:47:44,685 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🧪 [CV_JD_MATCHER] CV content length=3524, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • Excel, Power BI, Python, SQL, Data Analysis, Business Intelligence  EXPERIENCE Data Analyst         Jul 2024 – Present The Bitrates  • Designed and implemented Python scripts for data cleaning, preprocessing, and analysis, improving data pipeline efficiency by 30%. • Developed 5 machine learnin'
2025-10-09 15:47:44,685 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🔍 Found 8 required and 3 preferred keywords
2025-10-09 15:47:44,686 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 15:47:44,686 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 15:47:44,686 - app.ai.ai_service - INFO - - Prompt length: 4867
2025-10-09 15:47:44,686 - app.ai.ai_service - INFO - - System prompt length: 2705
2025-10-09 15:47:44,686 - app.ai.ai_service - INFO - - Temperature: 0.3
2025-10-09 15:47:44,686 - app.ai.ai_service - INFO - - Max tokens: 3000
2025-10-09 15:47:44,686 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 15:47:44,686 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:47:44,687 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:47:44,687 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:47:44,687 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:47:44,687 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:47:45,185 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:47:45,331 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:47:45,331 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:47:45,331 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:47:45,332 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 15:47:48,202 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 15:47:48,205 - app.services.cv_jd_matching.cv_jd_matcher - INFO - ✅ CV-JD matching completed. Found 4 matched required keywords
2025-10-09 15:47:48,205 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:47:48,206 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:47:48,207 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 💾 Saved CV-JD match results to: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_cv_jd_matching_20251009_154748.json
2025-10-09 15:47:48,208 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] CV–JD match results saved for Australia_for_UNHCR
2025-10-09 15:47:48,208 - app.routes.skills_analysis - INFO - 🔍 [PIPELINE] Starting component analysis for Australia_for_UNHCR
2025-10-09 15:47:48,210 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:47:48,210 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:47:48,211 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:47:48,211 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/simran@gmail.com/cv-analysis
2025-10-09 15:47:48,212 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Latest CV selected → type=tailored, ts=20251009_154549, json=user/simran@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_154549.json, txt=user/simran@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_154549.txt
2025-10-09 15:47:48,212 - app.routes.skills_analysis - INFO - 🧪 [PIPELINE] CV content length=3525, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • Excel, Power BI, Python, SQL, Data Analysis, Business Intelligence  EXPERIENCE Data Analyst         Jul 2024 – Present The Bitrates  • Designed and implemented Python scripts for data cleaning, preprocessing, and analysis, improving data pipeline efficiency by 30%. • Developed 5 machine learnin'
2025-10-09 15:47:48,213 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:47:48,214 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Required files found, proceeding with component analysis
2025-10-09 15:47:48,214 - app.services.ats.modular_ats_orchestrator - INFO - ===== [MODULAR ATS] Starting component analysis for: Australia_for_UNHCR =====
2025-10-09 15:47:48,214 - app.services.ats.component_assembler - INFO - ===== [ASSEMBLER] Starting component assembly for: Australia_for_UNHCR =====
2025-10-09 15:47:48,215 - app.services.ats.component_assembler - INFO - 📄 [ASSEMBLER] Using CV text provided by caller
2025-10-09 15:47:48,222 - app.services.ats.component_assembler - WARNING - [ASSEMBLER] Match results not found: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/cv_jd_match_results.json
2025-10-09 15:47:48,223 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Starting parallel component analyses...
2025-10-09 15:47:48,225 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Requesting skills relevance analysis...
2025-10-09 15:47:48,225 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 15:47:48,226 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 15:47:48,226 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Requirement bonus using match file: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_cv_jd_matching_20251009_154748.json
2025-10-09 15:47:48,226 - app.ai.ai_service - INFO - - Prompt length: 11371
2025-10-09 15:47:48,227 - app.ai.ai_service - INFO - - System prompt length: 163
2025-10-09 15:47:48,227 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 15:47:48,227 - app.ai.ai_service - INFO - - Max tokens: 1500
2025-10-09 15:47:48,227 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Using existing match_counts from file
2025-10-09 15:47:48,228 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 15:47:48,228 - app.services.ats.requirement_bonus_calculator - INFO - [ATS][BONUS] required_total=8 matched_required=4 missing_required=4 required_bonus=2.00 required_penalty=-1.50 preferred_total=3 matched_preferred=0 missing_preferred=3 preferred_bonus=0.00 preferred_penalty=-0.45 total_bonus=0.05
2025-10-09 15:47:48,228 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:47:48,228 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Requirement bonus calculated: 0.05 points
2025-10-09 15:47:48,228 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:47:48,229 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:47:48,229 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:47:48,229 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:47:48,740 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:47:48,901 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:47:48,902 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:47:48,903 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:47:48,903 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 15:47:56,723 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 15:47:56,726 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Raw response length: 4702
2025-10-09 15:47:56,727 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Raw response preview: {
 "skills_analysis": [
  {
   "skill": "Excel",
   "cv_evidence": "Proficient in Excel",
   "jd_application": "Building projection and segmentation models, producing reports and analysis",
   "contex
2025-10-09 15:47:56,728 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Cleaned response: {
 "skills_analysis": [
  {
   "skill": "Excel",
   "cv_evidence": "Proficient in Excel",
   "jd_application": "Building projection and segmentation models, producing reports and analysis",
   "contex
2025-10-09 15:47:56,728 - app.services.ats.components.skills_relevance_analyzer - WARNING - [SKILLS] Direct parse failed: Extra data: line 117 column 1 (char 4701)
2025-10-09 15:47:56,729 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Found 1 JSON objects
2025-10-09 15:47:56,730 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Object 0 parse successful
2025-10-09 15:47:56,730 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Analysis completed. Score: 89.0
2025-10-09 15:47:56,731 - app.services.ats.components.experience_analyzer - INFO - [EXPERIENCE] Requesting experience alignment analysis...
2025-10-09 15:47:56,731 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 15:47:56,731 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 15:47:56,731 - app.ai.ai_service - INFO - - Prompt length: 10152
2025-10-09 15:47:56,731 - app.ai.ai_service - INFO - - System prompt length: 163
2025-10-09 15:47:56,732 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 15:47:56,732 - app.ai.ai_service - INFO - - Max tokens: 1500
2025-10-09 15:47:56,732 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 15:47:56,732 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:47:56,733 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:47:56,733 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:47:56,733 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:47:56,733 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:47:57,165 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:47:57,178 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:47:57,178 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:47:57,178 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:47:57,178 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 15:47:59,215 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 15:47:59,216 - app.services.ats.components.experience_analyzer - INFO - [EXPERIENCE] Analysis completed. Score: 85.0
2025-10-09 15:47:59,217 - app.services.ats.components.industry_analyzer - INFO - [INDUSTRY] Requesting industry fit analysis...
2025-10-09 15:47:59,217 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 15:47:59,217 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 15:47:59,217 - app.ai.ai_service - INFO - - Prompt length: 11608
2025-10-09 15:47:59,217 - app.ai.ai_service - INFO - - System prompt length: 163
2025-10-09 15:47:59,217 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 15:47:59,217 - app.ai.ai_service - INFO - - Max tokens: 1500
2025-10-09 15:47:59,217 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 15:47:59,218 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:47:59,218 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:47:59,218 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:47:59,218 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:47:59,218 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:48:00,135 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:48:00,148 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:48:00,148 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:48:00,148 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:48:00,148 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 15:48:03,003 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 15:48:03,006 - app.services.ats.components.industry_analyzer - INFO - [INDUSTRY] Analysis completed. Score: 60.0
2025-10-09 15:48:03,013 - app.services.ats.components.seniority_analyzer - INFO - [SENIORITY] Requesting role seniority analysis...
2025-10-09 15:48:03,013 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 15:48:03,013 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 15:48:03,014 - app.ai.ai_service - INFO - - Prompt length: 12680
2025-10-09 15:48:03,014 - app.ai.ai_service - INFO - - System prompt length: 163
2025-10-09 15:48:03,014 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 15:48:03,014 - app.ai.ai_service - INFO - - Max tokens: 1500
2025-10-09 15:48:03,014 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 15:48:03,014 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:48:03,015 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:48:03,015 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:48:03,015 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:48:03,015 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:48:03,412 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:48:03,423 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:48:03,423 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:48:03,424 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:48:03,424 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 15:48:09,000 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 15:48:09,005 - app.services.ats.components.seniority_analyzer - INFO - [SENIORITY] Analysis completed. Score: 64.0
2025-10-09 15:48:09,006 - app.services.ats.components.technical_analyzer - INFO - [TECHNICAL] Requesting technical depth analysis...
2025-10-09 15:48:09,006 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 15:48:09,006 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 15:48:09,006 - app.ai.ai_service - INFO - - Prompt length: 8125
2025-10-09 15:48:09,007 - app.ai.ai_service - INFO - - System prompt length: 163
2025-10-09 15:48:09,007 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 15:48:09,007 - app.ai.ai_service - INFO - - Max tokens: 1500
2025-10-09 15:48:09,007 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 15:48:09,008 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:48:09,008 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:48:09,008 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:48:09,008 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:48:09,008 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:48:09,455 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:48:09,638 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:48:09,639 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:48:09,639 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:48:09,639 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 15:48:11,708 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 15:48:11,714 - app.services.ats.components.technical_analyzer - INFO - [TECHNICAL] Analysis completed. Score: 90.0
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=tailored, ts=20251009_154549, mtime=1759985149.5503595, json=user/simran@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_154549.json
  - type=original, ts=00000000_000000, mtime=1759984358.0670488, json=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=tailored, ts=20251009_154549, json=user/simran@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_154549.json, txt=user/simran@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_154549.txt
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=tailored, ts=20251009_154549, mtime=1759985149.5503595, json=user/simran@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_154549.json
  - type=original, ts=00000000_000000, mtime=1759984358.0670488, json=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=tailored, ts=20251009_154549, json=user/simran@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_154549.json, txt=user/simran@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_154549.txt
📄 [UNIFIED] Reading CV content from: txt=user/simran@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_154549.txt, json=user/simran@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_154549.json
🧪 [UNIFIED] CV content length=3525, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • Excel, Power BI, Python, SQL, Data Analysis, Business Intelligence  EXPERIENCE Data Analyst         Jul 2024 – Present The Bitrates  • Designed and implemented Python scripts for data cleaning, preprocessing, and analysis, improving data pipeline efficiency by 30%. • Developed 5 machine learnin'
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=tailored, ts=20251009_154549, mtime=1759985149.5503595, json=user/simran@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_154549.json
  - type=original, ts=00000000_000000, mtime=1759984358.0670488, json=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=tailored, ts=20251009_154549, json=user/simran@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_154549.json, txt=user/simran@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_154549.txt
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=tailored, ts=20251009_154549, mtime=1759985149.5503595, json=user/simran@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_154549.json
  - type=original, ts=00000000_000000, mtime=1759984358.0670488, json=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=tailored, ts=20251009_154549, json=user/simran@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_154549.json, txt=user/simran@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_154549.txt
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=tailored, ts=20251009_154549, mtime=1759985149.5503595, json=user/simran@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_154549.json
  - type=original, ts=00000000_000000, mtime=1759984358.0670488, json=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=tailored, ts=20251009_154549, json=user/simran@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_154549.json, txt=user/simran@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_154549.txt
📄 [UNIFIED] Reading CV content from: txt=user/simran@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_154549.txt, json=user/simran@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_154549.json
🧪 [UNIFIED] CV content length=3525, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • Excel, Power BI, Python, SQL, Data Analysis, Business Intelligence  EXPERIENCE Data Analyst         Jul 2024 – Present The Bitrates  • Designed and implemented Python scripts for data cleaning, preprocessing, and analysis, improving data pipeline efficiency by 30%. • Developed 5 machine learnin'
INFO:     127.0.0.1:50924 - "POST /api/preliminary-analysis HTTP/1.1" 200 OK
2025-10-09 15:48:11,716 - app.services.ats.component_assembler - INFO - [ASSEMBLER] All component analyses completed successfully
2025-10-09 15:48:11,716 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Validating cross-analyzer consistency...
2025-10-09 15:48:11,719 - app.services.ats.components.consistency_validator - ERROR - [CONSISTENCY] Validation failed: unsupported operand type(s) for -: 'str' and 'int'
2025-10-09 15:48:11,720 - app.services.ats.component_assembler - WARNING - [ASSEMBLER] Inconsistencies detected in analysis results
2025-10-09 15:48:11,721 - app.services.ats.component_assembler - WARNING - [ASSEMBLER] Confidence score: 100%
2025-10-09 15:48:11,729 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Results saved to: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_154728.json
2025-10-09 15:48:11,729 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Starting ATS score calculation...
2025-10-09 15:48:11,731 - app.services.ats.ats_score_calculator - INFO - [ATS] Starting comprehensive ATS score calculation
2025-10-09 15:48:11,732 - app.services.ats.ats_score_calculator - INFO - [ATS] Match rates - Tech: 74.0%, Domain: 0.0%, Soft: 100.0%
2025-10-09 15:48:11,732 - app.services.ats.ats_score_calculator - INFO - [ATS] Missing counts - Tech: 5, Domain: 19, Soft: 0
2025-10-09 15:48:11,733 - app.services.ats.ats_score_calculator - INFO - [ATS] Category 1 - Tech: 14.8, Domain: 0.0, Soft: 15.0, Total: 29.8
2025-10-09 15:48:11,733 - app.services.ats.ats_score_calculator - INFO - [ATS] Category 2 - Core: 15.9, Exp: 8.4, Potential: 6.0, Company: 0.8, Total: 31.0
2025-10-09 15:48:11,733 - app.services.ats.ats_score_calculator - INFO - [ATS] Final ATS Score: 60.9/100 (⚠️ Moderate fit)
2025-10-09 15:48:11,737 - app.services.ats.component_assembler - INFO - [ASSEMBLER] ATS calculation completed. Score: 60.9/100 (⚠️ Moderate fit)
2025-10-09 15:48:11,737 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:48:11,739 - app.services.ats_recommendation_service - INFO - Final ATS Score: 60.897499999999994
2025-10-09 15:48:11,739 - app.services.ats_recommendation_service - INFO - Category Status: ⚠️ Moderate fit
2025-10-09 15:48:11,739 - app.services.ats_recommendation_service - INFO - Successfully extracted comprehensive recommendation data for Australia_for_UNHCR
2025-10-09 15:48:11,743 - app.services.ats_recommendation_service - INFO - Successfully created recommendation file: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_154811.json
2025-10-09 15:48:11,761 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:48:11,761 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:48:11,766 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 15:48:11,766 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 15:48:11,766 INFO sqlalchemy.engine.Engine [generated in 0.00058s] {'email_1': 'simran@gmail.com'}
2025-10-09 15:48:11,766 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] {'email_1': 'simran@gmail.com'}
2025-10-09 15:48:11,847 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 15:48:11,847 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 15:48:11,849 INFO sqlalchemy.engine.Engine [generated in 0.00246s] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 15:48:11,849 - sqlalchemy.engine.Engine - INFO - [generated in 0.00246s] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 15:48:11,886 INFO sqlalchemy.engine.Engine INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 15:48:11,886 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 15:48:11,887 INFO sqlalchemy.engine.Engine [generated in 0.00044s] {'user_id': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'company_id': 14, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_154811.json', 'file_path': 'user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_154811.json', 'file_size': 29465, 'sha256': '82b5c10dd4e9a675e05cb9f78f8d2c4c687367f363b47b6b7eef88f38a05b3c2', 'timestamp': '20251009_154811'}
2025-10-09 15:48:11,887 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] {'user_id': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'company_id': 14, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_154811.json', 'file_path': 'user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_154811.json', 'file_size': 29465, 'sha256': '82b5c10dd4e9a675e05cb9f78f8d2c4c687367f363b47b6b7eef88f38a05b3c2', 'timestamp': '20251009_154811'}
2025-10-09 15:48:11,915 INFO sqlalchemy.engine.Engine INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 15:48:11,915 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 15:48:11,915 INFO sqlalchemy.engine.Engine [generated in 0.00051s] {'user_id': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'company_id': 14, 'kind': 'input_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 168}
2025-10-09 15:48:11,915 - sqlalchemy.engine.Engine - INFO - [generated in 0.00051s] {'user_id': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'company_id': 14, 'kind': 'input_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 168}
2025-10-09 15:48:11,935 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 15:48:11,935 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 15:48:11,958 - app.services.ats_recommendation_service - INFO - Successfully created AI recommendation prompt: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_prompt_recommendation.py
2025-10-09 15:48:11,959 - app.services.ats_recommendation_service - INFO - 🤖 [TRIGGER] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-09 15:48:11,959 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:48:11,960 - app.services.ats_recommendation_service - INFO - 📋 [TRIGGER] AI generation scheduled as background task for Australia_for_UNHCR
2025-10-09 15:48:11,960 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Recommendation file created for Australia_for_UNHCR
2025-10-09 15:48:11,960 - app.services.ats.component_assembler - INFO - ===== [ASSEMBLER] Completed assembly. Scores: skills=89.0 exp=85.0 industry=60.0 seniority=64.0 tech=90.0 =====
2025-10-09 15:48:11,961 - app.services.ats.modular_ats_orchestrator - INFO - ===== [MODULAR ATS] Component analysis completed for: Australia_for_UNHCR =====
2025-10-09 15:48:11,961 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Component analysis completed for Australia_for_UNHCR
2025-10-09 15:48:11,961 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] Component scores extracted: 23 scores
2025-10-09 15:48:11,961 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] skills_relevance: 89.0
2025-10-09 15:48:11,961 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] experience_alignment: 85.0
2025-10-09 15:48:11,961 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] industry_fit: 60.0
2025-10-09 15:48:11,962 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] role_seniority: 64.0
2025-10-09 15:48:11,962 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] technical_depth: 90.0
2025-10-09 15:48:11,964 - app.routes.skills_analysis - INFO - 🎯 [PIPELINE] ATS Score calculated: 60.897499999999994
2025-10-09 15:48:11,964 - app.routes.skills_analysis - INFO - 📋 [PIPELINE] Creating input recommendation file for Australia_for_UNHCR
2025-10-09 15:48:11,966 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:48:11,967 - app.services.ats_recommendation_service - INFO - Final ATS Score: 60.897499999999994
2025-10-09 15:48:11,967 - app.services.ats_recommendation_service - INFO - Category Status: ⚠️ Moderate fit
2025-10-09 15:48:11,967 - app.services.ats_recommendation_service - INFO - Successfully extracted comprehensive recommendation data for Australia_for_UNHCR
2025-10-09 15:48:11,969 - app.services.ats_recommendation_service - INFO - Successfully created recommendation file: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_154811.json
2025-10-09 15:48:12,018 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:48:12,018 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:48:12,019 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 15:48:12,019 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 15:48:12,019 INFO sqlalchemy.engine.Engine [cached since 0.2536s ago] {'email_1': 'simran@gmail.com'}
2025-10-09 15:48:12,019 - sqlalchemy.engine.Engine - INFO - [cached since 0.2536s ago] {'email_1': 'simran@gmail.com'}
2025-10-09 15:48:12,056 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 15:48:12,056 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 15:48:12,056 INFO sqlalchemy.engine.Engine [cached since 0.2097s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 15:48:12,056 - sqlalchemy.engine.Engine - INFO - [cached since 0.2097s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 15:48:12,077 INFO sqlalchemy.engine.Engine INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 15:48:12,077 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 15:48:12,078 INFO sqlalchemy.engine.Engine [cached since 0.1916s ago] {'user_id': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'company_id': 14, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_154811.json', 'file_path': 'user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_154811.json', 'file_size': 29465, 'sha256': '82b5c10dd4e9a675e05cb9f78f8d2c4c687367f363b47b6b7eef88f38a05b3c2', 'timestamp': '20251009_154811'}
2025-10-09 15:48:12,078 - sqlalchemy.engine.Engine - INFO - [cached since 0.1916s ago] {'user_id': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'company_id': 14, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_154811.json', 'file_path': 'user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_154811.json', 'file_size': 29465, 'sha256': '82b5c10dd4e9a675e05cb9f78f8d2c4c687367f363b47b6b7eef88f38a05b3c2', 'timestamp': '20251009_154811'}
2025-10-09 15:48:12,097 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:48:12,097 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:48:12,114 - app.services.ats_recommendation_service - WARNING - ⚠️ [DB] Failed to register input recommendation: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "uq_company_files_dedupe"
DETAIL:  Key (user_id, company_id, file_type, sha256)=(93d2b2fe-c1a7-4dd5-8006-199a4fe3e860, 14, input_recommendation, 82b5c10dd4e9a675e05cb9f78f8d2c4c687367f363b47b6b7eef88f38a05b3c2) already exists.

[SQL: INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at]
[parameters: {'user_id': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'company_id': 14, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_154811.json', 'file_path': 'user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_154811.json', 'file_size': 29465, 'sha256': '82b5c10dd4e9a675e05cb9f78f8d2c4c687367f363b47b6b7eef88f38a05b3c2', 'timestamp': '20251009_154811'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-10-09 15:48:12,115 - app.services.ats_recommendation_service - INFO - Successfully created AI recommendation prompt: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_prompt_recommendation.py
2025-10-09 15:48:12,115 - app.services.ats_recommendation_service - INFO - 🤖 [TRIGGER] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-09 15:48:12,115 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:48:12,116 - app.services.ats_recommendation_service - INFO - 📋 [TRIGGER] AI generation scheduled as background task for Australia_for_UNHCR
2025-10-09 15:48:12,116 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Input recommendation file created for Australia_for_UNHCR
2025-10-09 15:48:12,116 - app.routes.skills_analysis - INFO - 🤖 [PIPELINE] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-09 15:48:12,116 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:48:12,116 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-09 15:48:12,118 - app.services.ai_recommendation_generator - INFO - 🟡 [AI GENERATOR] Input recommendation is newer (ai_mtime=1759984479.4945276, input_mtime=1759985291.9696288); regenerating AI recommendation
2025-10-09 15:48:12,119 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:48:12,119 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:48:12,119 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/simran@gmail.com/cv-analysis
2025-10-09 15:48:12,120 - app.services.ai_recommendation_generator - ERROR - ❌ [AI GENERATOR] Error checking CV freshness: 'str' object has no attribute 'timestamp'
2025-10-09 15:48:12,124 - app.services.ai_recommendation_generator - INFO - 📋 [AI GENERATOR] Generated AI prompt for Australia_for_UNHCR using centralized template (13006 characters)
2025-10-09 15:48:12,125 - app.services.ai_recommendation_generator - INFO - 🧠 [AI GENERATOR] Executing AI prompt for Australia_for_UNHCR
2025-10-09 15:48:12,125 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 15:48:12,126 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 15:48:12,126 - app.ai.ai_service - INFO - - Prompt length: 13006
2025-10-09 15:48:12,126 - app.ai.ai_service - INFO - - System prompt length: 130
2025-10-09 15:48:12,127 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 15:48:12,127 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 15:48:12,127 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 15:48:12,127 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:48:12,127 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:48:12,128 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:48:12,128 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:48:12,128 - app.ai.ai_service - INFO - - Available providers: ['openai']
WARNING:  WatchFiles detected changes in 'user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_prompt_recommendation.py'. Reloading...
2025-10-09 15:48:12,841 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:48:12,851 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:48:12,852 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:48:12,852 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:48:12,852 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 15:48:17,771 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 15:48:17,774 - app.services.ai_recommendation_generator - INFO - 🧠 [AI GENERATOR] AI response generated - Provider: openai, Model: gpt-3.5-turbo
2025-10-09 15:48:17,774 - app.services.ai_recommendation_generator - INFO - 💰 [AI GENERATOR] Cost: $0.0048, Tokens: 3663
2025-10-09 15:48:17,775 - app.services.ai_recommendation_generator - INFO - 💾 [AI GENERATOR] Saved AI recommendation: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_154817.json (3.7KB)
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=tailored, ts=20251009_154549, mtime=1759985149.5503595, json=user/simran@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_154549.json
  - type=original, ts=00000000_000000, mtime=1759984358.0670488, json=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=tailored, ts=20251009_154549, json=user/simran@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_154549.json, txt=user/simran@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_154549.txt
2025-10-09 15:48:17,797 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:48:17,797 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:48:17,797 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 15:48:17,797 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 15:48:17,797 INFO sqlalchemy.engine.Engine [cached since 6.032s ago] {'email_1': 'simran@gmail.com'}
2025-10-09 15:48:17,797 - sqlalchemy.engine.Engine - INFO - [cached since 6.032s ago] {'email_1': 'simran@gmail.com'}
2025-10-09 15:48:17,838 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 15:48:17,838 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 15:48:17,839 INFO sqlalchemy.engine.Engine [cached since 5.992s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 15:48:17,839 - sqlalchemy.engine.Engine - INFO - [cached since 5.992s ago] {'user_id_1': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 15:48:17,860 INFO sqlalchemy.engine.Engine INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 15:48:17,860 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 15:48:17,861 INFO sqlalchemy.engine.Engine [cached since 5.975s ago] {'user_id': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'company_id': 14, 'file_type': 'ai_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_ai_recommendation_20251009_154817.json', 'file_path': 'user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_154817.json', 'file_size': 3818, 'sha256': '27c4a8ee2f8d9fe6fc7d9b4ead4dfcc29a37b53d5baa8cdf2568f17dfabd85b1', 'timestamp': '20251009_154817'}
2025-10-09 15:48:17,861 - sqlalchemy.engine.Engine - INFO - [cached since 5.975s ago] {'user_id': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'company_id': 14, 'file_type': 'ai_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_ai_recommendation_20251009_154817.json', 'file_path': 'user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_154817.json', 'file_size': 3818, 'sha256': '27c4a8ee2f8d9fe6fc7d9b4ead4dfcc29a37b53d5baa8cdf2568f17dfabd85b1', 'timestamp': '20251009_154817'}
2025-10-09 15:48:17,883 INFO sqlalchemy.engine.Engine INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 15:48:17,883 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 15:48:17,883 INFO sqlalchemy.engine.Engine [cached since 5.969s ago] {'user_id': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'company_id': 14, 'kind': 'ai_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 170}
2025-10-09 15:48:17,883 - sqlalchemy.engine.Engine - INFO - [cached since 5.969s ago] {'user_id': '93d2b2fe-c1a7-4dd5-8006-199a4fe3e860', 'company_id': 14, 'kind': 'ai_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 170}
2025-10-09 15:48:17,906 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 15:48:17,906 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 15:48:17,923 - app.services.ai_recommendation_generator - INFO - ✅ [AI GENERATOR] AI recommendation generated and saved for Australia_for_UNHCR
2025-10-09 15:48:17,923 - app.services.ai_recommendation_generator - INFO - 📄 File: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_153439.json
2025-10-09 15:48:17,924 - app.services.ai_recommendation_generator - INFO - 💰 Cost: $0.0048
2025-10-09 15:48:17,924 - app.services.ai_recommendation_generator - INFO - 🔤 Tokens: 3663
2025-10-09 15:48:17,924 - app.services.ai_recommendation_generator - INFO - 🚀 [AI GENERATOR] Starting automatic CV tailoring for Australia_for_UNHCR
2025-10-09 15:48:17,925 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:48:17,927 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded CV optimization framework from /Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/tailored_cv/prompts/framework.md
2025-10-09 15:48:17,927 - app.tailored_cv.services.cv_tailoring_service - INFO - Loading real data for Australia_for_UNHCR
2025-10-09 15:48:17,927 - app.tailored_cv.services.cv_tailoring_service - INFO - Company folder: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 15:48:17,928 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:48:17,928 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:48:17,928 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/simran@gmail.com/cv-analysis
2025-10-09 15:48:17,929 - app.tailored_cv.services.cv_tailoring_service - INFO - 📄 [TAILORING] Using latest CV via unified selector → type=tailored, ts=20251009_154549, path=user/simran@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_154549.json
2025-10-09 15:48:17,930 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [DEBUG] Loading CV from user/simran@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_154549.json
2025-10-09 15:48:17,931 - app.tailored_cv.services.cv_tailoring_service - INFO - - First 200 chars: {   "contact": {     "name": "Maheshwor Tiwari",     "phone": "0414 032 507",     "email": "maheshtwari99@gmail.com",     "linkedin": "",     "location": "Hurstville, NSW, 2220",     "website": ""   }
2025-10-09 15:48:17,931 - app.tailored_cv.services.recommendation_parser - INFO - 📂 Loading CV from: user/simran@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_154549.json
2025-10-09 15:48:17,931 - app.tailored_cv.services.recommendation_parser - INFO - 📋 CV format check:
2025-10-09 15:48:17,931 - app.tailored_cv.services.recommendation_parser - INFO -   - Top-level keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 15:48:17,932 - app.tailored_cv.services.recommendation_parser - INFO -   - Has metadata: False
2025-10-09 15:48:17,932 - app.tailored_cv.services.recommendation_parser - INFO - 🔍 [CV_PARSER] Detailed CV structure analysis:
2025-10-09 15:48:17,932 - app.tailored_cv.services.recommendation_parser - INFO -   - Has contact: True
2025-10-09 15:48:17,932 - app.tailored_cv.services.recommendation_parser - INFO -   - Contact keys: ['name', 'phone', 'email', 'linkedin', 'location', 'website']
2025-10-09 15:48:17,932 - app.tailored_cv.services.recommendation_parser - INFO -   - Contact name: Maheshwor Tiwari
2025-10-09 15:48:17,932 - app.tailored_cv.services.recommendation_parser - INFO -   - Contact email: maheshtwari99@gmail.com
2025-10-09 15:48:17,932 - app.tailored_cv.services.recommendation_parser - INFO -   - Has experience: True
2025-10-09 15:48:17,932 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience type: <class 'list'>
2025-10-09 15:48:17,932 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience count: 6
2025-10-09 15:48:17,933 - app.tailored_cv.services.recommendation_parser - INFO -   - First experience keys: ['company', 'title', 'location', 'start_date', 'end_date', 'duration', 'bullets', 'skills_used']
2025-10-09 15:48:17,933 - app.tailored_cv.services.recommendation_parser - INFO -   - Has skills: True
2025-10-09 15:48:17,933 - app.tailored_cv.services.recommendation_parser - INFO -   - Skills type: <class 'list'>
2025-10-09 15:48:17,933 - app.tailored_cv.services.recommendation_parser - INFO -   - Skills count: 2
2025-10-09 15:48:17,933 - app.tailored_cv.services.recommendation_parser - INFO -   - First skill type: <class 'dict'>
2025-10-09 15:48:17,933 - app.tailored_cv.services.recommendation_parser - INFO -   - First skill keys: ['category', 'skills']
2025-10-09 15:48:17,933 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Detected tailored structured CV format (contact/experience/skills)
2025-10-09 15:48:17,933 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Successfully normalized tailored structured CV
2025-10-09 15:48:17,934 - app.tailored_cv.services.cv_tailoring_service - INFO - - Parsed CV data keys: ['contact', 'education', 'experience', 'skills']
2025-10-09 15:48:17,934 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Skills already in SkillCategory format
2025-10-09 15:48:17,934 - app.tailored_cv.services.cv_tailoring_service - INFO - - Final CV object attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__repr__', '__repr_args__', '__repr_name__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_check_frozen', '_copy_and_set_values', '_get_value', '_iter', 'construct', 'contact', 'copy', 'created_at', 'dict', 'education', 'experience', 'experience_level', 'from_orm', 'json', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'projects', 'schema', 'schema_json', 'skills', 'total_years_experience', 'update_forward_refs', 'updated_at', 'validate']
2025-10-09 15:48:17,940 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Parsed recommendation for Australia_for_UNHCR
2025-10-09 15:48:17,941 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded real CV and recommendation for Australia_for_UNHCR
2025-10-09 15:48:17,941 - app.tailored_cv.services.cv_tailoring_service - INFO - 🎯 Starting CV tailoring for Australia_for_UNHCR - Senior Data Analyst
2025-10-09 15:48:17,942 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [DEBUG] Validating CV structure:
2025-10-09 15:48:17,942 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV object type: <class 'app.tailored_cv.models.cv_models.OriginalCV'>
2025-10-09 15:48:17,942 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__repr__', '__repr_args__', '__repr_name__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_check_frozen', '_copy_and_set_values', '_get_value', '_iter', 'construct', 'contact', 'copy', 'created_at', 'dict', 'education', 'experience', 'experience_level', 'from_orm', 'json', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'projects', 'schema', 'schema_json', 'skills', 'total_years_experience', 'update_forward_refs', 'updated_at', 'validate']
2025-10-09 15:48:17,943 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV data: {
  "contact": {
    "name": "Maheshwor Tiwari",
    "phone": "0414 032 507",
    "email": "maheshtwari99@gmail.com",
    "linkedin": "",
    "location": "Hurstville, NSW, 2220",
    "website": ""
  },
  "education": [
    {
      "institution": "Charles Darwin University, Sydney, Australia",
      "degree": "Master of Data Science",
      "location": "Sydney, Australia",
      "graduation_date": "Mar 2023 - Nov 2024",
      "gpa": "GPA",
      "relevant_coursework": null,
      "honors": null
    },
    {
      "institution": "CY Cergy Paris University, Cergy, France",
      "degree": "PhD in Physics",
      "location": "Cergy, France",
      "graduation_date": "Oct 2018 - Sep 2022",
      "gpa": "",
      "relevant_coursework": null,
      "honors": null
    },
    {
      "institution": "CY Cergy Paris University, Cergy, France",
      "degree": "Master of Theoretical Physics",
      "location": "Cergy, France",
      "graduation_date": "Sep 2016 - Jun 2018",
      "gpa": "",
      "relevant_coursework": null,
      "honors": null
    }
  ],
  "experience": [
    {
      "company": "The Bitrates",
      "title": "Data Analyst",
      "location": "",
      "start_date": "Jul 2024",
      "end_date": "Present",
      "duration": null,
      "bullets": [
        "Designed and implemented Python scripts for data cleaning, preprocessing, and analysis, improving data pipeline efficiency by 30%.",
        "Developed 5 machine learning models in Python for predictive analytics, enabling data-driven business decisions.",
        "Leveraged AI techniques to automate repetitive tasks, reducing manual effort and improving productivity by 25%.",
        "Built 7 dynamic dashboards and visualizations using Python libraries like Matplotlib and Seaborn to communicate insights effectively.",
        "Integrated Google Analytics data with Python for advanced analysis, enhancing customer behavior insights."
      ],
      "skills_used": null
    },
    {
      "company": "iBuild Building Solutions",
      "title": "Data Analyst",
      "location": "",
      "start_date": "Mar 2024",
      "end_date": "Jun 2024",
      "duration": null,
      "bullets": [
        "Automated data extraction and structuring of population datasets using Python, improving data accuracy by 20% and team collaboration.",
        "Analyzed customer support data with Python to optimize response times and enhance operational efficiency.",
        "Developed 3 Python-based solutions to generate actionable insights, meeting strict deadlines for strategic decision-making.",
        "Designed 5 Python scripts to create dynamic reports and dashboards, significantly improving customer satisfaction and decision-making processes."
      ],
      "skills_used": null
    },
    {
      "company": "Property Console",
      "title": "Software engineer and Analyst",
      "location": "",
      "start_date": "Jun 2023",
      "end_date": "Nov 2023",
      "duration": null,
      "bullets": [
        "Built 4 Python scripts to track key metrics, ensuring 99% data accuracy and improving data integrity and operational efficiency.",
        "Collaborated with the development team to enhance analytics capabilities, using Python to improve data processing speed by 20%.",
        "Leveraged Python for data preprocessing and analysis, producing 3 Tableau dashboards that improved decision-making.",
        "Supported 2 cross-functional teams with Python-driven insights, enabling customer-focused initiatives."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Research Assistant",
      "location": "",
      "start_date": "Oct 2018",
      "end_date": "Sep 2022",
      "duration": null,
      "bullets": [
        "Utilized advanced Python programming for computational modeling and solving complex research problems.",
        "Developed Python-based workflows to manage and analyze large datasets across multiple research projects.",
        "Presented Python-enabled research findings at international conferences, demonstrating technical expertise and communication skills."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Lecturer and Course Facilitator",
      "location": "",
      "start_date": "Sep 2019",
      "end_date": "Jun 2022",
      "duration": null,
      "bullets": [
        "Led engaging physics tutorials for master\u2019s students, enhancing understanding and promoting teamwork.",
        "Designed course materials, assignments, and exams, strengthening the learning experience.",
        "Mentored students on projects, collaborated with faculty, and fostered student engagement."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Research Intern",
      "location": "",
      "start_date": "Feb 2018",
      "end_date": "Jun 2018",
      "duration": null,
      "bullets": [
        "Developed proficiency in Python programming by researching the effect of magnetic fields on 2D materials.",
        "Managed and analyzed complex data sets, improving their accuracy and reliability.",
        "Used dashboard using Power BI to present research findings and participated in weekly reviews, improving collaboration and research skills."
      ],
      "skills_used": null
    }
  ],
  "projects": null,
  "skills": [
    {
      "category": "Technical Skills",
      "skills": [
        "Excel",
        "Power BI",
        "Python",
        "SQL"
      ]
    },
    {
      "category": "Other Skills",
      "skills": [
        "Data Analysis",
        "Business Intelligence"
      ]
    }
  ],
  "experience_level": null,
  "total_years_experience": null,
  "created_at": null,
  "updated_at": null
}
2025-10-09 15:48:17,944 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [CV_VALIDATION] Starting detailed validation:
2025-10-09 15:48:17,944 - app.tailored_cv.services.cv_tailoring_service - INFO - - Has contact: True
2025-10-09 15:48:17,945 - app.tailored_cv.services.cv_tailoring_service - INFO - - Contact name: Maheshwor Tiwari
2025-10-09 15:48:17,945 - app.tailored_cv.services.cv_tailoring_service - INFO - - Contact email: maheshtwari99@gmail.com
2025-10-09 15:48:17,945 - app.tailored_cv.services.cv_tailoring_service - INFO - - Has experience: True
2025-10-09 15:48:17,945 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience count: 6
2025-10-09 15:48:17,945 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 1: company=The Bitrates, bullets=5
2025-10-09 15:48:17,945 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 2: company=iBuild Building Solutions, bullets=4
2025-10-09 15:48:17,946 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 3: company=Property Console, bullets=4
2025-10-09 15:48:17,946 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 4: company=CY Cergy Paris University, bullets=3
2025-10-09 15:48:17,946 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 5: company=CY Cergy Paris University, bullets=3
2025-10-09 15:48:17,947 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 6: company=CY Cergy Paris University, bullets=3
2025-10-09 15:48:17,947 - app.tailored_cv.services.cv_tailoring_service - INFO - - Has skills: True
2025-10-09 15:48:17,947 - app.tailored_cv.services.cv_tailoring_service - INFO - - Skills count: 2
2025-10-09 15:48:17,947 - app.tailored_cv.services.cv_tailoring_service - INFO - - Skill category 1: Technical Skills, skills=4
2025-10-09 15:48:17,947 - app.tailored_cv.services.cv_tailoring_service - INFO - - Skill category 2: Other Skills, skills=2
2025-10-09 15:48:17,948 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [CV_VALIDATION] Checking required fields:
2025-10-09 15:48:17,948 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Contact name present: Maheshwor Tiwari
2025-10-09 15:48:17,948 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Contact email present: maheshtwari99@gmail.com
2025-10-09 15:48:17,948 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Experience entries present: 6
2025-10-09 15:48:17,948 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Skills section present: 2 categories
2025-10-09 15:48:17,949 - app.tailored_cv.services.cv_tailoring_service - INFO - [0a2a0eb4] 🎯 Starting CV tailoring for Australia_for_UNHCR with strategy: education_last
2025-10-09 15:48:17,949 - app.tailored_cv.services.cv_tailoring_service - INFO - [0a2a0eb4] Initial stats:
2025-10-09 15:48:17,949 - app.tailored_cv.services.cv_tailoring_service - INFO - [0a2a0eb4] - Experience entries: 6
2025-10-09 15:48:17,949 - app.tailored_cv.services.cv_tailoring_service - INFO - [0a2a0eb4] - Total bullets: 22
2025-10-09 15:48:17,949 - app.tailored_cv.services.cv_tailoring_service - INFO - [0a2a0eb4] - Skills categories: 2
2025-10-09 15:48:17,950 - app.tailored_cv.services.cv_tailoring_service - INFO - [0a2a0eb4] - Total skills: 6
2025-10-09 15:48:17,950 - app.tailored_cv.services.cv_tailoring_service - INFO - [0a2a0eb4] Critical gaps to address: Business Intelligence, Analytical Models, Analytical
2025-10-09 15:48:17,950 - app.tailored_cv.services.cv_tailoring_service - INFO - [0a2a0eb4] Technical enhancements needed: 
2025-10-09 15:48:17,950 - app.tailored_cv.services.cv_tailoring_service - INFO - [0a2a0eb4] 🤖 Generating tailored CV using AI service...
2025-10-09 15:48:17,950 - app.tailored_cv.services.cv_tailoring_service - INFO - [0a2a0eb4] Attempt 1/5 with temp=0.0
2025-10-09 15:48:17,950 - app.tailored_cv.services.cv_tailoring_service - INFO - [0a2a0eb4] - System prompt length: 10574
2025-10-09 15:48:17,951 - app.tailored_cv.services.cv_tailoring_service - INFO - [0a2a0eb4] - User prompt length: 11845
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=tailored, ts=20251009_154549, mtime=1759985149.5503595, json=user/simran@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_154549.json
  - type=original, ts=00000000_000000, mtime=1759984358.0670488, json=user/simran@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=tailored, ts=20251009_154549, json=user/simran@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_154549.json, txt=user/simran@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_154549.txt
2025-10-09 15:48:17,968 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:48:17,968 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:48:17,970 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 15:48:17,970 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 15:48:17,970 INFO sqlalchemy.engine.Engine [generated in 0.00032s] {'email_1': 'simran@gmail.com', 'param_1': 1}
2025-10-09 15:48:17,970 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] {'email_1': 'simran@gmail.com', 'param_1': 1}
2025-10-09 15:48:18,009 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:48:18,009 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:48:18,025 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user simran@gmail.com
2025-10-09 15:48:18,026 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Before initialization:
2025-10-09 15:48:18,026 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 15:48:18,026 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:48:18,026 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:48:18,026 - app.ai.ai_service - INFO - - Cached providers for user: ['openai']
2025-10-09 15:48:18,027 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Using cached providers for user simran@gmail.com
2025-10-09 15:48:18,027 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] After initialization:
2025-10-09 15:48:18,027 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 15:48:18,027 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:48:18,027 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:48:18,027 - app.tailored_cv.services.cv_tailoring_service - INFO - [0a2a0eb4] 🔄 Initialized AI service for user simran@gmail.com
2025-10-09 15:48:18,027 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:48:18,027 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 15:48:18,028 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 15:48:18,028 - app.ai.ai_service - INFO - - Prompt length: 11845
2025-10-09 15:48:18,028 - app.ai.ai_service - INFO - - System prompt length: 10574
2025-10-09 15:48:18,028 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 15:48:18,028 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 15:48:18,028 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 15:48:18,028 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:48:18,029 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:48:18,029 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:48:18,029 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:48:18,029 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:48:18,567 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:48:18,712 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:48:18,713 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:48:18,713 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:48:18,713 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 15:48:35,239 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 15:48:35,243 - app.tailored_cv.services.cv_tailoring_service - INFO - [0a2a0eb4] AI response stats:
2025-10-09 15:48:35,243 - app.tailored_cv.services.cv_tailoring_service - INFO - [0a2a0eb4] - Content length: 5640
2025-10-09 15:48:35,243 - app.tailored_cv.services.cv_tailoring_service - INFO - [0a2a0eb4] - First 300 chars: {   "contact": {     "name": "Maheshwor Tiwari",     "phone": "0414 032 507",     "email": "maheshtwari99@gmail.com",     "location": "Hurstville, NSW, 2220",     "linkedin": ""   },   "education": [     {       "institution": "Charles Darwin University, Sydney, Australia",       "degree": "Master o...
2025-10-09 15:48:35,243 - app.tailored_cv.services.cv_tailoring_service - INFO - Starting JSON extraction from content length: 5640
2025-10-09 15:48:35,244 - app.tailored_cv.services.cv_tailoring_service - INFO - [0a2a0eb4] 🔍 Starting JSON validation
2025-10-09 15:48:35,244 - app.tailored_cv.services.cv_tailoring_service - INFO - [0a2a0eb4] CV created with excellent quality: 77.3% quantification
2025-10-09 15:48:35,244 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ JSON structure and Impact Formula validation passed (17/22 bullets with quantification)
2025-10-09 15:48:35,245 - app.tailored_cv.services.cv_tailoring_service - INFO - ℹ️ Skipping placeholder checks; proceeding with generated data as-is.
2025-10-09 15:48:35,245 - app.tailored_cv.services.cv_tailoring_service - INFO - [0a2a0eb4] 🔍 Starting keyword integration validation
2025-10-09 15:48:35,245 - app.tailored_cv.services.cv_tailoring_service - INFO - [0a2a0eb4] Scanning experience bullets:
2025-10-09 15:48:35,245 - app.tailored_cv.services.cv_tailoring_service - INFO - [0a2a0eb4] - Experience 1: 5 bullets
2025-10-09 15:48:35,245 - app.tailored_cv.services.cv_tailoring_service - INFO - [0a2a0eb4] - Experience 2: 4 bullets
2025-10-09 15:48:35,246 - app.tailored_cv.services.cv_tailoring_service - INFO - [0a2a0eb4] - Experience 3: 4 bullets
2025-10-09 15:48:35,246 - app.tailored_cv.services.cv_tailoring_service - INFO - [0a2a0eb4] - Experience 4: 3 bullets
2025-10-09 15:48:35,246 - app.tailored_cv.services.cv_tailoring_service - INFO - [0a2a0eb4] - Experience 5: 3 bullets
2025-10-09 15:48:35,246 - app.tailored_cv.services.cv_tailoring_service - INFO - [0a2a0eb4] - Experience 6: 3 bullets
2025-10-09 15:48:35,246 - app.tailored_cv.services.cv_tailoring_service - INFO - [0a2a0eb4] Scanning skills:
2025-10-09 15:48:35,247 - app.tailored_cv.services.cv_tailoring_service - INFO - [0a2a0eb4] - Category 1: 6 skills
2025-10-09 15:48:35,247 - app.tailored_cv.services.cv_tailoring_service - INFO - [0a2a0eb4] - Category 2: 3 skills
2025-10-09 15:48:35,247 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Keyword integration validation passed - 3/3 critical keywords found
2025-10-09 15:48:35,247 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Keyword integration validation passed - 3 critical keywords found
2025-10-09 15:48:35,247 - app.tailored_cv.services.cv_tailoring_service - INFO - [0a2a0eb4] ✅ AI generation successful on attempt 1
2025-10-09 15:48:35,369 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:48:35,369 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:48:35,370 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 15:48:35,370 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 15:48:35,371 INFO sqlalchemy.engine.Engine [cached since 17.4s ago] {'email_1': 'simran@gmail.com', 'param_1': 1}
2025-10-09 15:48:35,371 - sqlalchemy.engine.Engine - INFO - [cached since 17.4s ago] {'email_1': 'simran@gmail.com', 'param_1': 1}
2025-10-09 15:48:35,431 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:48:35,431 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:48:35,447 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 15:48:35,448 - app.ai.ai_service - INFO - - User: simran@gmail.com
2025-10-09 15:48:35,448 - app.ai.ai_service - INFO - - Prompt length: 3022
2025-10-09 15:48:35,448 - app.ai.ai_service - INFO - - System prompt length: 424
2025-10-09 15:48:35,448 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 15:48:35,448 - app.ai.ai_service - INFO - - Max tokens: 10
2025-10-09 15:48:35,448 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 15:48:35,448 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:48:35,448 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:48:35,449 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:48:35,449 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 15:48:35,449 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 15:48:35,846 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 15:48:35,858 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 15:48:35,859 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 15:48:35,859 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 15:48:35,859 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 15:48:36,316 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 15:48:36,317 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ CV tailoring completed successfully. Estimated ATS score: 85
2025-10-09 15:48:36,320 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Saved tailored CV to user/simran@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_154836.json
2025-10-09 15:48:36,320 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Saved tailored CV text to user/simran@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_154836.txt
2025-10-09 15:48:36,321 - app.services.ai_recommendation_generator - INFO - ✅ [AI GENERATOR] Tailored CV saved automatically to user/simran@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_154836.json
2025-10-09 15:48:36,321 - app.services.ai_recommendation_generator - INFO - 📊 [AI GENERATOR] Estimated ATS score: 85
2025-10-09 15:48:36,321 - app.services.ai_recommendation_generator - INFO - 🎯 [AI GENERATOR] CV tailoring completed automatically for Australia_for_UNHCR
2025-10-09 15:48:36,322 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] AI recommendation generated for Australia_for_UNHCR
2025-10-09 15:48:36,322 - app.routes.skills_analysis - INFO - 🎯 [PIPELINE] Starting tailored CV generation for Australia_for_UNHCR
2025-10-09 15:48:36,322 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:48:36,324 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded CV optimization framework from /Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/tailored_cv/prompts/framework.md
2025-10-09 15:48:36,324 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:48:36,325 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Found AI recommendation file: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_154817.json
2025-10-09 15:48:36,326 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Tailored CV found: user/simran@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_154836.txt
2025-10-09 15:48:36,326 - app.routes.skills_analysis - INFO - 📋 [PIPELINE] Pipeline summary for Australia_for_UNHCR:
2025-10-09 15:48:36,326 - app.routes.skills_analysis - INFO -    ✅ Successful: ['jd_analysis', 'cv_jd_matching', 'component_analysis', 'input_recommendation', 'ai_recommendation', 'tailored_cv']
2025-10-09 15:48:36,326 - app.routes.skills_analysis - INFO -    🎉 All steps completed successfully!
2025-10-09 15:48:36,327 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-09 15:48:36,328 - app.services.ai_recommendation_generator - INFO - 🟢 [AI GENERATOR] Latest AI recommendation (Australia_for_UNHCR_ai_recommendation_20251009_154817.json) is up-to-date vs input (Australia_for_UNHCR_input_recommendation_20251009_154811.json); skipping regeneration
2025-10-09 15:48:36,328 - app.services.ats_recommendation_service - INFO - ✅ [TRIGGER] AI recommendation generated successfully for Australia_for_UNHCR
2025-10-09 15:48:36,328 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-09 15:48:36,330 - app.services.ai_recommendation_generator - INFO - 🟢 [AI GENERATOR] Latest AI recommendation (Australia_for_UNHCR_ai_recommendation_20251009_154817.json) is up-to-date vs input (Australia_for_UNHCR_input_recommendation_20251009_154811.json); skipping regeneration
2025-10-09 15:48:36,330 - app.services.ats_recommendation_service - INFO - ✅ [TRIGGER] AI recommendation generated successfully for Australia_for_UNHCR
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 15:48:36,432 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [7406]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [7817]
INFO:     Waiting for application startup.
2025-10-09 15:48:41,863 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 15:48:42,174 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 15:48:42,174 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 15:48:42,175 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:48:42,175 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:48:42,210 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 15:48:42,210 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 15:48:42,211 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:48:42,211 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:48:42,250 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 15:48:42,250 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 15:48:42,250 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 15:48:42,250 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 15:48:42,290 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:48:42,290 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:48:42,290 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 15:48:42,290 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 15:48:42,290 INFO sqlalchemy.engine.Engine [generated in 0.00059s] {}
2025-10-09 15:48:42,290 - sqlalchemy.engine.Engine - INFO - [generated in 0.00059s] {}
2025-10-09 15:48:42,323 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:48:42,323 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:48:42,341 - app.database - INFO - Database connection successful
2025-10-09 15:48:42,341 - app.main - INFO - ✅ Database connection successful
2025-10-09 15:48:42,358 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:48:42,358 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:48:42,363 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:48:42,363 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:48:42,364 INFO sqlalchemy.engine.Engine [generated in 0.00041s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:48:42,364 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:48:42,399 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:48:42,399 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:48:42,399 INFO sqlalchemy.engine.Engine [cached since 0.03607s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:48:42,399 - sqlalchemy.engine.Engine - INFO - [cached since 0.03607s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:48:42,423 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:48:42,423 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:48:42,423 INFO sqlalchemy.engine.Engine [cached since 0.06008s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:48:42,423 - sqlalchemy.engine.Engine - INFO - [cached since 0.06008s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:48:42,447 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:48:42,447 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:48:42,448 INFO sqlalchemy.engine.Engine [cached since 0.08463s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:48:42,448 - sqlalchemy.engine.Engine - INFO - [cached since 0.08463s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:48:42,472 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:48:42,472 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:48:42,473 INFO sqlalchemy.engine.Engine [cached since 0.1097s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:48:42,473 - sqlalchemy.engine.Engine - INFO - [cached since 0.1097s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:48:42,495 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:48:42,495 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:48:42,495 INFO sqlalchemy.engine.Engine [cached since 0.1319s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:48:42,495 - sqlalchemy.engine.Engine - INFO - [cached since 0.1319s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:48:42,513 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:48:42,513 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:48:42,513 INFO sqlalchemy.engine.Engine [cached since 0.1502s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:48:42,513 - sqlalchemy.engine.Engine - INFO - [cached since 0.1502s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:48:42,532 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:48:42,532 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:48:42,533 INFO sqlalchemy.engine.Engine [cached since 0.1694s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:48:42,533 - sqlalchemy.engine.Engine - INFO - [cached since 0.1694s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:48:42,554 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:48:42,554 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:48:42,554 INFO sqlalchemy.engine.Engine [cached since 0.191s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:48:42,554 - sqlalchemy.engine.Engine - INFO - [cached since 0.191s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:48:42,577 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:48:42,577 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:48:42,577 INFO sqlalchemy.engine.Engine [cached since 0.2141s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:48:42,577 - sqlalchemy.engine.Engine - INFO - [cached since 0.2141s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:48:42,599 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:48:42,599 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 15:48:42,599 INFO sqlalchemy.engine.Engine [cached since 0.2363s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:48:42,599 - sqlalchemy.engine.Engine - INFO - [cached since 0.2363s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 15:48:42,623 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 15:48:42,623 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 15:48:42,640 - app.database - INFO - Database tables created successfully
2025-10-09 15:48:42,640 - app.main - INFO - ✅ Database tables ready
2025-10-09 15:48:42,640 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 15:48:42,640 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
INFO:     127.0.0.1:50978 - "OPTIONS /api/analysis-results/Australia_for_UNHCR HTTP/1.1" 200 OK
2025-10-09 15:48:42,651 - app.routes.skills_analysis - INFO - 📊 [API] Fetching analysis results for company: Australia_for_UNHCR
2025-10-09 15:48:42,651 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:48:42,652 - app.utils.path_debug - INFO - 
📌 Starting get_analysis_results
2025-10-09 15:48:42,652 - app.utils.path_debug - INFO -   📂 User base dir: user/simran@gmail.com/cv-analysis
2025-10-09 15:48:42,652 - app.utils.path_debug - INFO -   📂 Company dir: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 15:48:42,655 - app.utils.path_debug - INFO -   📂 Using analysis file: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_154728.json
2025-10-09 15:48:42,656 - app.utils.path_debug - INFO -   ✅ Loaded analysis file, size: 34249 bytes
INFO:     127.0.0.1:50978 - "GET /api/analysis-results/Australia_for_UNHCR HTTP/1.1" 200 OK
2025-10-09 15:48:56,390 - app.routes.skills_analysis - INFO - 📊 [API] Fetching analysis results for company: Australia_for_UNHCR
2025-10-09 15:48:56,392 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:48:56,393 - app.utils.path_debug - INFO - 
📌 Starting get_analysis_results
2025-10-09 15:48:56,393 - app.utils.path_debug - INFO -   📂 User base dir: user/simran@gmail.com/cv-analysis
2025-10-09 15:48:56,393 - app.utils.path_debug - INFO -   📂 Company dir: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 15:48:56,394 - app.utils.path_debug - INFO -   📂 Using analysis file: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_154728.json
2025-10-09 15:48:56,397 - app.utils.path_debug - INFO -   ✅ Loaded analysis file, size: 34249 bytes
INFO:     127.0.0.1:50985 - "GET /api/analysis-results/Australia_for_UNHCR HTTP/1.1" 200 OK
INFO:     127.0.0.1:51011 - "OPTIONS /api/ai-recommendations/company/Australia_for_UNHCR HTTP/1.1" 200 OK
2025-10-09 15:49:18,974 - app.routes.ai_recommendations - INFO - 🔍 [AI_RECOMMENDATIONS] Fetching for company: Australia_for_UNHCR, user: simran@gmail.com
2025-10-09 15:49:18,974 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:49:18,975 - app.routes.ai_recommendations - INFO - 🔍 [AI_RECOMMENDATIONS] Searching in: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 15:49:18,975 - app.routes.ai_recommendations - INFO - ✅ [AI_RECOMMENDATIONS] Found file: user/simran@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_154817.json
2025-10-09 15:49:18,976 - app.routes.ai_recommendations - INFO - ✅ [AI_RECOMMENDATIONS] Successfully loaded recommendation, content length: 3421
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
INFO:     127.0.0.1:51011 - "GET /api/ai-recommendations/company/Australia_for_UNHCR HTTP/1.1" 200 OK
INFO:     127.0.0.1:51330 - "OPTIONS /api/tailored-cv/available-companies-real HTTP/1.1" 200 OK
2025-10-09 15:56:32,982 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
INFO:     127.0.0.1:51330 - "GET /api/tailored-cv/available-companies-real HTTP/1.1" 200 OK
2025-10-09 15:56:33,041 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 📄 Tailored CV content request for Australia_for_UNHCR from user 93d2b2fe-c1a7-4dd5-8006-199a4fe3e860
2025-10-09 15:56:33,042 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:56:33,043 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/simran@gmail.com/cv-analysis for simran@gmail.com
2025-10-09 15:56:33,043 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/simran@gmail.com/cv-analysis
2025-10-09 15:56:33,045 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ Served TAILORED CV content: Australia_for_UNHCR_tailored_cv_20251009_154836.txt from tailored folder (3563 characters)
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: simran@gmail.com
🔍 Searching for tailored CV ONLY for company: Australia_for_UNHCR
📁 Found 2 tailored CV candidates
✅ Selected tailored CV: tailored - user/simran@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_154836.json
INFO:     127.0.0.1:51330 - "GET /api/tailored-cv/content/Australia_for_UNHCR HTTP/1.1" 200 OK
INFO:     127.0.0.1:51431 - "OPTIONS /api/auth/register HTTP/1.1" 200 OK
2025-10-09 15:58:01,909 - app.routes.auth - INFO - 🔵 [REGISTER] Starting registration process
2025-10-09 15:58:01,912 - app.routes.auth - INFO - 🔵 [REGISTER] Raw payload: email='keosha@gmail.com' password='keosha' name='keosha'
2025-10-09 15:58:01,913 - app.routes.auth - INFO - 🔵 [REGISTER] Email: 'keosha@gmail.com', Name: 'keosha', Password length: 6
2025-10-09 15:58:01,913 - app.routes.auth - INFO - 🔵 [REGISTER] Normalized email: 'keosha@gmail.com'
2025-10-09 15:58:01,913 - app.routes.auth - INFO - 🔵 [REGISTER] Password validation - length: 6
2025-10-09 15:58:01,913 - app.routes.auth - INFO - 🔵 [REGISTER] Checking if user exists: 'keosha@gmail.com'
2025-10-09 15:58:01,997 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:58:01,997 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:58:02,023 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 15:58:02,023 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 15:58:02,023 INFO sqlalchemy.engine.Engine [generated in 0.00127s] {'email_1': 'keosha@gmail.com', 'param_1': 1}
2025-10-09 15:58:02,023 - sqlalchemy.engine.Engine - INFO - [generated in 0.00127s] {'email_1': 'keosha@gmail.com', 'param_1': 1}
2025-10-09 15:58:02,081 - app.routes.auth - INFO - 🔵 [REGISTER] User does not exist, proceeding with creation
2025-10-09 15:58:02,081 - app.routes.auth - INFO - 🔵 [REGISTER] Base username: 'keosha'
2025-10-09 15:58:02,084 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-10-09 15:58:02,084 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-10-09 15:58:02,084 INFO sqlalchemy.engine.Engine [generated in 0.00067s] {'username_1': 'keosha', 'param_1': 1}
2025-10-09 15:58:02,084 - sqlalchemy.engine.Engine - INFO - [generated in 0.00067s] {'username_1': 'keosha', 'param_1': 1}
2025-10-09 15:58:02,103 - app.routes.auth - INFO - 🔵 [REGISTER] Final username: 'keosha'
2025-10-09 15:58:02,103 - app.routes.auth - INFO - 🔵 [REGISTER] Creating user object
2025-10-09 15:58:02,341 - app.routes.auth - INFO - 🔵 [REGISTER] Setting password
2025-10-09 15:58:02,777 - app.routes.auth - INFO - 🔵 [REGISTER] Adding user to database
2025-10-09 15:58:02,778 - app.routes.auth - INFO - 🔵 [REGISTER] Committing to database
2025-10-09 15:58:02,785 INFO sqlalchemy.engine.Engine INSERT INTO users (username, email, full_name, hashed_password, is_active, is_verified, created_at, updated_at, last_login) VALUES (%(username)s, %(email)s, %(full_name)s, %(hashed_password)s, %(is_active)s, %(is_verified)s, %(created_at)s, now(), %(last_login)s) RETURNING users.id, users.updated_at
2025-10-09 15:58:02,785 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (username, email, full_name, hashed_password, is_active, is_verified, created_at, updated_at, last_login) VALUES (%(username)s, %(email)s, %(full_name)s, %(hashed_password)s, %(is_active)s, %(is_verified)s, %(created_at)s, now(), %(last_login)s) RETURNING users.id, users.updated_at
2025-10-09 15:58:02,785 INFO sqlalchemy.engine.Engine [generated in 0.00048s] {'username': 'keosha', 'email': 'keosha@gmail.com', 'full_name': 'keosha', 'hashed_password': '$2b$12$hhXBmWEJuiC3oNOlwi1aZuIFRyidaCnhlpbU0CLSGOBYxJzARtgWS', 'is_active': True, 'is_verified': False, 'created_at': datetime.datetime(2025, 10, 9, 4, 58, 2, 103997), 'last_login': None}
2025-10-09 15:58:02,785 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] {'username': 'keosha', 'email': 'keosha@gmail.com', 'full_name': 'keosha', 'hashed_password': '$2b$12$hhXBmWEJuiC3oNOlwi1aZuIFRyidaCnhlpbU0CLSGOBYxJzARtgWS', 'is_active': True, 'is_verified': False, 'created_at': datetime.datetime(2025, 10, 9, 4, 58, 2, 103997), 'last_login': None}
2025-10-09 15:58:02,814 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 15:58:02,814 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 15:58:02,830 - app.routes.auth - INFO - 🔵 [REGISTER] Refreshing user object
2025-10-09 15:58:02,847 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:58:02,847 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:58:02,849 INFO sqlalchemy.engine.Engine SELECT users.id, users.username, users.email, users.full_name, users.hashed_password, users.is_active, users.is_verified, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.id = %(pk_1)s
2025-10-09 15:58:02,849 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.full_name, users.hashed_password, users.is_active, users.is_verified, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.id = %(pk_1)s
2025-10-09 15:58:02,850 INFO sqlalchemy.engine.Engine [generated in 0.00045s] {'pk_1': UUID('0d4bdc07-cadf-4300-8e4f-f07da7575a62')}
2025-10-09 15:58:02,850 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] {'pk_1': UUID('0d4bdc07-cadf-4300-8e4f-f07da7575a62')}
2025-10-09 15:58:02,885 - app.routes.auth - INFO - 🔵 [REGISTER] User created successfully with ID: 0d4bdc07-cadf-4300-8e4f-f07da7575a62
2025-10-09 15:58:02,886 - app.routes.auth - INFO - 🔵 [REGISTER] Creating user directories for: keosha@gmail.com
2025-10-09 15:58:02,888 - app.utils.user_path_utils - INFO - ✅ Created user base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 15:58:02,889 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 15:58:02,889 - app.routes.auth - INFO - 🔵 [REGISTER] User directories created successfully
2025-10-09 15:58:02,889 - app.routes.auth - INFO - 🔵 [REGISTER] Preparing success response
2025-10-09 15:58:02,890 - app.routes.auth - INFO - ✅ [REGISTER] User registered successfully: keosha@gmail.com (ID: 0d4bdc07-cadf-4300-8e4f-f07da7575a62)
INFO:     127.0.0.1:51431 - "POST /api/auth/register HTTP/1.1" 200 OK
2025-10-09 15:58:02,892 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:58:02,892 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     127.0.0.1:51431 - "OPTIONS /api/auth/login HTTP/1.1" 200 OK
2025-10-09 15:58:05,849 - app.routes.auth - INFO - 🔵 [LOGIN] Starting login process
2025-10-09 15:58:05,850 - app.routes.auth - INFO - 🔵 [LOGIN] Raw credentials: email='keosha@gmail.com' password='keosha'
2025-10-09 15:58:05,850 - app.routes.auth - INFO - 🔵 [LOGIN] Email: 'keosha@gmail.com', Password length: 6
2025-10-09 15:58:05,850 - app.routes.auth - INFO - 🔵 [LOGIN] Attempting authentication
2025-10-09 15:58:05,850 - app.core.auth - INFO - 🔵 [AUTH] Starting authentication for email: 'keosha@gmail.com'
2025-10-09 15:58:05,850 - app.core.auth - INFO - 🔵 [AUTH] Normalized inputs - email: 'keosha@gmail.com', password length: 6
2025-10-09 15:58:05,851 - app.core.auth - INFO - 🔵 [AUTH] Using provided database session
2025-10-09 15:58:05,851 - app.core.auth - INFO - 🔵 [AUTH] Querying database for user: 'keosha@gmail.com'
2025-10-09 15:58:05,867 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:58:05,867 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:58:05,868 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 15:58:05,868 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 15:58:05,868 INFO sqlalchemy.engine.Engine [cached since 3.846s ago] {'email_1': 'keosha@gmail.com', 'param_1': 1}
2025-10-09 15:58:05,868 - sqlalchemy.engine.Engine - INFO - [cached since 3.846s ago] {'email_1': 'keosha@gmail.com', 'param_1': 1}
2025-10-09 15:58:05,909 - app.core.auth - INFO - 🔵 [AUTH] User found: keosha@gmail.com (ID: 0d4bdc07-cadf-4300-8e4f-f07da7575a62, Active: True)
2025-10-09 15:58:05,909 - app.core.auth - INFO - 🔵 [AUTH] Verifying password
2025-10-09 15:58:06,375 - app.core.auth - INFO - 🔵 [AUTH] Password verification successful for user: 'keosha@gmail.com'
2025-10-09 15:58:06,376 - app.core.auth - INFO - ✅ [AUTH] Authentication successful
2025-10-09 15:58:06,376 - app.routes.auth - INFO - 🔵 [LOGIN] Authentication successful for user: keosha@gmail.com (ID: 0d4bdc07-cadf-4300-8e4f-f07da7575a62)
2025-10-09 15:58:06,377 - app.routes.auth - INFO - 🔵 [LOGIN] Ensuring user directories exist for: keosha@gmail.com
2025-10-09 15:58:06,377 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 15:58:06,377 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 15:58:06,378 - app.routes.auth - INFO - 🔵 [LOGIN] User directories verified/created successfully
2025-10-09 15:58:06,378 - app.routes.auth - INFO - 🔵 [LOGIN] Creating JWT tokens
2025-10-09 15:58:06,379 - app.routes.auth - INFO - 🔵 [LOGIN] Tokens created successfully
2025-10-09 15:58:06,380 - app.routes.auth - INFO - ✅ [LOGIN] Login successful for user: keosha@gmail.com (ID: 0d4bdc07-cadf-4300-8e4f-f07da7575a62)
INFO:     127.0.0.1:51433 - "POST /api/auth/login HTTP/1.1" 200 OK
2025-10-09 15:58:06,382 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:58:06,382 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     127.0.0.1:51433 - "OPTIONS /api/ai/switch-model HTTP/1.1" 200 OK
INFO:     127.0.0.1:51431 - "POST /api/ai/switch-model HTTP/1.1" 404 Not Found
2025-10-09 15:58:07,122 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
INFO:     127.0.0.1:51431 - "OPTIONS /api/cv/list HTTP/1.1" 200 OK
INFO:     127.0.0.1:51433 - "GET /api/tailored-cv/available-companies-real HTTP/1.1" 200 OK
INFO:     127.0.0.1:51449 - "OPTIONS /api/jobs/saved HTTP/1.1" 200 OK
2025-10-09 15:58:07,218 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 15:58:07,219 - app.routes.cv_simple - INFO - Listed 0 CV files
2025-10-09 15:58:07,224 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 15:58:07,226 - app.services.saved_jobs_service - INFO - ✨ Created new jobs file at user/keosha@gmail.com/cv-analysis/saved_jobs/saved_jobs.json
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
INFO:     127.0.0.1:51431 - "GET /api/cv/list HTTP/1.1" 200 OK
INFO:     127.0.0.1:51449 - "GET /api/jobs/saved HTTP/1.1" 200 OK
INFO:     127.0.0.1:51451 - "OPTIONS /api/ai/chat HTTP/1.1" 200 OK
2025-10-09 15:58:47,734 - app.core.model_dependency - INFO - 🔍 [MODEL_DEPENDENCY] Initializing model for user: keosha@gmail.com
2025-10-09 15:58:47,735 - app.core.model_dependency - INFO - - Header model: gpt-3.5-turbo
2025-10-09 15:58:47,735 - app.core.model_dependency - INFO - - User ID: 0d4bdc07-cadf-4300-8e4f-f07da7575a62
2025-10-09 15:58:47,736 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 15:58:47,736 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 15:58:47,736 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 15:58:47,736 - app.ai.ai_service - INFO - - Available providers: []
2025-10-09 15:58:47,737 - app.ai.ai_service - INFO - - Provider status: {}
2025-10-09 15:58:47,737 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 15:58:47,737 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: []
2025-10-09 15:58:47,737 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 15:58:47,738 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {}
2025-10-09 15:58:47,738 - app.ai.ai_service - ERROR - ❌ No current provider available for model switching
2025-10-09 15:58:47,738 - app.core.model_dependency - WARNING - ⚠️ Failed to switch to header model gpt-3.5-turbo
2025-10-09 15:58:47,750 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user keosha@gmail.com
2025-10-09 15:58:47,750 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Before initialization:
2025-10-09 15:58:47,750 - app.ai.ai_service - INFO - - Current providers: []
2025-10-09 15:58:47,750 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 15:58:47,750 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 15:58:47,751 - app.ai.ai_service - INFO - - Cached providers for user: []
2025-10-09 15:58:47,751 - app.ai.ai_service - INFO - 🔄 [AI_SERVICE] Initializing new providers for user keosha@gmail.com
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
2025-10-09 15:58:47,779 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:58:47,779 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:58:47,783 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:58:47,783 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:58:47,783 INFO sqlalchemy.engine.Engine [generated in 0.00047s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 15:58:47,783 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 15:58:47,825 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:58:47,825 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:58:47,852 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user keosha@gmail.com and provider openai
2025-10-09 15:58:47,881 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:58:47,881 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:58:47,882 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:58:47,882 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:58:47,882 INFO sqlalchemy.engine.Engine [cached since 0.09991s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 15:58:47,882 - sqlalchemy.engine.Engine - INFO - [cached since 0.09991s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 15:58:47,924 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:58:47,924 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:58:47,943 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user keosha@gmail.com and provider anthropic
2025-10-09 15:58:47,960 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:58:47,960 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:58:47,961 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:58:47,961 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 15:58:47,962 INFO sqlalchemy.engine.Engine [cached since 0.1795s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 15:58:47,962 - sqlalchemy.engine.Engine - INFO - [cached since 0.1795s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 15:58:48,004 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:58:48,004 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 15:58:48,020 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user keosha@gmail.com and provider deepseek
2025-10-09 15:58:48,021 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] After initialization:
2025-10-09 15:58:48,021 - app.ai.ai_service - INFO - - Current providers: []
2025-10-09 15:58:48,021 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 15:58:48,022 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 15:58:48,022 - app.core.model_dependency - INFO - ✅ [MODEL_DEPENDENCY] AI providers initialized for user keosha@gmail.com
2025-10-09 15:58:48,039 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 15:58:48,039 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 15:58:48,041 INFO sqlalchemy.engine.Engine SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 15:58:48,041 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 15:58:48,042 INFO sqlalchemy.engine.Engine [generated in 0.00046s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'param_1': 1}
2025-10-09 15:58:48,042 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'param_1': 1}
2025-10-09 15:58:48,085 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 15:58:48,085 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     127.0.0.1:51451 - "POST /api/ai/chat HTTP/1.1" 400 Bad Request
INFO:     127.0.0.1:51695 - "OPTIONS /api/api-keys/set HTTP/1.1" 200 OK
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
2025-10-09 16:01:23,782 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:01:23,782 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:01:23,894 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:01:23,894 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:01:23,895 INFO sqlalchemy.engine.Engine [cached since 156.1s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 16:01:23,895 - sqlalchemy.engine.Engine - INFO - [cached since 156.1s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 16:01:23,975 INFO sqlalchemy.engine.Engine INSERT INTO user_api_keys (user_id, provider, encrypted_key, key_hash, is_valid, last_validated, created_at, updated_at) VALUES (%(user_id)s, %(provider)s, %(encrypted_key)s, %(key_hash)s, %(is_valid)s, %(last_validated)s, now(), now()) RETURNING user_api_keys.id, user_api_keys.created_at, user_api_keys.updated_at
2025-10-09 16:01:23,975 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_api_keys (user_id, provider, encrypted_key, key_hash, is_valid, last_validated, created_at, updated_at) VALUES (%(user_id)s, %(provider)s, %(encrypted_key)s, %(key_hash)s, %(is_valid)s, %(last_validated)s, now(), now()) RETURNING user_api_keys.id, user_api_keys.created_at, user_api_keys.updated_at
2025-10-09 16:01:23,976 INFO sqlalchemy.engine.Engine [generated in 0.00091s] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider': 'openai', 'encrypted_key': 'Z0FBQUFBQm81MEdqbENsSzNDYUU3alh4VmhrRkZFcmtKMGJDcmFoSmxKY21heURuT1I5RzFKTll3cDF1RkhRamFLa2NEUDFod0Vlb3JhLWhyMVk5MXQyTTJrOERhd3dlYnRNTDR5UlJtcWQ3WUJUU ... (118 characters truncated) ... Jazd3bzZoVUJjVDZiTjMyeDdKTnVnM1p6cERVbGYzVzB3TGlGdzJuYzk1SEtWVlo2OS1FQ1IxaWFrSUFWRVVNZWVIMXJweERjMDdUd0lQZy1RS2trVDZJdC0zY2hhVzVoeXYtTDNoN0p5OTk5OWM9', 'key_hash': '819280703fd19bc03ccad496e4c2fc88236c72ed1d4b2b883f70efdff03bdab1', 'is_valid': False, 'last_validated': None}
2025-10-09 16:01:23,976 - sqlalchemy.engine.Engine - INFO - [generated in 0.00091s] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider': 'openai', 'encrypted_key': 'Z0FBQUFBQm81MEdqbENsSzNDYUU3alh4VmhrRkZFcmtKMGJDcmFoSmxKY21heURuT1I5RzFKTll3cDF1RkhRamFLa2NEUDFod0Vlb3JhLWhyMVk5MXQyTTJrOERhd3dlYnRNTDR5UlJtcWQ3WUJUU ... (118 characters truncated) ... Jazd3bzZoVUJjVDZiTjMyeDdKTnVnM1p6cERVbGYzVzB3TGlGdzJuYzk1SEtWVlo2OS1FQ1IxaWFrSUFWRVVNZWVIMXJweERjMDdUd0lQZy1RS2trVDZJdC0zY2hhVzVoeXYtTDNoN0p5OTk5OWM9', 'key_hash': '819280703fd19bc03ccad496e4c2fc88236c72ed1d4b2b883f70efdff03bdab1', 'is_valid': False, 'last_validated': None}
2025-10-09 16:01:24,000 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 16:01:24,000 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 16:01:24,023 - app.services.user_api_key_manager - INFO - Created new API key for user keosha@gmail.com and provider openai
2025-10-09 16:01:24,024 - app.ai.ai_service - INFO - ℹ️ [AI_SERVICE] No cached providers found for user keosha@gmail.com
2025-10-09 16:01:24,025 - app.routes.api_keys - INFO - 🗑️ [API_KEYS] Cleared AI service cache for user keosha@gmail.com
2025-10-09 16:01:25,109 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:01:25,180 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:01:25,180 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:01:25,185 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:01:25,185 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:01:25,185 INFO sqlalchemy.engine.Engine [cached since 157.4s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 16:01:25,185 - sqlalchemy.engine.Engine - INFO - [cached since 157.4s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 16:01:25,232 INFO sqlalchemy.engine.Engine UPDATE user_api_keys SET is_valid=%(is_valid)s, last_validated=%(last_validated)s, updated_at=now() WHERE user_api_keys.id = %(user_api_keys_id)s
2025-10-09 16:01:25,232 - sqlalchemy.engine.Engine - INFO - UPDATE user_api_keys SET is_valid=%(is_valid)s, last_validated=%(last_validated)s, updated_at=now() WHERE user_api_keys.id = %(user_api_keys_id)s
2025-10-09 16:01:25,232 INFO sqlalchemy.engine.Engine [generated in 0.00104s] {'is_valid': True, 'last_validated': datetime.datetime(2025, 10, 9, 5, 1, 25, 224652), 'user_api_keys_id': 33}
2025-10-09 16:01:25,232 - sqlalchemy.engine.Engine - INFO - [generated in 0.00104s] {'is_valid': True, 'last_validated': datetime.datetime(2025, 10, 9, 5, 1, 25, 224652), 'user_api_keys_id': 33}
2025-10-09 16:01:25,254 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 16:01:25,254 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 16:01:25,282 - app.ai.ai_service - INFO - 🔄 Refreshing AI providers after API key changes
2025-10-09 16:01:25,283 - app.ai.ai_service - INFO - 🗑️ [AI_SERVICE] Clearing cached providers for user keosha@gmail.com
2025-10-09 16:01:25,299 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:01:25,299 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:01:25,300 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:01:25,300 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:01:25,301 INFO sqlalchemy.engine.Engine [cached since 157.5s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 16:01:25,301 - sqlalchemy.engine.Engine - INFO - [cached since 157.5s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 16:01:25,353 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:01:25,353 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:01:26,397 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:01:26,420 - app.ai.ai_service - INFO - ✅ Initialized openai provider with model gpt-4o for user keosha@gmail.com
2025-10-09 16:01:26,438 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:01:26,438 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:01:26,439 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:01:26,439 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:01:26,440 INFO sqlalchemy.engine.Engine [cached since 158.7s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 16:01:26,440 - sqlalchemy.engine.Engine - INFO - [cached since 158.7s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 16:01:26,486 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:01:26,486 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:01:26,503 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user keosha@gmail.com and provider anthropic
2025-10-09 16:01:26,526 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:01:26,526 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:01:26,527 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:01:26,527 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:01:26,528 INFO sqlalchemy.engine.Engine [cached since 158.7s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 16:01:26,528 - sqlalchemy.engine.Engine - INFO - [cached since 158.7s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 16:01:26,570 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:01:26,570 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:01:26,587 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user keosha@gmail.com and provider deepseek
2025-10-09 16:01:26,588 - app.routes.api_keys - INFO - 🔄 Refreshed AI providers after setting openai API key for user keosha@gmail.com
2025-10-09 16:01:26,605 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:01:26,605 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:01:26,607 INFO sqlalchemy.engine.Engine SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 16:01:26,607 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 16:01:26,608 INFO sqlalchemy.engine.Engine [cached since 158.6s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'param_1': 1}
2025-10-09 16:01:26,608 - sqlalchemy.engine.Engine - INFO - [cached since 158.6s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'param_1': 1}
2025-10-09 16:01:26,650 INFO sqlalchemy.engine.Engine SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 16:01:26,650 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 16:01:26,650 INFO sqlalchemy.engine.Engine [cached since 158.6s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'param_1': 1}
2025-10-09 16:01:26,650 - sqlalchemy.engine.Engine - INFO - [cached since 158.6s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'param_1': 1}
2025-10-09 16:01:26,675 INFO sqlalchemy.engine.Engine INSERT INTO user_model_preferences (user_id, provider, model, created_at, updated_at) VALUES (%(user_id)s, %(provider)s, %(model)s, now(), now()) RETURNING user_model_preferences.id, user_model_preferences.created_at, user_model_preferences.updated_at
2025-10-09 16:01:26,675 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_model_preferences (user_id, provider, model, created_at, updated_at) VALUES (%(user_id)s, %(provider)s, %(model)s, now(), now()) RETURNING user_model_preferences.id, user_model_preferences.created_at, user_model_preferences.updated_at
2025-10-09 16:01:26,675 INFO sqlalchemy.engine.Engine [generated in 0.00107s] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider': 'openai', 'model': 'gpt-3.5-turbo'}
2025-10-09 16:01:26,675 - sqlalchemy.engine.Engine - INFO - [generated in 0.00107s] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider': 'openai', 'model': 'gpt-3.5-turbo'}
2025-10-09 16:01:26,697 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 16:01:26,697 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 16:01:26,714 - app.routes.api_keys - INFO - 🎯 [API_KEYS] Auto-set default model preference: openai/gpt-3.5-turbo for user keosha@gmail.com
INFO:     127.0.0.1:51695 - "POST /api/api-keys/set HTTP/1.1" 200 OK
INFO:     127.0.0.1:51695 - "POST /api/ai/switch-model HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:51695 - "POST /api/ai/switch-model HTTP/1.1" 404 Not Found
2025-10-09 16:01:34,891 - app.core.model_dependency - INFO - 🔍 [MODEL_DEPENDENCY] Initializing model for user: keosha@gmail.com
2025-10-09 16:01:34,891 - app.core.model_dependency - INFO - - Header model: gpt-3.5-turbo
2025-10-09 16:01:34,891 - app.core.model_dependency - INFO - - User ID: 0d4bdc07-cadf-4300-8e4f-f07da7575a62
2025-10-09 16:01:34,892 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 16:01:34,892 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:01:34,893 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 16:01:34,893 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:01:35,854 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:01:35,876 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 16:01:35,877 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-4o', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-4o', 'is_current': False}}
2025-10-09 16:01:35,877 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 16:01:35,877 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: ['openai']
2025-10-09 16:01:35,878 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 16:01:36,469 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:01:36,490 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 16:01:36,490 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-4o', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-4o', 'is_current': False}}
2025-10-09 16:01:36,490 - app.ai.ai_service - WARNING - ⚠️ [AI_SERVICE] Attempting to auto-select first available provider
2025-10-09 16:01:36,490 - app.ai.ai_service - ERROR - Failed to set model configuration for openai
2025-10-09 16:01:36,490 - app.ai.ai_service - ERROR - ❌ No current provider available for model switching
2025-10-09 16:01:36,491 - app.ai.ai_service - INFO - 🔄 Available providers: ['openai']
2025-10-09 16:01:36,491 - app.ai.ai_service - INFO - ✅ Switched to openai provider with model gpt-3.5-turbo
2025-10-09 16:01:36,491 - app.core.model_dependency - INFO - 🔄 Switched to model from header: gpt-3.5-turbo
2025-10-09 16:01:36,492 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:01:36,492 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:01:36,493 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:01:36,493 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:01:36,493 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:01:37,727 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:01:37,862 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:01:37,863 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:01:37,863 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:01:37,863 - app.routes.ai - INFO - 🟢 [AI_CHAT] user=keosha@gmail.com provider=openai model=gpt-3.5-turbo
2025-10-09 16:01:37,864 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:01:37,864 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:01:37,865 - app.ai.ai_service - INFO - - Prompt length: 5
2025-10-09 16:01:37,865 - app.ai.ai_service - INFO - - System prompt length: 28
2025-10-09 16:01:37,866 - app.ai.ai_service - INFO - - Temperature: 0.7
2025-10-09 16:01:37,866 - app.ai.ai_service - INFO - - Max tokens: None
2025-10-09 16:01:37,867 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:01:37,867 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:01:37,867 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:01:37,868 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:01:37,868 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:01:37,868 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:01:38,529 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:01:38,706 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:01:38,706 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:01:38,707 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:01:38,707 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:01:39,540 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
INFO:     127.0.0.1:51695 - "POST /api/ai/chat HTTP/1.1" 200 OK
2025-10-09 16:01:54,389 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:01:54,391 - app.routes.cv_simple - INFO - Listed 0 CV files
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
INFO:     127.0.0.1:51697 - "GET /api/cv/list HTTP/1.1" 200 OK
INFO:     127.0.0.1:51697 - "OPTIONS /api/cv/upload HTTP/1.1" 200 OK
2025-10-09 16:01:54,555 - app.routes.cv_simple - INFO - Uploading maheshwor_tiwari.pdf with structured processing for user: keosha@gmail.com
2025-10-09 16:01:54,556 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:01:54,557 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:01:54,562 - app.services.enhanced_cv_upload_service - INFO - CV file saved: maheshwor_tiwari.pdf (130169 bytes)
2025-10-09 16:01:54,956 - app.services.enhanced_cv_upload_service - INFO - Text extracted successfully: 4864 characters
2025-10-09 16:01:54,956 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] Checking user parameter: True
2025-10-09 16:01:54,956 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] User email: keosha@gmail.com
2025-10-09 16:01:54,956 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] About to initialize AI service...
2025-10-09 16:01:54,956 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user keosha@gmail.com
2025-10-09 16:01:54,957 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Before initialization:
2025-10-09 16:01:54,957 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 16:01:54,957 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:01:54,957 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:01:54,957 - app.ai.ai_service - INFO - - Cached providers for user: ['openai']
2025-10-09 16:01:54,957 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Using cached providers for user keosha@gmail.com
2025-10-09 16:01:54,957 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] After initialization:
2025-10-09 16:01:54,957 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 16:01:54,958 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:01:54,958 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:01:54,958 - app.services.enhanced_cv_upload_service - INFO - 🔄 [CV_UPLOAD] Initialized AI service for user keosha@gmail.com
2025-10-09 16:01:54,958 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:01:54,958 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:01:54,959 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:01:54,959 - app.ai.ai_service - INFO - - Prompt length: 10449
2025-10-09 16:01:54,959 - app.ai.ai_service - INFO - - System prompt length: 348
2025-10-09 16:01:54,959 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:01:54,959 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:01:54,959 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:01:54,959 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:01:54,959 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:01:54,960 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:01:54,960 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:01:55,577 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:01:55,607 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:01:55,607 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:01:55,608 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:01:55,608 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:02:07,905 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:02:07,909 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:02:07,909 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:02:07,909 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:02:07,909 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:02:08,415 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:02:08,435 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:02:08,436 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:02:08,436 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:02:08,437 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:02:08,437 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:02:08,437 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:02:08,438 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:02:08,944 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:02:08,956 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:02:08,956 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:02:08,956 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:02:08,957 - app.services.structured_cv_parser - INFO - Successfully parsed CV using gpt-3.5-turbo
2025-10-09 16:02:08,960 - app.services.enhanced_cv_upload_service - INFO - CV parsed from raw text content
2025-10-09 16:02:08,962 - app.services.structured_cv_parser - INFO - Successfully saved structured CV to user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 16:02:08,962 - app.services.enhanced_cv_upload_service - INFO - Structured CV saved as original_cv.json: user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json (replaced existing)
2025-10-09 16:02:08,963 - app.services.enhanced_cv_upload_service - INFO - CV processed successfully: maheshwor_tiwari.pdf
2025-10-09 16:02:08,964 - app.routes.cv_simple - INFO - ✅ maheshwor_tiwari.pdf uploaded and processed into structured format for user: keosha@gmail.com
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
🔍 [DEBUG] _parse_to_structured_format called with user: True
INFO:     127.0.0.1:51697 - "POST /api/cv/upload HTTP/1.1" 200 OK
2025-10-09 16:02:09,018 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:02:09,020 - app.routes.cv_simple - INFO - Listed 1 CV files
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
INFO:     127.0.0.1:51697 - "GET /api/cv/list HTTP/1.1" 200 OK
2025-10-09 16:04:02,547 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:04:02,552 - app.routes.cv_simple - INFO - Listed 1 CV files
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
INFO:     127.0.0.1:51916 - "GET /api/cv/list HTTP/1.1" 200 OK
INFO:     127.0.0.1:51916 - "OPTIONS /api/cv/save-for-analysis/maheshwor_tiwari.pdf HTTP/1.1" 200 OK
2025-10-09 16:04:06,755 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:04:07,071 - app.modules.cv.preview - INFO - CV content extracted: maheshwor_tiwari.pdf (4864 characters)
2025-10-09 16:04:07,072 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:04:07,073 - app.routes.cv_organized - INFO - CV saved as text: user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 16:04:07,075 - app.routes.cv_organized - INFO - Processing maheshwor_tiwari.pdf for structured CV format (background)...
2025-10-09 16:04:07,076 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:04:07,077 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:04:07,078 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] Checking user parameter: True
2025-10-09 16:04:07,078 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] User email: keosha@gmail.com
2025-10-09 16:04:07,079 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] About to initialize AI service...
2025-10-09 16:04:07,079 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user keosha@gmail.com
2025-10-09 16:04:07,079 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Before initialization:
2025-10-09 16:04:07,080 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 16:04:07,080 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:04:07,080 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:04:07,081 - app.ai.ai_service - INFO - - Cached providers for user: ['openai']
2025-10-09 16:04:07,081 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Using cached providers for user keosha@gmail.com
2025-10-09 16:04:07,081 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] After initialization:
2025-10-09 16:04:07,081 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 16:04:07,081 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:04:07,082 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:04:07,082 - app.services.enhanced_cv_upload_service - INFO - 🔄 [CV_UPLOAD] Initialized AI service for user keosha@gmail.com
2025-10-09 16:04:07,082 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:04:07,083 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:04:07,083 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:04:07,083 - app.ai.ai_service - INFO - - Prompt length: 10449
2025-10-09 16:04:07,083 - app.ai.ai_service - INFO - - System prompt length: 348
2025-10-09 16:04:07,084 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:04:07,084 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:04:07,084 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:04:07,084 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:04:07,085 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:04:07,085 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:04:07,085 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:04:07,569 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:04:07,767 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:04:07,768 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:04:07,771 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:04:07,801 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:04:28,200 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:04:28,284 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:04:28,284 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:04:28,285 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:04:28,285 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:04:28,808 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:04:28,838 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:04:28,838 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:04:28,838 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:04:28,841 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:04:28,842 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:04:28,842 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:04:28,843 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:04:29,458 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:04:29,476 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:04:29,480 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:04:29,481 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:04:29,482 - app.services.structured_cv_parser - INFO - Successfully parsed CV using gpt-3.5-turbo
2025-10-09 16:04:29,484 - app.services.enhanced_cv_upload_service - INFO - CV parsed from raw text content
2025-10-09 16:04:29,488 - app.routes.cv_organized - INFO - ✅ Background: CV saved as structured JSON: user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
🔍 [DEBUG] _parse_to_structured_format called with user: True
INFO:     127.0.0.1:51916 - "POST /api/cv/save-for-analysis/maheshwor_tiwari.pdf HTTP/1.1" 200 OK
INFO:     127.0.0.1:51929 - "OPTIONS /api/cv/content/maheshwor_tiwari.pdf HTTP/1.1" 200 OK
2025-10-09 16:04:29,519 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:04:30,418 - app.routes.cv_simple - INFO - CV content extracted: maheshwor_tiwari.pdf (4864 characters)
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
INFO:     127.0.0.1:51916 - "GET /api/cv/content/maheshwor_tiwari.pdf HTTP/1.1" 200 OK
2025-10-09 16:04:39,920 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:04:40,217 - app.modules.cv.preview - INFO - CV content extracted: maheshwor_tiwari.pdf (4864 characters)
2025-10-09 16:04:40,217 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:04:40,218 - app.routes.cv_organized - INFO - CV saved as text: user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 16:04:40,218 - app.routes.cv_organized - INFO - Processing maheshwor_tiwari.pdf for structured CV format (background)...
2025-10-09 16:04:40,219 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:04:40,219 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:04:40,219 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] Checking user parameter: True
2025-10-09 16:04:40,219 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] User email: keosha@gmail.com
2025-10-09 16:04:40,219 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] About to initialize AI service...
2025-10-09 16:04:40,220 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user keosha@gmail.com
2025-10-09 16:04:40,220 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Before initialization:
2025-10-09 16:04:40,220 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 16:04:40,220 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:04:40,220 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:04:40,220 - app.ai.ai_service - INFO - - Cached providers for user: ['openai']
2025-10-09 16:04:40,220 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Using cached providers for user keosha@gmail.com
2025-10-09 16:04:40,220 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] After initialization:
2025-10-09 16:04:40,222 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 16:04:40,222 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:04:40,222 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:04:40,222 - app.services.enhanced_cv_upload_service - INFO - 🔄 [CV_UPLOAD] Initialized AI service for user keosha@gmail.com
2025-10-09 16:04:40,222 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:04:40,223 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:04:40,223 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:04:40,223 - app.ai.ai_service - INFO - - Prompt length: 10449
2025-10-09 16:04:40,223 - app.ai.ai_service - INFO - - System prompt length: 348
2025-10-09 16:04:40,224 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:04:40,224 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:04:40,224 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:04:40,225 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:04:40,225 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:04:40,225 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:04:40,225 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:04:40,772 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:04:40,783 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:04:40,783 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:04:40,783 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:04:40,783 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:04:51,925 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:04:51,928 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:04:51,928 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:04:51,929 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:04:51,929 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:04:52,358 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:04:52,372 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:04:52,372 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:04:52,372 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:04:52,373 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:04:52,373 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:04:52,375 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:04:52,375 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:04:52,867 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:04:52,879 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:04:52,879 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:04:52,879 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:04:52,881 - app.services.structured_cv_parser - INFO - Successfully parsed CV using gpt-3.5-turbo
2025-10-09 16:04:52,882 - app.services.enhanced_cv_upload_service - INFO - CV parsed from raw text content
2025-10-09 16:04:52,884 - app.routes.cv_organized - INFO - ✅ Background: CV saved as structured JSON: user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
🔍 [DEBUG] _parse_to_structured_format called with user: True
INFO:     127.0.0.1:51997 - "POST /api/cv/save-for-analysis/maheshwor_tiwari.pdf HTTP/1.1" 200 OK
2025-10-09 16:04:52,887 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:04:52,887 - app.routes.cv_simple - INFO - Listed 1 CV files
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
INFO:     127.0.0.1:52007 - "GET /api/cv/list HTTP/1.1" 200 OK
2025-10-09 16:04:52,936 - app.routes.cv_simple - INFO - Uploading test_cv.pdf with structured processing for user: keosha@gmail.com
2025-10-09 16:04:52,937 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:04:52,939 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:04:52,941 - app.services.enhanced_cv_upload_service - INFO - CV file saved: test_cv.pdf (40289 bytes)
2025-10-09 16:04:52,972 - app.services.enhanced_cv_upload_service - INFO - Text extracted successfully: 477 characters
2025-10-09 16:04:52,973 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] Checking user parameter: True
2025-10-09 16:04:52,973 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] User email: keosha@gmail.com
2025-10-09 16:04:52,974 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] About to initialize AI service...
2025-10-09 16:04:52,974 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user keosha@gmail.com
2025-10-09 16:04:52,974 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Before initialization:
2025-10-09 16:04:52,974 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 16:04:52,974 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:04:52,974 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:04:52,974 - app.ai.ai_service - INFO - - Cached providers for user: ['openai']
2025-10-09 16:04:52,974 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Using cached providers for user keosha@gmail.com
2025-10-09 16:04:52,975 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] After initialization:
2025-10-09 16:04:52,975 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 16:04:52,975 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:04:52,975 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:04:52,975 - app.services.enhanced_cv_upload_service - INFO - 🔄 [CV_UPLOAD] Initialized AI service for user keosha@gmail.com
2025-10-09 16:04:52,975 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:04:52,976 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:04:52,976 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:04:52,976 - app.ai.ai_service - INFO - - Prompt length: 6062
2025-10-09 16:04:52,976 - app.ai.ai_service - INFO - - System prompt length: 348
2025-10-09 16:04:52,976 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:04:52,976 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:04:52,976 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:04:52,977 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:04:52,977 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:04:52,977 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:04:52,977 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:04:53,547 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:04:53,565 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:04:53,565 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:04:53,565 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:04:53,565 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
WARNING:  WatchFiles detected changes in 'app/routes/api_keys.py'. Reloading...
2025-10-09 16:04:58,502 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:04:58,506 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:04:58,507 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:04:58,507 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:04:58,508 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:04:58,937 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:04:58,958 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:04:58,958 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:04:58,958 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:04:58,958 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:04:58,959 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:04:58,959 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:04:58,959 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:04:59,955 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:05:00,001 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:05:00,011 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:05:00,012 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:05:00,012 - app.services.structured_cv_parser - INFO - Successfully parsed CV using gpt-3.5-turbo
2025-10-09 16:05:00,013 - app.services.enhanced_cv_upload_service - INFO - CV parsed from raw text content
2025-10-09 16:05:00,015 - app.services.structured_cv_parser - INFO - Successfully saved structured CV to user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 16:05:00,015 - app.services.enhanced_cv_upload_service - INFO - Structured CV saved as original_cv.json: user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json (replaced existing)
2025-10-09 16:05:00,016 - app.services.enhanced_cv_upload_service - INFO - CV processed successfully: test_cv.pdf
2025-10-09 16:05:00,016 - app.routes.cv_simple - INFO - ✅ test_cv.pdf uploaded and processed into structured format for user: keosha@gmail.com
INFO:     Shutting down
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
🔍 [DEBUG] _parse_to_structured_format called with user: True
INFO:     127.0.0.1:52007 - "POST /api/cv/upload HTTP/1.1" 200 OK
INFO:     Waiting for application shutdown.
2025-10-09 16:05:00,125 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [7817]
No AI providers auto-configured - user must select provider and configure API keys via frontend
WARNING:  WatchFiles detected changes in 'app/routes/api_keys.py'. Reloading...
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [10379]
INFO:     Waiting for application startup.
2025-10-09 16:05:13,417 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 16:05:13,849 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 16:05:13,849 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 16:05:13,850 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:05:13,850 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:05:13,891 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 16:05:13,891 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 16:05:13,892 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:05:13,892 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:05:13,927 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 16:05:13,927 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 16:05:13,927 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:05:13,927 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:05:13,969 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:05:13,969 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:05:13,969 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 16:05:13,969 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 16:05:13,969 INFO sqlalchemy.engine.Engine [generated in 0.00076s] {}
2025-10-09 16:05:13,969 - sqlalchemy.engine.Engine - INFO - [generated in 0.00076s] {}
2025-10-09 16:05:14,017 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:05:14,017 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:05:14,039 - app.database - INFO - Database connection successful
2025-10-09 16:05:14,044 - app.main - INFO - ✅ Database connection successful
2025-10-09 16:05:14,079 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:05:14,079 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:05:14,101 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:05:14,101 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:05:14,102 INFO sqlalchemy.engine.Engine [generated in 0.00123s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:05:14,102 - sqlalchemy.engine.Engine - INFO - [generated in 0.00123s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:05:14,145 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:05:14,145 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:05:14,146 INFO sqlalchemy.engine.Engine [cached since 0.0454s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:05:14,146 - sqlalchemy.engine.Engine - INFO - [cached since 0.0454s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:05:14,167 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:05:14,167 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:05:14,168 INFO sqlalchemy.engine.Engine [cached since 0.06762s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:05:14,168 - sqlalchemy.engine.Engine - INFO - [cached since 0.06762s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:05:14,192 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:05:14,192 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:05:14,193 INFO sqlalchemy.engine.Engine [cached since 0.09288s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:05:14,193 - sqlalchemy.engine.Engine - INFO - [cached since 0.09288s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:05:14,215 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:05:14,215 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:05:14,216 INFO sqlalchemy.engine.Engine [cached since 0.1151s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:05:14,216 - sqlalchemy.engine.Engine - INFO - [cached since 0.1151s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:05:14,243 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:05:14,243 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:05:14,245 INFO sqlalchemy.engine.Engine [cached since 0.1447s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:05:14,245 - sqlalchemy.engine.Engine - INFO - [cached since 0.1447s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:05:14,265 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:05:14,265 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:05:14,266 INFO sqlalchemy.engine.Engine [cached since 0.1654s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:05:14,266 - sqlalchemy.engine.Engine - INFO - [cached since 0.1654s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:05:14,298 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:05:14,298 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:05:14,298 INFO sqlalchemy.engine.Engine [cached since 0.1978s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:05:14,298 - sqlalchemy.engine.Engine - INFO - [cached since 0.1978s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:05:14,318 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:05:14,318 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:05:14,319 INFO sqlalchemy.engine.Engine [cached since 0.2186s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:05:14,319 - sqlalchemy.engine.Engine - INFO - [cached since 0.2186s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:05:14,345 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:05:14,345 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:05:14,346 INFO sqlalchemy.engine.Engine [cached since 0.2451s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:05:14,346 - sqlalchemy.engine.Engine - INFO - [cached since 0.2451s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:05:14,368 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:05:14,368 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:05:14,368 INFO sqlalchemy.engine.Engine [cached since 0.268s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:05:14,368 - sqlalchemy.engine.Engine - INFO - [cached since 0.268s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:05:14,398 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 16:05:14,398 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 16:05:14,420 - app.database - INFO - Database tables created successfully
2025-10-09 16:05:14,430 - app.main - INFO - ✅ Database tables ready
2025-10-09 16:05:14,431 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 16:05:14,431 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
2025-10-09 16:05:14,450 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:05:14,451 - app.routes.cv_simple - INFO - Listed 2 CV files
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
INFO:     127.0.0.1:52024 - "GET /api/cv/list HTTP/1.1" 200 OK
2025-10-09 16:05:14,464 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:05:14,465 - app.routes.cv_simple - INFO - Listed 2 CV files
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
INFO:     127.0.0.1:52024 - "GET /api/cv/list HTTP/1.1" 200 OK
INFO:     127.0.0.1:52093 - "OPTIONS /api/cv/save-for-analysis/test_cv.pdf HTTP/1.1" 200 OK
2025-10-09 16:05:49,776 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:05:50,009 - app.modules.cv.preview - INFO - CV content extracted: test_cv.pdf (477 characters)
2025-10-09 16:05:50,009 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:05:50,013 - app.routes.cv_organized - INFO - CV saved as text: user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 16:05:50,014 - app.routes.cv_organized - INFO - Processing test_cv.pdf for structured CV format (background)...
2025-10-09 16:05:50,014 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:05:50,015 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:05:50,015 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] Checking user parameter: True
2025-10-09 16:05:50,015 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] User email: keosha@gmail.com
2025-10-09 16:05:50,016 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] About to initialize AI service...
2025-10-09 16:05:50,016 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user keosha@gmail.com
2025-10-09 16:05:50,016 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Before initialization:
2025-10-09 16:05:50,016 - app.ai.ai_service - INFO - - Current providers: []
2025-10-09 16:05:50,017 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 16:05:50,017 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 16:05:50,017 - app.ai.ai_service - INFO - - Cached providers for user: []
2025-10-09 16:05:50,017 - app.ai.ai_service - INFO - 🔄 [AI_SERVICE] Initializing new providers for user keosha@gmail.com
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
🔍 [DEBUG] _parse_to_structured_format called with user: True
2025-10-09 16:05:50,105 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:05:50,105 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:05:50,112 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:05:50,112 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:05:50,113 INFO sqlalchemy.engine.Engine [generated in 0.00137s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 16:05:50,113 - sqlalchemy.engine.Engine - INFO - [generated in 0.00137s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 16:05:50,181 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:05:50,181 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:05:51,036 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:05:51,059 - app.ai.ai_service - INFO - ✅ Initialized openai provider with model gpt-4o for user keosha@gmail.com
2025-10-09 16:05:51,085 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:05:51,085 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:05:51,086 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:05:51,086 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:05:51,087 INFO sqlalchemy.engine.Engine [cached since 0.9749s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 16:05:51,087 - sqlalchemy.engine.Engine - INFO - [cached since 0.9749s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 16:05:51,129 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:05:51,129 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:05:51,153 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user keosha@gmail.com and provider anthropic
2025-10-09 16:05:51,201 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:05:51,201 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:05:51,204 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:05:51,204 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:05:51,208 INFO sqlalchemy.engine.Engine [cached since 1.096s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 16:05:51,208 - sqlalchemy.engine.Engine - INFO - [cached since 1.096s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 16:05:51,268 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:05:51,268 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:05:51,291 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user keosha@gmail.com and provider deepseek
2025-10-09 16:05:51,292 - app.ai.ai_service - INFO - 💾 [AI_SERVICE] Cached 1 providers for user keosha@gmail.com
2025-10-09 16:05:51,293 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] After initialization:
2025-10-09 16:05:51,293 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 16:05:51,293 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 16:05:51,293 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 16:05:51,293 - app.services.enhanced_cv_upload_service - INFO - 🔄 [CV_UPLOAD] Initialized AI service for user keosha@gmail.com
2025-10-09 16:05:51,294 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 16:05:51,294 - app.ai.ai_service - INFO - ✅ Switched to openai provider with model gpt-3.5-turbo
2025-10-09 16:05:51,294 - app.services.enhanced_cv_upload_service - INFO - ✅ [CV_UPLOAD] Auto-selected provider: openai
2025-10-09 16:05:51,294 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:05:51,294 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:05:51,295 - app.ai.ai_service - INFO - - Prompt length: 6062
2025-10-09 16:05:51,295 - app.ai.ai_service - INFO - - System prompt length: 348
2025-10-09 16:05:51,295 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:05:51,295 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:05:51,295 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:05:51,295 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:05:51,295 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:05:51,296 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:05:51,296 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:05:51,749 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:05:51,767 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:05:51,768 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:05:51,768 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:05:51,769 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:05:55,531 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:05:55,657 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:05:55,660 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:05:55,661 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:05:55,662 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:05:56,180 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:05:56,230 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:05:56,231 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:05:56,231 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:05:56,231 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:05:56,232 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:05:56,232 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:05:56,233 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:05:56,868 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:05:56,882 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:05:56,883 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:05:56,883 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:05:56,883 - app.services.structured_cv_parser - INFO - Successfully parsed CV using gpt-3.5-turbo
2025-10-09 16:05:56,884 - app.services.enhanced_cv_upload_service - INFO - CV parsed from raw text content
2025-10-09 16:05:56,885 - app.routes.cv_organized - INFO - ✅ Background: CV saved as structured JSON: user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
INFO:     127.0.0.1:52095 - "POST /api/cv/save-for-analysis/test_cv.pdf HTTP/1.1" 200 OK
INFO:     127.0.0.1:52093 - "OPTIONS /api/cv/content/test_cv.pdf HTTP/1.1" 200 OK
2025-10-09 16:05:56,895 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:05:56,930 - app.routes.cv_simple - INFO - CV content extracted: test_cv.pdf (477 characters)
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
INFO:     127.0.0.1:52095 - "GET /api/cv/content/test_cv.pdf HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'app/services/enhanced_cv_upload_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 16:05:59,062 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [10379]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [10563]
INFO:     Waiting for application startup.
2025-10-09 16:06:05,362 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 16:06:05,651 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 16:06:05,651 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 16:06:05,652 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:06:05,652 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:06:05,699 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 16:06:05,699 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 16:06:05,700 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:06:05,700 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:06:05,743 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 16:06:05,743 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 16:06:05,743 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:06:05,743 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:06:05,791 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:06:05,791 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:06:05,792 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 16:06:05,792 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 16:06:05,792 INFO sqlalchemy.engine.Engine [generated in 0.00077s] {}
2025-10-09 16:06:05,792 - sqlalchemy.engine.Engine - INFO - [generated in 0.00077s] {}
2025-10-09 16:06:05,833 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:06:05,833 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:06:05,856 - app.database - INFO - Database connection successful
2025-10-09 16:06:05,860 - app.main - INFO - ✅ Database connection successful
2025-10-09 16:06:05,880 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:06:05,880 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:06:05,885 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:05,885 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:05,886 INFO sqlalchemy.engine.Engine [generated in 0.00043s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:05,886 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:05,929 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:05,929 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:05,929 INFO sqlalchemy.engine.Engine [cached since 0.04355s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:05,929 - sqlalchemy.engine.Engine - INFO - [cached since 0.04355s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:05,952 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:05,952 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:05,953 INFO sqlalchemy.engine.Engine [cached since 0.06723s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:05,953 - sqlalchemy.engine.Engine - INFO - [cached since 0.06723s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:05,976 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:05,976 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:05,977 INFO sqlalchemy.engine.Engine [cached since 0.09142s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:05,977 - sqlalchemy.engine.Engine - INFO - [cached since 0.09142s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:05,999 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:05,999 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:06,000 INFO sqlalchemy.engine.Engine [cached since 0.1143s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:06,000 - sqlalchemy.engine.Engine - INFO - [cached since 0.1143s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:06,024 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:06,024 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:06,025 INFO sqlalchemy.engine.Engine [cached since 0.1392s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:06,025 - sqlalchemy.engine.Engine - INFO - [cached since 0.1392s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:06,048 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:06,048 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:06,049 INFO sqlalchemy.engine.Engine [cached since 0.1636s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:06,049 - sqlalchemy.engine.Engine - INFO - [cached since 0.1636s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:06,069 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:06,069 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:06,069 INFO sqlalchemy.engine.Engine [cached since 0.184s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:06,069 - sqlalchemy.engine.Engine - INFO - [cached since 0.184s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:06,093 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:06,093 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:06,094 INFO sqlalchemy.engine.Engine [cached since 0.2083s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:06,094 - sqlalchemy.engine.Engine - INFO - [cached since 0.2083s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:06,116 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:06,116 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:06,117 INFO sqlalchemy.engine.Engine [cached since 0.2313s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:06,117 - sqlalchemy.engine.Engine - INFO - [cached since 0.2313s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:06,140 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:06,140 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:06,140 INFO sqlalchemy.engine.Engine [cached since 0.2547s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:06,140 - sqlalchemy.engine.Engine - INFO - [cached since 0.2547s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:06,162 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 16:06:06,162 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 16:06:06,185 - app.database - INFO - Database tables created successfully
2025-10-09 16:06:06,185 - app.main - INFO - ✅ Database tables ready
2025-10-09 16:06:06,185 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 16:06:06,185 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/routes/cv_simple.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 16:06:12,949 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [10563]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [10604]
INFO:     Waiting for application startup.
2025-10-09 16:06:18,176 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 16:06:18,434 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 16:06:18,434 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 16:06:18,434 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:06:18,434 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:06:18,476 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 16:06:18,476 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 16:06:18,477 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:06:18,477 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:06:18,524 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 16:06:18,524 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 16:06:18,525 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:06:18,525 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:06:18,569 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:06:18,569 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:06:18,570 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 16:06:18,570 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 16:06:18,570 INFO sqlalchemy.engine.Engine [generated in 0.00117s] {}
2025-10-09 16:06:18,570 - sqlalchemy.engine.Engine - INFO - [generated in 0.00117s] {}
2025-10-09 16:06:18,603 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:06:18,603 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:06:18,626 - app.database - INFO - Database connection successful
2025-10-09 16:06:18,626 - app.main - INFO - ✅ Database connection successful
2025-10-09 16:06:18,649 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:06:18,649 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:06:18,656 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:18,656 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:18,657 INFO sqlalchemy.engine.Engine [generated in 0.00140s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:18,657 - sqlalchemy.engine.Engine - INFO - [generated in 0.00140s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:18,696 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:18,696 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:18,696 INFO sqlalchemy.engine.Engine [cached since 0.04067s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:18,696 - sqlalchemy.engine.Engine - INFO - [cached since 0.04067s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:18,718 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:18,718 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:18,718 INFO sqlalchemy.engine.Engine [cached since 0.06271s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:18,718 - sqlalchemy.engine.Engine - INFO - [cached since 0.06271s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:18,742 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:18,742 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:18,742 INFO sqlalchemy.engine.Engine [cached since 0.08652s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:18,742 - sqlalchemy.engine.Engine - INFO - [cached since 0.08652s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:18,768 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:18,768 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:18,769 INFO sqlalchemy.engine.Engine [cached since 0.1128s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:18,769 - sqlalchemy.engine.Engine - INFO - [cached since 0.1128s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:18,793 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:18,793 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:18,793 INFO sqlalchemy.engine.Engine [cached since 0.1373s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:18,793 - sqlalchemy.engine.Engine - INFO - [cached since 0.1373s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:18,816 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:18,816 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:18,817 INFO sqlalchemy.engine.Engine [cached since 0.1609s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:18,817 - sqlalchemy.engine.Engine - INFO - [cached since 0.1609s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:18,839 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:18,839 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:18,839 INFO sqlalchemy.engine.Engine [cached since 0.1834s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:18,839 - sqlalchemy.engine.Engine - INFO - [cached since 0.1834s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:18,862 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:18,862 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:18,863 INFO sqlalchemy.engine.Engine [cached since 0.207s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:18,863 - sqlalchemy.engine.Engine - INFO - [cached since 0.207s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:18,881 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:18,881 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:18,881 INFO sqlalchemy.engine.Engine [cached since 0.2256s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:18,881 - sqlalchemy.engine.Engine - INFO - [cached since 0.2256s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:18,904 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:18,904 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:18,904 INFO sqlalchemy.engine.Engine [cached since 0.2483s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:18,904 - sqlalchemy.engine.Engine - INFO - [cached since 0.2483s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:18,926 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 16:06:18,926 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 16:06:18,948 - app.database - INFO - Database tables created successfully
2025-10-09 16:06:18,949 - app.main - INFO - ✅ Database tables ready
2025-10-09 16:06:18,949 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 16:06:18,949 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
2025-10-09 16:06:23,080 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:06:23,603 - app.modules.cv.preview - INFO - CV content extracted: maheshwor_tiwari.pdf (4864 characters)
2025-10-09 16:06:23,603 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:06:23,606 - app.routes.cv_organized - INFO - CV saved as text: user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 16:06:23,607 - app.routes.cv_organized - INFO - Processing maheshwor_tiwari.pdf for structured CV format (background)...
2025-10-09 16:06:23,607 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:06:23,608 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:06:23,608 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] Checking user parameter: True
2025-10-09 16:06:23,608 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] User email: keosha@gmail.com
2025-10-09 16:06:23,608 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] About to initialize AI service...
2025-10-09 16:06:23,608 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user keosha@gmail.com
2025-10-09 16:06:23,608 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Before initialization:
2025-10-09 16:06:23,609 - app.ai.ai_service - INFO - - Current providers: []
2025-10-09 16:06:23,609 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 16:06:23,609 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 16:06:23,609 - app.ai.ai_service - INFO - - Cached providers for user: []
2025-10-09 16:06:23,609 - app.ai.ai_service - INFO - 🔄 [AI_SERVICE] Initializing new providers for user keosha@gmail.com
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
🔍 [DEBUG] _parse_to_structured_format called with user: True
2025-10-09 16:06:23,662 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:06:23,662 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:06:23,666 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:06:23,666 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:06:23,667 INFO sqlalchemy.engine.Engine [generated in 0.00041s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 16:06:23,667 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 16:06:23,713 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:06:23,713 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:06:24,743 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:06:24,768 - app.ai.ai_service - INFO - ✅ Initialized openai provider with model gpt-4o for user keosha@gmail.com
2025-10-09 16:06:24,790 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:06:24,790 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:06:24,791 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:06:24,791 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:06:24,792 INFO sqlalchemy.engine.Engine [cached since 1.126s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 16:06:24,792 - sqlalchemy.engine.Engine - INFO - [cached since 1.126s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 16:06:24,837 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:06:24,837 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:06:24,860 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user keosha@gmail.com and provider anthropic
2025-10-09 16:06:24,885 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:06:24,885 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:06:24,886 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:06:24,886 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:06:24,886 INFO sqlalchemy.engine.Engine [cached since 1.22s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 16:06:24,886 - sqlalchemy.engine.Engine - INFO - [cached since 1.22s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 16:06:24,930 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:06:24,930 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:06:24,952 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user keosha@gmail.com and provider deepseek
2025-10-09 16:06:24,952 - app.ai.ai_service - INFO - 💾 [AI_SERVICE] Cached 1 providers for user keosha@gmail.com
2025-10-09 16:06:24,952 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] After initialization:
2025-10-09 16:06:24,953 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 16:06:24,953 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 16:06:24,954 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 16:06:24,954 - app.services.enhanced_cv_upload_service - INFO - 🔄 [CV_UPLOAD] Initialized AI service for user keosha@gmail.com
2025-10-09 16:06:24,954 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 16:06:24,955 - app.ai.ai_service - INFO - ✅ Switched to openai provider with model gpt-3.5-turbo
2025-10-09 16:06:24,955 - app.services.enhanced_cv_upload_service - INFO - ✅ [CV_UPLOAD] Auto-selected provider: openai
2025-10-09 16:06:24,955 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:06:24,955 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:06:24,956 - app.ai.ai_service - INFO - - Prompt length: 10449
2025-10-09 16:06:24,956 - app.ai.ai_service - INFO - - System prompt length: 348
2025-10-09 16:06:24,956 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:06:24,956 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:06:24,956 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:06:24,956 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:06:24,956 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:06:24,956 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:06:24,957 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:06:26,000 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:06:26,015 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:06:26,015 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:06:26,015 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:06:26,016 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
WARNING:  WatchFiles detected changes in 'app/routes/cv_simple.py', 'app/routes/api_keys.py', 'app/services/enhanced_cv_upload_service.py'. Reloading...
2025-10-09 16:06:37,242 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:06:37,253 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:06:37,253 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:06:37,253 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:06:37,254 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:06:37,933 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:06:37,961 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:06:37,962 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:06:37,962 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:06:37,963 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:06:37,963 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:06:37,963 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:06:37,963 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:06:38,613 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:06:38,628 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:06:38,628 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:06:38,628 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:06:38,628 - app.services.structured_cv_parser - INFO - Successfully parsed CV using gpt-3.5-turbo
2025-10-09 16:06:38,630 - app.services.enhanced_cv_upload_service - INFO - CV parsed from raw text content
2025-10-09 16:06:38,632 - app.routes.cv_organized - INFO - ✅ Background: CV saved as structured JSON: user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
INFO:     Shutting down
2025-10-09 16:06:38,636 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:06:38,994 - app.routes.cv_simple - INFO - CV content extracted: maheshwor_tiwari.pdf (4864 characters)
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
INFO:     127.0.0.1:52132 - "POST /api/cv/save-for-analysis/maheshwor_tiwari.pdf HTTP/1.1" 200 OK
INFO:     Waiting for connections to close. (CTRL+C to force quit)
INFO:     127.0.0.1:52134 - "GET /api/cv/content/maheshwor_tiwari.pdf HTTP/1.1" 200 OK
INFO:     Waiting for application shutdown.
2025-10-09 16:06:39,098 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [10604]
WARNING:  WatchFiles detected changes in 'app/routes/cv_simple.py', 'app/routes/api_keys.py', 'app/services/enhanced_cv_upload_service.py'. Reloading...
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [10729]
INFO:     Waiting for application startup.
2025-10-09 16:06:45,248 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 16:06:45,600 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 16:06:45,600 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 16:06:45,601 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:06:45,601 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:06:45,643 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 16:06:45,643 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 16:06:45,643 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:06:45,643 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:06:45,686 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 16:06:45,686 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 16:06:45,686 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:06:45,686 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:06:45,726 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:06:45,726 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:06:45,727 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 16:06:45,727 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 16:06:45,727 INFO sqlalchemy.engine.Engine [generated in 0.00109s] {}
2025-10-09 16:06:45,727 - sqlalchemy.engine.Engine - INFO - [generated in 0.00109s] {}
2025-10-09 16:06:45,774 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:06:45,774 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:06:45,796 - app.database - INFO - Database connection successful
2025-10-09 16:06:45,796 - app.main - INFO - ✅ Database connection successful
2025-10-09 16:06:45,812 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:06:45,812 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:06:45,818 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:45,818 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:45,819 INFO sqlalchemy.engine.Engine [generated in 0.00182s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:45,819 - sqlalchemy.engine.Engine - INFO - [generated in 0.00182s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:45,851 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:45,851 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:45,852 INFO sqlalchemy.engine.Engine [cached since 0.03457s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:45,852 - sqlalchemy.engine.Engine - INFO - [cached since 0.03457s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:45,873 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:45,873 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:45,873 INFO sqlalchemy.engine.Engine [cached since 0.05554s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:45,873 - sqlalchemy.engine.Engine - INFO - [cached since 0.05554s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:45,895 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:45,895 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:45,895 INFO sqlalchemy.engine.Engine [cached since 0.07738s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:45,895 - sqlalchemy.engine.Engine - INFO - [cached since 0.07738s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:45,916 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:45,916 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:45,917 INFO sqlalchemy.engine.Engine [cached since 0.09914s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:45,917 - sqlalchemy.engine.Engine - INFO - [cached since 0.09914s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:45,938 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:45,938 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:45,938 INFO sqlalchemy.engine.Engine [cached since 0.1205s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:45,938 - sqlalchemy.engine.Engine - INFO - [cached since 0.1205s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:45,958 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:45,958 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:45,958 INFO sqlalchemy.engine.Engine [cached since 0.1408s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:45,958 - sqlalchemy.engine.Engine - INFO - [cached since 0.1408s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:45,979 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:45,979 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:45,980 INFO sqlalchemy.engine.Engine [cached since 0.1627s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:45,980 - sqlalchemy.engine.Engine - INFO - [cached since 0.1627s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:46,002 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:46,002 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:46,003 INFO sqlalchemy.engine.Engine [cached since 0.1856s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:46,003 - sqlalchemy.engine.Engine - INFO - [cached since 0.1856s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:46,024 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:46,024 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:46,025 INFO sqlalchemy.engine.Engine [cached since 0.2072s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:46,025 - sqlalchemy.engine.Engine - INFO - [cached since 0.2072s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:46,047 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:46,047 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:06:46,047 INFO sqlalchemy.engine.Engine [cached since 0.2298s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:46,047 - sqlalchemy.engine.Engine - INFO - [cached since 0.2298s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:06:46,072 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 16:06:46,072 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 16:06:46,089 - app.database - INFO - Database tables created successfully
2025-10-09 16:06:46,089 - app.main - INFO - ✅ Database tables ready
2025-10-09 16:06:46,089 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 16:06:46,090 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
INFO:     127.0.0.1:52231 - "OPTIONS /api/job/scrape HTTP/1.1" 200 OK
2025-10-09 16:06:56,946 - app.utils.directory_utils - ERROR - ❌ Failed to create cv-analysis directories: User email must be provided
INFO:     127.0.0.1:52233 - "POST /api/job/scrape HTTP/1.1" 200 OK
INFO:     127.0.0.1:52233 - "OPTIONS /api/job-analysis/extract-and-save HTTP/1.1" 200 OK
2025-10-09 16:07:00,655 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:07:00,658 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
🔍 Starting AI extraction with token: eyJhbGciOiJIUzI1NiIs...
2025-10-09 16:07:00,703 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:07:00,703 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:07:00,708 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider IS NULL 
 LIMIT %(param_1)s
2025-10-09 16:07:00,708 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider IS NULL 
 LIMIT %(param_1)s
2025-10-09 16:07:00,708 INFO sqlalchemy.engine.Engine [generated in 0.00078s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'param_1': 1}
2025-10-09 16:07:00,708 - sqlalchemy.engine.Engine - INFO - [generated in 0.00078s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'param_1': 1}
2025-10-09 16:07:00,747 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:07:00,747 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:07:00,770 - app.services.job_extraction_service - ERROR - AI service error: 
2025-10-09 16:07:00,816 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:07:00,817 - app.services.job_extraction_service - INFO - ✅ [JOB_EXTRACTION] Added job to shared jobs file: Data Analyst at Australia for UNHCR
🔍 AI extraction result: {'error': 'AI service failed: '}
⚠️ AI extraction failed: AI service failed: 
⚠️ Using rule-based extraction as fallback
INFO:     127.0.0.1:52231 - "POST /api/job-analysis/extract-and-save HTTP/1.1" 200 OK
INFO:     127.0.0.1:52242 - "OPTIONS /api/preliminary-analysis/cache HTTP/1.1" 200 OK
INFO:     127.0.0.1:52242 - "GET /api/preliminary-analysis/cache HTTP/1.1" 200 OK
INFO:     127.0.0.1:52242 - "OPTIONS /api/preliminary-analysis HTTP/1.1" 200 OK
2025-10-09 16:07:09,387 - app.core.model_dependency - INFO - 🔍 [MODEL_DEPENDENCY] Initializing model for user: keosha@gmail.com
2025-10-09 16:07:09,388 - app.core.model_dependency - INFO - - Header model: gpt-3.5-turbo
2025-10-09 16:07:09,388 - app.core.model_dependency - INFO - - User ID: 0d4bdc07-cadf-4300-8e4f-f07da7575a62
2025-10-09 16:07:09,389 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 16:07:09,389 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:07:09,389 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 16:07:09,389 - app.ai.ai_service - INFO - - Available providers: []
2025-10-09 16:07:09,389 - app.ai.ai_service - INFO - - Provider status: {}
2025-10-09 16:07:09,389 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 16:07:09,390 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: []
2025-10-09 16:07:09,390 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 16:07:09,390 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {}
2025-10-09 16:07:09,390 - app.ai.ai_service - ERROR - ❌ No current provider available for model switching
2025-10-09 16:07:09,390 - app.core.model_dependency - WARNING - ⚠️ Failed to switch to header model gpt-3.5-turbo
2025-10-09 16:07:09,396 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user keosha@gmail.com
2025-10-09 16:07:09,396 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Before initialization:
2025-10-09 16:07:09,397 - app.ai.ai_service - INFO - - Current providers: []
2025-10-09 16:07:09,397 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 16:07:09,397 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 16:07:09,397 - app.ai.ai_service - INFO - - Cached providers for user: []
2025-10-09 16:07:09,397 - app.ai.ai_service - INFO - 🔄 [AI_SERVICE] Initializing new providers for user keosha@gmail.com
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
2025-10-09 16:07:09,427 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:07:09,427 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:07:09,432 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:07:09,432 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:07:09,432 INFO sqlalchemy.engine.Engine [generated in 0.00133s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 16:07:09,432 - sqlalchemy.engine.Engine - INFO - [generated in 0.00133s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 16:07:09,486 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:07:09,486 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:07:10,186 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:07:10,202 - app.ai.ai_service - INFO - ✅ Initialized openai provider with model gpt-4o for user keosha@gmail.com
2025-10-09 16:07:10,231 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:07:10,231 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:07:10,232 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:07:10,232 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:07:10,232 INFO sqlalchemy.engine.Engine [cached since 0.8014s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 16:07:10,232 - sqlalchemy.engine.Engine - INFO - [cached since 0.8014s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 16:07:10,277 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:07:10,277 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:07:10,298 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user keosha@gmail.com and provider anthropic
2025-10-09 16:07:10,323 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:07:10,323 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:07:10,324 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:07:10,324 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:07:10,324 INFO sqlalchemy.engine.Engine [cached since 0.8931s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 16:07:10,324 - sqlalchemy.engine.Engine - INFO - [cached since 0.8931s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 16:07:10,365 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:07:10,365 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:07:10,383 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user keosha@gmail.com and provider deepseek
2025-10-09 16:07:10,384 - app.ai.ai_service - INFO - 💾 [AI_SERVICE] Cached 1 providers for user keosha@gmail.com
2025-10-09 16:07:10,384 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] After initialization:
2025-10-09 16:07:10,385 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 16:07:10,385 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 16:07:10,385 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 16:07:10,385 - app.core.model_dependency - INFO - ✅ [MODEL_DEPENDENCY] AI providers initialized for user keosha@gmail.com
2025-10-09 16:07:10,412 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:07:10,412 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:07:10,415 INFO sqlalchemy.engine.Engine SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 16:07:10,415 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 16:07:10,416 INFO sqlalchemy.engine.Engine [generated in 0.00042s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'param_1': 1}
2025-10-09 16:07:10,416 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'param_1': 1}
2025-10-09 16:07:10,473 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:07:10,473 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:07:10,497 - app.core.model_dependency - INFO - 🔍 [MODEL_DEPENDENCY] Found saved preference: openai/gpt-3.5-turbo
2025-10-09 16:07:10,497 - app.ai.ai_service - INFO - ✅ Switched to openai provider with model gpt-3.5-turbo
2025-10-09 16:07:10,497 - app.core.model_dependency - INFO - ✅ [MODEL_DEPENDENCY] Successfully restored user preference: openai/gpt-3.5-turbo
2025-10-09 16:07:10,500 - app.routes.skills_analysis - INFO - 🎯 Preliminary analysis request: CV=maheshwor_tiwari.pdf, JD_length=6014, CONFIG=None
2025-10-09 16:07:10,501 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:07:10,502 - app.routes.skills_analysis - INFO - 🏢 Extracted company name: Australia_for_UNHCR
2025-10-09 16:07:10,502 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:07:10,504 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:07:10,504 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:07:10,504 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:07:10,506 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:07:10,507 - app.routes.skills_analysis - INFO - 🔗 [PRELIM_ANALYSIS] JD URL (latest job_info): https://www.ethicaljobs.com.au/members/australiaforunhcr/data-analyst
2025-10-09 16:07:10,509 - app.routes.skills_analysis - INFO - 📄 [PRELIM_ANALYSIS] Latest CV selected → type=original, ts=None, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 16:07:10,511 - app.routes.skills_analysis - INFO - 🧪 [PRELIM_ANALYSIS] CV content length=4864, preview='Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD in Physics and completed a Master's in Data Science, bringing over three years of experience in Python  coding, AI, and machine learning. My expertise encompasses modeling and training AI models, writing efficient Python'
2025-10-09 16:07:10,511 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 16:07:10,511 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 16:07:10,511 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 16:07:10,511 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Starting AI-powered skills analysis for maheshwor_tiwari.pdf
2025-10-09 16:07:10,512 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] CV content length: 4864 chars
2025-10-09 16:07:10,512 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] JD content length: 6014 chars
2025-10-09 16:07:10,512 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using config: default
2025-10-09 16:07:10,512 - app.routes.skills_analysis - INFO - 🧪 [SKILLS_ANALYSIS] CV preview: 'Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD '
2025-10-09 16:07:10,512 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:07:10,512 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:07:10,513 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:07:10,513 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:07:10,513 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:07:11,009 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:07:11,020 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:07:11,021 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:07:11,021 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:07:11,023 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI provider: openai
2025-10-09 16:07:11,023 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI model: gpt-3.5-turbo
2025-10-09 16:07:11,023 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Provider available: True
2025-10-09 16:07:11,024 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Model from header: gpt-3.5-turbo
2025-10-09 16:07:11,024 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting CV skills with detailed structured analysis...
2025-10-09 16:07:11,024 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:07:11,025 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:07:11,025 - app.ai.ai_service - INFO - - Prompt length: 15675
2025-10-09 16:07:11,025 - app.ai.ai_service - INFO - - System prompt length: 0
2025-10-09 16:07:11,025 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:07:11,025 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:07:11,025 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:07:11,026 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:07:11,026 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:07:11,026 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:07:11,026 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:07:11,026 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:07:11,625 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:07:11,744 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:07:11,744 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:07:11,744 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:07:11,744 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:07:15,008 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:07:15,018 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] Starting response parsing...
2025-10-09 16:07:15,018 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] Raw response preview: **SOFT SKILLS:**
- Communication
- Leadership
- Teamwork
- Collaboration
- Problem-solving

**TECHNICAL SKILLS:**
- Python
- Pandas
- NumPy
- scikit-learn
- SQL
- PostgreSQL
- MySQL
- Tableau
- Power BI
- Matplotlib
- GitHub
- Docker
- Snowflake
- Visual Studio Code
- Google Analytics
- Excel

**DOMAIN KEYWORDS:**
- Data Analysis
- Machine Learning
- AI
- Data Pipelines
- Data Visualization
- Predictive Analytics
- Cloud Data Warehousing
- Version Control
- Data Cleaning
- Automation
- Computati...
2025-10-09 16:07:15,018 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] FULL CV RESPONSE: **SOFT SKILLS:**
- Communication
- Leadership
- Teamwork
- Collaboration
- Problem-solving

**TECHNICAL SKILLS:**
- Python
- Pandas
- NumPy
- scikit-learn
- SQL
- PostgreSQL
- MySQL
- Tableau
- Power BI
- Matplotlib
- GitHub
- Docker
- Snowflake
- Visual Studio Code
- Google Analytics
- Excel

**DOMAIN KEYWORDS:**
- Data Analysis
- Machine Learning
- AI
- Data Pipelines
- Data Visualization
- Predictive Analytics
- Cloud Data Warehousing
- Version Control
- Data Cleaning
- Automation
- Computational Modeling
- Research Analysis
- Physics
- Data Science
- Research Projects
- Customer Behavior Insights
- Population Datasets
- Response Times
- Operational Efficiency
- Dynamic Dashboards
- Strategic Decision-making
- Key Metrics Tracking
- Analytics Capabilities
- Data Integrity
- Cross-functional Teams
- Research Findings
- Course Facilitation
- Student Engagement
2025-10-09 16:07:15,019 - app.services.skill_extraction.response_parser - WARNING - ⚠️ [CV] No SOFT_SKILLS variable found in response
2025-10-09 16:07:15,019 - app.services.skill_extraction.response_parser - WARNING - ⚠️ [CV] No TECHNICAL_SKILLS variable found in response
2025-10-09 16:07:15,019 - app.services.skill_extraction.response_parser - WARNING - ⚠️ [CV] No DOMAIN_KEYWORDS variable found in response
2025-10-09 16:07:15,019 - app.services.skill_extraction.response_parser - INFO - 🔄 [CV] Python format not found, trying markdown format...
2025-10-09 16:07:15,022 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Successfully extracted 49 total skills using multi-format parser
2025-10-09 16:07:15,023 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated soft_skills: 5 valid skills
2025-10-09 16:07:15,024 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated technical_skills: 16 valid skills
2025-10-09 16:07:15,024 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated domain_keywords: 28 valid skills
2025-10-09 16:07:15,025 - app.services.skill_extraction.response_parser - INFO - 📊 [CV] Parsing completed:
2025-10-09 16:07:15,025 - app.services.skill_extraction.response_parser - INFO -    Soft Skills (5): ['Communication', 'Leadership', 'Teamwork']...
2025-10-09 16:07:15,025 - app.services.skill_extraction.response_parser - INFO -    Technical Skills (16): ['Python', 'Pandas', 'NumPy']...
2025-10-09 16:07:15,026 - app.services.skill_extraction.response_parser - INFO -    Domain Keywords (28): ['Data Analysis', 'Machine Learning', 'AI']...
2025-10-09 16:07:15,026 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting JD skills with detailed structured analysis...
2025-10-09 16:07:15,027 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:07:15,027 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:07:15,027 - app.ai.ai_service - INFO - - Prompt length: 18001
2025-10-09 16:07:15,027 - app.ai.ai_service - INFO - - System prompt length: 0
2025-10-09 16:07:15,028 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:07:15,028 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:07:15,028 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:07:15,028 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:07:15,028 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:07:15,028 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:07:15,029 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:07:15,029 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:07:15,532 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:07:15,549 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:07:15,549 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:07:15,550 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:07:15,550 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:07:21,990 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:07:22,022 - app.services.skill_extraction.response_parser - INFO - 🔍 [JD] Starting response parsing...
2025-10-09 16:07:22,023 - app.services.skill_extraction.response_parser - INFO - 🔍 [JD] Raw response preview: ## SOFT SKILLS:
- Communication
- Leadership
- Teamwork
- Collaboration
- Negotiation
- Time Management
- Organization
- Adaptability
- Problem-solving
- Analytical Thinking
- Critical Thinking
- Creativity
- Innovation
- Detail-oriented
- Self-motivated
- Proactive
- Results-driven

## TECHNICAL SKILLS:
- Data Analysis
- Data Mining
- Business Intelligence
- Power BI
- SQL
- Excel
- Database Management
- Data Modeling
- Data Warehousing
- Spreadsheets
- Formulas
- VBA
- Querying
- Extracting Da...
2025-10-09 16:07:22,023 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Successfully extracted 48 total skills using multi-format parser
2025-10-09 16:07:22,023 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated soft_skills: 17 valid skills
2025-10-09 16:07:22,024 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated technical_skills: 16 valid skills
2025-10-09 16:07:22,024 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated domain_keywords: 15 valid skills
2025-10-09 16:07:22,024 - app.services.skill_extraction.response_parser - INFO - 📊 [JD] Parsing completed:
2025-10-09 16:07:22,024 - app.services.skill_extraction.response_parser - INFO -    Soft Skills (17): ['Communication', 'Leadership', 'Teamwork']...
2025-10-09 16:07:22,024 - app.services.skill_extraction.response_parser - INFO -    Technical Skills (16): ['Data Analysis', 'Data Mining', 'Business Intelligence']...
2025-10-09 16:07:22,025 - app.services.skill_extraction.response_parser - INFO -    Domain Keywords (15): ['Fundraising', 'Humanitarian Aid', 'Refugee Support']...
2025-10-09 16:07:22,025 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using structured analysis as comprehensive analysis...
2025-10-09 16:07:22,025 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Technical Skills (16): ['Python', 'Pandas', 'NumPy', 'scikit-learn', 'SQL', 'PostgreSQL', 'MySQL', 'Tableau', 'Power BI', 'Matplotlib', 'GitHub', 'Docker', 'Snowflake', 'Visual Studio Code', 'Google Analytics', 'Excel']
2025-10-09 16:07:22,026 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Soft Skills (5): ['Communication', 'Leadership', 'Teamwork', 'Collaboration', 'Problem-solving']
2025-10-09 16:07:22,026 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Domain Keywords (28): ['Data Analysis', 'Machine Learning', 'AI', 'Data Pipelines', 'Data Visualization', 'Predictive Analytics', 'Cloud Data Warehousing', 'Version Control', 'Data Cleaning', 'Automation', 'Computational Modeling', 'Research Analysis', 'Physics', 'Data Science', 'Research Projects', 'Customer Behavior Insights', 'Population Datasets', 'Response Times', 'Operational Efficiency', 'Dynamic Dashboards', 'Strategic Decision-making', 'Key Metrics Tracking', 'Analytics Capabilities', 'Data Integrity', 'Cross-functional Teams', 'Research Findings', 'Course Facilitation', 'Student Engagement']
2025-10-09 16:07:22,026 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Technical Skills (16): ['Data Analysis', 'Data Mining', 'Business Intelligence', 'Power BI', 'SQL', 'Excel', 'Database Management', 'Data Modeling', 'Data Warehousing', 'Spreadsheets', 'Formulas', 'VBA', 'Querying', 'Extracting Data', 'Relational Databases', 'Tableau']
2025-10-09 16:07:22,026 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Soft Skills (17): ['Communication', 'Leadership', 'Teamwork', 'Collaboration', 'Negotiation', 'Time Management', 'Organization', 'Adaptability', 'Problem-solving', 'Analytical Thinking', 'Critical Thinking', 'Creativity', 'Innovation', 'Detail-oriented', 'Self-motivated', 'Proactive', 'Results-driven']
2025-10-09 16:07:22,026 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Domain Keywords (15): ['Fundraising', 'Humanitarian Aid', 'Refugee Support', 'Business Decision-making', 'Direct Marketing', 'Segmentation Strategies', 'Multi-channel Communication', 'Donor-centricity', 'Project Management', 'Stakeholder Management', 'Marketing Campaigns', 'Data Utilization', 'Communication Purposes', 'Data Governance', 'Clean Data Maintenance']
2025-10-09 16:07:22,026 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] Analysis completed successfully
2025-10-09 16:07:22,027 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 16:07:22,027 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:07:22,028 - app.services.skill_extraction.result_saver - INFO - 📁 Result saver initialized with base directory: user/keosha@gmail.com/cv-analysis
2025-10-09 16:07:22,029 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:07:22,029 - app.routes.skills_analysis - INFO - 🔍 [COMPANY_DETECTION] Looking in: user/keosha@gmail.com/cv-analysis/applied_companies
2025-10-09 16:07:22,030 - app.routes.skills_analysis - INFO - 📁 [COMPANY_DETECTION] Found company folder: Australia_for_UNHCR with 1 job_info files
2025-10-09 16:07:22,031 - app.routes.skills_analysis - INFO - 🏢 [COMPANY_DETECTION] Using most recent company folder: Australia_for_UNHCR
2025-10-09 16:07:22,031 - app.routes.skills_analysis - INFO - 📋 [COMPANY_DETECTION] Job info company: Australia for UNHCR
2025-10-09 16:07:22,032 - app.services.skill_extraction.result_saver - INFO - 🏢 Using provided company name: Australia_for_UNHCR -> Australia_for_UNHCR
2025-10-09 16:07:22,034 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:07:22,035 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:07:22,035 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:07:22,038 - app.services.skill_extraction.result_saver - INFO - 💾 Structured CV already exists, preserving it: user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 16:07:22,039 - app.services.skill_extraction.result_saver - INFO - 💾 Structured CV preserved, skipping save: user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 16:07:22,041 - app.services.skill_extraction.result_saver - INFO - 💾 Analysis results saved (JSON) to: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_160722.json
2025-10-09 16:07:22,041 - app.routes.skills_analysis - INFO - 📁 [FILE_SAVE] Results saved to: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_160722.json
2025-10-09 16:07:22,042 - app.routes.skills_analysis - INFO - 🔍 [ANALYZE_MATCH] Starting analyze match assessment...
2025-10-09 16:07:22,045 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:07:22,046 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:07:22,047 - app.ai.ai_service - INFO - - Prompt length: 16967
2025-10-09 16:07:22,047 - app.ai.ai_service - INFO - - System prompt length: 0
2025-10-09 16:07:22,047 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:07:22,047 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:07:22,047 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:07:22,048 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:07:22,048 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:07:22,048 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:07:22,048 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:07:22,048 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:07:22,681 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:07:22,697 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:07:22,697 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:07:22,698 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:07:22,698 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:07:27,282 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:07:27,286 - app.routes.skills_analysis - INFO - ✅ [ANALYZE_MATCH] Analysis completed (length: 1521 chars)
2025-10-09 16:07:27,286 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:07:27,292 - app.services.skill_extraction.result_saver - INFO - 📂 Found existing analysis file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_160722.json
2025-10-09 16:07:27,293 - app.services.skill_extraction.result_saver - INFO - 🔍 Looking for analysis file in: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 16:07:27,293 - app.services.skill_extraction.result_saver - INFO - 📄 Using existing file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_160722.json
2025-10-09 16:07:27,297 - app.services.skill_extraction.result_saver - INFO - 📁 [ANALYZE_MATCH] Results appended to: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_160722.json
2025-10-09 16:07:27,298 - app.routes.skills_analysis - INFO - 📁 [ANALYZE_MATCH] Results appended to: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_160722.json
2025-10-09 16:07:27,298 - app.routes.skills_analysis - INFO - 🔍 [PREEXTRACTED_COMPARISON] Starting pre-extracted skills semantic comparison...
2025-10-09 16:07:27,301 - app.services.skill_extraction.preextracted_comparator - INFO - 🔍 [EXACT_MATCHES] Found 3 exact matches: {'technical_skills': [{'jd_skill': 'Excel', 'cv_skill': 'Excel', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Power BI', 'cv_skill': 'Power BI', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'SQL', 'cv_skill': 'SQL', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Tableau', 'cv_skill': 'Tableau', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}], 'soft_skills': [{'jd_skill': 'Collaboration', 'cv_skill': 'Collaboration', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Communication', 'cv_skill': 'Communication', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Leadership', 'cv_skill': 'Leadership', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Problem-solving', 'cv_skill': 'Problem-solving', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Teamwork', 'cv_skill': 'Teamwork', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}], 'domain_keywords': []}
2025-10-09 16:07:27,303 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:07:27,304 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:07:27,305 - app.ai.ai_service - INFO - - Prompt length: 7105
2025-10-09 16:07:27,307 - app.ai.ai_service - INFO - - System prompt length: 0
2025-10-09 16:07:27,309 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:07:27,311 - app.ai.ai_service - INFO - - Max tokens: 3000
2025-10-09 16:07:27,313 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:07:27,313 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:07:27,314 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:07:27,314 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:07:27,314 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:07:27,315 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:07:27,714 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:07:27,728 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:07:27,728 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:07:27,728 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:07:27,728 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:07:39,283 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:07:39,301 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Collaboration → Collaboration
2025-10-09 16:07:39,301 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Communication → Communication
2025-10-09 16:07:39,301 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Leadership → Leadership
2025-10-09 16:07:39,301 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Problem-solving → Problem-solving
2025-10-09 16:07:39,301 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Teamwork → Teamwork
2025-10-09 16:07:39,301 - app.services.skill_extraction.preextracted_comparator - INFO - ℹ️ [VALIDATION] technical_skills: matched 14 + missing 3 = 17 vs JD count 16 (acceptable variance)
2025-10-09 16:07:39,302 - app.services.skill_extraction.preextracted_comparator - INFO - ℹ️ [VALIDATION] soft_skills: matched 5 + missing 0 = 5 vs JD count 17 (acceptable variance)
2025-10-09 16:07:39,302 - app.services.skill_extraction.preextracted_comparator - WARNING - ❌ [VALIDATION] soft_skills: extreme variance - processed 5 vs expected 17
2025-10-09 16:07:39,302 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] CV Skills: Tech=16, Soft=5, Domain=28
2025-10-09 16:07:39,302 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] JD Skills: Tech=16, Soft=17, Domain=15
2025-10-09 16:07:39,303 - app.services.skill_extraction.preextracted_comparator - WARNING - ❌ [VALIDATION] 1 validation error(s) found
2025-10-09 16:07:39,303 - app.services.skill_extraction.preextracted_comparator - WARNING - ⚠️ [COMPARISON] JSON results failed validation, attempting to fix inconsistencies
2025-10-09 16:07:39,303 - app.services.skill_extraction.preextracted_comparator - INFO - 🔧 [FIX] Attempting to fix inconsistent AI response
2025-10-09 16:07:39,303 - app.services.skill_extraction.preextracted_comparator - WARNING - 🔧 [FIX] technical_skills: Too many items (17 > 16), trimming missing items
2025-10-09 16:07:39,303 - app.services.skill_extraction.preextracted_comparator - INFO - 🔧 [FIX] soft_skills: Adding 12 missing JD skills
2025-10-09 16:07:39,304 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [FIX] Finished fixing AI response inconsistencies
2025-10-09 16:07:39,304 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] CV Skills: Tech=16, Soft=5, Domain=28
2025-10-09 16:07:39,304 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] JD Skills: Tech=16, Soft=17, Domain=15
2025-10-09 16:07:39,304 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [VALIDATION] Comparison results passed validation
2025-10-09 16:07:39,304 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [COMPARISON] Successfully fixed AI response inconsistencies
2025-10-09 16:07:39,305 - app.routes.skills_analysis - INFO - ✅ [PREEXTRACTED_COMPARISON] Completed (length: 6200 chars)
2025-10-09 16:07:39,305 - app.services.skill_extraction.result_saver - INFO - 🏢 [PREEXTRACTED_COMPARISON] Inferred company from saved_file_path: Australia_for_UNHCR
2025-10-09 16:07:39,308 - app.services.skill_extraction.result_saver - INFO - 📁 [PREEXTRACTED_COMPARISON] Results appended to: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_160722.json
2025-10-09 16:07:39,308 - app.routes.skills_analysis - INFO - 📁 [PREEXTRACTED_COMPARISON] Results appended to: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_160722.json
2025-10-09 16:07:39,308 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:07:39,309 - app.routes.skills_analysis - INFO - ♻️ [PIPELINE] (preliminary-analysis) JD file already exists: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/jd_original_20251009_160700.json
2025-10-09 16:07:39,310 - app.routes.skills_analysis - INFO - ♻️ [JOBS] Job already exists in saved_jobs.json: Data Analyst at Australia for UNHCR
2025-10-09 16:07:39,310 - app.routes.skills_analysis - INFO - 🚀 [PIPELINE] (preliminary-analysis) scheduling for company: Australia_for_UNHCR
2025-10-09 16:07:39,310 - app.routes.skills_analysis - INFO - 🚀 [PIPELINE] Scheduling JD analysis and CV–JD matching for 'Australia_for_UNHCR'...
2025-10-09 16:07:39,311 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:07:39,311 - app.routes.skills_analysis - INFO - 🔧 [PIPELINE] Starting JD analysis for Australia_for_UNHCR (force_refresh=True)
2025-10-09 16:07:39,312 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:07:39,312 - app.services.jd_analysis.jd_analyzer - INFO - 🔄 Analyzing JD for Australia_for_UNHCR (force_refresh=True)
2025-10-09 16:07:39,313 - app.services.jd_analysis.jd_analyzer - INFO - 📄 Analyzing JD file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/jd_original_20251009_160700.json
2025-10-09 16:07:39,313 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:07:39,313 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:07:39,313 - app.ai.ai_service - INFO - - Prompt length: 6409
2025-10-09 16:07:39,313 - app.ai.ai_service - INFO - - System prompt length: 2650
2025-10-09 16:07:39,314 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:07:39,314 - app.ai.ai_service - INFO - - Max tokens: 2000
2025-10-09 16:07:39,314 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:07:39,314 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:07:39,314 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:07:39,314 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:07:39,314 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:07:39,314 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:07:39,800 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:07:39,828 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:07:39,848 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:07:39,848 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:07:39,848 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:07:41,424 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:07:41,425 - app.services.jd_analysis.jd_analyzer - INFO - ✅ JD analysis completed. Found 0 required and 0 preferred keywords
2025-10-09 16:07:41,427 - app.services.jd_analysis.jd_analyzer - INFO - 💾 Analysis result saved to: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_jd_analysis_20251009_160741.json
2025-10-09 16:07:41,428 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] JD analysis saved for Australia_for_UNHCR at: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_jd_analysis_20251009_160741.json
2025-10-09 16:07:41,430 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:07:41,431 - app.services.jd_usage_tracker - INFO - 🔍 [JD_TRACKER] Recording JD usage:
2025-10-09 16:07:41,431 - app.services.jd_usage_tracker - INFO - - jd_url: 
2025-10-09 16:07:41,431 - app.services.jd_usage_tracker - INFO - - jd_text length: 0
2025-10-09 16:07:41,431 - app.services.jd_usage_tracker - INFO - - company: Australia_for_UNHCR
2025-10-09 16:07:41,432 - app.services.jd_usage_tracker - INFO - - job_title: 
2025-10-09 16:07:41,432 - app.services.jd_usage_tracker - ERROR - ❌ [JD_TRACKER] Error recording JD usage: Either jd_url or jd_text must be provided
2025-10-09 16:07:41,432 - app.routes.skills_analysis - INFO - 📝 [PIPELINE] JD usage recorded for Australia_for_UNHCR
2025-10-09 16:07:41,432 - app.routes.skills_analysis - INFO - 🔧 [PIPELINE] Starting CV–JD matching for Australia_for_UNHCR
2025-10-09 16:07:41,432 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:07:41,433 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:07:41,433 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:07:41,433 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:07:41,434 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] CV–JD matching will use CV TXT: user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 16:07:41,434 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 📄 [CV_JD_MATCHER] Using provided CV path: user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 16:07:41,435 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 📄 [CV_JD_MATCHER] Read CV from: user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 16:07:41,435 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🧪 [CV_JD_MATCHER] CV content length=4864, preview='Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD in Physics and completed a Master's in Data Science, bringing over three years of experience in Python  coding, AI, and machine learning. My expertise encompasses modeling and training AI models, writing efficient Python'
2025-10-09 16:07:41,442 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🔍 Found 7 required and 4 preferred keywords
2025-10-09 16:07:41,442 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:07:41,442 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:07:41,443 - app.ai.ai_service - INFO - - Prompt length: 6201
2025-10-09 16:07:41,443 - app.ai.ai_service - INFO - - System prompt length: 2705
2025-10-09 16:07:41,443 - app.ai.ai_service - INFO - - Temperature: 0.3
2025-10-09 16:07:41,443 - app.ai.ai_service - INFO - - Max tokens: 3000
2025-10-09 16:07:41,444 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:07:41,444 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:07:41,444 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:07:41,444 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:07:41,445 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:07:41,445 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:07:41,931 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:07:41,952 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:07:41,953 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:07:41,953 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:07:41,953 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:07:44,412 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:07:44,416 - app.services.cv_jd_matching.cv_jd_matcher - INFO - ✅ CV-JD matching completed. Found 5 matched required keywords
2025-10-09 16:07:44,417 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:07:44,417 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:07:44,418 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 💾 Saved CV-JD match results to: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_cv_jd_matching_20251009_160744.json
2025-10-09 16:07:44,419 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] CV–JD match results saved for Australia_for_UNHCR
2025-10-09 16:07:44,419 - app.routes.skills_analysis - INFO - 🔍 [PIPELINE] Starting component analysis for Australia_for_UNHCR
2025-10-09 16:07:44,433 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:07:44,433 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:07:44,434 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:07:44,434 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:07:44,435 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Latest CV selected → type=original, ts=None, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 16:07:44,438 - app.routes.skills_analysis - INFO - 🧪 [PIPELINE] CV content length=4864, preview='Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD in Physics and completed a Master's in Data Science, bringing over three years of experience in Python  coding, AI, and machine learning. My expertise encompasses modeling and training AI models, writing efficient Python'
2025-10-09 16:07:44,440 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:07:44,442 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Required files found, proceeding with component analysis
2025-10-09 16:07:44,443 - app.services.ats.modular_ats_orchestrator - INFO - ===== [MODULAR ATS] Starting component analysis for: Australia_for_UNHCR =====
2025-10-09 16:07:44,443 - app.services.ats.component_assembler - INFO - ===== [ASSEMBLER] Starting component assembly for: Australia_for_UNHCR =====
2025-10-09 16:07:44,445 - app.services.ats.component_assembler - INFO - 📄 [ASSEMBLER] Using CV text provided by caller
2025-10-09 16:07:44,456 - app.services.ats.component_assembler - WARNING - [ASSEMBLER] Match results not found: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/cv_jd_match_results.json
2025-10-09 16:07:44,456 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Starting parallel component analyses...
2025-10-09 16:07:44,459 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Requesting skills relevance analysis...
2025-10-09 16:07:44,460 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:07:44,461 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Requirement bonus using match file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_cv_jd_matching_20251009_160744.json
2025-10-09 16:07:44,462 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:07:44,463 - app.ai.ai_service - INFO - - Prompt length: 12710
2025-10-09 16:07:44,463 - app.ai.ai_service - INFO - - System prompt length: 163
2025-10-09 16:07:44,463 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:07:44,464 - app.ai.ai_service - INFO - - Max tokens: 1500
2025-10-09 16:07:44,464 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Using existing match_counts from file
2025-10-09 16:07:44,464 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:07:44,464 - app.services.ats.requirement_bonus_calculator - INFO - [ATS][BONUS] required_total=7 matched_required=5 missing_required=2 required_bonus=2.50 required_penalty=-1.50 preferred_total=4 matched_preferred=0 missing_preferred=4 preferred_bonus=0.00 preferred_penalty=-0.60 total_bonus=0.40
2025-10-09 16:07:44,465 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:07:44,465 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Requirement bonus calculated: 0.40 points
2025-10-09 16:07:44,465 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:07:44,466 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:07:44,466 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:07:44,466 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:07:45,108 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:07:45,131 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:07:45,132 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:07:45,133 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:07:45,133 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:07:55,620 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:07:55,623 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Raw response length: 4143
2025-10-09 16:07:55,623 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Raw response preview: {
 "skills_analysis": [
  {
   "skill": "Python programming",
   "cv_evidence": "Specialized in Python programming for data analysis, automation, and machine learning using libraries such as Pandas, N
2025-10-09 16:07:55,624 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Cleaned response: {
 "skills_analysis": [
  {
   "skill": "Python programming",
   "cv_evidence": "Specialized in Python programming for data analysis, automation, and machine learning using libraries such as Pandas, N
2025-10-09 16:07:55,624 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Direct parse successful
2025-10-09 16:07:55,624 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Analysis completed. Score: 70.0
2025-10-09 16:07:55,625 - app.services.ats.components.experience_analyzer - INFO - [EXPERIENCE] Requesting experience alignment analysis...
2025-10-09 16:07:55,625 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:07:55,625 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:07:55,625 - app.ai.ai_service - INFO - - Prompt length: 11491
2025-10-09 16:07:55,625 - app.ai.ai_service - INFO - - System prompt length: 163
2025-10-09 16:07:55,626 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:07:55,626 - app.ai.ai_service - INFO - - Max tokens: 1500
2025-10-09 16:07:55,626 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:07:55,626 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:07:55,626 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:07:55,626 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:07:55,626 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:07:55,626 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:07:56,062 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:07:56,081 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:07:56,081 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:07:56,081 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:07:56,081 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:08:00,781 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:08:00,797 - app.services.ats.components.experience_analyzer - INFO - [EXPERIENCE] Analysis completed. Score: 85.0
2025-10-09 16:08:00,798 - app.services.ats.components.industry_analyzer - INFO - [INDUSTRY] Requesting industry fit analysis...
2025-10-09 16:08:00,799 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:08:00,799 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:08:00,800 - app.ai.ai_service - INFO - - Prompt length: 12947
2025-10-09 16:08:00,800 - app.ai.ai_service - INFO - - System prompt length: 163
2025-10-09 16:08:00,800 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:08:00,801 - app.ai.ai_service - INFO - - Max tokens: 1500
2025-10-09 16:08:00,808 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:08:00,810 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:08:00,810 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:08:00,812 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:08:00,813 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:08:00,814 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:08:01,686 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:08:01,698 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:08:01,698 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:08:01,699 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:08:01,699 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:08:05,691 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:08:05,693 - app.services.ats.components.industry_analyzer - INFO - [INDUSTRY] Analysis completed. Score: 60.0
2025-10-09 16:08:05,702 - app.services.ats.components.seniority_analyzer - INFO - [SENIORITY] Requesting role seniority analysis...
2025-10-09 16:08:05,702 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:08:05,702 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:08:05,703 - app.ai.ai_service - INFO - - Prompt length: 14019
2025-10-09 16:08:05,703 - app.ai.ai_service - INFO - - System prompt length: 163
2025-10-09 16:08:05,703 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:08:05,704 - app.ai.ai_service - INFO - - Max tokens: 1500
2025-10-09 16:08:05,705 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:08:05,705 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:08:05,706 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:08:05,706 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:08:05,706 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:08:05,706 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:08:06,100 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:08:06,142 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:08:06,146 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:08:06,149 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:08:06,150 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:08:08,906 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:08:08,917 - app.services.ats.components.seniority_analyzer - INFO - [SENIORITY] Analysis completed. Score: 64.0
2025-10-09 16:08:08,917 - app.services.ats.components.technical_analyzer - INFO - [TECHNICAL] Requesting technical depth analysis...
2025-10-09 16:08:08,917 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:08:08,917 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:08:08,917 - app.ai.ai_service - INFO - - Prompt length: 9464
2025-10-09 16:08:08,917 - app.ai.ai_service - INFO - - System prompt length: 163
2025-10-09 16:08:08,918 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:08:08,918 - app.ai.ai_service - INFO - - Max tokens: 1500
2025-10-09 16:08:08,918 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:08:08,918 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:08:08,918 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:08:08,918 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:08:08,918 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:08:08,918 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:08:09,579 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:08:09,598 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:08:09,598 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:08:09,599 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:08:09,599 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:08:11,500 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:08:11,502 - app.services.ats.components.technical_analyzer - INFO - [TECHNICAL] Analysis completed. Score: 90.0
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=original, ts=00000000_000000, mtime=1759986398.6319315, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=original, ts=00000000_000000, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.txt
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=original, ts=00000000_000000, mtime=1759986398.6319315, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=original, ts=00000000_000000, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.txt
📄 [UNIFIED] Reading CV content from: txt=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.txt, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
🧪 [UNIFIED] CV content length=4864, preview='Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD in Physics and completed a Master's in Data Science, bringing over three years of experience in Python  coding, AI, and machine learning. My expertise encompasses modeling and training AI models, writing efficient Python'
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=original, ts=00000000_000000, mtime=1759986398.6319315, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=original, ts=00000000_000000, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.txt
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=original, ts=00000000_000000, mtime=1759986398.6319315, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=original, ts=00000000_000000, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.txt
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=original, ts=00000000_000000, mtime=1759986398.6319315, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=original, ts=00000000_000000, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.txt
📄 [UNIFIED] Reading CV content from: txt=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.txt, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
🧪 [UNIFIED] CV content length=4864, preview='Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD in Physics and completed a Master's in Data Science, bringing over three years of experience in Python  coding, AI, and machine learning. My expertise encompasses modeling and training AI models, writing efficient Python'
INFO:     127.0.0.1:52244 - "POST /api/preliminary-analysis HTTP/1.1" 200 OK
2025-10-09 16:08:11,505 - app.services.ats.component_assembler - INFO - [ASSEMBLER] All component analyses completed successfully
2025-10-09 16:08:11,506 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Validating cross-analyzer consistency...
2025-10-09 16:08:11,506 - app.services.ats.components.consistency_validator - ERROR - [CONSISTENCY] Validation failed: unsupported operand type(s) for -: 'str' and 'int'
2025-10-09 16:08:11,506 - app.services.ats.component_assembler - WARNING - [ASSEMBLER] Inconsistencies detected in analysis results
2025-10-09 16:08:11,507 - app.services.ats.component_assembler - WARNING - [ASSEMBLER] Confidence score: 100%
2025-10-09 16:08:11,511 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Results saved to: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_160722.json
2025-10-09 16:08:11,512 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Starting ATS score calculation...
2025-10-09 16:08:11,513 - app.services.ats.ats_score_calculator - INFO - [ATS] Starting comprehensive ATS score calculation
2025-10-09 16:08:11,514 - app.services.ats.ats_score_calculator - INFO - [ATS] Match rates - Tech: 88.0%, Domain: 0.0%, Soft: 29.0%
2025-10-09 16:08:11,514 - app.services.ats.ats_score_calculator - INFO - [ATS] Missing counts - Tech: 2, Domain: 15, Soft: 12
2025-10-09 16:08:11,518 - app.services.ats.ats_score_calculator - INFO - [ATS] Category 1 - Tech: 17.6, Domain: 0.0, Soft: 4.3, Total: 22.0
2025-10-09 16:08:11,519 - app.services.ats.ats_score_calculator - INFO - [ATS] Category 2 - Core: 15.9, Exp: 8.4, Potential: 6.0, Company: 0.8, Total: 31.0
2025-10-09 16:08:11,523 - app.services.ats.ats_score_calculator - INFO - [ATS] Final ATS Score: 53.4/100 (❌ Poor fit)
2025-10-09 16:08:11,531 - app.services.ats.component_assembler - INFO - [ASSEMBLER] ATS calculation completed. Score: 53.4/100 (❌ Poor fit)
2025-10-09 16:08:11,532 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:08:11,533 - app.services.ats_recommendation_service - INFO - Final ATS Score: 53.3975
2025-10-09 16:08:11,533 - app.services.ats_recommendation_service - INFO - Category Status: ❌ Poor fit
2025-10-09 16:08:11,533 - app.services.ats_recommendation_service - INFO - Successfully extracted comprehensive recommendation data for Australia_for_UNHCR
2025-10-09 16:08:11,538 - app.services.ats_recommendation_service - INFO - Successfully created recommendation file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_160811.json
2025-10-09 16:08:11,574 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:08:11,574 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:08:11,579 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 16:08:11,579 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 16:08:11,580 INFO sqlalchemy.engine.Engine [generated in 0.00091s] {'email_1': 'keosha@gmail.com'}
2025-10-09 16:08:11,580 - sqlalchemy.engine.Engine - INFO - [generated in 0.00091s] {'email_1': 'keosha@gmail.com'}
2025-10-09 16:08:11,635 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 16:08:11,635 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 16:08:11,635 INFO sqlalchemy.engine.Engine [generated in 0.00046s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 16:08:11,635 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 16:08:11,673 INFO sqlalchemy.engine.Engine INSERT INTO companies (user_id, name, display_name, jd_url, created_at, updated_at) VALUES (%(user_id)s, %(name)s, %(display_name)s, %(jd_url)s, now(), now()) RETURNING companies.id, companies.created_at, companies.updated_at
2025-10-09 16:08:11,673 - sqlalchemy.engine.Engine - INFO - INSERT INTO companies (user_id, name, display_name, jd_url, created_at, updated_at) VALUES (%(user_id)s, %(name)s, %(display_name)s, %(jd_url)s, now(), now()) RETURNING companies.id, companies.created_at, companies.updated_at
2025-10-09 16:08:11,674 INFO sqlalchemy.engine.Engine [generated in 0.00127s] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'name': 'Australia_for_UNHCR', 'display_name': 'Australia for UNHCR', 'jd_url': None}
2025-10-09 16:08:11,674 - sqlalchemy.engine.Engine - INFO - [generated in 0.00127s] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'name': 'Australia_for_UNHCR', 'display_name': 'Australia for UNHCR', 'jd_url': None}
2025-10-09 16:08:11,707 INFO sqlalchemy.engine.Engine INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 16:08:11,707 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 16:08:11,707 INFO sqlalchemy.engine.Engine [generated in 0.00097s] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_160811.json', 'file_path': 'user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_160811.json', 'file_size': 27177, 'sha256': '51d1ad1041e8139c1531fc30aec9948b2d88b0d5398dffcf8f3e06190f3a9023', 'timestamp': '20251009_160811'}
2025-10-09 16:08:11,707 - sqlalchemy.engine.Engine - INFO - [generated in 0.00097s] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_160811.json', 'file_path': 'user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_160811.json', 'file_size': 27177, 'sha256': '51d1ad1041e8139c1531fc30aec9948b2d88b0d5398dffcf8f3e06190f3a9023', 'timestamp': '20251009_160811'}
2025-10-09 16:08:11,740 INFO sqlalchemy.engine.Engine INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 16:08:11,740 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 16:08:11,741 INFO sqlalchemy.engine.Engine [generated in 0.00111s] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'kind': 'input_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 171}
2025-10-09 16:08:11,741 - sqlalchemy.engine.Engine - INFO - [generated in 0.00111s] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'kind': 'input_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 171}
2025-10-09 16:08:11,763 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 16:08:11,763 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 16:08:11,787 - app.services.ats_recommendation_service - INFO - Successfully created AI recommendation prompt: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_prompt_recommendation.py
2025-10-09 16:08:11,788 - app.services.ats_recommendation_service - INFO - 🤖 [TRIGGER] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-09 16:08:11,788 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:08:11,789 - app.services.ats_recommendation_service - INFO - 📋 [TRIGGER] AI generation scheduled as background task for Australia_for_UNHCR
2025-10-09 16:08:11,789 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Recommendation file created for Australia_for_UNHCR
2025-10-09 16:08:11,789 - app.services.ats.component_assembler - INFO - ===== [ASSEMBLER] Completed assembly. Scores: skills=70.0 exp=85.0 industry=60.0 seniority=64.0 tech=90.0 =====
2025-10-09 16:08:11,790 - app.services.ats.modular_ats_orchestrator - INFO - ===== [MODULAR ATS] Component analysis completed for: Australia_for_UNHCR =====
2025-10-09 16:08:11,790 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Component analysis completed for Australia_for_UNHCR
2025-10-09 16:08:11,790 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] Component scores extracted: 23 scores
2025-10-09 16:08:11,791 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] skills_relevance: 70.0
2025-10-09 16:08:11,791 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] experience_alignment: 85.0
2025-10-09 16:08:11,791 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] industry_fit: 60.0
2025-10-09 16:08:11,792 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] role_seniority: 64.0
2025-10-09 16:08:11,792 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] technical_depth: 90.0
2025-10-09 16:08:11,792 - app.routes.skills_analysis - INFO - 🎯 [PIPELINE] ATS Score calculated: 53.3975
2025-10-09 16:08:11,792 - app.routes.skills_analysis - INFO - 📋 [PIPELINE] Creating input recommendation file for Australia_for_UNHCR
2025-10-09 16:08:11,792 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:08:11,793 - app.services.ats_recommendation_service - INFO - Final ATS Score: 53.3975
2025-10-09 16:08:11,794 - app.services.ats_recommendation_service - INFO - Category Status: ❌ Poor fit
2025-10-09 16:08:11,794 - app.services.ats_recommendation_service - INFO - Successfully extracted comprehensive recommendation data for Australia_for_UNHCR
2025-10-09 16:08:11,796 - app.services.ats_recommendation_service - INFO - Successfully created recommendation file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_160811.json
2025-10-09 16:08:11,815 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:08:11,815 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:08:11,816 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 16:08:11,816 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 16:08:11,816 INFO sqlalchemy.engine.Engine [cached since 0.2374s ago] {'email_1': 'keosha@gmail.com'}
2025-10-09 16:08:11,816 - sqlalchemy.engine.Engine - INFO - [cached since 0.2374s ago] {'email_1': 'keosha@gmail.com'}
2025-10-09 16:08:11,862 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 16:08:11,862 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 16:08:11,863 INFO sqlalchemy.engine.Engine [cached since 0.2277s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 16:08:11,863 - sqlalchemy.engine.Engine - INFO - [cached since 0.2277s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 16:08:11,886 INFO sqlalchemy.engine.Engine INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 16:08:11,886 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 16:08:11,886 INFO sqlalchemy.engine.Engine [cached since 0.1801s ago] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_160811.json', 'file_path': 'user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_160811.json', 'file_size': 27177, 'sha256': '51d1ad1041e8139c1531fc30aec9948b2d88b0d5398dffcf8f3e06190f3a9023', 'timestamp': '20251009_160811'}
2025-10-09 16:08:11,886 - sqlalchemy.engine.Engine - INFO - [cached since 0.1801s ago] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_160811.json', 'file_path': 'user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_160811.json', 'file_size': 27177, 'sha256': '51d1ad1041e8139c1531fc30aec9948b2d88b0d5398dffcf8f3e06190f3a9023', 'timestamp': '20251009_160811'}
2025-10-09 16:08:11,908 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:08:11,908 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:08:11,927 - app.services.ats_recommendation_service - WARNING - ⚠️ [DB] Failed to register input recommendation: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "uq_company_files_dedupe"
DETAIL:  Key (user_id, company_id, file_type, sha256)=(0d4bdc07-cadf-4300-8e4f-f07da7575a62, 15, input_recommendation, 51d1ad1041e8139c1531fc30aec9948b2d88b0d5398dffcf8f3e06190f3a9023) already exists.

[SQL: INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at]
[parameters: {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_160811.json', 'file_path': 'user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_160811.json', 'file_size': 27177, 'sha256': '51d1ad1041e8139c1531fc30aec9948b2d88b0d5398dffcf8f3e06190f3a9023', 'timestamp': '20251009_160811'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-10-09 16:08:11,928 - app.services.ats_recommendation_service - INFO - Successfully created AI recommendation prompt: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_prompt_recommendation.py
2025-10-09 16:08:11,928 - app.services.ats_recommendation_service - INFO - 🤖 [TRIGGER] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-09 16:08:11,929 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:08:11,929 - app.services.ats_recommendation_service - INFO - 📋 [TRIGGER] AI generation scheduled as background task for Australia_for_UNHCR
2025-10-09 16:08:11,930 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Input recommendation file created for Australia_for_UNHCR
2025-10-09 16:08:11,930 - app.routes.skills_analysis - INFO - 🤖 [PIPELINE] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-09 16:08:11,930 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:08:11,930 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-09 16:08:11,932 - app.services.ai_recommendation_generator - INFO - 🟡 [AI GENERATOR] Input recommendation is newer (ai_mtime=0, input_mtime=1759986491.7958362); regenerating AI recommendation
2025-10-09 16:08:11,932 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:08:11,933 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:08:11,933 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:08:11,934 - app.services.ai_recommendation_generator - INFO - ✅ [AI GENERATOR] CV is fresh - no updates since input recommendation
2025-10-09 16:08:11,936 - app.services.ai_recommendation_generator - INFO - 📋 [AI GENERATOR] Generated AI prompt for Australia_for_UNHCR using centralized template (12983 characters)
2025-10-09 16:08:11,936 - app.services.ai_recommendation_generator - INFO - 🧠 [AI GENERATOR] Executing AI prompt for Australia_for_UNHCR
2025-10-09 16:08:11,936 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:08:11,937 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:08:11,937 - app.ai.ai_service - INFO - - Prompt length: 12983
2025-10-09 16:08:11,938 - app.ai.ai_service - INFO - - System prompt length: 130
2025-10-09 16:08:11,938 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:08:11,938 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:08:11,939 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:08:11,939 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:08:11,939 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:08:11,940 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:08:11,941 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:08:11,941 - app.ai.ai_service - INFO - - Available providers: ['openai']
WARNING:  WatchFiles detected changes in 'user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_prompt_recommendation.py'. Reloading...
2025-10-09 16:08:12,446 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:08:12,462 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:08:12,462 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:08:12,463 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:08:12,463 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:08:17,363 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:08:17,365 - app.services.ai_recommendation_generator - INFO - 🧠 [AI GENERATOR] AI response generated - Provider: openai, Model: gpt-3.5-turbo
2025-10-09 16:08:17,365 - app.services.ai_recommendation_generator - INFO - 💰 [AI GENERATOR] Cost: $0.0048, Tokens: 3655
2025-10-09 16:08:17,366 - app.services.ai_recommendation_generator - INFO - 💾 [AI GENERATOR] Saved AI recommendation: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_160817.json (3.4KB)
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=original, ts=00000000_000000, mtime=1759986398.6319315, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=original, ts=00000000_000000, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 16:08:17,384 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:08:17,384 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:08:17,385 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 16:08:17,385 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 16:08:17,385 INFO sqlalchemy.engine.Engine [cached since 5.806s ago] {'email_1': 'keosha@gmail.com'}
2025-10-09 16:08:17,385 - sqlalchemy.engine.Engine - INFO - [cached since 5.806s ago] {'email_1': 'keosha@gmail.com'}
2025-10-09 16:08:17,427 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 16:08:17,427 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 16:08:17,427 INFO sqlalchemy.engine.Engine [cached since 5.792s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 16:08:17,427 - sqlalchemy.engine.Engine - INFO - [cached since 5.792s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 16:08:17,451 INFO sqlalchemy.engine.Engine INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 16:08:17,451 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 16:08:17,451 INFO sqlalchemy.engine.Engine [cached since 5.745s ago] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'file_type': 'ai_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_ai_recommendation_20251009_160817.json', 'file_path': 'user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_160817.json', 'file_size': 3507, 'sha256': '1c5f70f084932e1afb10114d91169016d2978641ff4f5b8ada2a937740483ca2', 'timestamp': '20251009_160817'}
2025-10-09 16:08:17,451 - sqlalchemy.engine.Engine - INFO - [cached since 5.745s ago] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'file_type': 'ai_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_ai_recommendation_20251009_160817.json', 'file_path': 'user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_160817.json', 'file_size': 3507, 'sha256': '1c5f70f084932e1afb10114d91169016d2978641ff4f5b8ada2a937740483ca2', 'timestamp': '20251009_160817'}
2025-10-09 16:08:17,476 INFO sqlalchemy.engine.Engine INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 16:08:17,476 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 16:08:17,477 INFO sqlalchemy.engine.Engine [cached since 5.737s ago] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'kind': 'ai_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 173}
2025-10-09 16:08:17,477 - sqlalchemy.engine.Engine - INFO - [cached since 5.737s ago] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'kind': 'ai_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 173}
2025-10-09 16:08:17,498 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 16:08:17,498 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 16:08:17,520 - app.services.ai_recommendation_generator - INFO - ✅ [AI GENERATOR] AI recommendation generated and saved for Australia_for_UNHCR
2025-10-09 16:08:17,521 - app.services.ai_recommendation_generator - INFO - 📄 File: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation.json
2025-10-09 16:08:17,521 - app.services.ai_recommendation_generator - INFO - 💰 Cost: $0.0048
2025-10-09 16:08:17,521 - app.services.ai_recommendation_generator - INFO - 🔤 Tokens: 3655
2025-10-09 16:08:17,522 - app.services.ai_recommendation_generator - INFO - 🚀 [AI GENERATOR] Starting automatic CV tailoring for Australia_for_UNHCR
2025-10-09 16:08:17,522 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:08:17,524 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded CV optimization framework from /Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/tailored_cv/prompts/framework.md
2025-10-09 16:08:17,524 - app.tailored_cv.services.cv_tailoring_service - INFO - Loading real data for Australia_for_UNHCR
2025-10-09 16:08:17,525 - app.tailored_cv.services.cv_tailoring_service - INFO - Company folder: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 16:08:17,525 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:08:17,525 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:08:17,526 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:08:17,526 - app.tailored_cv.services.cv_tailoring_service - INFO - 📄 [TAILORING] Using latest CV via unified selector → type=original, ts=None, path=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 16:08:17,527 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [DEBUG] Loading CV from user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 16:08:17,528 - app.tailored_cv.services.cv_tailoring_service - INFO - - First 200 chars: {   "personal_information": {     "name": "Maheshwor Tiwari",     "phone": "0414 032 507",     "email": "maheshtwari99@gmail.com",     "location": "Hurstville, NSW, 2220",     "linkedin": "LinkedIn", 
2025-10-09 16:08:17,529 - app.tailored_cv.services.recommendation_parser - INFO - 📂 Loading CV from: user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 16:08:17,530 - app.tailored_cv.services.recommendation_parser - INFO - 📋 CV format check:
2025-10-09 16:08:17,530 - app.tailored_cv.services.recommendation_parser - INFO -   - Top-level keys: ['personal_information', 'career_profile', 'skills', 'education', 'experience', 'projects', 'certifications', 'languages', 'awards', 'publications', 'volunteer_work', 'professional_memberships', 'unknown_sections', 'original_sections', 'saved_at', 'metadata']
2025-10-09 16:08:17,530 - app.tailored_cv.services.recommendation_parser - INFO -   - Has metadata: True
2025-10-09 16:08:17,530 - app.tailored_cv.services.recommendation_parser - INFO -   - Source file: maheshwor_tiwari.pdf
2025-10-09 16:08:17,530 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing version: 1.0
2025-10-09 16:08:17,531 - app.tailored_cv.services.recommendation_parser - INFO - 🔍 [CV_PARSER] Detailed CV structure analysis:
2025-10-09 16:08:17,531 - app.tailored_cv.services.recommendation_parser - INFO -   - Has contact: False
2025-10-09 16:08:17,531 - app.tailored_cv.services.recommendation_parser - INFO -   - Has experience: True
2025-10-09 16:08:17,531 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience type: <class 'list'>
2025-10-09 16:08:17,531 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience count: 6
2025-10-09 16:08:17,531 - app.tailored_cv.services.recommendation_parser - INFO -   - First experience keys: ['title', 'company', 'duration', 'location', 'responsibilities', 'achievements', 'technologies']
2025-10-09 16:08:17,531 - app.tailored_cv.services.recommendation_parser - INFO -   - Has skills: True
2025-10-09 16:08:17,532 - app.tailored_cv.services.recommendation_parser - INFO -   - Skills type: <class 'dict'>
2025-10-09 16:08:17,532 - app.tailored_cv.services.recommendation_parser - INFO -   - Skills count: Not a list
2025-10-09 16:08:17,532 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Detected structured CV format
2025-10-09 16:08:17,532 - app.tailored_cv.services.recommendation_parser - INFO - 📊 Structure overview:
2025-10-09 16:08:17,532 - app.tailored_cv.services.recommendation_parser - INFO -   - Skills sections: ['technical_skills', 'key_skills', 'soft_skills', 'domain_expertise']
2025-10-09 16:08:17,532 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience entries: 6
2025-10-09 16:08:17,532 - app.tailored_cv.services.recommendation_parser - INFO -   - Education entries: 3
2025-10-09 16:08:17,532 - app.tailored_cv.services.recommendation_parser - INFO -   - Projects: 0
2025-10-09 16:08:17,533 - app.tailored_cv.services.recommendation_parser - INFO - 🔄 Starting structured CV conversion
2025-10-09 16:08:17,533 - app.tailored_cv.services.recommendation_parser - INFO - 📊 Input data validation:
2025-10-09 16:08:17,533 - app.tailored_cv.services.recommendation_parser - INFO - 👤 Converting contact information
2025-10-09 16:08:17,533 - app.tailored_cv.services.recommendation_parser - INFO -   - Source fields: ['name', 'phone', 'email', 'location', 'linkedin', 'github', 'portfolio_links', 'residency_status', 'open_to']
2025-10-09 16:08:17,533 - app.tailored_cv.services.recommendation_parser - INFO -   - Mapped fields: ['name', 'email', 'phone', 'location', 'linkedin', 'website']
2025-10-09 16:08:17,533 - app.tailored_cv.services.recommendation_parser - INFO -   - Contact completeness: 100.0%
2025-10-09 16:08:17,533 - app.tailored_cv.services.recommendation_parser - INFO -   - LinkedIn: LinkedIn
2025-10-09 16:08:17,533 - app.tailored_cv.services.recommendation_parser - INFO -   - Website: GitHub
2025-10-09 16:08:17,534 - app.tailored_cv.services.recommendation_parser - INFO - 💼 Converting experience entries
2025-10-09 16:08:17,534 - app.tailored_cv.services.recommendation_parser - INFO -   - Found 6 experience entries
2025-10-09 16:08:17,534 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 1/6
2025-10-09 16:08:17,534 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: The Bitrates
2025-10-09 16:08:17,534 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Data Analyst
2025-10-09 16:08:17,534 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Jul 2024 to Present
2025-10-09 16:08:17,534 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 5
2025-10-09 16:08:17,534 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 2/6
2025-10-09 16:08:17,534 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: iBuild Building Solutions
2025-10-09 16:08:17,535 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Data Analyst
2025-10-09 16:08:17,535 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Mar 2024 to Jun 2024
2025-10-09 16:08:17,535 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 4
2025-10-09 16:08:17,535 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 3/6
2025-10-09 16:08:17,535 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: Property Console
2025-10-09 16:08:17,535 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Software engineer and Analyst
2025-10-09 16:08:17,535 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Jun 2023 to Nov 2023
2025-10-09 16:08:17,535 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 4
2025-10-09 16:08:17,535 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 4/6
2025-10-09 16:08:17,536 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: CY Cergy Paris University
2025-10-09 16:08:17,536 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Research Assistant
2025-10-09 16:08:17,536 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Oct 2018 to Sep 2022
2025-10-09 16:08:17,536 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 3
2025-10-09 16:08:17,537 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 5/6
2025-10-09 16:08:17,537 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: CY Cergy Paris University
2025-10-09 16:08:17,537 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Lecturer and Course Facilitator
2025-10-09 16:08:17,538 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Sep 2019 to Jun 2022
2025-10-09 16:08:17,538 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 3
2025-10-09 16:08:17,538 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 6/6
2025-10-09 16:08:17,538 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: CY Cergy Paris University
2025-10-09 16:08:17,538 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Research Intern
2025-10-09 16:08:17,538 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Feb 2018 to Jun 2018
2025-10-09 16:08:17,539 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 3
2025-10-09 16:08:17,539 - app.tailored_cv.services.recommendation_parser - INFO - Converted 6 experience entries
2025-10-09 16:08:17,539 - app.tailored_cv.services.recommendation_parser - INFO - 🔧 Converting skills section
2025-10-09 16:08:17,539 - app.tailored_cv.services.recommendation_parser - INFO -   - Source skill categories: ['technical_skills', 'key_skills', 'soft_skills', 'domain_expertise']
2025-10-09 16:08:17,540 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing technical skills:
2025-10-09 16:08:17,540 - app.tailored_cv.services.recommendation_parser - INFO -     • Extracted 5 unique technical skills
2025-10-09 16:08:17,540 - app.tailored_cv.services.recommendation_parser - INFO -     • Skills: Power BI, Data Analysis, Excel, SQL, Python
2025-10-09 16:08:17,541 - app.tailored_cv.services.recommendation_parser - INFO - Converted 1 skill categories
2025-10-09 16:08:17,541 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Conversion complete - Validating output
2025-10-09 16:08:17,541 - app.tailored_cv.services.recommendation_parser - INFO - ✓ Experience: 6 entries
2025-10-09 16:08:17,541 - app.tailored_cv.services.recommendation_parser - INFO - ✓ Skills: 1 categories
2025-10-09 16:08:17,541 - app.tailored_cv.services.recommendation_parser - INFO -   • Technical Skills: 5 skills
2025-10-09 16:08:17,542 - app.tailored_cv.services.recommendation_parser - INFO - ✨ Validation passed - All required sections present
2025-10-09 16:08:17,542 - app.tailored_cv.services.recommendation_parser - INFO - 🎓 Converting education entries
2025-10-09 16:08:17,542 - app.tailored_cv.services.recommendation_parser - INFO -   - Found 3 education entries
2025-10-09 16:08:17,543 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing education 1/3
2025-10-09 16:08:17,543 - app.tailored_cv.services.recommendation_parser - INFO -     • Institution: Charles Darwin University, Sydney, Australia
2025-10-09 16:08:17,543 - app.tailored_cv.services.recommendation_parser - INFO -     • Degree: Master of Data Science
2025-10-09 16:08:17,544 - app.tailored_cv.services.recommendation_parser - INFO -     • Graduation date: Mar 2023 - Nov 2024
2025-10-09 16:08:17,544 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing education 2/3
2025-10-09 16:08:17,544 - app.tailored_cv.services.recommendation_parser - INFO -     • Institution: CY Cergy Paris University, Cergy, France
2025-10-09 16:08:17,544 - app.tailored_cv.services.recommendation_parser - INFO -     • Degree: PhD in Physics
2025-10-09 16:08:17,545 - app.tailored_cv.services.recommendation_parser - INFO -     • Graduation date: Oct 2018 - Sep 2022
2025-10-09 16:08:17,545 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing education 3/3
2025-10-09 16:08:17,545 - app.tailored_cv.services.recommendation_parser - INFO -     • Institution: CY Cergy Paris University, Cergy, France
2025-10-09 16:08:17,546 - app.tailored_cv.services.recommendation_parser - INFO -     • Degree: Master of Theoretical Physics
2025-10-09 16:08:17,546 - app.tailored_cv.services.recommendation_parser - INFO -     • Graduation date: Sep 2016 - Jun 2018
2025-10-09 16:08:17,546 - app.tailored_cv.services.recommendation_parser - INFO - Converted 3 education entries
2025-10-09 16:08:17,546 - app.tailored_cv.services.recommendation_parser - INFO - 📤 Returning converted CV data:
2025-10-09 16:08:17,546 - app.tailored_cv.services.recommendation_parser - INFO -   - Contact fields: ['name', 'email', 'phone', 'location', 'linkedin', 'website']
2025-10-09 16:08:17,546 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience entries: 6
2025-10-09 16:08:17,547 - app.tailored_cv.services.recommendation_parser - INFO -   - Skill categories: 1
2025-10-09 16:08:17,547 - app.tailored_cv.services.recommendation_parser - INFO -   - Education entries: 3
2025-10-09 16:08:17,547 - app.tailored_cv.services.cv_tailoring_service - INFO - - Parsed CV data keys: ['contact', 'experience', 'skills', 'education']
2025-10-09 16:08:17,547 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Skills already in SkillCategory format
2025-10-09 16:08:17,548 - app.tailored_cv.services.cv_tailoring_service - INFO - - Final CV object attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__repr__', '__repr_args__', '__repr_name__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_check_frozen', '_copy_and_set_values', '_get_value', '_iter', 'construct', 'contact', 'copy', 'created_at', 'dict', 'education', 'experience', 'experience_level', 'from_orm', 'json', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'projects', 'schema', 'schema_json', 'skills', 'total_years_experience', 'update_forward_refs', 'updated_at', 'validate']
2025-10-09 16:08:17,552 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Parsed recommendation for Australia_for_UNHCR
2025-10-09 16:08:17,553 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded real CV and recommendation for Australia_for_UNHCR
2025-10-09 16:08:17,553 - app.tailored_cv.services.cv_tailoring_service - INFO - 🎯 Starting CV tailoring for Australia_for_UNHCR - Senior Data Analyst
2025-10-09 16:08:17,554 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [DEBUG] Validating CV structure:
2025-10-09 16:08:17,554 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV object type: <class 'app.tailored_cv.models.cv_models.OriginalCV'>
2025-10-09 16:08:17,555 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__repr__', '__repr_args__', '__repr_name__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_check_frozen', '_copy_and_set_values', '_get_value', '_iter', 'construct', 'contact', 'copy', 'created_at', 'dict', 'education', 'experience', 'experience_level', 'from_orm', 'json', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'projects', 'schema', 'schema_json', 'skills', 'total_years_experience', 'update_forward_refs', 'updated_at', 'validate']
2025-10-09 16:08:17,555 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV data: {
  "contact": {
    "name": "Maheshwor Tiwari",
    "phone": "0414 032 507",
    "email": "maheshtwari99@gmail.com",
    "linkedin": "LinkedIn",
    "location": "Hurstville, NSW, 2220",
    "website": "GitHub"
  },
  "education": [
    {
      "institution": "Charles Darwin University, Sydney, Australia",
      "degree": "Master of Data Science",
      "location": "Sydney, Australia",
      "graduation_date": "Mar 2023 - Nov 2024",
      "gpa": "GPA",
      "relevant_coursework": [],
      "honors": []
    },
    {
      "institution": "CY Cergy Paris University, Cergy, France",
      "degree": "PhD in Physics",
      "location": "Cergy, France",
      "graduation_date": "Oct 2018 - Sep 2022",
      "gpa": "",
      "relevant_coursework": [],
      "honors": []
    },
    {
      "institution": "CY Cergy Paris University, Cergy, France",
      "degree": "Master of Theoretical Physics",
      "location": "Cergy, France",
      "graduation_date": "Sep 2016 - Jun 2018",
      "gpa": "",
      "relevant_coursework": [],
      "honors": []
    }
  ],
  "experience": [
    {
      "company": "The Bitrates",
      "title": "Data Analyst",
      "location": "",
      "start_date": "Jul 2024",
      "end_date": "Present",
      "duration": null,
      "bullets": [
        "Designed and implemented Python scripts for data cleaning, preprocessing, and analysis, improving data pipeline efficiency by 30%.",
        "Developed machine learning models in Python for predictive analytics, enabling data-driven business decisions.",
        "Leveraged AI techniques to automate repetitive tasks, reducing manual effort and improving productivity.",
        "Built dynamic dashboards and visualizations using Python libraries like Matplotlib and Seaborn to communicate insights effectively.",
        "Integrated Google Analytics data with Python for advanced analysis, enhancing customer behavior insights."
      ],
      "skills_used": null
    },
    {
      "company": "iBuild Building Solutions",
      "title": "Data Analyst",
      "location": "",
      "start_date": "Mar 2024",
      "end_date": "Jun 2024",
      "duration": null,
      "bullets": [
        "Automated data extraction and structuring of population datasets using Python, improving data accuracy and team collaboration.",
        "Analyzed customer support data with Python to optimize response times and enhance operational efficiency.",
        "Developed Python-based solutions to generate actionable insights, meeting strict deadlines for strategic decision-making.",
        "Designed Python scripts to create dynamic reports and dashboards, significantly improving customer satisfaction and decision-making processes."
      ],
      "skills_used": null
    },
    {
      "company": "Property Console",
      "title": "Software engineer and Analyst",
      "location": "",
      "start_date": "Jun 2023",
      "end_date": "Nov 2023",
      "duration": null,
      "bullets": [
        "Built Python scripts to track key metrics, ensuring 99% data accuracy and improving data integrity and operational efficiency.",
        "Collaborated with the development team to enhance analytics capabilities, using Python to improve data processing speed by 25%.",
        "Leveraged Python for data preprocessing and analysis, producing Tableau dashboards that improved decision-making.",
        "Supported cross-functional teams with Python-driven insights, enabling customer-focused initiatives."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Research Assistant",
      "location": "",
      "start_date": "Oct 2018",
      "end_date": "Sep 2022",
      "duration": null,
      "bullets": [
        "Utilized advanced Python programming for computational modeling and solving complex research problems.",
        "Developed Python-based workflows to manage and analyze large datasets across multiple research projects.",
        "Presented Python-enabled research findings at international conferences, demonstrating technical expertise and communication skills."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Lecturer and Course Facilitator",
      "location": "",
      "start_date": "Sep 2019",
      "end_date": "Jun 2022",
      "duration": null,
      "bullets": [
        "Led engaging physics tutorials for master\u2019s students, enhancing understanding and promoting teamwork.",
        "Designed course materials, assignments, and exams, strengthening the learning experience.",
        "Mentored students on projects, collaborated with faculty, and fostered student engagement."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Research Intern",
      "location": "",
      "start_date": "Feb 2018",
      "end_date": "Jun 2018",
      "duration": null,
      "bullets": [
        "Developed proficiency in Python programming by researching the effect of magnetic fields on 2D materials.",
        "Managed and analyzed complex data sets, improving their accuracy and reliability.",
        "Used dashboard using Power BI to present research findings and participated in weekly reviews, improving collaboration and research skills."
      ],
      "skills_used": null
    }
  ],
  "projects": null,
  "skills": [
    {
      "category": "Technical Skills",
      "skills": [
        "Power BI",
        "Data Analysis",
        "Excel",
        "SQL",
        "Python"
      ]
    }
  ],
  "experience_level": null,
  "total_years_experience": null,
  "created_at": null,
  "updated_at": null
}
2025-10-09 16:08:17,556 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [CV_VALIDATION] Starting detailed validation:
2025-10-09 16:08:17,556 - app.tailored_cv.services.cv_tailoring_service - INFO - - Has contact: True
2025-10-09 16:08:17,557 - app.tailored_cv.services.cv_tailoring_service - INFO - - Contact name: Maheshwor Tiwari
2025-10-09 16:08:17,557 - app.tailored_cv.services.cv_tailoring_service - INFO - - Contact email: maheshtwari99@gmail.com
2025-10-09 16:08:17,557 - app.tailored_cv.services.cv_tailoring_service - INFO - - Has experience: True
2025-10-09 16:08:17,557 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience count: 6
2025-10-09 16:08:17,558 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 1: company=The Bitrates, bullets=5
2025-10-09 16:08:17,558 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 2: company=iBuild Building Solutions, bullets=4
2025-10-09 16:08:17,558 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 3: company=Property Console, bullets=4
2025-10-09 16:08:17,558 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 4: company=CY Cergy Paris University, bullets=3
2025-10-09 16:08:17,559 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 5: company=CY Cergy Paris University, bullets=3
2025-10-09 16:08:17,559 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 6: company=CY Cergy Paris University, bullets=3
2025-10-09 16:08:17,559 - app.tailored_cv.services.cv_tailoring_service - INFO - - Has skills: True
2025-10-09 16:08:17,559 - app.tailored_cv.services.cv_tailoring_service - INFO - - Skills count: 1
2025-10-09 16:08:17,559 - app.tailored_cv.services.cv_tailoring_service - INFO - - Skill category 1: Technical Skills, skills=5
2025-10-09 16:08:17,559 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [CV_VALIDATION] Checking required fields:
2025-10-09 16:08:17,559 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Contact name present: Maheshwor Tiwari
2025-10-09 16:08:17,559 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Contact email present: maheshtwari99@gmail.com
2025-10-09 16:08:17,560 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Experience entries present: 6
2025-10-09 16:08:17,560 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Skills section present: 1 categories
2025-10-09 16:08:17,562 - app.tailored_cv.services.cv_tailoring_service - INFO - [0cd37ef4] 🎯 Starting CV tailoring for Australia_for_UNHCR with strategy: education_last
2025-10-09 16:08:17,563 - app.tailored_cv.services.cv_tailoring_service - INFO - [0cd37ef4] Initial stats:
2025-10-09 16:08:17,563 - app.tailored_cv.services.cv_tailoring_service - INFO - [0cd37ef4] - Experience entries: 6
2025-10-09 16:08:17,563 - app.tailored_cv.services.cv_tailoring_service - INFO - [0cd37ef4] - Total bullets: 22
2025-10-09 16:08:17,563 - app.tailored_cv.services.cv_tailoring_service - INFO - [0cd37ef4] - Skills categories: 1
2025-10-09 16:08:17,564 - app.tailored_cv.services.cv_tailoring_service - INFO - [0cd37ef4] - Total skills: 5
2025-10-09 16:08:17,564 - app.tailored_cv.services.cv_tailoring_service - INFO - [0cd37ef4] Critical gaps to address: Humanitarian Aid, Refugee Support, Detail-oriented, Stakeholder Management
2025-10-09 16:08:17,564 - app.tailored_cv.services.cv_tailoring_service - INFO - [0cd37ef4] Technical enhancements needed: 
2025-10-09 16:08:17,564 - app.tailored_cv.services.cv_tailoring_service - INFO - [0cd37ef4] 🤖 Generating tailored CV using AI service...
2025-10-09 16:08:17,565 - app.tailored_cv.services.cv_tailoring_service - INFO - [0cd37ef4] Attempt 1/5 with temp=0.0
2025-10-09 16:08:17,565 - app.tailored_cv.services.cv_tailoring_service - INFO - [0cd37ef4] - System prompt length: 10574
2025-10-09 16:08:17,565 - app.tailored_cv.services.cv_tailoring_service - INFO - [0cd37ef4] - User prompt length: 12609
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=original, ts=00000000_000000, mtime=1759986398.6319315, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=original, ts=00000000_000000, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 16:08:17,584 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:08:17,584 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:08:17,585 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 16:08:17,585 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 16:08:17,586 INFO sqlalchemy.engine.Engine [generated in 0.00083s] {'email_1': 'keosha@gmail.com', 'param_1': 1}
2025-10-09 16:08:17,586 - sqlalchemy.engine.Engine - INFO - [generated in 0.00083s] {'email_1': 'keosha@gmail.com', 'param_1': 1}
2025-10-09 16:08:17,633 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:08:17,633 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:08:17,648 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user keosha@gmail.com
2025-10-09 16:08:17,649 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Before initialization:
2025-10-09 16:08:17,649 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 16:08:17,649 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:08:17,650 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:08:17,650 - app.ai.ai_service - INFO - - Cached providers for user: ['openai']
2025-10-09 16:08:17,650 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Using cached providers for user keosha@gmail.com
2025-10-09 16:08:17,651 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] After initialization:
2025-10-09 16:08:17,651 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 16:08:17,651 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:08:17,651 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:08:17,651 - app.tailored_cv.services.cv_tailoring_service - INFO - [0cd37ef4] 🔄 Initialized AI service for user keosha@gmail.com
2025-10-09 16:08:17,652 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:08:17,652 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:08:17,653 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:08:17,653 - app.ai.ai_service - INFO - - Prompt length: 12609
2025-10-09 16:08:17,654 - app.ai.ai_service - INFO - - System prompt length: 10574
2025-10-09 16:08:17,655 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:08:17,655 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:08:17,655 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:08:17,655 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:08:17,656 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:08:17,656 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:08:17,656 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:08:17,656 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:08:18,123 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:08:18,134 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:08:18,134 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:08:18,135 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:08:18,135 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:08:33,867 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:08:33,881 - app.tailored_cv.services.cv_tailoring_service - INFO - [0cd37ef4] AI response stats:
2025-10-09 16:08:33,881 - app.tailored_cv.services.cv_tailoring_service - INFO - [0cd37ef4] - Content length: 5883
2025-10-09 16:08:33,881 - app.tailored_cv.services.cv_tailoring_service - INFO - [0cd37ef4] - First 300 chars: {   "contact": {     "name": "Maheshwor Tiwari",     "phone": "0414 032 507",     "email": "maheshtwari99@gmail.com",     "location": "Hurstville, NSW, 2220",     "linkedin": "",     "website": ""   },   "education": [     {       "institution": "Charles Darwin University, Sydney, Australia",       ...
2025-10-09 16:08:33,881 - app.tailored_cv.services.cv_tailoring_service - INFO - Starting JSON extraction from content length: 5883
2025-10-09 16:08:33,882 - app.tailored_cv.services.cv_tailoring_service - INFO - [0cd37ef4] 🔍 Starting JSON validation
2025-10-09 16:08:33,883 - app.tailored_cv.services.cv_tailoring_service - WARNING - [0cd37ef4] CV created below minimum standards: 45.5% quantification
2025-10-09 16:08:33,883 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ JSON structure and Impact Formula validation passed (10/22 bullets with quantification)
2025-10-09 16:08:33,883 - app.tailored_cv.services.cv_tailoring_service - INFO - ℹ️ Skipping placeholder checks; proceeding with generated data as-is.
2025-10-09 16:08:33,883 - app.tailored_cv.services.cv_tailoring_service - INFO - [0cd37ef4] 🔍 Starting keyword integration validation
2025-10-09 16:08:33,883 - app.tailored_cv.services.cv_tailoring_service - INFO - [0cd37ef4] Scanning experience bullets:
2025-10-09 16:08:33,883 - app.tailored_cv.services.cv_tailoring_service - INFO - [0cd37ef4] - Experience 1: 5 bullets
2025-10-09 16:08:33,883 - app.tailored_cv.services.cv_tailoring_service - INFO - [0cd37ef4] - Experience 2: 4 bullets
2025-10-09 16:08:33,883 - app.tailored_cv.services.cv_tailoring_service - INFO - [0cd37ef4] - Experience 3: 4 bullets
2025-10-09 16:08:33,883 - app.tailored_cv.services.cv_tailoring_service - INFO - [0cd37ef4] - Experience 4: 3 bullets
2025-10-09 16:08:33,884 - app.tailored_cv.services.cv_tailoring_service - INFO - [0cd37ef4] - Experience 5: 3 bullets
2025-10-09 16:08:33,884 - app.tailored_cv.services.cv_tailoring_service - INFO - [0cd37ef4] - Experience 6: 3 bullets
2025-10-09 16:08:33,884 - app.tailored_cv.services.cv_tailoring_service - INFO - [0cd37ef4] Scanning skills:
2025-10-09 16:08:33,884 - app.tailored_cv.services.cv_tailoring_service - INFO - [0cd37ef4] - Category 1: 7 skills
2025-10-09 16:08:33,884 - app.tailored_cv.services.cv_tailoring_service - WARNING - ⚠️ Some keywords not found but within acceptable range: Detail-oriented, Stakeholder Management
2025-10-09 16:08:33,884 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Keyword integration validation passed - 2/4 critical keywords found
2025-10-09 16:08:33,884 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Keyword integration validation passed - 4 critical keywords found
2025-10-09 16:08:33,885 - app.tailored_cv.services.cv_tailoring_service - INFO - [0cd37ef4] ✅ AI generation successful on attempt 1
2025-10-09 16:08:33,885 - app.tailored_cv.services.cv_tailoring_service - INFO - [0cd37ef4] 🔁 Quantification below 60% (45.5%). Enhancement attempt 1/3
2025-10-09 16:08:33,886 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:08:33,886 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:08:33,886 - app.ai.ai_service - INFO - - Prompt length: 14365
2025-10-09 16:08:33,887 - app.ai.ai_service - INFO - - System prompt length: 10574
2025-10-09 16:08:33,887 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:08:33,887 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:08:33,888 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:08:33,888 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:08:33,889 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:08:33,889 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:08:33,889 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:08:33,889 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:08:34,466 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:08:34,504 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:08:34,505 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:08:34,505 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:08:34,505 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:08:50,437 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:08:50,441 - app.tailored_cv.services.cv_tailoring_service - INFO - Starting JSON extraction from content length: 5526
2025-10-09 16:08:50,441 - app.tailored_cv.services.cv_tailoring_service - INFO - [0cd37ef4] 🔍 Starting JSON validation
2025-10-09 16:08:50,442 - app.tailored_cv.services.cv_tailoring_service - INFO - [0cd37ef4] CV created with improvement suggestions: 72.7% quantification
2025-10-09 16:08:50,442 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ JSON structure and Impact Formula validation passed (16/22 bullets with quantification)
2025-10-09 16:08:50,458 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:08:50,458 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:08:50,458 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 16:08:50,458 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 16:08:50,459 INFO sqlalchemy.engine.Engine [cached since 32.87s ago] {'email_1': 'keosha@gmail.com', 'param_1': 1}
2025-10-09 16:08:50,459 - sqlalchemy.engine.Engine - INFO - [cached since 32.87s ago] {'email_1': 'keosha@gmail.com', 'param_1': 1}
2025-10-09 16:08:50,499 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:08:50,499 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:08:50,521 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:08:50,522 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:08:50,522 - app.ai.ai_service - INFO - - Prompt length: 3054
2025-10-09 16:08:50,522 - app.ai.ai_service - INFO - - System prompt length: 424
2025-10-09 16:08:50,522 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:08:50,523 - app.ai.ai_service - INFO - - Max tokens: 10
2025-10-09 16:08:50,523 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:08:50,523 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:08:50,523 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:08:50,524 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:08:50,524 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:08:50,524 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:08:51,065 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:08:51,080 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:08:51,080 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:08:51,081 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:08:51,081 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:08:51,663 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:08:51,665 - app.tailored_cv.services.cv_tailoring_service - INFO - ⚠️ CV created with quality warnings: GOOD (B+)
2025-10-09 16:08:51,665 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ CV tailoring completed successfully. Estimated ATS score: 85
2025-10-09 16:08:51,668 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Saved tailored CV to user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
2025-10-09 16:08:51,668 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Saved tailored CV text to user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.txt
2025-10-09 16:08:51,668 - app.services.ai_recommendation_generator - INFO - ✅ [AI GENERATOR] Tailored CV saved automatically to user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
2025-10-09 16:08:51,669 - app.services.ai_recommendation_generator - INFO - 📊 [AI GENERATOR] Estimated ATS score: 85
2025-10-09 16:08:51,670 - app.services.ai_recommendation_generator - INFO - 🎯 [AI GENERATOR] CV tailoring completed automatically for Australia_for_UNHCR
2025-10-09 16:08:51,671 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] AI recommendation generated for Australia_for_UNHCR
2025-10-09 16:08:51,672 - app.routes.skills_analysis - INFO - 🎯 [PIPELINE] Starting tailored CV generation for Australia_for_UNHCR
2025-10-09 16:08:51,673 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:08:51,675 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded CV optimization framework from /Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/tailored_cv/prompts/framework.md
2025-10-09 16:08:51,676 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:08:51,676 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Found AI recommendation file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_160817.json
2025-10-09 16:08:51,677 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Tailored CV found: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.txt
2025-10-09 16:08:51,677 - app.routes.skills_analysis - INFO - 📋 [PIPELINE] Pipeline summary for Australia_for_UNHCR:
2025-10-09 16:08:51,677 - app.routes.skills_analysis - INFO -    ✅ Successful: ['jd_analysis', 'cv_jd_matching', 'component_analysis', 'input_recommendation', 'ai_recommendation', 'tailored_cv']
2025-10-09 16:08:51,678 - app.routes.skills_analysis - INFO -    🎉 All steps completed successfully!
2025-10-09 16:08:51,679 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-09 16:08:51,680 - app.services.ai_recommendation_generator - INFO - 🟢 [AI GENERATOR] Latest AI recommendation (Australia_for_UNHCR_ai_recommendation_20251009_160817.json) is up-to-date vs input (Australia_for_UNHCR_input_recommendation_20251009_160811.json); skipping regeneration
2025-10-09 16:08:51,680 - app.services.ats_recommendation_service - INFO - ✅ [TRIGGER] AI recommendation generated successfully for Australia_for_UNHCR
2025-10-09 16:08:51,681 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-09 16:08:51,681 - app.services.ai_recommendation_generator - INFO - 🟢 [AI GENERATOR] Latest AI recommendation (Australia_for_UNHCR_ai_recommendation_20251009_160817.json) is up-to-date vs input (Australia_for_UNHCR_input_recommendation_20251009_160811.json); skipping regeneration
2025-10-09 16:08:51,682 - app.services.ats_recommendation_service - INFO - ✅ [TRIGGER] AI recommendation generated successfully for Australia_for_UNHCR
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 16:08:51,783 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [10729]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [11142]
INFO:     Waiting for application startup.
2025-10-09 16:08:58,529 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 16:08:58,870 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 16:08:58,870 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 16:08:58,871 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:08:58,871 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:08:58,913 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 16:08:58,913 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 16:08:58,914 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:08:58,914 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:08:58,965 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 16:08:58,965 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 16:08:58,965 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:08:58,965 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:08:59,009 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:08:59,009 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:08:59,009 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 16:08:59,009 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 16:08:59,009 INFO sqlalchemy.engine.Engine [generated in 0.00067s] {}
2025-10-09 16:08:59,009 - sqlalchemy.engine.Engine - INFO - [generated in 0.00067s] {}
2025-10-09 16:08:59,058 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:08:59,058 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:08:59,078 - app.database - INFO - Database connection successful
2025-10-09 16:08:59,080 - app.main - INFO - ✅ Database connection successful
2025-10-09 16:08:59,106 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:08:59,106 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:08:59,182 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:08:59,182 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:08:59,183 INFO sqlalchemy.engine.Engine [generated in 0.00199s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:08:59,183 - sqlalchemy.engine.Engine - INFO - [generated in 0.00199s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:08:59,229 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:08:59,229 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:08:59,229 INFO sqlalchemy.engine.Engine [cached since 0.04776s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:08:59,229 - sqlalchemy.engine.Engine - INFO - [cached since 0.04776s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:08:59,251 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:08:59,251 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:08:59,251 INFO sqlalchemy.engine.Engine [cached since 0.07018s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:08:59,251 - sqlalchemy.engine.Engine - INFO - [cached since 0.07018s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:08:59,274 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:08:59,274 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:08:59,274 INFO sqlalchemy.engine.Engine [cached since 0.09287s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:08:59,274 - sqlalchemy.engine.Engine - INFO - [cached since 0.09287s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:08:59,297 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:08:59,297 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:08:59,298 INFO sqlalchemy.engine.Engine [cached since 0.1168s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:08:59,298 - sqlalchemy.engine.Engine - INFO - [cached since 0.1168s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:08:59,319 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:08:59,319 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:08:59,320 INFO sqlalchemy.engine.Engine [cached since 0.139s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:08:59,320 - sqlalchemy.engine.Engine - INFO - [cached since 0.139s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:08:59,342 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:08:59,342 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:08:59,343 INFO sqlalchemy.engine.Engine [cached since 0.1612s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:08:59,343 - sqlalchemy.engine.Engine - INFO - [cached since 0.1612s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:08:59,365 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:08:59,365 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:08:59,366 INFO sqlalchemy.engine.Engine [cached since 0.1846s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:08:59,366 - sqlalchemy.engine.Engine - INFO - [cached since 0.1846s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:08:59,387 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:08:59,387 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:08:59,389 INFO sqlalchemy.engine.Engine [cached since 0.2073s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:08:59,389 - sqlalchemy.engine.Engine - INFO - [cached since 0.2073s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:08:59,409 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:08:59,409 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:08:59,409 INFO sqlalchemy.engine.Engine [cached since 0.2278s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:08:59,409 - sqlalchemy.engine.Engine - INFO - [cached since 0.2278s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:08:59,434 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:08:59,434 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:08:59,437 INFO sqlalchemy.engine.Engine [cached since 0.2559s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:08:59,437 - sqlalchemy.engine.Engine - INFO - [cached since 0.2559s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:08:59,462 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 16:08:59,462 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 16:08:59,481 - app.database - INFO - Database tables created successfully
2025-10-09 16:08:59,482 - app.main - INFO - ✅ Database tables ready
2025-10-09 16:08:59,482 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 16:08:59,483 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
INFO:     127.0.0.1:52334 - "OPTIONS /api/analysis-results/Australia_for_UNHCR HTTP/1.1" 200 OK
2025-10-09 16:08:59,507 - app.routes.skills_analysis - INFO - 📊 [API] Fetching analysis results for company: Australia_for_UNHCR
2025-10-09 16:08:59,509 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:08:59,509 - app.utils.path_debug - INFO - 
📌 Starting get_analysis_results
2025-10-09 16:08:59,510 - app.utils.path_debug - INFO -   📂 User base dir: user/keosha@gmail.com/cv-analysis
2025-10-09 16:08:59,510 - app.utils.path_debug - INFO -   📂 Company dir: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 16:08:59,514 - app.utils.path_debug - INFO -   📂 Using analysis file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_160722.json
2025-10-09 16:08:59,516 - app.utils.path_debug - INFO -   ✅ Loaded analysis file, size: 31334 bytes
INFO:     127.0.0.1:52334 - "GET /api/analysis-results/Australia_for_UNHCR HTTP/1.1" 200 OK
2025-10-09 16:09:12,060 - app.routes.skills_analysis - INFO - 📊 [API] Fetching analysis results for company: Australia_for_UNHCR
2025-10-09 16:09:12,061 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:09:12,062 - app.utils.path_debug - INFO - 
📌 Starting get_analysis_results
2025-10-09 16:09:12,062 - app.utils.path_debug - INFO -   📂 User base dir: user/keosha@gmail.com/cv-analysis
2025-10-09 16:09:12,062 - app.utils.path_debug - INFO -   📂 Company dir: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 16:09:12,063 - app.utils.path_debug - INFO -   📂 Using analysis file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_160722.json
2025-10-09 16:09:12,065 - app.utils.path_debug - INFO -   ✅ Loaded analysis file, size: 31334 bytes
INFO:     127.0.0.1:52344 - "GET /api/analysis-results/Australia_for_UNHCR HTTP/1.1" 200 OK
INFO:     127.0.0.1:52398 - "OPTIONS /api/ai-recommendations/company/Australia_for_UNHCR HTTP/1.1" 200 OK
2025-10-09 16:09:34,743 - app.routes.ai_recommendations - INFO - 🔍 [AI_RECOMMENDATIONS] Fetching for company: Australia_for_UNHCR, user: keosha@gmail.com
2025-10-09 16:09:34,743 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:09:34,743 - app.routes.ai_recommendations - INFO - 🔍 [AI_RECOMMENDATIONS] Searching in: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 16:09:34,744 - app.routes.ai_recommendations - INFO - ✅ [AI_RECOMMENDATIONS] Found file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_160817.json
2025-10-09 16:09:34,744 - app.routes.ai_recommendations - INFO - ✅ [AI_RECOMMENDATIONS] Successfully loaded recommendation, content length: 3099
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
INFO:     127.0.0.1:52398 - "GET /api/ai-recommendations/company/Australia_for_UNHCR HTTP/1.1" 200 OK
INFO:     127.0.0.1:52400 - "OPTIONS /api/tailored-cv/available-companies-real HTTP/1.1" 200 OK
2025-10-09 16:10:01,268 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
INFO:     127.0.0.1:52400 - "GET /api/tailored-cv/available-companies-real HTTP/1.1" 200 OK
INFO:     127.0.0.1:52400 - "OPTIONS /api/tailored-cv/content/Australia_for_UNHCR HTTP/1.1" 200 OK
2025-10-09 16:10:01,334 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 📄 Tailored CV content request for Australia_for_UNHCR from user 0d4bdc07-cadf-4300-8e4f-f07da7575a62
2025-10-09 16:10:01,335 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:10:01,335 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:10:01,336 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:10:01,337 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ Served TAILORED CV content: Australia_for_UNHCR_tailored_cv_20251009_160851.txt from tailored folder (3578 characters)
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
🔍 Searching for tailored CV ONLY for company: Australia_for_UNHCR
📁 Found 1 tailored CV candidates
✅ Selected tailored CV: tailored - user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
INFO:     127.0.0.1:52436 - "GET /api/tailored-cv/content/Australia_for_UNHCR HTTP/1.1" 200 OK
INFO:     127.0.0.1:52465 - "OPTIONS /api/tailored-cv/save-edited HTTP/1.1" 200 OK
2025-10-09 16:10:16,239 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Received request data keys: ['company', 'content']
2025-10-09 16:10:16,240 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Request data: {
  "company": "Australia_for_UNHCR",
  "content": "Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220\n\nTECHNICAL SKILLS\n\u2022 Power BI, Excel, SQL, Python, Humanitarian Aid, Stakeholder Management, Data Analysis, Refugee Support, Detail-oriented\n\n\n\nMaster of Theoretical Physics\nCY Cergy Paris University, Cergy, France, Cergy, France, Sep 2016 - Jun 2018\n\nMaster of Data Science\nCharles Darwin University, Sydney, Australia, Sydney, Australia, GPA GPA,...
2025-10-09 16:10:16,241 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Extracted - Company: Australia_for_UNHCR
2025-10-09 16:10:16,242 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Extracted - Content type: <class 'str'>
2025-10-09 16:10:16,242 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Extracted - Content length: 453
2025-10-09 16:10:16,242 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Starting save process for Australia_for_UNHCR
2025-10-09 16:10:16,243 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:10:16,243 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Tailored path: user/keosha@gmail.com/cv-analysis/cvs/tailored
2025-10-09 16:10:16,244 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Found 1 existing TXT files in tailored folder
2025-10-09 16:10:16,244 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] - user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.txt
2025-10-09 16:10:16,245 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated TXT: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.txt
2025-10-09 16:10:16,246 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Starting CV content parsing
2025-10-09 16:10:16,247 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Content length: 453
2025-10-09 16:10:16,247 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Existing JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:10:16,247 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Processing 12 lines
2025-10-09 16:10:16,247 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing contact line: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220
2025-10-09 16:10:16,248 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: technical_skills
2025-10-09 16:10:16,249 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsed 9 skills
2025-10-09 16:10:16,249 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing completed successfully
2025-10-09 16:10:16,249 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Updated JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:10:16,250 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated JSON: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
2025-10-09 16:10:16,250 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Completed saving for Australia_for_UNHCR
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
INFO:     127.0.0.1:52467 - "POST /api/tailored-cv/save-edited HTTP/1.1" 200 OK
2025-10-09 16:10:19,027 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Received request data keys: ['company', 'content']
2025-10-09 16:10:19,027 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Request data: {
  "company": "Australia_for_UNHCR",
  "content": "Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220\n\nTECHNICAL SKILLS\n\u2022 Power BI, Excel, SQL, Python, Humanitarian Aid, Stakeholder Management, Data Analysis, Refugee Support, Detail-oriented\n\n"
}...
2025-10-09 16:10:19,027 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Extracted - Company: Australia_for_UNHCR
2025-10-09 16:10:19,028 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Extracted - Content type: <class 'str'>
2025-10-09 16:10:19,028 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Extracted - Content length: 226
2025-10-09 16:10:19,028 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Starting save process for Australia_for_UNHCR
2025-10-09 16:10:19,028 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:10:19,029 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Tailored path: user/keosha@gmail.com/cv-analysis/cvs/tailored
2025-10-09 16:10:19,029 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Found 1 existing TXT files in tailored folder
2025-10-09 16:10:19,029 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] - user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.txt
2025-10-09 16:10:19,030 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated TXT: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.txt
2025-10-09 16:10:19,030 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Starting CV content parsing
2025-10-09 16:10:19,030 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Content length: 226
2025-10-09 16:10:19,031 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Existing JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:10:19,031 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Processing 4 lines
2025-10-09 16:10:19,031 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing contact line: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220
2025-10-09 16:10:19,032 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: technical_skills
2025-10-09 16:10:19,032 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsed 9 skills
2025-10-09 16:10:19,034 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing completed successfully
2025-10-09 16:10:19,045 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Updated JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:10:19,046 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated JSON: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
2025-10-09 16:10:19,046 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Completed saving for Australia_for_UNHCR
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
INFO:     127.0.0.1:52467 - "POST /api/tailored-cv/save-edited HTTP/1.1" 200 OK
2025-10-09 16:10:19,443 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Received request data keys: ['company', 'content']
2025-10-09 16:10:19,444 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Request data: {
  "company": "Australia_for_UNHCR",
  "content": "Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220\n\nTECHNICAL SKILLS\n\u2022 Power BI, Excel, SQL, Python, Humanitarian Aid, Stakeholder Management, Data Analysis, Refugee Support, Detail-oriented\n\n"
}...
2025-10-09 16:10:19,444 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Extracted - Company: Australia_for_UNHCR
2025-10-09 16:10:19,444 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Extracted - Content type: <class 'str'>
2025-10-09 16:10:19,444 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Extracted - Content length: 226
2025-10-09 16:10:19,444 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Starting save process for Australia_for_UNHCR
2025-10-09 16:10:19,445 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:10:19,445 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Tailored path: user/keosha@gmail.com/cv-analysis/cvs/tailored
2025-10-09 16:10:19,445 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Found 1 existing TXT files in tailored folder
2025-10-09 16:10:19,445 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] - user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.txt
2025-10-09 16:10:19,446 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated TXT: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.txt
2025-10-09 16:10:19,446 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Starting CV content parsing
2025-10-09 16:10:19,446 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Content length: 226
2025-10-09 16:10:19,446 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Existing JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:10:19,447 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Processing 4 lines
2025-10-09 16:10:19,447 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing contact line: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220
2025-10-09 16:10:19,447 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: technical_skills
2025-10-09 16:10:19,447 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsed 9 skills
2025-10-09 16:10:19,447 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing completed successfully
2025-10-09 16:10:19,447 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Updated JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:10:19,448 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated JSON: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
2025-10-09 16:10:19,448 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Completed saving for Australia_for_UNHCR
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
INFO:     127.0.0.1:52467 - "POST /api/tailored-cv/save-edited HTTP/1.1" 200 OK
INFO:     127.0.0.1:52628 - "GET /api/preliminary-analysis/cache HTTP/1.1" 200 OK
2025-10-09 16:12:17,879 - app.core.model_dependency - INFO - 🔍 [MODEL_DEPENDENCY] Initializing model for user: keosha@gmail.com
2025-10-09 16:12:17,882 - app.core.model_dependency - INFO - - Header model: gpt-3.5-turbo
2025-10-09 16:12:17,882 - app.core.model_dependency - INFO - - User ID: 0d4bdc07-cadf-4300-8e4f-f07da7575a62
2025-10-09 16:12:17,882 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 16:12:17,883 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:12:17,883 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 16:12:17,883 - app.ai.ai_service - INFO - - Available providers: []
2025-10-09 16:12:17,883 - app.ai.ai_service - INFO - - Provider status: {}
2025-10-09 16:12:17,884 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 16:12:17,884 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: []
2025-10-09 16:12:17,884 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 16:12:17,884 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {}
2025-10-09 16:12:17,884 - app.ai.ai_service - ERROR - ❌ No current provider available for model switching
2025-10-09 16:12:17,885 - app.core.model_dependency - WARNING - ⚠️ Failed to switch to header model gpt-3.5-turbo
2025-10-09 16:12:17,921 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user keosha@gmail.com
2025-10-09 16:12:17,921 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Before initialization:
2025-10-09 16:12:17,921 - app.ai.ai_service - INFO - - Current providers: []
2025-10-09 16:12:17,921 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 16:12:17,921 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 16:12:17,922 - app.ai.ai_service - INFO - - Cached providers for user: []
2025-10-09 16:12:17,922 - app.ai.ai_service - INFO - 🔄 [AI_SERVICE] Initializing new providers for user keosha@gmail.com
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
2025-10-09 16:12:17,990 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:12:17,990 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:12:18,000 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:12:18,000 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:12:18,000 INFO sqlalchemy.engine.Engine [generated in 0.00097s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 16:12:18,000 - sqlalchemy.engine.Engine - INFO - [generated in 0.00097s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 16:12:18,060 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:12:18,060 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:12:18,876 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:12:18,893 - app.ai.ai_service - INFO - ✅ Initialized openai provider with model gpt-4o for user keosha@gmail.com
2025-10-09 16:12:18,913 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:12:18,913 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:12:18,914 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:12:18,914 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:12:18,915 INFO sqlalchemy.engine.Engine [cached since 0.9159s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 16:12:18,915 - sqlalchemy.engine.Engine - INFO - [cached since 0.9159s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 16:12:18,948 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:12:18,948 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:12:18,969 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user keosha@gmail.com and provider anthropic
2025-10-09 16:12:18,995 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:12:18,995 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:12:18,996 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:12:18,996 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:12:18,996 INFO sqlalchemy.engine.Engine [cached since 0.997s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 16:12:18,996 - sqlalchemy.engine.Engine - INFO - [cached since 0.997s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 16:12:19,048 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:12:19,048 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:12:19,070 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user keosha@gmail.com and provider deepseek
2025-10-09 16:12:19,070 - app.ai.ai_service - INFO - 💾 [AI_SERVICE] Cached 1 providers for user keosha@gmail.com
2025-10-09 16:12:19,070 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] After initialization:
2025-10-09 16:12:19,071 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 16:12:19,071 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 16:12:19,071 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 16:12:19,071 - app.core.model_dependency - INFO - ✅ [MODEL_DEPENDENCY] AI providers initialized for user keosha@gmail.com
2025-10-09 16:12:19,091 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:12:19,091 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:12:19,095 INFO sqlalchemy.engine.Engine SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 16:12:19,095 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 16:12:19,095 INFO sqlalchemy.engine.Engine [generated in 0.00043s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'param_1': 1}
2025-10-09 16:12:19,095 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'param_1': 1}
2025-10-09 16:12:19,131 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:12:19,131 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:12:19,149 - app.core.model_dependency - INFO - 🔍 [MODEL_DEPENDENCY] Found saved preference: openai/gpt-3.5-turbo
2025-10-09 16:12:19,149 - app.ai.ai_service - INFO - ✅ Switched to openai provider with model gpt-3.5-turbo
2025-10-09 16:12:19,149 - app.core.model_dependency - INFO - ✅ [MODEL_DEPENDENCY] Successfully restored user preference: openai/gpt-3.5-turbo
2025-10-09 16:12:19,152 - app.routes.skills_analysis - INFO - 🎯 Preliminary analysis request: CV=maheshwor_tiwari.pdf, JD_length=6014, CONFIG=None
2025-10-09 16:12:19,154 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:12:19,154 - app.routes.skills_analysis - INFO - 🏢 Extracted company name: Australia_for_UNHCR
2025-10-09 16:12:19,155 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:12:19,157 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:12:19,157 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:12:19,158 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:12:19,158 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:12:19,160 - app.routes.skills_analysis - INFO - 🔗 [PRELIM_ANALYSIS] JD URL (latest job_info): https://www.ethicaljobs.com.au/members/australiaforunhcr/data-analyst
2025-10-09 16:12:19,162 - app.routes.skills_analysis - INFO - 📄 [PRELIM_ANALYSIS] Latest CV selected → type=tailored, ts=20251009_160851, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json, txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.txt
2025-10-09 16:12:19,163 - app.routes.skills_analysis - INFO - 🧪 [PRELIM_ANALYSIS] CV content length=226, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • Power BI, Excel, SQL, Python, Humanitarian Aid, Stakeholder Management, Data Analysis, Refugee Support, Detail-oriented  '
2025-10-09 16:12:19,163 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 16:12:19,163 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 16:12:19,164 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 16:12:19,164 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Starting AI-powered skills analysis for maheshwor_tiwari.pdf
2025-10-09 16:12:19,164 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] CV content length: 226 chars
2025-10-09 16:12:19,164 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] JD content length: 6014 chars
2025-10-09 16:12:19,164 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using config: default
2025-10-09 16:12:19,164 - app.routes.skills_analysis - INFO - 🧪 [SKILLS_ANALYSIS] CV preview: 'Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • Power BI, Excel, SQL, Python, Humanitarian Aid, Stakeholder Management, Dat'
2025-10-09 16:12:19,164 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:12:19,164 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:12:19,165 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:12:19,165 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:12:19,166 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:12:20,338 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:12:20,354 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:12:20,354 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:12:20,354 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:12:20,354 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI provider: openai
2025-10-09 16:12:20,354 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI model: gpt-3.5-turbo
2025-10-09 16:12:20,354 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Provider available: True
2025-10-09 16:12:20,355 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Model from header: gpt-3.5-turbo
2025-10-09 16:12:20,355 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting CV skills with detailed structured analysis...
2025-10-09 16:12:20,355 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:12:20,355 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:12:20,355 - app.ai.ai_service - INFO - - Prompt length: 6397
2025-10-09 16:12:20,355 - app.ai.ai_service - INFO - - System prompt length: 0
2025-10-09 16:12:20,356 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:12:20,356 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:12:20,356 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:12:20,356 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:12:20,356 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:12:20,356 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:12:20,357 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:12:20,357 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:12:20,975 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:12:21,012 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:12:21,013 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:12:21,013 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:12:21,013 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:12:22,334 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:12:22,354 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] Starting response parsing...
2025-10-09 16:12:22,355 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] Raw response preview: 
## SOFT SKILLS:
**EXPLICIT (directly stated):**
- Communication
- Detail-oriented

## TECHNICAL SKILLS:
**EXPLICIT (directly stated):**
- Power BI
- Excel
- SQL
- Python
- Data Analysis
- Refugee Support

## DOMAIN KEYWORDS:
**EXPLICIT:**
- Humanitarian Aid
- Stakeholder Management...
2025-10-09 16:12:22,355 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] FULL CV RESPONSE: 
## SOFT SKILLS:
**EXPLICIT (directly stated):**
- Communication
- Detail-oriented

## TECHNICAL SKILLS:
**EXPLICIT (directly stated):**
- Power BI
- Excel
- SQL
- Python
- Data Analysis
- Refugee Support

## DOMAIN KEYWORDS:
**EXPLICIT:**
- Humanitarian Aid
- Stakeholder Management
2025-10-09 16:12:22,356 - app.services.skill_extraction.response_parser - WARNING - ⚠️ [CV] No SOFT_SKILLS variable found in response
2025-10-09 16:12:22,357 - app.services.skill_extraction.response_parser - WARNING - ⚠️ [CV] No TECHNICAL_SKILLS variable found in response
2025-10-09 16:12:22,358 - app.services.skill_extraction.response_parser - WARNING - ⚠️ [CV] No DOMAIN_KEYWORDS variable found in response
2025-10-09 16:12:22,358 - app.services.skill_extraction.response_parser - INFO - 🔄 [CV] Python format not found, trying markdown format...
2025-10-09 16:12:22,360 - app.services.skill_extraction.response_parser - INFO - 🔄 [CV] Markdown format not found, trying section headers...
2025-10-09 16:12:22,369 - app.services.skill_extraction.response_parser - INFO - 📊 [CV] Parsing completed:
2025-10-09 16:12:22,370 - app.services.skill_extraction.response_parser - INFO -    Soft Skills (0): []
2025-10-09 16:12:22,370 - app.services.skill_extraction.response_parser - INFO -    Technical Skills (0): []
2025-10-09 16:12:22,370 - app.services.skill_extraction.response_parser - INFO -    Domain Keywords (0): []
2025-10-09 16:12:22,371 - app.services.skill_extraction.response_parser - ERROR - ❌ [CV] No skills extracted - parsing failed
2025-10-09 16:12:22,371 - app.services.skill_extraction.response_parser - ERROR - ❌ [CV] Parsing error: Failed to extract any skills from CV response
2025-10-09 16:12:22,371 - app.routes.skills_analysis - WARNING - ⚠️ [SKILLS_ANALYSIS] CV content appears minimal (tech=0, soft=0, domain=0) — continuing without fallback
2025-10-09 16:12:22,371 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting JD skills with detailed structured analysis...
2025-10-09 16:12:22,371 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:12:22,371 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:12:22,372 - app.ai.ai_service - INFO - - Prompt length: 18001
2025-10-09 16:12:22,372 - app.ai.ai_service - INFO - - System prompt length: 0
2025-10-09 16:12:22,372 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:12:22,372 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:12:22,373 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:12:22,373 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:12:22,373 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:12:22,373 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:12:22,374 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:12:22,374 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:12:22,910 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:12:22,925 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:12:22,926 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:12:22,926 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:12:22,926 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:12:27,011 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:12:27,026 - app.services.skill_extraction.response_parser - INFO - 🔍 [JD] Starting response parsing...
2025-10-09 16:12:27,027 - app.services.skill_extraction.response_parser - INFO - 🔍 [JD] Raw response preview: ## SOFT SKILLS:
- Communication
- Leadership
- Teamwork
- Collaboration
- Negotiation
- Time Management
- Organization
- Adaptability
- Problem-solving
- Analytical Thinking
- Critical Thinking
- Creativity
- Innovation
- Detail-oriented
- Self-motivated
- Proactive
- Results-driven

## TECHNICAL SKILLS:
- Data Analysis
- Data Mining
- Business Intelligence
- Power BI
- SQL
- Excel
- Database Management
- Data Modeling
- Spreadsheets
- VBA
- Data Warehousing
- Data Extraction
- Report Creation
-...
2025-10-09 16:12:27,028 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Successfully extracted 52 total skills using multi-format parser
2025-10-09 16:12:27,028 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated soft_skills: 17 valid skills
2025-10-09 16:12:27,029 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated technical_skills: 19 valid skills
2025-10-09 16:12:27,029 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated domain_keywords: 16 valid skills
2025-10-09 16:12:27,029 - app.services.skill_extraction.response_parser - INFO - 📊 [JD] Parsing completed:
2025-10-09 16:12:27,029 - app.services.skill_extraction.response_parser - INFO -    Soft Skills (17): ['Communication', 'Leadership', 'Teamwork']...
2025-10-09 16:12:27,030 - app.services.skill_extraction.response_parser - INFO -    Technical Skills (19): ['Data Analysis', 'Data Mining', 'Business Intelligence']...
2025-10-09 16:12:27,030 - app.services.skill_extraction.response_parser - INFO -    Domain Keywords (16): ['Fundraising', 'Humanitarian Aid', 'Refugee Support']...
2025-10-09 16:12:27,030 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using structured analysis as comprehensive analysis...
2025-10-09 16:12:27,030 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Technical Skills (0): []
2025-10-09 16:12:27,030 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Soft Skills (0): []
2025-10-09 16:12:27,031 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Domain Keywords (0): []
2025-10-09 16:12:27,031 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Technical Skills (19): ['Data Analysis', 'Data Mining', 'Business Intelligence', 'Power BI', 'SQL', 'Excel', 'Database Management', 'Data Modeling', 'Spreadsheets', 'VBA', 'Data Warehousing', 'Data Extraction', 'Report Creation', 'Project Management', 'Stakeholder Management', 'Marketing Campaigns', 'Data Utilization', 'Data Cleansing', 'Segmentation Models']
2025-10-09 16:12:27,032 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Soft Skills (17): ['Communication', 'Leadership', 'Teamwork', 'Collaboration', 'Negotiation', 'Time Management', 'Organization', 'Adaptability', 'Problem-solving', 'Analytical Thinking', 'Critical Thinking', 'Creativity', 'Innovation', 'Detail-oriented', 'Self-motivated', 'Proactive', 'Results-driven']
2025-10-09 16:12:27,032 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Domain Keywords (16): ['Fundraising', 'Humanitarian Aid', 'Refugee Support', 'Business Decision-making', 'Donor Value Maximization', 'Direct Marketing', 'Multi-channel Communication', 'Data Warehouse Administration', 'Business Intelligence Requirements', 'Evidence-based Decision Making', 'Data Governance', 'Clean Data Maintenance', 'Communication Purposes', 'Campaign Optimization', 'Data Issues', 'Inclusive Workforce Cultures']
2025-10-09 16:12:27,034 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] Analysis completed successfully
2025-10-09 16:12:27,034 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 16:12:27,035 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:12:27,036 - app.services.skill_extraction.result_saver - INFO - 📁 Result saver initialized with base directory: user/keosha@gmail.com/cv-analysis
2025-10-09 16:12:27,037 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:12:27,038 - app.routes.skills_analysis - INFO - 🔍 [COMPANY_DETECTION] Looking in: user/keosha@gmail.com/cv-analysis/applied_companies
2025-10-09 16:12:27,039 - app.routes.skills_analysis - INFO - 📁 [COMPANY_DETECTION] Found company folder: Australia_for_UNHCR with 1 job_info files
2025-10-09 16:12:27,040 - app.routes.skills_analysis - INFO - 🏢 [COMPANY_DETECTION] Using most recent company folder: Australia_for_UNHCR
2025-10-09 16:12:27,041 - app.routes.skills_analysis - INFO - 📋 [COMPANY_DETECTION] Job info company: Australia for UNHCR
2025-10-09 16:12:27,042 - app.services.skill_extraction.result_saver - INFO - 🏢 Using provided company name: Australia_for_UNHCR -> Australia_for_UNHCR
2025-10-09 16:12:27,043 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:12:27,044 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:12:27,044 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:12:27,046 - app.services.skill_extraction.result_saver - INFO - 💾 Structured CV already exists, preserving it: user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 16:12:27,046 - app.services.skill_extraction.result_saver - INFO - 💾 Structured CV preserved, skipping save: user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 16:12:27,047 - app.services.skill_extraction.result_saver - INFO - 💾 Analysis results saved (JSON) to: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_161227.json
2025-10-09 16:12:27,048 - app.routes.skills_analysis - INFO - 📁 [FILE_SAVE] Results saved to: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_161227.json
2025-10-09 16:12:27,049 - app.routes.skills_analysis - INFO - 🔍 [ANALYZE_MATCH] Starting analyze match assessment...
2025-10-09 16:12:27,053 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:12:27,054 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:12:27,054 - app.ai.ai_service - INFO - - Prompt length: 12329
2025-10-09 16:12:27,054 - app.ai.ai_service - INFO - - System prompt length: 0
2025-10-09 16:12:27,055 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:12:27,055 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:12:27,055 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:12:27,055 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:12:27,056 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:12:27,056 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:12:27,056 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:12:27,056 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:12:29,504 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:12:29,514 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:12:29,515 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:12:29,515 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:12:29,516 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:12:34,349 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:12:34,354 - app.routes.skills_analysis - INFO - ✅ [ANALYZE_MATCH] Analysis completed (length: 1651 chars)
2025-10-09 16:12:34,355 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:12:34,355 - app.services.skill_extraction.result_saver - INFO - 📂 Found existing analysis file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_161227.json
2025-10-09 16:12:34,356 - app.services.skill_extraction.result_saver - INFO - 🔍 Looking for analysis file in: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 16:12:34,356 - app.services.skill_extraction.result_saver - INFO - 📄 Using existing file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_161227.json
2025-10-09 16:12:34,357 - app.services.skill_extraction.result_saver - INFO - 📁 [ANALYZE_MATCH] Results appended to: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_161227.json
2025-10-09 16:12:34,357 - app.routes.skills_analysis - INFO - 📁 [ANALYZE_MATCH] Results appended to: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_161227.json
2025-10-09 16:12:34,357 - app.routes.skills_analysis - INFO - 🔍 [PREEXTRACTED_COMPARISON] Starting pre-extracted skills semantic comparison...
2025-10-09 16:12:34,357 - app.routes.skills_analysis - ERROR - ❌ [PREEXTRACTED_COMPARISON] Error: No CV skills extracted - cannot perform comparison
2025-10-09 16:12:34,358 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:12:34,359 - app.routes.skills_analysis - INFO - ♻️ [PIPELINE] (preliminary-analysis) JD file already exists: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/jd_original_20251009_160700.json
2025-10-09 16:12:34,360 - app.routes.skills_analysis - INFO - ♻️ [JOBS] Job already exists in saved_jobs.json: Data Analyst at Australia for UNHCR
2025-10-09 16:12:34,360 - app.routes.skills_analysis - INFO - 🚀 [PIPELINE] (preliminary-analysis) scheduling for company: Australia_for_UNHCR
2025-10-09 16:12:34,360 - app.routes.skills_analysis - INFO - 🚀 [PIPELINE] Scheduling JD analysis and CV–JD matching for 'Australia_for_UNHCR'...
2025-10-09 16:12:34,361 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:12:34,361 - app.routes.skills_analysis - INFO - 🔧 [PIPELINE] Starting JD analysis for Australia_for_UNHCR (force_refresh=True)
2025-10-09 16:12:34,362 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:12:34,362 - app.services.jd_analysis.jd_analyzer - INFO - 🔄 Analyzing JD for Australia_for_UNHCR (force_refresh=True)
2025-10-09 16:12:34,363 - app.services.jd_analysis.jd_analyzer - INFO - 📄 Analyzing JD file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/jd_original_20251009_160700.json
2025-10-09 16:12:34,363 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:12:34,363 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:12:34,363 - app.ai.ai_service - INFO - - Prompt length: 6409
2025-10-09 16:12:34,364 - app.ai.ai_service - INFO - - System prompt length: 2650
2025-10-09 16:12:34,364 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:12:34,364 - app.ai.ai_service - INFO - - Max tokens: 2000
2025-10-09 16:12:34,364 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:12:34,365 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:12:34,365 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:12:34,365 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:12:34,366 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:12:34,366 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:12:34,865 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:12:34,890 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:12:34,890 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:12:34,890 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:12:34,891 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:12:36,626 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:12:36,635 - app.services.jd_analysis.jd_analyzer - INFO - ✅ JD analysis completed. Found 0 required and 0 preferred keywords
2025-10-09 16:12:36,637 - app.services.jd_analysis.jd_analyzer - INFO - ♻️ JD analysis already exists, reusing: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_jd_analysis_20251009_160741.json
2025-10-09 16:12:36,637 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] JD analysis saved for Australia_for_UNHCR at: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_jd_analysis_20251009_160741.json
2025-10-09 16:12:36,640 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:12:36,640 - app.services.jd_usage_tracker - INFO - 🔍 [JD_TRACKER] Recording JD usage:
2025-10-09 16:12:36,640 - app.services.jd_usage_tracker - INFO - - jd_url: 
2025-10-09 16:12:36,640 - app.services.jd_usage_tracker - INFO - - jd_text length: 0
2025-10-09 16:12:36,641 - app.services.jd_usage_tracker - INFO - - company: Australia_for_UNHCR
2025-10-09 16:12:36,641 - app.services.jd_usage_tracker - INFO - - job_title: 
2025-10-09 16:12:36,641 - app.services.jd_usage_tracker - ERROR - ❌ [JD_TRACKER] Error recording JD usage: Either jd_url or jd_text must be provided
2025-10-09 16:12:36,642 - app.routes.skills_analysis - INFO - 📝 [PIPELINE] JD usage recorded for Australia_for_UNHCR
2025-10-09 16:12:36,642 - app.routes.skills_analysis - INFO - 🔧 [PIPELINE] Starting CV–JD matching for Australia_for_UNHCR
2025-10-09 16:12:36,642 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:12:36,643 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:12:36,643 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:12:36,643 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:12:36,644 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] CV–JD matching will use CV TXT: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.txt
2025-10-09 16:12:36,644 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 📄 [CV_JD_MATCHER] Using provided CV path: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.txt
2025-10-09 16:12:36,644 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 📄 [CV_JD_MATCHER] Read CV from: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.txt
2025-10-09 16:12:36,645 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🧪 [CV_JD_MATCHER] CV content length=224, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • Power BI, Excel, SQL, Python, Humanitarian Aid, Stakeholder Management, Data Analysis, Refugee Support, Detail-oriented'
2025-10-09 16:12:36,645 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🔍 Found 9 required and 4 preferred keywords
2025-10-09 16:12:36,645 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:12:36,645 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:12:36,645 - app.ai.ai_service - INFO - - Prompt length: 1612
2025-10-09 16:12:36,645 - app.ai.ai_service - INFO - - System prompt length: 2705
2025-10-09 16:12:36,645 - app.ai.ai_service - INFO - - Temperature: 0.3
2025-10-09 16:12:36,645 - app.ai.ai_service - INFO - - Max tokens: 3000
2025-10-09 16:12:36,646 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:12:36,646 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:12:36,646 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:12:36,646 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:12:36,646 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:12:36,646 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:12:37,011 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:12:37,029 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:12:37,030 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:12:37,030 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:12:37,030 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:12:39,144 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:12:39,148 - app.services.cv_jd_matching.cv_jd_matcher - INFO - ✅ CV-JD matching completed. Found 5 matched required keywords
2025-10-09 16:12:39,148 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:12:39,149 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:12:39,152 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 💾 Saved CV-JD match results to: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_cv_jd_matching_20251009_161239.json
2025-10-09 16:12:39,152 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] CV–JD match results saved for Australia_for_UNHCR
2025-10-09 16:12:39,153 - app.routes.skills_analysis - INFO - 🔍 [PIPELINE] Starting component analysis for Australia_for_UNHCR
2025-10-09 16:12:39,156 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:12:39,157 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:12:39,158 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:12:39,158 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:12:39,160 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Latest CV selected → type=tailored, ts=20251009_160851, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json, txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.txt
2025-10-09 16:12:39,160 - app.routes.skills_analysis - INFO - 🧪 [PIPELINE] CV content length=226, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • Power BI, Excel, SQL, Python, Humanitarian Aid, Stakeholder Management, Data Analysis, Refugee Support, Detail-oriented  '
2025-10-09 16:12:39,161 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:12:39,161 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Required files found, proceeding with component analysis
2025-10-09 16:12:39,162 - app.services.ats.modular_ats_orchestrator - INFO - ===== [MODULAR ATS] Starting component analysis for: Australia_for_UNHCR =====
2025-10-09 16:12:39,162 - app.services.ats.component_assembler - INFO - ===== [ASSEMBLER] Starting component assembly for: Australia_for_UNHCR =====
2025-10-09 16:12:39,162 - app.services.ats.component_assembler - INFO - 📄 [ASSEMBLER] Using CV text provided by caller
2025-10-09 16:12:39,166 - app.services.ats.component_assembler - WARNING - [ASSEMBLER] Match results not found: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/cv_jd_match_results.json
2025-10-09 16:12:39,167 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Starting parallel component analyses...
2025-10-09 16:12:39,170 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Requesting skills relevance analysis...
2025-10-09 16:12:39,171 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:12:39,171 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:12:39,171 - app.ai.ai_service - INFO - - Prompt length: 8072
2025-10-09 16:12:39,171 - app.ai.ai_service - INFO - - System prompt length: 163
2025-10-09 16:12:39,172 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Requirement bonus using match file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_cv_jd_matching_20251009_161239.json
2025-10-09 16:12:39,172 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:12:39,173 - app.ai.ai_service - INFO - - Max tokens: 1500
2025-10-09 16:12:39,173 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:12:39,173 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Using existing match_counts from file
2025-10-09 16:12:39,174 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:12:39,175 - app.services.ats.requirement_bonus_calculator - INFO - [ATS][BONUS] required_total=9 matched_required=5 missing_required=4 required_bonus=2.50 required_penalty=-1.50 preferred_total=4 matched_preferred=0 missing_preferred=4 preferred_bonus=0.00 preferred_penalty=-0.60 total_bonus=0.40
2025-10-09 16:12:39,175 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:12:39,175 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Requirement bonus calculated: 0.40 points
2025-10-09 16:12:39,176 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:12:39,176 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:12:39,176 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:12:39,787 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:12:39,813 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:12:39,814 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:12:39,814 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:12:39,815 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:12:49,527 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:12:49,529 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Raw response length: 5212
2025-10-09 16:12:49,530 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Raw response preview: {
 "skills_analysis": [
  {
   "skill": "Power BI",
   "cv_evidence": "Power BI",
   "jd_application": "Delivering analytics on the business-critical objective of understanding how to maximise the val
2025-10-09 16:12:49,531 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Cleaned response: {
 "skills_analysis": [
  {
   "skill": "Power BI",
   "cv_evidence": "Power BI",
   "jd_application": "Delivering analytics on the business-critical objective of understanding how to maximise the val
2025-10-09 16:12:49,531 - app.services.ats.components.skills_relevance_analyzer - WARNING - [SKILLS] Direct parse failed: Extra data: line 134 column 1 (char 5211)
2025-10-09 16:12:49,533 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Found 1 JSON objects
2025-10-09 16:12:49,534 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Object 0 parse successful
2025-10-09 16:12:49,534 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Analysis completed. Score: 96.0
2025-10-09 16:12:49,535 - app.services.ats.components.experience_analyzer - INFO - [EXPERIENCE] Requesting experience alignment analysis...
2025-10-09 16:12:49,536 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:12:49,536 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:12:49,536 - app.ai.ai_service - INFO - - Prompt length: 6853
2025-10-09 16:12:49,536 - app.ai.ai_service - INFO - - System prompt length: 163
2025-10-09 16:12:49,537 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:12:49,537 - app.ai.ai_service - INFO - - Max tokens: 1500
2025-10-09 16:12:49,537 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:12:49,537 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:12:49,537 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:12:49,538 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:12:49,538 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:12:49,538 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:12:49,989 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:12:50,201 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:12:50,201 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:12:50,201 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:12:50,202 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:12:52,644 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:12:52,646 - app.services.ats.components.experience_analyzer - INFO - [EXPERIENCE] Analysis completed. Score: 85.0
2025-10-09 16:12:52,646 - app.services.ats.components.industry_analyzer - INFO - [INDUSTRY] Requesting industry fit analysis...
2025-10-09 16:12:52,646 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:12:52,647 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:12:52,647 - app.ai.ai_service - INFO - - Prompt length: 8309
2025-10-09 16:12:52,647 - app.ai.ai_service - INFO - - System prompt length: 163
2025-10-09 16:12:52,647 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:12:52,647 - app.ai.ai_service - INFO - - Max tokens: 1500
2025-10-09 16:12:52,647 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:12:52,647 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:12:52,647 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:12:52,648 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:12:52,648 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:12:52,648 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:12:53,054 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:12:53,203 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:12:53,203 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:12:53,204 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:12:53,204 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:12:57,330 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:12:57,339 - app.services.ats.components.industry_analyzer - INFO - [INDUSTRY] Analysis completed. Score: 90.0
2025-10-09 16:12:57,341 - app.services.ats.components.seniority_analyzer - INFO - [SENIORITY] Requesting role seniority analysis...
2025-10-09 16:12:57,342 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:12:57,342 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:12:57,343 - app.ai.ai_service - INFO - - Prompt length: 9336
2025-10-09 16:12:57,343 - app.ai.ai_service - INFO - - System prompt length: 163
2025-10-09 16:12:57,343 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:12:57,343 - app.ai.ai_service - INFO - - Max tokens: 1500
2025-10-09 16:12:57,343 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:12:57,343 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:12:57,343 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:12:57,343 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:12:57,344 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:12:57,344 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:12:57,766 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:12:57,780 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:12:57,780 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:12:57,780 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:12:57,780 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:13:02,680 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:13:02,684 - app.services.ats.components.seniority_analyzer - INFO - [SENIORITY] Analysis completed. Score: 0.0
2025-10-09 16:13:02,684 - app.services.ats.components.technical_analyzer - INFO - [TECHNICAL] Requesting technical depth analysis...
2025-10-09 16:13:02,684 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:13:02,685 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:13:02,685 - app.ai.ai_service - INFO - - Prompt length: 4826
2025-10-09 16:13:02,685 - app.ai.ai_service - INFO - - System prompt length: 163
2025-10-09 16:13:02,686 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:13:02,686 - app.ai.ai_service - INFO - - Max tokens: 1500
2025-10-09 16:13:02,686 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:13:02,686 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:13:02,686 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:13:02,687 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:13:02,687 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:13:02,687 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:13:03,376 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:13:03,390 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:13:03,391 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:13:03,391 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:13:03,391 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:13:05,650 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:13:05,653 - app.services.ats.components.technical_analyzer - INFO - [TECHNICAL] Analysis completed. Score: 90.0
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=tailored, ts=20251009_160851, mtime=1759986619.448197, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
  - type=original, ts=00000000_000000, mtime=1759986398.6319315, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=tailored, ts=20251009_160851, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json, txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.txt
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=tailored, ts=20251009_160851, mtime=1759986619.448197, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
  - type=original, ts=00000000_000000, mtime=1759986398.6319315, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=tailored, ts=20251009_160851, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json, txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.txt
📄 [UNIFIED] Reading CV content from: txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.txt, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
🧪 [UNIFIED] CV content length=226, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • Power BI, Excel, SQL, Python, Humanitarian Aid, Stakeholder Management, Data Analysis, Refugee Support, Detail-oriented  '
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=tailored, ts=20251009_160851, mtime=1759986619.448197, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
  - type=original, ts=00000000_000000, mtime=1759986398.6319315, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=tailored, ts=20251009_160851, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json, txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.txt
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=tailored, ts=20251009_160851, mtime=1759986619.448197, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
  - type=original, ts=00000000_000000, mtime=1759986398.6319315, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=tailored, ts=20251009_160851, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json, txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.txt
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=tailored, ts=20251009_160851, mtime=1759986619.448197, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
  - type=original, ts=00000000_000000, mtime=1759986398.6319315, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=tailored, ts=20251009_160851, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json, txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.txt
📄 [UNIFIED] Reading CV content from: txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.txt, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
🧪 [UNIFIED] CV content length=226, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • Power BI, Excel, SQL, Python, Humanitarian Aid, Stakeholder Management, Data Analysis, Refugee Support, Detail-oriented  '
INFO:     127.0.0.1:52628 - "POST /api/preliminary-analysis HTTP/1.1" 200 OK
2025-10-09 16:13:05,654 - app.services.ats.component_assembler - INFO - [ASSEMBLER] All component analyses completed successfully
2025-10-09 16:13:05,655 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Validating cross-analyzer consistency...
2025-10-09 16:13:05,655 - app.services.ats.components.consistency_validator - ERROR - [CONSISTENCY] Validation failed: unsupported operand type(s) for -: 'str' and 'int'
2025-10-09 16:13:05,655 - app.services.ats.component_assembler - WARNING - [ASSEMBLER] Inconsistencies detected in analysis results
2025-10-09 16:13:05,655 - app.services.ats.component_assembler - WARNING - [ASSEMBLER] Confidence score: 100%
2025-10-09 16:13:05,658 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Results saved to: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_161227.json
2025-10-09 16:13:05,659 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Starting ATS score calculation...
2025-10-09 16:13:05,660 - app.services.ats.component_assembler - WARNING - [ASSEMBLER] No preextracted comparison found for ATS calculation
2025-10-09 16:13:05,660 - app.services.ats.component_assembler - INFO - ===== [ASSEMBLER] Completed assembly. Scores: skills=96.0 exp=85.0 industry=90.0 seniority=0.0 tech=90.0 =====
2025-10-09 16:13:05,660 - app.services.ats.modular_ats_orchestrator - INFO - ===== [MODULAR ATS] Component analysis completed for: Australia_for_UNHCR =====
2025-10-09 16:13:05,660 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Component analysis completed for Australia_for_UNHCR
2025-10-09 16:13:05,661 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] Component scores extracted: 23 scores
2025-10-09 16:13:05,661 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] skills_relevance: 96.0
2025-10-09 16:13:05,661 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] experience_alignment: 85.0
2025-10-09 16:13:05,661 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] industry_fit: 90.0
2025-10-09 16:13:05,661 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] role_seniority: 0.0
2025-10-09 16:13:05,661 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] technical_depth: 90.0
2025-10-09 16:13:05,661 - app.routes.skills_analysis - INFO - 🎯 [PIPELINE] ATS Score calculated: None
2025-10-09 16:13:05,661 - app.routes.skills_analysis - INFO - 📋 [PIPELINE] Creating input recommendation file for Australia_for_UNHCR
2025-10-09 16:13:05,662 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:13:05,663 - app.services.ats_recommendation_service - WARNING - No preextracted comparison entries found in user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_161227.json
2025-10-09 16:13:05,663 - app.services.ats_recommendation_service - WARNING - No ATS calculation entries found in user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_161227.json
2025-10-09 16:13:05,663 - app.services.ats_recommendation_service - INFO - Successfully extracted comprehensive recommendation data for Australia_for_UNHCR
2025-10-09 16:13:05,665 - app.services.ats_recommendation_service - INFO - Successfully created recommendation file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_161305.json
2025-10-09 16:13:05,685 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:13:05,685 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:13:05,688 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 16:13:05,688 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 16:13:05,688 INFO sqlalchemy.engine.Engine [generated in 0.00040s] {'email_1': 'keosha@gmail.com'}
2025-10-09 16:13:05,688 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] {'email_1': 'keosha@gmail.com'}
2025-10-09 16:13:05,726 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 16:13:05,726 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 16:13:05,727 INFO sqlalchemy.engine.Engine [generated in 0.00053s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 16:13:05,727 - sqlalchemy.engine.Engine - INFO - [generated in 0.00053s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 16:13:05,757 INFO sqlalchemy.engine.Engine INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 16:13:05,757 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 16:13:05,758 INFO sqlalchemy.engine.Engine [generated in 0.00062s] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_161305.json', 'file_path': 'user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_161305.json', 'file_size': 18817, 'sha256': 'eee8080b1b1c1b3cd7d7e3492de183522034894e6016a8f382e9027643e90e7d', 'timestamp': '20251009_161305'}
2025-10-09 16:13:05,758 - sqlalchemy.engine.Engine - INFO - [generated in 0.00062s] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_161305.json', 'file_path': 'user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_161305.json', 'file_size': 18817, 'sha256': 'eee8080b1b1c1b3cd7d7e3492de183522034894e6016a8f382e9027643e90e7d', 'timestamp': '20251009_161305'}
2025-10-09 16:13:05,784 INFO sqlalchemy.engine.Engine INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 16:13:05,784 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 16:13:05,785 INFO sqlalchemy.engine.Engine [generated in 0.00152s] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'kind': 'input_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 174}
2025-10-09 16:13:05,785 - sqlalchemy.engine.Engine - INFO - [generated in 0.00152s] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'kind': 'input_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 174}
2025-10-09 16:13:05,806 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 16:13:05,806 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 16:13:05,831 - app.services.ats_recommendation_service - INFO - Successfully created AI recommendation prompt: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_prompt_recommendation.py
2025-10-09 16:13:05,832 - app.services.ats_recommendation_service - INFO - 🤖 [TRIGGER] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-09 16:13:05,832 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:13:05,833 - app.services.ats_recommendation_service - INFO - 📋 [TRIGGER] AI generation scheduled as background task for Australia_for_UNHCR
2025-10-09 16:13:05,833 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Input recommendation file created for Australia_for_UNHCR
2025-10-09 16:13:05,833 - app.routes.skills_analysis - INFO - 🤖 [PIPELINE] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-09 16:13:05,834 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:13:05,834 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-09 16:13:05,837 - app.services.ai_recommendation_generator - INFO - 🟡 [AI GENERATOR] Input recommendation is newer (ai_mtime=1759986497.3663936, input_mtime=1759986785.6652348); regenerating AI recommendation
2025-10-09 16:13:05,837 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:13:05,837 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:13:05,838 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:13:05,839 - app.services.ai_recommendation_generator - ERROR - ❌ [AI GENERATOR] Error checking CV freshness: 'str' object has no attribute 'timestamp'
2025-10-09 16:13:05,841 - app.services.ai_recommendation_generator - INFO - 📋 [AI GENERATOR] Generated AI prompt for Australia_for_UNHCR using centralized template (10678 characters)
2025-10-09 16:13:05,842 - app.services.ai_recommendation_generator - INFO - 🧠 [AI GENERATOR] Executing AI prompt for Australia_for_UNHCR
2025-10-09 16:13:05,842 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:13:05,842 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:13:05,842 - app.ai.ai_service - INFO - - Prompt length: 10678
2025-10-09 16:13:05,842 - app.ai.ai_service - INFO - - System prompt length: 130
2025-10-09 16:13:05,842 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:13:05,843 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:13:05,843 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:13:05,843 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:13:05,843 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:13:05,843 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:13:05,843 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:13:05,843 - app.ai.ai_service - INFO - - Available providers: ['openai']
WARNING:  WatchFiles detected changes in 'user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_prompt_recommendation.py'. Reloading...
2025-10-09 16:13:06,221 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:13:06,237 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:13:06,238 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:13:06,238 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:13:06,238 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:13:11,526 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:13:11,529 - app.services.ai_recommendation_generator - INFO - 🧠 [AI GENERATOR] AI response generated - Provider: openai, Model: gpt-3.5-turbo
2025-10-09 16:13:11,529 - app.services.ai_recommendation_generator - INFO - 💰 [AI GENERATOR] Cost: $0.0040, Tokens: 3105
2025-10-09 16:13:11,531 - app.services.ai_recommendation_generator - INFO - 💾 [AI GENERATOR] Saved AI recommendation: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_161311.json (3.8KB)
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=tailored, ts=20251009_160851, mtime=1759986619.448197, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
  - type=original, ts=00000000_000000, mtime=1759986398.6319315, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=tailored, ts=20251009_160851, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json, txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.txt
2025-10-09 16:13:11,550 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:13:11,550 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:13:11,551 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 16:13:11,551 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 16:13:11,552 INFO sqlalchemy.engine.Engine [cached since 5.864s ago] {'email_1': 'keosha@gmail.com'}
2025-10-09 16:13:11,552 - sqlalchemy.engine.Engine - INFO - [cached since 5.864s ago] {'email_1': 'keosha@gmail.com'}
2025-10-09 16:13:11,592 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 16:13:11,592 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 16:13:11,593 INFO sqlalchemy.engine.Engine [cached since 5.866s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 16:13:11,593 - sqlalchemy.engine.Engine - INFO - [cached since 5.866s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 16:13:11,617 INFO sqlalchemy.engine.Engine INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 16:13:11,617 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 16:13:11,617 INFO sqlalchemy.engine.Engine [cached since 5.86s ago] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'file_type': 'ai_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_ai_recommendation_20251009_161311.json', 'file_path': 'user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_161311.json', 'file_size': 3845, 'sha256': 'a78c2320d28b4806069e3d786b7c4fc52265f5fd457f766a211ee1366c1d03f3', 'timestamp': '20251009_161311'}
2025-10-09 16:13:11,617 - sqlalchemy.engine.Engine - INFO - [cached since 5.86s ago] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'file_type': 'ai_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_ai_recommendation_20251009_161311.json', 'file_path': 'user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_161311.json', 'file_size': 3845, 'sha256': 'a78c2320d28b4806069e3d786b7c4fc52265f5fd457f766a211ee1366c1d03f3', 'timestamp': '20251009_161311'}
2025-10-09 16:13:11,639 INFO sqlalchemy.engine.Engine INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 16:13:11,639 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 16:13:11,640 INFO sqlalchemy.engine.Engine [cached since 5.856s ago] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'kind': 'ai_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 175}
2025-10-09 16:13:11,640 - sqlalchemy.engine.Engine - INFO - [cached since 5.856s ago] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'kind': 'ai_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 175}
2025-10-09 16:13:11,661 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 16:13:11,661 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 16:13:11,683 - app.services.ai_recommendation_generator - INFO - ✅ [AI GENERATOR] AI recommendation generated and saved for Australia_for_UNHCR
2025-10-09 16:13:11,684 - app.services.ai_recommendation_generator - INFO - 📄 File: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_160817.json
2025-10-09 16:13:11,684 - app.services.ai_recommendation_generator - INFO - 💰 Cost: $0.0040
2025-10-09 16:13:11,685 - app.services.ai_recommendation_generator - INFO - 🔤 Tokens: 3105
2025-10-09 16:13:11,686 - app.services.ai_recommendation_generator - INFO - 🚀 [AI GENERATOR] Starting automatic CV tailoring for Australia_for_UNHCR
2025-10-09 16:13:11,686 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:13:11,688 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded CV optimization framework from /Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/tailored_cv/prompts/framework.md
2025-10-09 16:13:11,689 - app.tailored_cv.services.cv_tailoring_service - INFO - Loading real data for Australia_for_UNHCR
2025-10-09 16:13:11,689 - app.tailored_cv.services.cv_tailoring_service - INFO - Company folder: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 16:13:11,689 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:13:11,690 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:13:11,690 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:13:11,691 - app.tailored_cv.services.cv_tailoring_service - INFO - 📄 [TAILORING] Using latest CV via unified selector → type=tailored, ts=20251009_160851, path=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.txt
2025-10-09 16:13:11,692 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [DEBUG] Loading CV from user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.txt
2025-10-09 16:13:11,693 - app.tailored_cv.services.cv_tailoring_service - INFO - - First 200 chars: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • Power BI, Excel, SQL, Python, Humanitarian Aid, Stakeholder Management, Data Analysis, Refugee 
2025-10-09 16:13:11,694 - app.tailored_cv.services.recommendation_parser - INFO - 📂 Loading CV from: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.txt
2025-10-09 16:13:11,694 - app.tailored_cv.services.recommendation_parser - INFO - 📝 Detected .txt CV file → parsing as raw text
2025-10-09 16:13:11,699 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Successfully parsed raw text CV from .txt
2025-10-09 16:13:11,700 - app.tailored_cv.services.cv_tailoring_service - INFO - - Parsed CV data keys: ['contact', 'education', 'experience', 'skills', 'total_years_experience']
2025-10-09 16:13:11,700 - app.tailored_cv.services.cv_tailoring_service - WARNING - ⚠️ [TAILORING] CV data is empty, checking for original_text fallback
2025-10-09 16:13:11,701 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Skills already in SkillCategory format
2025-10-09 16:13:11,701 - app.tailored_cv.services.cv_tailoring_service - WARNING - ⚠️ [TAILORING] CV data is incomplete, falling back to original CV
2025-10-09 16:13:11,701 - app.tailored_cv.services.cv_tailoring_service - INFO - 📄 [TAILORING] Loading original CV as fallback: user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 16:13:11,702 - app.tailored_cv.services.recommendation_parser - INFO - 📂 Loading CV from: user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 16:13:11,704 - app.tailored_cv.services.recommendation_parser - INFO - 📋 CV format check:
2025-10-09 16:13:11,704 - app.tailored_cv.services.recommendation_parser - INFO -   - Top-level keys: ['personal_information', 'career_profile', 'skills', 'education', 'experience', 'projects', 'certifications', 'languages', 'awards', 'publications', 'volunteer_work', 'professional_memberships', 'unknown_sections', 'original_sections', 'saved_at', 'metadata']
2025-10-09 16:13:11,704 - app.tailored_cv.services.recommendation_parser - INFO -   - Has metadata: True
2025-10-09 16:13:11,704 - app.tailored_cv.services.recommendation_parser - INFO -   - Source file: maheshwor_tiwari.pdf
2025-10-09 16:13:11,705 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing version: 1.0
2025-10-09 16:13:11,705 - app.tailored_cv.services.recommendation_parser - INFO - 🔍 [CV_PARSER] Detailed CV structure analysis:
2025-10-09 16:13:11,705 - app.tailored_cv.services.recommendation_parser - INFO -   - Has contact: False
2025-10-09 16:13:11,705 - app.tailored_cv.services.recommendation_parser - INFO -   - Has experience: True
2025-10-09 16:13:11,706 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience type: <class 'list'>
2025-10-09 16:13:11,706 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience count: 6
2025-10-09 16:13:11,706 - app.tailored_cv.services.recommendation_parser - INFO -   - First experience keys: ['title', 'company', 'duration', 'location', 'responsibilities', 'achievements', 'technologies']
2025-10-09 16:13:11,706 - app.tailored_cv.services.recommendation_parser - INFO -   - Has skills: True
2025-10-09 16:13:11,707 - app.tailored_cv.services.recommendation_parser - INFO -   - Skills type: <class 'dict'>
2025-10-09 16:13:11,707 - app.tailored_cv.services.recommendation_parser - INFO -   - Skills count: Not a list
2025-10-09 16:13:11,707 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Detected structured CV format
2025-10-09 16:13:11,707 - app.tailored_cv.services.recommendation_parser - INFO - 📊 Structure overview:
2025-10-09 16:13:11,708 - app.tailored_cv.services.recommendation_parser - INFO -   - Skills sections: ['technical_skills', 'key_skills', 'soft_skills', 'domain_expertise']
2025-10-09 16:13:11,708 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience entries: 6
2025-10-09 16:13:11,708 - app.tailored_cv.services.recommendation_parser - INFO -   - Education entries: 3
2025-10-09 16:13:11,708 - app.tailored_cv.services.recommendation_parser - INFO -   - Projects: 0
2025-10-09 16:13:11,708 - app.tailored_cv.services.recommendation_parser - INFO - 🔄 Starting structured CV conversion
2025-10-09 16:13:11,709 - app.tailored_cv.services.recommendation_parser - INFO - 📊 Input data validation:
2025-10-09 16:13:11,709 - app.tailored_cv.services.recommendation_parser - INFO - 👤 Converting contact information
2025-10-09 16:13:11,709 - app.tailored_cv.services.recommendation_parser - INFO -   - Source fields: ['name', 'phone', 'email', 'location', 'linkedin', 'github', 'portfolio_links', 'residency_status', 'open_to']
2025-10-09 16:13:11,709 - app.tailored_cv.services.recommendation_parser - INFO -   - Mapped fields: ['name', 'email', 'phone', 'location', 'linkedin', 'website']
2025-10-09 16:13:11,710 - app.tailored_cv.services.recommendation_parser - INFO -   - Contact completeness: 100.0%
2025-10-09 16:13:11,710 - app.tailored_cv.services.recommendation_parser - INFO -   - LinkedIn: LinkedIn
2025-10-09 16:13:11,710 - app.tailored_cv.services.recommendation_parser - INFO -   - Website: GitHub
2025-10-09 16:13:11,710 - app.tailored_cv.services.recommendation_parser - INFO - 💼 Converting experience entries
2025-10-09 16:13:11,711 - app.tailored_cv.services.recommendation_parser - INFO -   - Found 6 experience entries
2025-10-09 16:13:11,711 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 1/6
2025-10-09 16:13:11,711 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: The Bitrates
2025-10-09 16:13:11,711 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Data Analyst
2025-10-09 16:13:11,712 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Jul 2024 to Present
2025-10-09 16:13:11,712 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 5
2025-10-09 16:13:11,712 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 2/6
2025-10-09 16:13:11,713 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: iBuild Building Solutions
2025-10-09 16:13:11,713 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Data Analyst
2025-10-09 16:13:11,713 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Mar 2024 to Jun 2024
2025-10-09 16:13:11,713 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 4
2025-10-09 16:13:11,714 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 3/6
2025-10-09 16:13:11,714 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: Property Console
2025-10-09 16:13:11,715 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Software engineer and Analyst
2025-10-09 16:13:11,715 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Jun 2023 to Nov 2023
2025-10-09 16:13:11,715 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 4
2025-10-09 16:13:11,716 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 4/6
2025-10-09 16:13:11,716 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: CY Cergy Paris University
2025-10-09 16:13:11,716 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Research Assistant
2025-10-09 16:13:11,717 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Oct 2018 to Sep 2022
2025-10-09 16:13:11,717 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 3
2025-10-09 16:13:11,717 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 5/6
2025-10-09 16:13:11,718 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: CY Cergy Paris University
2025-10-09 16:13:11,718 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Lecturer and Course Facilitator
2025-10-09 16:13:11,718 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Sep 2019 to Jun 2022
2025-10-09 16:13:11,719 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 3
2025-10-09 16:13:11,719 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 6/6
2025-10-09 16:13:11,719 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: CY Cergy Paris University
2025-10-09 16:13:11,720 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Research Intern
2025-10-09 16:13:11,720 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Feb 2018 to Jun 2018
2025-10-09 16:13:11,720 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 3
2025-10-09 16:13:11,720 - app.tailored_cv.services.recommendation_parser - INFO - Converted 6 experience entries
2025-10-09 16:13:11,721 - app.tailored_cv.services.recommendation_parser - INFO - 🔧 Converting skills section
2025-10-09 16:13:11,721 - app.tailored_cv.services.recommendation_parser - INFO -   - Source skill categories: ['technical_skills', 'key_skills', 'soft_skills', 'domain_expertise']
2025-10-09 16:13:11,722 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing technical skills:
2025-10-09 16:13:11,722 - app.tailored_cv.services.recommendation_parser - INFO -     • Extracted 5 unique technical skills
2025-10-09 16:13:11,722 - app.tailored_cv.services.recommendation_parser - INFO -     • Skills: Excel, Data Analysis, SQL, Python, Power BI
2025-10-09 16:13:11,722 - app.tailored_cv.services.recommendation_parser - INFO - Converted 1 skill categories
2025-10-09 16:13:11,723 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Conversion complete - Validating output
2025-10-09 16:13:11,723 - app.tailored_cv.services.recommendation_parser - INFO - ✓ Experience: 6 entries
2025-10-09 16:13:11,723 - app.tailored_cv.services.recommendation_parser - INFO - ✓ Skills: 1 categories
2025-10-09 16:13:11,723 - app.tailored_cv.services.recommendation_parser - INFO -   • Technical Skills: 5 skills
2025-10-09 16:13:11,724 - app.tailored_cv.services.recommendation_parser - INFO - ✨ Validation passed - All required sections present
2025-10-09 16:13:11,724 - app.tailored_cv.services.recommendation_parser - INFO - 🎓 Converting education entries
2025-10-09 16:13:11,724 - app.tailored_cv.services.recommendation_parser - INFO -   - Found 3 education entries
2025-10-09 16:13:11,724 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing education 1/3
2025-10-09 16:13:11,725 - app.tailored_cv.services.recommendation_parser - INFO -     • Institution: Charles Darwin University, Sydney, Australia
2025-10-09 16:13:11,725 - app.tailored_cv.services.recommendation_parser - INFO -     • Degree: Master of Data Science
2025-10-09 16:13:11,725 - app.tailored_cv.services.recommendation_parser - INFO -     • Graduation date: Mar 2023 - Nov 2024
2025-10-09 16:13:11,725 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing education 2/3
2025-10-09 16:13:11,725 - app.tailored_cv.services.recommendation_parser - INFO -     • Institution: CY Cergy Paris University, Cergy, France
2025-10-09 16:13:11,725 - app.tailored_cv.services.recommendation_parser - INFO -     • Degree: PhD in Physics
2025-10-09 16:13:11,726 - app.tailored_cv.services.recommendation_parser - INFO -     • Graduation date: Oct 2018 - Sep 2022
2025-10-09 16:13:11,726 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing education 3/3
2025-10-09 16:13:11,727 - app.tailored_cv.services.recommendation_parser - INFO -     • Institution: CY Cergy Paris University, Cergy, France
2025-10-09 16:13:11,727 - app.tailored_cv.services.recommendation_parser - INFO -     • Degree: Master of Theoretical Physics
2025-10-09 16:13:11,728 - app.tailored_cv.services.recommendation_parser - INFO -     • Graduation date: Sep 2016 - Jun 2018
2025-10-09 16:13:11,728 - app.tailored_cv.services.recommendation_parser - INFO - Converted 3 education entries
2025-10-09 16:13:11,728 - app.tailored_cv.services.recommendation_parser - INFO - 📤 Returning converted CV data:
2025-10-09 16:13:11,729 - app.tailored_cv.services.recommendation_parser - INFO -   - Contact fields: ['name', 'email', 'phone', 'location', 'linkedin', 'website']
2025-10-09 16:13:11,729 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience entries: 6
2025-10-09 16:13:11,729 - app.tailored_cv.services.recommendation_parser - INFO -   - Skill categories: 1
2025-10-09 16:13:11,729 - app.tailored_cv.services.recommendation_parser - INFO -   - Education entries: 3
2025-10-09 16:13:11,729 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [TAILORING] Successfully loaded original CV as fallback
2025-10-09 16:13:11,731 - app.tailored_cv.services.cv_tailoring_service - INFO - - Final CV object attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__repr__', '__repr_args__', '__repr_name__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_check_frozen', '_copy_and_set_values', '_get_value', '_iter', 'construct', 'contact', 'copy', 'created_at', 'dict', 'education', 'experience', 'experience_level', 'from_orm', 'json', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'projects', 'schema', 'schema_json', 'skills', 'total_years_experience', 'update_forward_refs', 'updated_at', 'validate']
2025-10-09 16:13:11,741 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Parsed recommendation for Australia_for_UNHCR
2025-10-09 16:13:11,742 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded real CV and recommendation for Australia_for_UNHCR
2025-10-09 16:13:11,742 - app.tailored_cv.services.cv_tailoring_service - INFO - 🎯 Starting CV tailoring for Australia_for_UNHCR - Senior Data Analyst
2025-10-09 16:13:11,743 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [DEBUG] Validating CV structure:
2025-10-09 16:13:11,743 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV object type: <class 'app.tailored_cv.models.cv_models.OriginalCV'>
2025-10-09 16:13:11,743 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__repr__', '__repr_args__', '__repr_name__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_check_frozen', '_copy_and_set_values', '_get_value', '_iter', 'construct', 'contact', 'copy', 'created_at', 'dict', 'education', 'experience', 'experience_level', 'from_orm', 'json', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'projects', 'schema', 'schema_json', 'skills', 'total_years_experience', 'update_forward_refs', 'updated_at', 'validate']
2025-10-09 16:13:11,745 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV data: {
  "contact": {
    "name": "Maheshwor Tiwari",
    "phone": "0414 032 507",
    "email": "maheshtwari99@gmail.com",
    "linkedin": "LinkedIn",
    "location": "Hurstville, NSW, 2220",
    "website": "GitHub"
  },
  "education": [
    {
      "institution": "Charles Darwin University, Sydney, Australia",
      "degree": "Master of Data Science",
      "location": "Sydney, Australia",
      "graduation_date": "Mar 2023 - Nov 2024",
      "gpa": "GPA",
      "relevant_coursework": [],
      "honors": []
    },
    {
      "institution": "CY Cergy Paris University, Cergy, France",
      "degree": "PhD in Physics",
      "location": "Cergy, France",
      "graduation_date": "Oct 2018 - Sep 2022",
      "gpa": "",
      "relevant_coursework": [],
      "honors": []
    },
    {
      "institution": "CY Cergy Paris University, Cergy, France",
      "degree": "Master of Theoretical Physics",
      "location": "Cergy, France",
      "graduation_date": "Sep 2016 - Jun 2018",
      "gpa": "",
      "relevant_coursework": [],
      "honors": []
    }
  ],
  "experience": [
    {
      "company": "The Bitrates",
      "title": "Data Analyst",
      "location": "",
      "start_date": "Jul 2024",
      "end_date": "Present",
      "duration": null,
      "bullets": [
        "Designed and implemented Python scripts for data cleaning, preprocessing, and analysis, improving data pipeline efficiency by 30%.",
        "Developed machine learning models in Python for predictive analytics, enabling data-driven business decisions.",
        "Leveraged AI techniques to automate repetitive tasks, reducing manual effort and improving productivity.",
        "Built dynamic dashboards and visualizations using Python libraries like Matplotlib and Seaborn to communicate insights effectively.",
        "Integrated Google Analytics data with Python for advanced analysis, enhancing customer behavior insights."
      ],
      "skills_used": null
    },
    {
      "company": "iBuild Building Solutions",
      "title": "Data Analyst",
      "location": "",
      "start_date": "Mar 2024",
      "end_date": "Jun 2024",
      "duration": null,
      "bullets": [
        "Automated data extraction and structuring of population datasets using Python, improving data accuracy and team collaboration.",
        "Analyzed customer support data with Python to optimize response times and enhance operational efficiency.",
        "Developed Python-based solutions to generate actionable insights, meeting strict deadlines for strategic decision-making.",
        "Designed Python scripts to create dynamic reports and dashboards, significantly improving customer satisfaction and decision-making processes."
      ],
      "skills_used": null
    },
    {
      "company": "Property Console",
      "title": "Software engineer and Analyst",
      "location": "",
      "start_date": "Jun 2023",
      "end_date": "Nov 2023",
      "duration": null,
      "bullets": [
        "Built Python scripts to track key metrics, ensuring 99% data accuracy and improving data integrity and operational efficiency.",
        "Collaborated with the development team to enhance analytics capabilities, using Python to improve data processing speed by 25%.",
        "Leveraged Python for data preprocessing and analysis, producing Tableau dashboards that improved decision-making.",
        "Supported cross-functional teams with Python-driven insights, enabling customer-focused initiatives."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Research Assistant",
      "location": "",
      "start_date": "Oct 2018",
      "end_date": "Sep 2022",
      "duration": null,
      "bullets": [
        "Utilized advanced Python programming for computational modeling and solving complex research problems.",
        "Developed Python-based workflows to manage and analyze large datasets across multiple research projects.",
        "Presented Python-enabled research findings at international conferences, demonstrating technical expertise and communication skills."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Lecturer and Course Facilitator",
      "location": "",
      "start_date": "Sep 2019",
      "end_date": "Jun 2022",
      "duration": null,
      "bullets": [
        "Led engaging physics tutorials for master\u2019s students, enhancing understanding and promoting teamwork.",
        "Designed course materials, assignments, and exams, strengthening the learning experience.",
        "Mentored students on projects, collaborated with faculty, and fostered student engagement."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Research Intern",
      "location": "",
      "start_date": "Feb 2018",
      "end_date": "Jun 2018",
      "duration": null,
      "bullets": [
        "Developed proficiency in Python programming by researching the effect of magnetic fields on 2D materials.",
        "Managed and analyzed complex data sets, improving their accuracy and reliability.",
        "Used dashboard using Power BI to present research findings and participated in weekly reviews, improving collaboration and research skills."
      ],
      "skills_used": null
    }
  ],
  "projects": null,
  "skills": [
    {
      "category": "Technical Skills",
      "skills": [
        "Excel",
        "Data Analysis",
        "SQL",
        "Python",
        "Power BI"
      ]
    }
  ],
  "experience_level": null,
  "total_years_experience": null,
  "created_at": null,
  "updated_at": null
}
2025-10-09 16:13:11,745 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [CV_VALIDATION] Starting detailed validation:
2025-10-09 16:13:11,745 - app.tailored_cv.services.cv_tailoring_service - INFO - - Has contact: True
2025-10-09 16:13:11,745 - app.tailored_cv.services.cv_tailoring_service - INFO - - Contact name: Maheshwor Tiwari
2025-10-09 16:13:11,746 - app.tailored_cv.services.cv_tailoring_service - INFO - - Contact email: maheshtwari99@gmail.com
2025-10-09 16:13:11,746 - app.tailored_cv.services.cv_tailoring_service - INFO - - Has experience: True
2025-10-09 16:13:11,746 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience count: 6
2025-10-09 16:13:11,746 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 1: company=The Bitrates, bullets=5
2025-10-09 16:13:11,746 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 2: company=iBuild Building Solutions, bullets=4
2025-10-09 16:13:11,747 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 3: company=Property Console, bullets=4
2025-10-09 16:13:11,747 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 4: company=CY Cergy Paris University, bullets=3
2025-10-09 16:13:11,747 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 5: company=CY Cergy Paris University, bullets=3
2025-10-09 16:13:11,747 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 6: company=CY Cergy Paris University, bullets=3
2025-10-09 16:13:11,747 - app.tailored_cv.services.cv_tailoring_service - INFO - - Has skills: True
2025-10-09 16:13:11,748 - app.tailored_cv.services.cv_tailoring_service - INFO - - Skills count: 1
2025-10-09 16:13:11,748 - app.tailored_cv.services.cv_tailoring_service - INFO - - Skill category 1: Technical Skills, skills=5
2025-10-09 16:13:11,749 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [CV_VALIDATION] Checking required fields:
2025-10-09 16:13:11,749 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Contact name present: Maheshwor Tiwari
2025-10-09 16:13:11,749 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Contact email present: maheshtwari99@gmail.com
2025-10-09 16:13:11,750 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Experience entries present: 6
2025-10-09 16:13:11,751 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Skills section present: 1 categories
2025-10-09 16:13:11,754 - app.tailored_cv.services.cv_tailoring_service - INFO - [f477ff1c] 🎯 Starting CV tailoring for Australia_for_UNHCR with strategy: education_last
2025-10-09 16:13:11,754 - app.tailored_cv.services.cv_tailoring_service - INFO - [f477ff1c] Initial stats:
2025-10-09 16:13:11,754 - app.tailored_cv.services.cv_tailoring_service - INFO - [f477ff1c] - Experience entries: 6
2025-10-09 16:13:11,755 - app.tailored_cv.services.cv_tailoring_service - INFO - [f477ff1c] - Total bullets: 22
2025-10-09 16:13:11,755 - app.tailored_cv.services.cv_tailoring_service - INFO - [f477ff1c] - Skills categories: 1
2025-10-09 16:13:11,756 - app.tailored_cv.services.cv_tailoring_service - INFO - [f477ff1c] - Total skills: 5
2025-10-09 16:13:11,756 - app.tailored_cv.services.cv_tailoring_service - INFO - [f477ff1c] Critical gaps to address: VBA, Data Extraction, Analytical Models, Detail-oriented, Analytical
2025-10-09 16:13:11,756 - app.tailored_cv.services.cv_tailoring_service - INFO - [f477ff1c] Technical enhancements needed: 
2025-10-09 16:13:11,757 - app.tailored_cv.services.cv_tailoring_service - INFO - [f477ff1c] 🤖 Generating tailored CV using AI service...
2025-10-09 16:13:11,757 - app.tailored_cv.services.cv_tailoring_service - INFO - [f477ff1c] Attempt 1/5 with temp=0.0
2025-10-09 16:13:11,758 - app.tailored_cv.services.cv_tailoring_service - INFO - [f477ff1c] - System prompt length: 10574
2025-10-09 16:13:11,758 - app.tailored_cv.services.cv_tailoring_service - INFO - [f477ff1c] - User prompt length: 12687
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=tailored, ts=20251009_160851, mtime=1759986619.448197, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
  - type=original, ts=00000000_000000, mtime=1759986398.6319315, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=tailored, ts=20251009_160851, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json, txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.txt
2025-10-09 16:13:11,782 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:13:11,782 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:13:11,785 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 16:13:11,785 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 16:13:11,786 INFO sqlalchemy.engine.Engine [generated in 0.00125s] {'email_1': 'keosha@gmail.com', 'param_1': 1}
2025-10-09 16:13:11,786 - sqlalchemy.engine.Engine - INFO - [generated in 0.00125s] {'email_1': 'keosha@gmail.com', 'param_1': 1}
2025-10-09 16:13:11,831 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:13:11,831 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:13:11,855 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user keosha@gmail.com
2025-10-09 16:13:11,856 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Before initialization:
2025-10-09 16:13:11,858 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 16:13:11,859 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:13:11,859 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:13:11,860 - app.ai.ai_service - INFO - - Cached providers for user: ['openai']
2025-10-09 16:13:11,860 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Using cached providers for user keosha@gmail.com
2025-10-09 16:13:11,860 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] After initialization:
2025-10-09 16:13:11,860 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 16:13:11,860 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:13:11,861 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:13:11,861 - app.tailored_cv.services.cv_tailoring_service - INFO - [f477ff1c] 🔄 Initialized AI service for user keosha@gmail.com
2025-10-09 16:13:11,861 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:13:11,861 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:13:11,861 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:13:11,862 - app.ai.ai_service - INFO - - Prompt length: 12687
2025-10-09 16:13:11,862 - app.ai.ai_service - INFO - - System prompt length: 10574
2025-10-09 16:13:11,862 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:13:11,862 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:13:11,862 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:13:11,862 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:13:11,863 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:13:11,863 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:13:11,863 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:13:11,863 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:13:12,245 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:13:12,274 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:13:12,275 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:13:12,275 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:13:12,275 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:13:22,089 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:13:22,099 - app.tailored_cv.services.cv_tailoring_service - INFO - [f477ff1c] AI response stats:
2025-10-09 16:13:22,100 - app.tailored_cv.services.cv_tailoring_service - INFO - [f477ff1c] - Content length: 5468
2025-10-09 16:13:22,100 - app.tailored_cv.services.cv_tailoring_service - INFO - [f477ff1c] - First 300 chars: {   "contact": {     "name": "Maheshwor Tiwari",     "phone": "0414 032 507",     "email": "maheshtwari99@gmail.com",     "location": "Hurstville, NSW, 2220",     "linkedin": "",     "website": ""   },   "education": [     {       "institution": "Charles Darwin University, Sydney, Australia",       ...
2025-10-09 16:13:22,100 - app.tailored_cv.services.cv_tailoring_service - INFO - Starting JSON extraction from content length: 5468
2025-10-09 16:13:22,101 - app.tailored_cv.services.cv_tailoring_service - INFO - [f477ff1c] 🔍 Starting JSON validation
2025-10-09 16:13:22,103 - app.tailored_cv.services.cv_tailoring_service - WARNING - [f477ff1c] CV created below minimum standards: 45.5% quantification
2025-10-09 16:13:22,103 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ JSON structure and Impact Formula validation passed (10/22 bullets with quantification)
2025-10-09 16:13:22,103 - app.tailored_cv.services.cv_tailoring_service - INFO - ℹ️ Skipping placeholder checks; proceeding with generated data as-is.
2025-10-09 16:13:22,103 - app.tailored_cv.services.cv_tailoring_service - INFO - [f477ff1c] 🔍 Starting keyword integration validation
2025-10-09 16:13:22,103 - app.tailored_cv.services.cv_tailoring_service - INFO - [f477ff1c] Scanning experience bullets:
2025-10-09 16:13:22,104 - app.tailored_cv.services.cv_tailoring_service - INFO - [f477ff1c] - Experience 1: 5 bullets
2025-10-09 16:13:22,104 - app.tailored_cv.services.cv_tailoring_service - INFO - [f477ff1c] - Experience 2: 4 bullets
2025-10-09 16:13:22,104 - app.tailored_cv.services.cv_tailoring_service - INFO - [f477ff1c] - Experience 3: 4 bullets
2025-10-09 16:13:22,104 - app.tailored_cv.services.cv_tailoring_service - INFO - [f477ff1c] - Experience 4: 3 bullets
2025-10-09 16:13:22,104 - app.tailored_cv.services.cv_tailoring_service - INFO - [f477ff1c] - Experience 5: 3 bullets
2025-10-09 16:13:22,104 - app.tailored_cv.services.cv_tailoring_service - INFO - [f477ff1c] - Experience 6: 3 bullets
2025-10-09 16:13:22,104 - app.tailored_cv.services.cv_tailoring_service - INFO - [f477ff1c] Scanning skills:
2025-10-09 16:13:22,105 - app.tailored_cv.services.cv_tailoring_service - INFO - [f477ff1c] - Category 1: 8 skills
2025-10-09 16:13:22,105 - app.tailored_cv.services.cv_tailoring_service - WARNING - ⚠️ Some keywords not found but within acceptable range: Detail-oriented, Stakeholder Management
2025-10-09 16:13:22,105 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Keyword integration validation passed - 4/6 critical keywords found
2025-10-09 16:13:22,105 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Keyword integration validation passed - 6 critical keywords found
2025-10-09 16:13:22,105 - app.tailored_cv.services.cv_tailoring_service - INFO - [f477ff1c] ✅ AI generation successful on attempt 1
2025-10-09 16:13:22,105 - app.tailored_cv.services.cv_tailoring_service - INFO - [f477ff1c] 🔁 Quantification below 60% (45.5%). Enhancement attempt 1/3
2025-10-09 16:13:22,106 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:13:22,106 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:13:22,106 - app.ai.ai_service - INFO - - Prompt length: 14443
2025-10-09 16:13:22,107 - app.ai.ai_service - INFO - - System prompt length: 10574
2025-10-09 16:13:22,107 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:13:22,107 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:13:22,107 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:13:22,107 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:13:22,107 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:13:22,108 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:13:22,108 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:13:22,108 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:13:22,647 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:13:22,738 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:13:22,738 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:13:22,738 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:13:22,739 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:13:43,642 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:13:43,645 - app.tailored_cv.services.cv_tailoring_service - INFO - Starting JSON extraction from content length: 5597
2025-10-09 16:13:43,646 - app.tailored_cv.services.cv_tailoring_service - INFO - [f477ff1c] 🔍 Starting JSON validation
2025-10-09 16:13:43,646 - app.tailored_cv.services.cv_tailoring_service - INFO - [f477ff1c] CV created with excellent quality: 77.3% quantification
2025-10-09 16:13:43,646 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ JSON structure and Impact Formula validation passed (17/22 bullets with quantification)
2025-10-09 16:13:43,671 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:13:43,671 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:13:43,672 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 16:13:43,672 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 16:13:43,672 INFO sqlalchemy.engine.Engine [cached since 31.89s ago] {'email_1': 'keosha@gmail.com', 'param_1': 1}
2025-10-09 16:13:43,672 - sqlalchemy.engine.Engine - INFO - [cached since 31.89s ago] {'email_1': 'keosha@gmail.com', 'param_1': 1}
2025-10-09 16:13:43,714 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:13:43,714 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:13:43,738 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:13:43,739 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:13:43,739 - app.ai.ai_service - INFO - - Prompt length: 3002
2025-10-09 16:13:43,739 - app.ai.ai_service - INFO - - System prompt length: 424
2025-10-09 16:13:43,740 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:13:43,740 - app.ai.ai_service - INFO - - Max tokens: 10
2025-10-09 16:13:43,740 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:13:43,740 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:13:43,740 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:13:43,740 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:13:43,740 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:13:43,740 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:13:44,356 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:13:44,371 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:13:44,371 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:13:44,371 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:13:44,371 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:13:44,947 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:13:44,958 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ CV tailoring completed successfully. Estimated ATS score: 85
2025-10-09 16:13:44,960 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Saved tailored CV to user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json
2025-10-09 16:13:44,960 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Saved tailored CV text to user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.txt
2025-10-09 16:13:44,960 - app.services.ai_recommendation_generator - INFO - ✅ [AI GENERATOR] Tailored CV saved automatically to user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json
2025-10-09 16:13:44,961 - app.services.ai_recommendation_generator - INFO - 📊 [AI GENERATOR] Estimated ATS score: 85
2025-10-09 16:13:44,961 - app.services.ai_recommendation_generator - INFO - 🎯 [AI GENERATOR] CV tailoring completed automatically for Australia_for_UNHCR
2025-10-09 16:13:44,961 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] AI recommendation generated for Australia_for_UNHCR
2025-10-09 16:13:44,961 - app.routes.skills_analysis - INFO - 🎯 [PIPELINE] Starting tailored CV generation for Australia_for_UNHCR
2025-10-09 16:13:44,961 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:13:44,962 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded CV optimization framework from /Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/tailored_cv/prompts/framework.md
2025-10-09 16:13:44,962 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:13:44,963 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Found AI recommendation file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_161311.json
2025-10-09 16:13:44,963 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Tailored CV found: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.txt
2025-10-09 16:13:44,963 - app.routes.skills_analysis - INFO - 📋 [PIPELINE] Pipeline summary for Australia_for_UNHCR:
2025-10-09 16:13:44,963 - app.routes.skills_analysis - INFO -    ✅ Successful: ['jd_analysis', 'cv_jd_matching', 'component_analysis', 'input_recommendation', 'ai_recommendation', 'tailored_cv']
2025-10-09 16:13:44,964 - app.routes.skills_analysis - INFO -    🎉 All steps completed successfully!
2025-10-09 16:13:44,965 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-09 16:13:44,966 - app.services.ai_recommendation_generator - INFO - 🟢 [AI GENERATOR] Latest AI recommendation (Australia_for_UNHCR_ai_recommendation_20251009_161311.json) is up-to-date vs input (Australia_for_UNHCR_input_recommendation_20251009_161305.json); skipping regeneration
2025-10-09 16:13:44,966 - app.services.ats_recommendation_service - INFO - ✅ [TRIGGER] AI recommendation generated successfully for Australia_for_UNHCR
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 16:13:45,068 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [11142]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [11988]
INFO:     Waiting for application startup.
2025-10-09 16:13:50,149 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 16:13:50,648 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 16:13:50,648 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 16:13:50,649 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:13:50,649 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:13:50,695 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 16:13:50,695 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 16:13:50,695 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:13:50,695 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:13:50,737 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 16:13:50,737 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 16:13:50,738 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:13:50,738 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:13:50,779 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:13:50,779 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:13:50,779 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 16:13:50,779 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 16:13:50,780 INFO sqlalchemy.engine.Engine [generated in 0.00059s] {}
2025-10-09 16:13:50,780 - sqlalchemy.engine.Engine - INFO - [generated in 0.00059s] {}
2025-10-09 16:13:50,819 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:13:50,819 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:13:50,836 - app.database - INFO - Database connection successful
2025-10-09 16:13:50,836 - app.main - INFO - ✅ Database connection successful
2025-10-09 16:13:50,859 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:13:50,859 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:13:50,866 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:13:50,866 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:13:50,866 INFO sqlalchemy.engine.Engine [generated in 0.00043s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:13:50,866 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:13:50,905 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:13:50,905 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:13:50,905 INFO sqlalchemy.engine.Engine [cached since 0.03931s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:13:50,905 - sqlalchemy.engine.Engine - INFO - [cached since 0.03931s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:13:50,929 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:13:50,929 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:13:50,929 INFO sqlalchemy.engine.Engine [cached since 0.0636s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:13:50,929 - sqlalchemy.engine.Engine - INFO - [cached since 0.0636s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:13:50,952 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:13:50,952 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:13:50,952 INFO sqlalchemy.engine.Engine [cached since 0.08663s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:13:50,952 - sqlalchemy.engine.Engine - INFO - [cached since 0.08663s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:13:50,975 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:13:50,975 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:13:50,976 INFO sqlalchemy.engine.Engine [cached since 0.1098s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:13:50,976 - sqlalchemy.engine.Engine - INFO - [cached since 0.1098s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:13:50,999 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:13:50,999 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:13:50,999 INFO sqlalchemy.engine.Engine [cached since 0.1336s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:13:50,999 - sqlalchemy.engine.Engine - INFO - [cached since 0.1336s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:13:51,023 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:13:51,023 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:13:51,023 INFO sqlalchemy.engine.Engine [cached since 0.1576s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:13:51,023 - sqlalchemy.engine.Engine - INFO - [cached since 0.1576s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:13:51,048 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:13:51,048 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:13:51,048 INFO sqlalchemy.engine.Engine [cached since 0.1822s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:13:51,048 - sqlalchemy.engine.Engine - INFO - [cached since 0.1822s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:13:51,070 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:13:51,070 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:13:51,071 INFO sqlalchemy.engine.Engine [cached since 0.2049s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:13:51,071 - sqlalchemy.engine.Engine - INFO - [cached since 0.2049s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:13:51,093 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:13:51,093 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:13:51,094 INFO sqlalchemy.engine.Engine [cached since 0.2279s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:13:51,094 - sqlalchemy.engine.Engine - INFO - [cached since 0.2279s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:13:51,116 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:13:51,116 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:13:51,116 INFO sqlalchemy.engine.Engine [cached since 0.2505s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:13:51,116 - sqlalchemy.engine.Engine - INFO - [cached since 0.2505s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:13:51,138 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 16:13:51,138 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 16:13:51,161 - app.database - INFO - Database tables created successfully
2025-10-09 16:13:51,161 - app.main - INFO - ✅ Database tables ready
2025-10-09 16:13:51,162 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 16:13:51,162 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
2025-10-09 16:13:51,170 - app.routes.skills_analysis - INFO - 📊 [API] Fetching analysis results for company: Australia_for_UNHCR
2025-10-09 16:13:51,171 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:13:51,171 - app.utils.path_debug - INFO - 
📌 Starting get_analysis_results
2025-10-09 16:13:51,171 - app.utils.path_debug - INFO -   📂 User base dir: user/keosha@gmail.com/cv-analysis
2025-10-09 16:13:51,171 - app.utils.path_debug - INFO -   📂 Company dir: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 16:13:51,174 - app.utils.path_debug - INFO -   📂 Using analysis file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_161227.json
2025-10-09 16:13:51,175 - app.utils.path_debug - INFO -   ✅ Loaded analysis file, size: 22992 bytes
INFO:     127.0.0.1:52691 - "GET /api/analysis-results/Australia_for_UNHCR HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'app/services/skill_extraction/response_parser.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 16:21:40,956 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [11988]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [15265]
INFO:     Waiting for application startup.
2025-10-09 16:21:46,646 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 16:21:46,956 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 16:21:46,956 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 16:21:46,956 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:21:46,956 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:21:46,998 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 16:21:46,998 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 16:21:46,998 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:21:46,998 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:21:47,041 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 16:21:47,041 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 16:21:47,041 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:21:47,041 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:21:47,086 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:21:47,086 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:21:47,086 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 16:21:47,086 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 16:21:47,087 INFO sqlalchemy.engine.Engine [generated in 0.00057s] {}
2025-10-09 16:21:47,087 - sqlalchemy.engine.Engine - INFO - [generated in 0.00057s] {}
2025-10-09 16:21:47,123 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:21:47,123 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:21:47,144 - app.database - INFO - Database connection successful
2025-10-09 16:21:47,144 - app.main - INFO - ✅ Database connection successful
2025-10-09 16:21:47,165 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:21:47,165 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:21:47,170 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:21:47,170 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:21:47,171 INFO sqlalchemy.engine.Engine [generated in 0.00046s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:21:47,171 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:21:47,206 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:21:47,206 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:21:47,206 INFO sqlalchemy.engine.Engine [cached since 0.03574s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:21:47,206 - sqlalchemy.engine.Engine - INFO - [cached since 0.03574s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:21:47,230 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:21:47,230 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:21:47,230 INFO sqlalchemy.engine.Engine [cached since 0.05983s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:21:47,230 - sqlalchemy.engine.Engine - INFO - [cached since 0.05983s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:21:47,254 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:21:47,254 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:21:47,255 INFO sqlalchemy.engine.Engine [cached since 0.0846s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:21:47,255 - sqlalchemy.engine.Engine - INFO - [cached since 0.0846s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:21:47,279 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:21:47,279 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:21:47,279 INFO sqlalchemy.engine.Engine [cached since 0.1091s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:21:47,279 - sqlalchemy.engine.Engine - INFO - [cached since 0.1091s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:21:47,302 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:21:47,302 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:21:47,302 INFO sqlalchemy.engine.Engine [cached since 0.132s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:21:47,302 - sqlalchemy.engine.Engine - INFO - [cached since 0.132s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:21:47,326 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:21:47,326 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:21:47,326 INFO sqlalchemy.engine.Engine [cached since 0.1557s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:21:47,326 - sqlalchemy.engine.Engine - INFO - [cached since 0.1557s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:21:47,348 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:21:47,348 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:21:47,348 INFO sqlalchemy.engine.Engine [cached since 0.178s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:21:47,348 - sqlalchemy.engine.Engine - INFO - [cached since 0.178s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:21:47,371 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:21:47,371 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:21:47,371 INFO sqlalchemy.engine.Engine [cached since 0.2011s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:21:47,371 - sqlalchemy.engine.Engine - INFO - [cached since 0.2011s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:21:47,388 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:21:47,388 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:21:47,388 INFO sqlalchemy.engine.Engine [cached since 0.2177s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:21:47,388 - sqlalchemy.engine.Engine - INFO - [cached since 0.2177s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:21:47,412 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:21:47,412 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:21:47,412 INFO sqlalchemy.engine.Engine [cached since 0.2422s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:21:47,412 - sqlalchemy.engine.Engine - INFO - [cached since 0.2422s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:21:47,434 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 16:21:47,434 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 16:21:47,450 - app.database - INFO - Database tables created successfully
2025-10-09 16:21:47,450 - app.main - INFO - ✅ Database tables ready
2025-10-09 16:21:47,450 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 16:21:47,451 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/services/skill_extraction/response_parser.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 16:21:51,287 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [15265]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [15352]
INFO:     Waiting for application startup.
2025-10-09 16:21:56,399 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 16:21:56,706 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 16:21:56,706 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 16:21:56,707 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:21:56,707 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:21:56,837 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 16:21:56,837 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 16:21:56,837 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:21:56,837 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:21:56,873 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 16:21:56,873 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 16:21:56,873 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:21:56,873 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:21:56,917 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:21:56,917 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:21:56,917 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 16:21:56,917 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 16:21:56,917 INFO sqlalchemy.engine.Engine [generated in 0.00053s] {}
2025-10-09 16:21:56,917 - sqlalchemy.engine.Engine - INFO - [generated in 0.00053s] {}
2025-10-09 16:21:56,958 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:21:56,958 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:21:56,981 - app.database - INFO - Database connection successful
2025-10-09 16:21:56,981 - app.main - INFO - ✅ Database connection successful
2025-10-09 16:21:57,000 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:21:57,000 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:21:57,005 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:21:57,005 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:21:57,005 INFO sqlalchemy.engine.Engine [generated in 0.00047s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:21:57,005 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:21:57,051 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:21:57,051 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:21:57,053 INFO sqlalchemy.engine.Engine [cached since 0.04804s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:21:57,053 - sqlalchemy.engine.Engine - INFO - [cached since 0.04804s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:21:57,079 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:21:57,079 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:21:57,080 INFO sqlalchemy.engine.Engine [cached since 0.07485s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:21:57,080 - sqlalchemy.engine.Engine - INFO - [cached since 0.07485s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:21:57,102 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:21:57,102 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:21:57,103 INFO sqlalchemy.engine.Engine [cached since 0.09775s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:21:57,103 - sqlalchemy.engine.Engine - INFO - [cached since 0.09775s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:21:57,125 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:21:57,125 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:21:57,125 INFO sqlalchemy.engine.Engine [cached since 0.1205s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:21:57,125 - sqlalchemy.engine.Engine - INFO - [cached since 0.1205s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:21:57,146 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:21:57,146 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:21:57,146 INFO sqlalchemy.engine.Engine [cached since 0.1413s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:21:57,146 - sqlalchemy.engine.Engine - INFO - [cached since 0.1413s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:21:57,169 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:21:57,169 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:21:57,170 INFO sqlalchemy.engine.Engine [cached since 0.1656s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:21:57,170 - sqlalchemy.engine.Engine - INFO - [cached since 0.1656s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:21:57,193 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:21:57,193 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:21:57,193 INFO sqlalchemy.engine.Engine [cached since 0.1883s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:21:57,193 - sqlalchemy.engine.Engine - INFO - [cached since 0.1883s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:21:57,218 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:21:57,218 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:21:57,220 INFO sqlalchemy.engine.Engine [cached since 0.2148s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:21:57,220 - sqlalchemy.engine.Engine - INFO - [cached since 0.2148s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:21:57,245 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:21:57,245 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:21:57,246 INFO sqlalchemy.engine.Engine [cached since 0.2411s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:21:57,246 - sqlalchemy.engine.Engine - INFO - [cached since 0.2411s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:21:57,270 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:21:57,270 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:21:57,271 INFO sqlalchemy.engine.Engine [cached since 0.2662s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:21:57,271 - sqlalchemy.engine.Engine - INFO - [cached since 0.2662s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:21:57,290 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 16:21:57,290 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 16:21:57,308 - app.database - INFO - Database tables created successfully
2025-10-09 16:21:57,308 - app.main - INFO - ✅ Database tables ready
2025-10-09 16:21:57,308 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 16:21:57,308 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
INFO:     127.0.0.1:53427 - "POST /api/skills-analysis/preliminary-analysis HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:53436 - "POST /api/skills-analysis/preliminary-analysis HTTP/1.1" 404 Not Found
2025-10-09 16:22:10,531 - app.routes.auth - INFO - 🔵 [LOGIN] Starting login process
2025-10-09 16:22:10,532 - app.routes.auth - INFO - 🔵 [LOGIN] Raw credentials: email='keosha@gmail.com' password='password123'
2025-10-09 16:22:10,532 - app.routes.auth - INFO - 🔵 [LOGIN] Email: 'keosha@gmail.com', Password length: 11
2025-10-09 16:22:10,533 - app.routes.auth - INFO - 🔵 [LOGIN] Attempting authentication
2025-10-09 16:22:10,534 - app.core.auth - INFO - 🔵 [AUTH] Starting authentication for email: 'keosha@gmail.com'
2025-10-09 16:22:10,534 - app.core.auth - INFO - 🔵 [AUTH] Normalized inputs - email: 'keosha@gmail.com', password length: 11
2025-10-09 16:22:10,535 - app.core.auth - INFO - 🔵 [AUTH] Using provided database session
2025-10-09 16:22:10,535 - app.core.auth - INFO - 🔵 [AUTH] Querying database for user: 'keosha@gmail.com'
2025-10-09 16:22:10,580 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:22:10,580 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:22:10,585 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 16:22:10,585 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 16:22:10,586 INFO sqlalchemy.engine.Engine [generated in 0.00077s] {'email_1': 'keosha@gmail.com', 'param_1': 1}
2025-10-09 16:22:10,586 - sqlalchemy.engine.Engine - INFO - [generated in 0.00077s] {'email_1': 'keosha@gmail.com', 'param_1': 1}
2025-10-09 16:22:10,631 - app.core.auth - INFO - 🔵 [AUTH] User found: keosha@gmail.com (ID: 0d4bdc07-cadf-4300-8e4f-f07da7575a62, Active: True)
2025-10-09 16:22:10,631 - app.core.auth - INFO - 🔵 [AUTH] Verifying password
2025-10-09 16:22:11,055 - app.core.auth - WARNING - 🔴 [AUTH] Password verification failed for user: 'keosha@gmail.com'
2025-10-09 16:22:11,055 - app.core.auth - WARNING - 🔴 [AUTH] Authentication failed
2025-10-09 16:22:11,055 - app.routes.auth - WARNING - 🔴 [LOGIN] Authentication failed for email: 'keosha@gmail.com'
2025-10-09 16:22:11,056 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:22:11,056 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     127.0.0.1:53444 - "POST /api/auth/login HTTP/1.1" 401 Unauthorized
WARNING:  WatchFiles detected changes in 'test_parser_fix.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 16:22:24,718 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [15352]
WARNING:  WatchFiles detected changes in 'test_parser_fix.py'. Reloading...
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [16686]
INFO:     Waiting for application startup.
2025-10-09 16:22:30,376 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 16:22:30,698 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 16:22:30,698 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 16:22:30,698 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:22:30,698 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:22:30,750 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 16:22:30,750 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 16:22:30,750 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:22:30,750 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:22:30,798 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 16:22:30,798 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 16:22:30,798 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:22:30,798 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:22:30,844 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:22:30,844 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:22:30,844 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 16:22:30,844 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 16:22:30,844 INFO sqlalchemy.engine.Engine [generated in 0.00056s] {}
2025-10-09 16:22:30,844 - sqlalchemy.engine.Engine - INFO - [generated in 0.00056s] {}
2025-10-09 16:22:30,913 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:22:30,913 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:22:30,943 - app.database - INFO - Database connection successful
2025-10-09 16:22:30,943 - app.main - INFO - ✅ Database connection successful
2025-10-09 16:22:30,970 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:22:30,970 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:22:30,975 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:30,975 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:30,975 INFO sqlalchemy.engine.Engine [generated in 0.00041s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:30,975 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:31,039 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:31,039 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:31,039 INFO sqlalchemy.engine.Engine [cached since 0.06445s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:31,039 - sqlalchemy.engine.Engine - INFO - [cached since 0.06445s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:31,066 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:31,066 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:31,066 INFO sqlalchemy.engine.Engine [cached since 0.09133s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:31,066 - sqlalchemy.engine.Engine - INFO - [cached since 0.09133s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:31,088 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:31,088 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:31,088 INFO sqlalchemy.engine.Engine [cached since 0.1134s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:31,088 - sqlalchemy.engine.Engine - INFO - [cached since 0.1134s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:31,112 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:31,112 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:31,113 INFO sqlalchemy.engine.Engine [cached since 0.1377s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:31,113 - sqlalchemy.engine.Engine - INFO - [cached since 0.1377s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:31,135 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:31,135 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:31,135 INFO sqlalchemy.engine.Engine [cached since 0.1604s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:31,135 - sqlalchemy.engine.Engine - INFO - [cached since 0.1604s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:31,157 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:31,157 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:31,157 INFO sqlalchemy.engine.Engine [cached since 0.182s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:31,157 - sqlalchemy.engine.Engine - INFO - [cached since 0.182s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:31,181 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:31,181 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:31,181 INFO sqlalchemy.engine.Engine [cached since 0.206s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:31,181 - sqlalchemy.engine.Engine - INFO - [cached since 0.206s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:31,207 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:31,207 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:31,207 INFO sqlalchemy.engine.Engine [cached since 0.2318s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:31,207 - sqlalchemy.engine.Engine - INFO - [cached since 0.2318s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:31,230 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:31,230 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:31,230 INFO sqlalchemy.engine.Engine [cached since 0.2551s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:31,230 - sqlalchemy.engine.Engine - INFO - [cached since 0.2551s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:31,252 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:31,252 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:31,252 INFO sqlalchemy.engine.Engine [cached since 0.2772s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:31,252 - sqlalchemy.engine.Engine - INFO - [cached since 0.2772s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:31,272 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 16:22:31,272 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 16:22:31,294 - app.database - INFO - Database tables created successfully
2025-10-09 16:22:31,294 - app.main - INFO - ✅ Database tables ready
2025-10-09 16:22:31,295 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 16:22:31,295 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'test_parser_fix.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 16:22:39,431 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [16686]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [16920]
INFO:     Waiting for application startup.
2025-10-09 16:22:44,463 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 16:22:44,723 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 16:22:44,723 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 16:22:44,724 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:22:44,724 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:22:44,760 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 16:22:44,760 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 16:22:44,760 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:22:44,760 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:22:44,804 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 16:22:44,804 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 16:22:44,805 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:22:44,805 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:22:44,847 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:22:44,847 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:22:44,847 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 16:22:44,847 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 16:22:44,848 INFO sqlalchemy.engine.Engine [generated in 0.00103s] {}
2025-10-09 16:22:44,848 - sqlalchemy.engine.Engine - INFO - [generated in 0.00103s] {}
2025-10-09 16:22:44,884 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:22:44,884 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:22:44,901 - app.database - INFO - Database connection successful
2025-10-09 16:22:44,902 - app.main - INFO - ✅ Database connection successful
2025-10-09 16:22:44,923 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:22:44,923 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:22:44,928 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:44,928 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:44,928 INFO sqlalchemy.engine.Engine [generated in 0.00045s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:44,928 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:44,970 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:44,970 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:44,971 INFO sqlalchemy.engine.Engine [cached since 0.04308s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:44,971 - sqlalchemy.engine.Engine - INFO - [cached since 0.04308s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:44,993 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:44,993 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:44,994 INFO sqlalchemy.engine.Engine [cached since 0.06595s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:44,994 - sqlalchemy.engine.Engine - INFO - [cached since 0.06595s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:45,035 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:45,035 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:45,035 INFO sqlalchemy.engine.Engine [cached since 0.1076s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:45,035 - sqlalchemy.engine.Engine - INFO - [cached since 0.1076s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:45,056 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:45,056 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:45,057 INFO sqlalchemy.engine.Engine [cached since 0.1292s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:45,057 - sqlalchemy.engine.Engine - INFO - [cached since 0.1292s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:45,079 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:45,079 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:45,080 INFO sqlalchemy.engine.Engine [cached since 0.1522s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:45,080 - sqlalchemy.engine.Engine - INFO - [cached since 0.1522s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:45,102 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:45,102 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:45,103 INFO sqlalchemy.engine.Engine [cached since 0.1752s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:45,103 - sqlalchemy.engine.Engine - INFO - [cached since 0.1752s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:45,131 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:45,131 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:45,132 INFO sqlalchemy.engine.Engine [cached since 0.2041s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:45,132 - sqlalchemy.engine.Engine - INFO - [cached since 0.2041s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:45,153 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:45,153 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:45,154 INFO sqlalchemy.engine.Engine [cached since 0.2262s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:45,154 - sqlalchemy.engine.Engine - INFO - [cached since 0.2262s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:45,177 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:45,177 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:45,177 INFO sqlalchemy.engine.Engine [cached since 0.2496s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:45,177 - sqlalchemy.engine.Engine - INFO - [cached since 0.2496s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:45,200 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:45,200 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:45,200 INFO sqlalchemy.engine.Engine [cached since 0.2725s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:45,200 - sqlalchemy.engine.Engine - INFO - [cached since 0.2725s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:45,222 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 16:22:45,222 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 16:22:45,245 - app.database - INFO - Database tables created successfully
2025-10-09 16:22:45,246 - app.main - INFO - ✅ Database tables ready
2025-10-09 16:22:45,247 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 16:22:45,247 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'test_parser_fix.py', 'app/services/skill_extraction/response_parser.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 16:22:49,600 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [16920]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [16953]
INFO:     Waiting for application startup.
2025-10-09 16:22:54,423 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 16:22:54,687 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 16:22:54,687 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 16:22:54,687 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:22:54,687 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:22:54,732 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 16:22:54,732 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 16:22:54,733 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:22:54,733 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:22:54,771 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 16:22:54,771 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 16:22:54,771 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:22:54,771 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:22:54,813 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:22:54,813 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:22:54,813 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 16:22:54,813 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 16:22:54,813 INFO sqlalchemy.engine.Engine [generated in 0.00057s] {}
2025-10-09 16:22:54,813 - sqlalchemy.engine.Engine - INFO - [generated in 0.00057s] {}
2025-10-09 16:22:54,859 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:22:54,859 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:22:54,881 - app.database - INFO - Database connection successful
2025-10-09 16:22:54,882 - app.main - INFO - ✅ Database connection successful
2025-10-09 16:22:54,903 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:22:54,903 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:22:54,908 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:54,908 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:54,908 INFO sqlalchemy.engine.Engine [generated in 0.00040s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:54,908 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:54,945 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:54,945 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:54,946 INFO sqlalchemy.engine.Engine [cached since 0.03793s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:54,946 - sqlalchemy.engine.Engine - INFO - [cached since 0.03793s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:54,969 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:54,969 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:54,969 INFO sqlalchemy.engine.Engine [cached since 0.06154s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:54,969 - sqlalchemy.engine.Engine - INFO - [cached since 0.06154s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:54,993 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:54,993 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:54,993 INFO sqlalchemy.engine.Engine [cached since 0.0857s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:54,993 - sqlalchemy.engine.Engine - INFO - [cached since 0.0857s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:55,015 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:55,015 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:55,016 INFO sqlalchemy.engine.Engine [cached since 0.1078s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:55,016 - sqlalchemy.engine.Engine - INFO - [cached since 0.1078s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:55,039 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:55,039 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:55,040 INFO sqlalchemy.engine.Engine [cached since 0.1318s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:55,040 - sqlalchemy.engine.Engine - INFO - [cached since 0.1318s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:55,062 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:55,062 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:55,062 INFO sqlalchemy.engine.Engine [cached since 0.1542s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:55,062 - sqlalchemy.engine.Engine - INFO - [cached since 0.1542s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:55,084 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:55,084 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:55,085 INFO sqlalchemy.engine.Engine [cached since 0.1769s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:55,085 - sqlalchemy.engine.Engine - INFO - [cached since 0.1769s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:55,108 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:55,108 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:55,108 INFO sqlalchemy.engine.Engine [cached since 0.2001s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:55,108 - sqlalchemy.engine.Engine - INFO - [cached since 0.2001s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:55,130 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:55,130 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:55,131 INFO sqlalchemy.engine.Engine [cached since 0.2227s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:55,131 - sqlalchemy.engine.Engine - INFO - [cached since 0.2227s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:55,152 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:55,152 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:22:55,152 INFO sqlalchemy.engine.Engine [cached since 0.2441s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:55,152 - sqlalchemy.engine.Engine - INFO - [cached since 0.2441s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:22:55,175 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 16:22:55,175 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 16:22:55,191 - app.database - INFO - Database tables created successfully
2025-10-09 16:22:55,192 - app.main - INFO - ✅ Database tables ready
2025-10-09 16:22:55,192 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 16:22:55,192 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/services/skill_extraction/response_parser.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 16:23:09,181 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [16953]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [17020]
INFO:     Waiting for application startup.
2025-10-09 16:23:15,240 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 16:23:15,568 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 16:23:15,568 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 16:23:15,568 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:23:15,568 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:23:15,613 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 16:23:15,613 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 16:23:15,614 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:23:15,614 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:23:15,653 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 16:23:15,653 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 16:23:15,653 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:23:15,653 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:23:15,694 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:23:15,694 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:23:15,695 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 16:23:15,695 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 16:23:15,695 INFO sqlalchemy.engine.Engine [generated in 0.00130s] {}
2025-10-09 16:23:15,695 - sqlalchemy.engine.Engine - INFO - [generated in 0.00130s] {}
2025-10-09 16:23:15,741 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:23:15,741 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:23:15,758 - app.database - INFO - Database connection successful
2025-10-09 16:23:15,759 - app.main - INFO - ✅ Database connection successful
2025-10-09 16:23:15,781 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:23:15,781 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:23:15,787 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:23:15,787 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:23:15,787 INFO sqlalchemy.engine.Engine [generated in 0.00043s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:23:15,787 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:23:15,827 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:23:15,827 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:23:15,827 INFO sqlalchemy.engine.Engine [cached since 0.04035s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:23:15,827 - sqlalchemy.engine.Engine - INFO - [cached since 0.04035s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:23:15,850 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:23:15,850 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:23:15,851 INFO sqlalchemy.engine.Engine [cached since 0.06385s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:23:15,851 - sqlalchemy.engine.Engine - INFO - [cached since 0.06385s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:23:15,884 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:23:15,884 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:23:15,885 INFO sqlalchemy.engine.Engine [cached since 0.09797s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:23:15,885 - sqlalchemy.engine.Engine - INFO - [cached since 0.09797s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:23:15,904 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:23:15,904 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:23:15,904 INFO sqlalchemy.engine.Engine [cached since 0.1171s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:23:15,904 - sqlalchemy.engine.Engine - INFO - [cached since 0.1171s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:23:15,927 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:23:15,927 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:23:15,927 INFO sqlalchemy.engine.Engine [cached since 0.1401s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:23:15,927 - sqlalchemy.engine.Engine - INFO - [cached since 0.1401s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:23:15,951 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:23:15,951 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:23:15,951 INFO sqlalchemy.engine.Engine [cached since 0.1642s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:23:15,951 - sqlalchemy.engine.Engine - INFO - [cached since 0.1642s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:23:15,973 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:23:15,973 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:23:15,973 INFO sqlalchemy.engine.Engine [cached since 0.1865s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:23:15,973 - sqlalchemy.engine.Engine - INFO - [cached since 0.1865s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:23:15,998 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:23:15,998 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:23:15,999 INFO sqlalchemy.engine.Engine [cached since 0.2122s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:23:15,999 - sqlalchemy.engine.Engine - INFO - [cached since 0.2122s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:23:16,020 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:23:16,020 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:23:16,020 INFO sqlalchemy.engine.Engine [cached since 0.2333s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:23:16,020 - sqlalchemy.engine.Engine - INFO - [cached since 0.2333s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:23:16,044 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:23:16,044 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:23:16,044 INFO sqlalchemy.engine.Engine [cached since 0.2574s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:23:16,044 - sqlalchemy.engine.Engine - INFO - [cached since 0.2574s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:23:16,067 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 16:23:16,067 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 16:23:16,085 - app.database - INFO - Database tables created successfully
2025-10-09 16:23:16,086 - app.main - INFO - ✅ Database tables ready
2025-10-09 16:23:16,086 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 16:23:16,086 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
INFO:     127.0.0.1:53549 - "OPTIONS /api/tailored-cv/available-companies-real HTTP/1.1" 200 OK
2025-10-09 16:23:16,100 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
INFO:     127.0.0.1:53549 - "GET /api/tailored-cv/available-companies-real HTTP/1.1" 200 OK
INFO:     127.0.0.1:53549 - "OPTIONS /api/tailored-cv/content/Australia_for_UNHCR HTTP/1.1" 200 OK
2025-10-09 16:23:16,118 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 📄 Tailored CV content request for Australia_for_UNHCR from user 0d4bdc07-cadf-4300-8e4f-f07da7575a62
2025-10-09 16:23:16,119 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:23:16,119 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:23:16,119 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:23:16,121 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ Served TAILORED CV content: Australia_for_UNHCR_tailored_cv_20251009_161344.txt from tailored folder (3543 characters)
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
🔍 Searching for tailored CV ONLY for company: Australia_for_UNHCR
📁 Found 2 tailored CV candidates
✅ Selected tailored CV: tailored - user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json
INFO:     127.0.0.1:53555 - "GET /api/tailored-cv/content/Australia_for_UNHCR HTTP/1.1" 200 OK
INFO:     127.0.0.1:53573 - "OPTIONS /api/tailored-cv/save-edited HTTP/1.1" 200 OK
2025-10-09 16:23:32,689 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Received request data keys: ['company', 'content']
2025-10-09 16:23:32,690 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Request data: {
  "company": "Australia_for_UNHCR",
  "content": "Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220\n\nTECHNICAL SKILLS\n\u2022 Excel, SQL, Python, Power BI, VBA, Analytical Models, Data Analysis, Data Extraction\n"
}...
2025-10-09 16:23:32,690 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Extracted - Company: Australia_for_UNHCR
2025-10-09 16:23:32,690 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Extracted - Content type: <class 'str'>
2025-10-09 16:23:32,691 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Extracted - Content length: 190
2025-10-09 16:23:32,691 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Starting save process for Australia_for_UNHCR
2025-10-09 16:23:32,691 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:23:32,692 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Tailored path: user/keosha@gmail.com/cv-analysis/cvs/tailored
2025-10-09 16:23:32,693 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Found 2 existing TXT files in tailored folder
2025-10-09 16:23:32,693 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] - user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.txt
2025-10-09 16:23:32,693 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] - user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.txt
2025-10-09 16:23:32,694 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated TXT: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.txt
2025-10-09 16:23:32,696 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Starting CV content parsing
2025-10-09 16:23:32,696 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Content length: 190
2025-10-09 16:23:32,696 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Existing JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:23:32,696 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Processing 4 lines
2025-10-09 16:23:32,696 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing contact line: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220
2025-10-09 16:23:32,697 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: technical_skills
2025-10-09 16:23:32,697 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsed 8 skills
2025-10-09 16:23:32,697 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing completed successfully
2025-10-09 16:23:32,697 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Updated JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:23:32,698 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated JSON: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
2025-10-09 16:23:32,699 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated TXT: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.txt
2025-10-09 16:23:32,700 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Starting CV content parsing
2025-10-09 16:23:32,700 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Content length: 190
2025-10-09 16:23:32,700 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Existing JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:23:32,700 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Processing 4 lines
2025-10-09 16:23:32,700 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing contact line: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220
2025-10-09 16:23:32,701 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: technical_skills
2025-10-09 16:23:32,701 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsed 8 skills
2025-10-09 16:23:32,701 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing completed successfully
2025-10-09 16:23:32,701 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Updated JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:23:32,702 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated JSON: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json
2025-10-09 16:23:32,702 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Completed saving for Australia_for_UNHCR
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
INFO:     127.0.0.1:53573 - "POST /api/tailored-cv/save-edited HTTP/1.1" 200 OK
2025-10-09 16:23:33,440 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Received request data keys: ['company', 'content']
2025-10-09 16:23:33,440 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Request data: {
  "company": "Australia_for_UNHCR",
  "content": "Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220\n\nTECHNICAL SKILLS\n\u2022 Excel, SQL, Python, Power BI, VBA, Analytical Models, Data Analysis, Data Extraction\n"
}...
2025-10-09 16:23:33,440 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Extracted - Company: Australia_for_UNHCR
2025-10-09 16:23:33,440 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Extracted - Content type: <class 'str'>
2025-10-09 16:23:33,440 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Extracted - Content length: 190
2025-10-09 16:23:33,440 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Starting save process for Australia_for_UNHCR
2025-10-09 16:23:33,441 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:23:33,441 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Tailored path: user/keosha@gmail.com/cv-analysis/cvs/tailored
2025-10-09 16:23:33,441 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Found 2 existing TXT files in tailored folder
2025-10-09 16:23:33,441 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] - user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.txt
2025-10-09 16:23:33,441 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] - user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.txt
2025-10-09 16:23:33,442 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated TXT: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.txt
2025-10-09 16:23:33,442 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Starting CV content parsing
2025-10-09 16:23:33,442 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Content length: 190
2025-10-09 16:23:33,442 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Existing JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:23:33,443 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Processing 4 lines
2025-10-09 16:23:33,443 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing contact line: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220
2025-10-09 16:23:33,443 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: technical_skills
2025-10-09 16:23:33,443 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsed 8 skills
2025-10-09 16:23:33,443 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing completed successfully
2025-10-09 16:23:33,443 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Updated JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:23:33,444 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated JSON: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
2025-10-09 16:23:33,444 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated TXT: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.txt
2025-10-09 16:23:33,445 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Starting CV content parsing
2025-10-09 16:23:33,445 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Content length: 190
2025-10-09 16:23:33,445 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Existing JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:23:33,445 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Processing 4 lines
2025-10-09 16:23:33,445 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing contact line: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220
2025-10-09 16:23:33,446 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: technical_skills
2025-10-09 16:23:33,446 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsed 8 skills
2025-10-09 16:23:33,446 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing completed successfully
2025-10-09 16:23:33,446 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Updated JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:23:33,447 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated JSON: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json
2025-10-09 16:23:33,447 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Completed saving for Australia_for_UNHCR
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
INFO:     127.0.0.1:53573 - "POST /api/tailored-cv/save-edited HTTP/1.1" 200 OK
INFO:     127.0.0.1:53575 - "OPTIONS /api/preliminary-analysis/cache HTTP/1.1" 200 OK
INFO:     127.0.0.1:53591 - "GET /api/preliminary-analysis/cache HTTP/1.1" 200 OK
INFO:     127.0.0.1:53591 - "OPTIONS /api/preliminary-analysis HTTP/1.1" 200 OK
2025-10-09 16:23:48,191 - app.core.model_dependency - INFO - 🔍 [MODEL_DEPENDENCY] Initializing model for user: keosha@gmail.com
2025-10-09 16:23:48,192 - app.core.model_dependency - INFO - - Header model: gpt-3.5-turbo
2025-10-09 16:23:48,192 - app.core.model_dependency - INFO - - User ID: 0d4bdc07-cadf-4300-8e4f-f07da7575a62
2025-10-09 16:23:48,192 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 16:23:48,192 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:23:48,193 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 16:23:48,193 - app.ai.ai_service - INFO - - Available providers: []
2025-10-09 16:23:48,193 - app.ai.ai_service - INFO - - Provider status: {}
2025-10-09 16:23:48,193 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 16:23:48,194 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: []
2025-10-09 16:23:48,194 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 16:23:48,194 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {}
2025-10-09 16:23:48,194 - app.ai.ai_service - ERROR - ❌ No current provider available for model switching
2025-10-09 16:23:48,194 - app.core.model_dependency - WARNING - ⚠️ Failed to switch to header model gpt-3.5-turbo
2025-10-09 16:23:48,200 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user keosha@gmail.com
2025-10-09 16:23:48,200 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Before initialization:
2025-10-09 16:23:48,201 - app.ai.ai_service - INFO - - Current providers: []
2025-10-09 16:23:48,201 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 16:23:48,201 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 16:23:48,202 - app.ai.ai_service - INFO - - Cached providers for user: []
2025-10-09 16:23:48,202 - app.ai.ai_service - INFO - 🔄 [AI_SERVICE] Initializing new providers for user keosha@gmail.com
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
2025-10-09 16:23:48,253 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:23:48,253 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:23:48,259 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:23:48,259 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:23:48,259 INFO sqlalchemy.engine.Engine [generated in 0.00054s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 16:23:48,259 - sqlalchemy.engine.Engine - INFO - [generated in 0.00054s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 16:23:48,306 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:23:48,306 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:23:49,233 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:23:49,248 - app.ai.ai_service - INFO - ✅ Initialized openai provider with model gpt-4o for user keosha@gmail.com
2025-10-09 16:23:49,269 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:23:49,269 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:23:49,270 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:23:49,270 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:23:49,271 INFO sqlalchemy.engine.Engine [cached since 1.012s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 16:23:49,271 - sqlalchemy.engine.Engine - INFO - [cached since 1.012s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 16:23:49,310 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:23:49,310 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:23:49,332 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user keosha@gmail.com and provider anthropic
2025-10-09 16:23:49,354 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:23:49,354 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:23:49,355 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:23:49,355 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:23:49,356 INFO sqlalchemy.engine.Engine [cached since 1.097s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 16:23:49,356 - sqlalchemy.engine.Engine - INFO - [cached since 1.097s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 16:23:49,399 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:23:49,399 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:23:49,421 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user keosha@gmail.com and provider deepseek
2025-10-09 16:23:49,422 - app.ai.ai_service - INFO - 💾 [AI_SERVICE] Cached 1 providers for user keosha@gmail.com
2025-10-09 16:23:49,422 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] After initialization:
2025-10-09 16:23:49,422 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 16:23:49,423 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 16:23:49,423 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 16:23:49,423 - app.core.model_dependency - INFO - ✅ [MODEL_DEPENDENCY] AI providers initialized for user keosha@gmail.com
2025-10-09 16:23:49,439 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:23:49,439 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:23:49,442 INFO sqlalchemy.engine.Engine SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 16:23:49,442 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 16:23:49,443 INFO sqlalchemy.engine.Engine [generated in 0.00057s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'param_1': 1}
2025-10-09 16:23:49,443 - sqlalchemy.engine.Engine - INFO - [generated in 0.00057s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'param_1': 1}
2025-10-09 16:23:49,485 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:23:49,485 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:23:49,507 - app.core.model_dependency - INFO - 🔍 [MODEL_DEPENDENCY] Found saved preference: openai/gpt-3.5-turbo
2025-10-09 16:23:49,507 - app.ai.ai_service - INFO - ✅ Switched to openai provider with model gpt-3.5-turbo
2025-10-09 16:23:49,507 - app.core.model_dependency - INFO - ✅ [MODEL_DEPENDENCY] Successfully restored user preference: openai/gpt-3.5-turbo
2025-10-09 16:23:49,509 - app.routes.skills_analysis - INFO - 🎯 Preliminary analysis request: CV=maheshwor_tiwari.pdf, JD_length=6014, CONFIG=None
2025-10-09 16:23:49,511 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:23:49,512 - app.routes.skills_analysis - INFO - 🏢 Extracted company name: Australia_for_UNHCR
2025-10-09 16:23:49,512 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:23:49,514 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:23:49,515 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:23:49,515 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:23:49,515 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:23:49,517 - app.routes.skills_analysis - INFO - 🔗 [PRELIM_ANALYSIS] JD URL (latest job_info): https://www.ethicaljobs.com.au/members/australiaforunhcr/data-analyst
2025-10-09 16:23:49,519 - app.routes.skills_analysis - INFO - 📄 [PRELIM_ANALYSIS] Latest CV selected → type=tailored, ts=20251009_161344, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json, txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.txt
2025-10-09 16:23:49,522 - app.routes.skills_analysis - INFO - 🧪 [PRELIM_ANALYSIS] CV content length=190, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • Excel, SQL, Python, Power BI, VBA, Analytical Models, Data Analysis, Data Extraction '
2025-10-09 16:23:49,522 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 16:23:49,523 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 16:23:49,523 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 16:23:49,523 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Starting AI-powered skills analysis for maheshwor_tiwari.pdf
2025-10-09 16:23:49,524 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] CV content length: 190 chars
2025-10-09 16:23:49,524 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] JD content length: 6014 chars
2025-10-09 16:23:49,524 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using config: default
2025-10-09 16:23:49,524 - app.routes.skills_analysis - INFO - 🧪 [SKILLS_ANALYSIS] CV preview: 'Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • Excel, SQL, Python, Power BI, VBA, Analytical Models, Data Analysis, Data E'
2025-10-09 16:23:49,524 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:23:49,524 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:23:49,525 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:23:49,525 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:23:49,525 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:23:50,151 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:23:50,165 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:23:50,165 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:23:50,165 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:23:50,165 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI provider: openai
2025-10-09 16:23:50,165 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI model: gpt-3.5-turbo
2025-10-09 16:23:50,165 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Provider available: True
2025-10-09 16:23:50,165 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Model from header: gpt-3.5-turbo
2025-10-09 16:23:50,166 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting CV skills with detailed structured analysis...
2025-10-09 16:23:50,166 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:23:50,166 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:23:50,166 - app.ai.ai_service - INFO - - Prompt length: 6326
2025-10-09 16:23:50,166 - app.ai.ai_service - INFO - - System prompt length: 0
2025-10-09 16:23:50,166 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:23:50,166 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:23:50,166 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:23:50,167 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:23:50,167 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:23:50,167 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:23:50,167 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:23:50,167 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:23:50,663 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:23:50,824 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:23:50,824 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:23:50,824 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:23:50,824 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:23:53,635 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:23:53,645 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] Starting response parsing...
2025-10-09 16:23:53,646 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] Raw response preview: 
## TECHNICAL SKILLS:
**EXPLICIT (directly stated):**
- Excel
- SQL
- Python
- Power BI
- VBA
- Analytical Models
- Data Analysis
- Data Extraction

**STRONGLY IMPLIED (very likely based on responsibilities):**
- N/A

## SOFT SKILLS:
**EXPLICIT (directly stated):**
- N/A

**STRONGLY IMPLIED (very likely based on responsibilities):**
- N/A

## DOMAIN KEYWORDS:
**EXPLICIT:**
- N/A

**STRONGLY IMPLIED:**
- N/A

**CRITICAL OUTPUT REQUIREMENT:**
SOFT_SKILLS = []
TECHNICAL_SKILLS = ["Excel", "SQL", "P...
2025-10-09 16:23:53,646 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] FULL CV RESPONSE: 
## TECHNICAL SKILLS:
**EXPLICIT (directly stated):**
- Excel
- SQL
- Python
- Power BI
- VBA
- Analytical Models
- Data Analysis
- Data Extraction

**STRONGLY IMPLIED (very likely based on responsibilities):**
- N/A

## SOFT SKILLS:
**EXPLICIT (directly stated):**
- N/A

**STRONGLY IMPLIED (very likely based on responsibilities):**
- N/A

## DOMAIN KEYWORDS:
**EXPLICIT:**
- N/A

**STRONGLY IMPLIED:**
- N/A

**CRITICAL OUTPUT REQUIREMENT:**
SOFT_SKILLS = []
TECHNICAL_SKILLS = ["Excel", "SQL", "Python", "Power BI", "VBA", "Analytical Models", "Data Analysis", "Data Extraction"]
DOMAIN_KEYWORDS = []
2025-10-09 16:23:53,647 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Successfully extracted 8 total skills using multi-format parser
2025-10-09 16:23:53,647 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated technical_skills: 8 valid skills
2025-10-09 16:23:53,647 - app.services.skill_extraction.response_parser - INFO - 📊 [CV] Parsing completed:
2025-10-09 16:23:53,647 - app.services.skill_extraction.response_parser - INFO -    Soft Skills (0): []
2025-10-09 16:23:53,648 - app.services.skill_extraction.response_parser - INFO -    Technical Skills (8): ['Excel', 'SQL', 'Python']...
2025-10-09 16:23:53,648 - app.services.skill_extraction.response_parser - INFO -    Domain Keywords (0): []
2025-10-09 16:23:53,648 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting JD skills with detailed structured analysis...
2025-10-09 16:23:53,648 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:23:53,648 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:23:53,648 - app.ai.ai_service - INFO - - Prompt length: 18001
2025-10-09 16:23:53,648 - app.ai.ai_service - INFO - - System prompt length: 0
2025-10-09 16:23:53,649 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:23:53,649 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:23:53,649 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:23:53,649 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:23:53,649 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:23:53,649 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:23:53,649 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:23:53,649 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:23:54,349 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:23:54,363 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:23:54,363 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:23:54,364 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:23:54,364 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:24:01,077 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:24:01,079 - app.services.skill_extraction.response_parser - INFO - 🔍 [JD] Starting response parsing...
2025-10-09 16:24:01,079 - app.services.skill_extraction.response_parser - INFO - 🔍 [JD] Raw response preview: ## SOFT SKILLS:
- Communication
- Leadership
- Teamwork
- Collaboration
- Negotiation
- Time Management
- Organization
- Adaptability
- Problem-solving
- Analytical Thinking
- Critical Thinking
- Creativity
- Innovation
- Detail-oriented
- Self-motivated
- Proactive
- Results-driven

## TECHNICAL SKILLS:
- Data Analysis
- Data Mining
- Business Intelligence
- Power BI
- SQL
- Spreadsheets
- Formulas
- VBA
- Data Models
- SQL Data Warehouse
- Database Knowledge
- Tableau
- Data Extraction
- Relat...
2025-10-09 16:24:01,080 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Successfully extracted 55 total skills using multi-format parser
2025-10-09 16:24:01,080 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated soft_skills: 17 valid skills
2025-10-09 16:24:01,080 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated technical_skills: 20 valid skills
2025-10-09 16:24:01,080 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated domain_keywords: 18 valid skills
2025-10-09 16:24:01,080 - app.services.skill_extraction.response_parser - INFO - 📊 [JD] Parsing completed:
2025-10-09 16:24:01,080 - app.services.skill_extraction.response_parser - INFO -    Soft Skills (17): ['Communication', 'Leadership', 'Teamwork']...
2025-10-09 16:24:01,080 - app.services.skill_extraction.response_parser - INFO -    Technical Skills (20): ['Data Analysis', 'Data Mining', 'Business Intelligence']...
2025-10-09 16:24:01,081 - app.services.skill_extraction.response_parser - INFO -    Domain Keywords (18): ['Fundraising', 'Humanitarian Emergencies', 'Business Decision-making']...
2025-10-09 16:24:01,081 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using structured analysis as comprehensive analysis...
2025-10-09 16:24:01,081 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Technical Skills (8): ['Excel', 'SQL', 'Python', 'Power BI', 'VBA', 'Analytical Models', 'Data Analysis', 'Data Extraction']
2025-10-09 16:24:01,081 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Soft Skills (0): []
2025-10-09 16:24:01,081 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Domain Keywords (0): []
2025-10-09 16:24:01,081 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Technical Skills (20): ['Data Analysis', 'Data Mining', 'Business Intelligence', 'Power BI', 'SQL', 'Spreadsheets', 'Formulas', 'VBA', 'Data Models', 'SQL Data Warehouse', 'Database Knowledge', 'Tableau', 'Data Extraction', 'Relational Databases', 'Project Management', 'Stakeholder Management', 'Marketing Campaigns', 'Data Utilization', 'Data Cleaning', 'De-duplication']
2025-10-09 16:24:01,081 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Soft Skills (17): ['Communication', 'Leadership', 'Teamwork', 'Collaboration', 'Negotiation', 'Time Management', 'Organization', 'Adaptability', 'Problem-solving', 'Analytical Thinking', 'Critical Thinking', 'Creativity', 'Innovation', 'Detail-oriented', 'Self-motivated', 'Proactive', 'Results-driven']
2025-10-09 16:24:01,081 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Domain Keywords (18): ['Fundraising', 'Humanitarian Emergencies', 'Business Decision-making', 'Direct Marketing', 'Multi-channel Communication', 'Donor-centricity', 'Data Warehouse', 'Program Needs', 'Evidence-based Decision Making', 'Refugee Support', 'Data Requirements', 'Business Stakeholders', 'Data Selections', 'Segmentation Strategies', 'Communication Purposes', 'Best Practice Guidelines', 'Clean Data', 'Inclusive Workforce Cultures']
2025-10-09 16:24:01,082 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] Analysis completed successfully
2025-10-09 16:24:01,082 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 16:24:01,082 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:24:01,082 - app.services.skill_extraction.result_saver - INFO - 📁 Result saver initialized with base directory: user/keosha@gmail.com/cv-analysis
2025-10-09 16:24:01,082 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:24:01,083 - app.routes.skills_analysis - INFO - 🔍 [COMPANY_DETECTION] Looking in: user/keosha@gmail.com/cv-analysis/applied_companies
2025-10-09 16:24:01,083 - app.routes.skills_analysis - INFO - 📁 [COMPANY_DETECTION] Found company folder: Australia_for_UNHCR with 1 job_info files
2025-10-09 16:24:01,083 - app.routes.skills_analysis - INFO - 🏢 [COMPANY_DETECTION] Using most recent company folder: Australia_for_UNHCR
2025-10-09 16:24:01,084 - app.routes.skills_analysis - INFO - 📋 [COMPANY_DETECTION] Job info company: Australia for UNHCR
2025-10-09 16:24:01,085 - app.services.skill_extraction.result_saver - INFO - 🏢 Using provided company name: Australia_for_UNHCR -> Australia_for_UNHCR
2025-10-09 16:24:01,086 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:24:01,086 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:24:01,087 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:24:01,088 - app.services.skill_extraction.result_saver - INFO - 💾 Structured CV already exists, preserving it: user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 16:24:01,088 - app.services.skill_extraction.result_saver - INFO - 💾 Structured CV preserved, skipping save: user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 16:24:01,090 - app.services.skill_extraction.result_saver - INFO - 💾 Analysis results saved (JSON) to: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_162401.json
2025-10-09 16:24:01,090 - app.routes.skills_analysis - INFO - 📁 [FILE_SAVE] Results saved to: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_162401.json
2025-10-09 16:24:01,090 - app.routes.skills_analysis - INFO - 🔍 [ANALYZE_MATCH] Starting analyze match assessment...
2025-10-09 16:24:01,094 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:24:01,094 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:24:01,094 - app.ai.ai_service - INFO - - Prompt length: 12293
2025-10-09 16:24:01,094 - app.ai.ai_service - INFO - - System prompt length: 0
2025-10-09 16:24:01,095 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:24:01,095 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:24:01,095 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:24:01,095 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:24:01,095 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:24:01,095 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:24:01,095 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:24:01,095 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:24:01,519 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:24:01,542 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:24:01,543 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:24:01,543 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:24:01,543 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:24:04,715 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:24:04,716 - app.routes.skills_analysis - INFO - ✅ [ANALYZE_MATCH] Analysis completed (length: 1978 chars)
2025-10-09 16:24:04,717 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:24:04,718 - app.services.skill_extraction.result_saver - INFO - 📂 Found existing analysis file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_162401.json
2025-10-09 16:24:04,718 - app.services.skill_extraction.result_saver - INFO - 🔍 Looking for analysis file in: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 16:24:04,719 - app.services.skill_extraction.result_saver - INFO - 📄 Using existing file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_162401.json
2025-10-09 16:24:04,720 - app.services.skill_extraction.result_saver - INFO - 📁 [ANALYZE_MATCH] Results appended to: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_162401.json
2025-10-09 16:24:04,721 - app.routes.skills_analysis - INFO - 📁 [ANALYZE_MATCH] Results appended to: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_162401.json
2025-10-09 16:24:04,721 - app.routes.skills_analysis - INFO - 🔍 [PREEXTRACTED_COMPARISON] Starting pre-extracted skills semantic comparison...
2025-10-09 16:24:04,724 - app.services.skill_extraction.preextracted_comparator - INFO - 🔍 [EXACT_MATCHES] Found 3 exact matches: {'technical_skills': [{'jd_skill': 'Data Analysis', 'cv_skill': 'Data Analysis', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Data Extraction', 'cv_skill': 'Data Extraction', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Power BI', 'cv_skill': 'Power BI', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'SQL', 'cv_skill': 'SQL', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'VBA', 'cv_skill': 'VBA', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}], 'soft_skills': [], 'domain_keywords': []}
2025-10-09 16:24:04,725 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:24:04,725 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:24:04,725 - app.ai.ai_service - INFO - - Prompt length: 6528
2025-10-09 16:24:04,725 - app.ai.ai_service - INFO - - System prompt length: 0
2025-10-09 16:24:04,726 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:24:04,726 - app.ai.ai_service - INFO - - Max tokens: 3000
2025-10-09 16:24:04,726 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:24:04,727 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:24:04,727 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:24:04,727 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:24:04,727 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:24:04,728 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:24:05,102 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:24:05,119 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:24:05,119 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:24:05,119 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:24:05,120 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:24:14,729 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:24:14,731 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: VBA → VBA
2025-10-09 16:24:14,731 - app.services.skill_extraction.preextracted_comparator - INFO - ℹ️ [VALIDATION] domain_keywords: matched 0 + missing 17 = 17 vs JD count 18 (acceptable variance)
2025-10-09 16:24:14,732 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] CV Skills: Tech=8, Soft=0, Domain=0
2025-10-09 16:24:14,732 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] JD Skills: Tech=20, Soft=17, Domain=18
2025-10-09 16:24:14,732 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [VALIDATION] Comparison results passed validation
2025-10-09 16:24:14,732 - app.routes.skills_analysis - INFO - ✅ [PREEXTRACTED_COMPARISON] Completed (length: 5687 chars)
2025-10-09 16:24:14,732 - app.services.skill_extraction.result_saver - INFO - 🏢 [PREEXTRACTED_COMPARISON] Inferred company from saved_file_path: Australia_for_UNHCR
2025-10-09 16:24:14,735 - app.services.skill_extraction.result_saver - INFO - 📁 [PREEXTRACTED_COMPARISON] Results appended to: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_162401.json
2025-10-09 16:24:14,735 - app.routes.skills_analysis - INFO - 📁 [PREEXTRACTED_COMPARISON] Results appended to: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_162401.json
2025-10-09 16:24:14,736 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:24:14,736 - app.routes.skills_analysis - INFO - ♻️ [PIPELINE] (preliminary-analysis) JD file already exists: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/jd_original_20251009_160700.json
2025-10-09 16:24:14,738 - app.routes.skills_analysis - INFO - ♻️ [JOBS] Job already exists in saved_jobs.json: Data Analyst at Australia for UNHCR
2025-10-09 16:24:14,738 - app.routes.skills_analysis - INFO - 🚀 [PIPELINE] (preliminary-analysis) scheduling for company: Australia_for_UNHCR
2025-10-09 16:24:14,739 - app.routes.skills_analysis - INFO - 🚀 [PIPELINE] Scheduling JD analysis and CV–JD matching for 'Australia_for_UNHCR'...
2025-10-09 16:24:14,740 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:24:14,740 - app.routes.skills_analysis - INFO - 🔧 [PIPELINE] Starting JD analysis for Australia_for_UNHCR (force_refresh=True)
2025-10-09 16:24:14,740 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:24:14,741 - app.services.jd_analysis.jd_analyzer - INFO - 🔄 Analyzing JD for Australia_for_UNHCR (force_refresh=True)
2025-10-09 16:24:14,742 - app.services.jd_analysis.jd_analyzer - INFO - 📄 Analyzing JD file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/jd_original_20251009_160700.json
2025-10-09 16:24:14,742 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:24:14,742 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:24:14,743 - app.ai.ai_service - INFO - - Prompt length: 6409
2025-10-09 16:24:14,743 - app.ai.ai_service - INFO - - System prompt length: 2650
2025-10-09 16:24:14,743 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:24:14,743 - app.ai.ai_service - INFO - - Max tokens: 2000
2025-10-09 16:24:14,744 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:24:14,744 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:24:14,744 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:24:14,745 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:24:14,745 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:24:14,745 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:24:15,675 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:24:15,687 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:24:15,687 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:24:15,687 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:24:15,688 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:24:16,981 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:24:16,982 - app.services.jd_analysis.jd_analyzer - INFO - ✅ JD analysis completed. Found 0 required and 0 preferred keywords
2025-10-09 16:24:16,983 - app.services.jd_analysis.jd_analyzer - INFO - ♻️ JD analysis already exists, reusing: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_jd_analysis_20251009_160741.json
2025-10-09 16:24:16,984 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] JD analysis saved for Australia_for_UNHCR at: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_jd_analysis_20251009_160741.json
2025-10-09 16:24:16,987 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:24:16,988 - app.services.jd_usage_tracker - INFO - 🔍 [JD_TRACKER] Recording JD usage:
2025-10-09 16:24:16,988 - app.services.jd_usage_tracker - INFO - - jd_url: 
2025-10-09 16:24:16,988 - app.services.jd_usage_tracker - INFO - - jd_text length: 0
2025-10-09 16:24:16,988 - app.services.jd_usage_tracker - INFO - - company: Australia_for_UNHCR
2025-10-09 16:24:16,989 - app.services.jd_usage_tracker - INFO - - job_title: 
2025-10-09 16:24:16,989 - app.services.jd_usage_tracker - ERROR - ❌ [JD_TRACKER] Error recording JD usage: Either jd_url or jd_text must be provided
2025-10-09 16:24:16,989 - app.routes.skills_analysis - INFO - 📝 [PIPELINE] JD usage recorded for Australia_for_UNHCR
2025-10-09 16:24:16,989 - app.routes.skills_analysis - INFO - 🔧 [PIPELINE] Starting CV–JD matching for Australia_for_UNHCR
2025-10-09 16:24:16,990 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:24:16,990 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:24:16,990 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:24:16,990 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:24:16,991 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] CV–JD matching will use CV TXT: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.txt
2025-10-09 16:24:16,991 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 📄 [CV_JD_MATCHER] Using provided CV path: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.txt
2025-10-09 16:24:16,992 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 📄 [CV_JD_MATCHER] Read CV from: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.txt
2025-10-09 16:24:16,993 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🧪 [CV_JD_MATCHER] CV content length=189, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • Excel, SQL, Python, Power BI, VBA, Analytical Models, Data Analysis, Data Extraction'
2025-10-09 16:24:16,993 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🔍 Found 7 required and 4 preferred keywords
2025-10-09 16:24:16,994 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:24:16,994 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:24:16,994 - app.ai.ai_service - INFO - - Prompt length: 1532
2025-10-09 16:24:16,995 - app.ai.ai_service - INFO - - System prompt length: 2705
2025-10-09 16:24:16,995 - app.ai.ai_service - INFO - - Temperature: 0.3
2025-10-09 16:24:16,995 - app.ai.ai_service - INFO - - Max tokens: 3000
2025-10-09 16:24:16,995 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:24:16,995 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:24:16,995 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:24:16,995 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:24:16,995 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:24:16,996 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:24:17,596 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:24:17,607 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:24:17,607 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:24:17,607 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:24:17,607 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:24:19,126 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:24:19,137 - app.services.cv_jd_matching.cv_jd_matcher - INFO - ✅ CV-JD matching completed. Found 3 matched required keywords
2025-10-09 16:24:19,137 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:24:19,137 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:24:19,139 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 💾 Saved CV-JD match results to: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_cv_jd_matching_20251009_162419.json
2025-10-09 16:24:19,139 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] CV–JD match results saved for Australia_for_UNHCR
2025-10-09 16:24:19,139 - app.routes.skills_analysis - INFO - 🔍 [PIPELINE] Starting component analysis for Australia_for_UNHCR
2025-10-09 16:24:19,141 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:24:19,142 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:24:19,142 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:24:19,143 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:24:19,144 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Latest CV selected → type=tailored, ts=20251009_161344, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json, txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.txt
2025-10-09 16:24:19,145 - app.routes.skills_analysis - INFO - 🧪 [PIPELINE] CV content length=190, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • Excel, SQL, Python, Power BI, VBA, Analytical Models, Data Analysis, Data Extraction '
2025-10-09 16:24:19,145 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:24:19,146 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Required files found, proceeding with component analysis
2025-10-09 16:24:19,146 - app.services.ats.modular_ats_orchestrator - INFO - ===== [MODULAR ATS] Starting component analysis for: Australia_for_UNHCR =====
2025-10-09 16:24:19,146 - app.services.ats.component_assembler - INFO - ===== [ASSEMBLER] Starting component assembly for: Australia_for_UNHCR =====
2025-10-09 16:24:19,146 - app.services.ats.component_assembler - INFO - 📄 [ASSEMBLER] Using CV text provided by caller
2025-10-09 16:24:19,149 - app.services.ats.component_assembler - INFO - 📄 [ASSEMBLER] CV is minimal - using realistic analysis with constraints
2025-10-09 16:24:19,149 - app.services.ats.component_assembler - INFO - 📄 [ASSEMBLER] Generating realistic results for minimal CV
2025-10-09 16:24:19,149 - app.services.ats.modular_ats_orchestrator - INFO - ===== [MODULAR ATS] Component analysis completed for: Australia_for_UNHCR =====
2025-10-09 16:24:19,149 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Component analysis completed for Australia_for_UNHCR
2025-10-09 16:24:19,149 - app.routes.skills_analysis - INFO - 📋 [PIPELINE] Creating input recommendation file for Australia_for_UNHCR
2025-10-09 16:24:19,150 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:24:19,152 - app.services.ats_recommendation_service - WARNING - No component analysis entries found in user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_162401.json
2025-10-09 16:24:19,152 - app.services.ats_recommendation_service - WARNING - No ATS calculation entries found in user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_162401.json
2025-10-09 16:24:19,153 - app.services.ats_recommendation_service - INFO - Successfully extracted comprehensive recommendation data for Australia_for_UNHCR
2025-10-09 16:24:19,154 - app.services.ats_recommendation_service - INFO - Successfully created recommendation file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_162419.json
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=tailored, ts=20251009_160851, mtime=1759987413.4442675, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
  - type=tailored, ts=20251009_161344, mtime=1759987413.4470196, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json
  - type=original, ts=00000000_000000, mtime=1759986398.6319315, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=tailored, ts=20251009_161344, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json, txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.txt
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=tailored, ts=20251009_160851, mtime=1759987413.4442675, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
  - type=tailored, ts=20251009_161344, mtime=1759987413.4470196, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json
  - type=original, ts=00000000_000000, mtime=1759986398.6319315, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=tailored, ts=20251009_161344, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json, txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.txt
📄 [UNIFIED] Reading CV content from: txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.txt, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json
🧪 [UNIFIED] CV content length=190, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • Excel, SQL, Python, Power BI, VBA, Analytical Models, Data Analysis, Data Extraction '
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=tailored, ts=20251009_160851, mtime=1759987413.4442675, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
  - type=tailored, ts=20251009_161344, mtime=1759987413.4470196, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json
  - type=original, ts=00000000_000000, mtime=1759986398.6319315, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=tailored, ts=20251009_161344, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json, txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.txt
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=tailored, ts=20251009_160851, mtime=1759987413.4442675, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
  - type=tailored, ts=20251009_161344, mtime=1759987413.4470196, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json
  - type=original, ts=00000000_000000, mtime=1759986398.6319315, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=tailored, ts=20251009_161344, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json, txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.txt
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=tailored, ts=20251009_160851, mtime=1759987413.4442675, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
  - type=tailored, ts=20251009_161344, mtime=1759987413.4470196, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json
  - type=original, ts=00000000_000000, mtime=1759986398.6319315, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=tailored, ts=20251009_161344, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json, txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.txt
📄 [UNIFIED] Reading CV content from: txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.txt, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json
🧪 [UNIFIED] CV content length=190, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • Excel, SQL, Python, Power BI, VBA, Analytical Models, Data Analysis, Data Extraction '
2025-10-09 16:24:19,180 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:24:19,180 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:24:19,183 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 16:24:19,183 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 16:24:19,183 INFO sqlalchemy.engine.Engine [generated in 0.00035s] {'email_1': 'keosha@gmail.com'}
2025-10-09 16:24:19,183 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] {'email_1': 'keosha@gmail.com'}
2025-10-09 16:24:19,230 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 16:24:19,230 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 16:24:19,231 INFO sqlalchemy.engine.Engine [generated in 0.00040s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 16:24:19,231 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 16:24:19,264 INFO sqlalchemy.engine.Engine INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 16:24:19,264 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 16:24:19,264 INFO sqlalchemy.engine.Engine [generated in 0.00043s] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_162419.json', 'file_path': 'user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_162419.json', 'file_size': 12107, 'sha256': '2ecd739317be7624269207958841f3be83a185d386b8fd3b08f5e6611a0fd052', 'timestamp': '20251009_162419'}
2025-10-09 16:24:19,264 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_162419.json', 'file_path': 'user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_162419.json', 'file_size': 12107, 'sha256': '2ecd739317be7624269207958841f3be83a185d386b8fd3b08f5e6611a0fd052', 'timestamp': '20251009_162419'}
2025-10-09 16:24:19,292 INFO sqlalchemy.engine.Engine INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 16:24:19,292 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 16:24:19,292 INFO sqlalchemy.engine.Engine [generated in 0.00050s] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'kind': 'input_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 176}
2025-10-09 16:24:19,292 - sqlalchemy.engine.Engine - INFO - [generated in 0.00050s] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'kind': 'input_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 176}
2025-10-09 16:24:19,316 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 16:24:19,316 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 16:24:19,336 - app.services.ats_recommendation_service - INFO - Successfully created AI recommendation prompt: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_prompt_recommendation.py
2025-10-09 16:24:19,337 - app.services.ats_recommendation_service - INFO - 🤖 [TRIGGER] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-09 16:24:19,337 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:24:19,338 - app.services.ats_recommendation_service - INFO - 📋 [TRIGGER] AI generation scheduled as background task for Australia_for_UNHCR
2025-10-09 16:24:19,338 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Input recommendation file created for Australia_for_UNHCR
2025-10-09 16:24:19,338 - app.routes.skills_analysis - INFO - 🤖 [PIPELINE] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-09 16:24:19,339 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:24:19,339 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-09 16:24:19,341 - app.services.ai_recommendation_generator - INFO - 🟡 [AI GENERATOR] Input recommendation is newer (ai_mtime=1759986791.5306084, input_mtime=1759987459.1542397); regenerating AI recommendation
2025-10-09 16:24:19,342 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:24:19,342 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:24:19,342 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:24:19,344 - app.services.ai_recommendation_generator - ERROR - ❌ [AI GENERATOR] Error checking CV freshness: 'str' object has no attribute 'timestamp'
2025-10-09 16:24:19,346 - app.services.ai_recommendation_generator - INFO - 📋 [AI GENERATOR] Generated AI prompt for Australia_for_UNHCR using centralized template (11836 characters)
2025-10-09 16:24:19,346 - app.services.ai_recommendation_generator - INFO - 🧠 [AI GENERATOR] Executing AI prompt for Australia_for_UNHCR
2025-10-09 16:24:19,346 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:24:19,347 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:24:19,347 - app.ai.ai_service - INFO - - Prompt length: 11836
2025-10-09 16:24:19,347 - app.ai.ai_service - INFO - - System prompt length: 130
2025-10-09 16:24:19,347 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:24:19,347 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:24:19,347 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:24:19,347 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:24:19,347 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:24:19,348 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:24:19,348 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:24:19,348 - app.ai.ai_service - INFO - - Available providers: ['openai']
WARNING:  WatchFiles detected changes in 'user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_prompt_recommendation.py'. Reloading...
2025-10-09 16:24:19,848 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:24:19,974 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:24:19,974 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:24:19,974 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:24:19,974 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:24:27,178 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:24:27,180 - app.services.ai_recommendation_generator - INFO - 🧠 [AI GENERATOR] AI response generated - Provider: openai, Model: gpt-3.5-turbo
2025-10-09 16:24:27,180 - app.services.ai_recommendation_generator - INFO - 💰 [AI GENERATOR] Cost: $0.0043, Tokens: 3293
2025-10-09 16:24:27,181 - app.services.ai_recommendation_generator - INFO - 💾 [AI GENERATOR] Saved AI recommendation: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_162427.json (3.2KB)
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=tailored, ts=20251009_160851, mtime=1759987413.4442675, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
  - type=tailored, ts=20251009_161344, mtime=1759987413.4470196, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json
  - type=original, ts=00000000_000000, mtime=1759986398.6319315, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=tailored, ts=20251009_161344, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json, txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.txt
2025-10-09 16:24:27,203 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:24:27,203 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:24:27,204 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 16:24:27,204 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 16:24:27,205 INFO sqlalchemy.engine.Engine [cached since 8.022s ago] {'email_1': 'keosha@gmail.com'}
2025-10-09 16:24:27,205 - sqlalchemy.engine.Engine - INFO - [cached since 8.022s ago] {'email_1': 'keosha@gmail.com'}
2025-10-09 16:24:27,240 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 16:24:27,240 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 16:24:27,241 INFO sqlalchemy.engine.Engine [cached since 8.011s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 16:24:27,241 - sqlalchemy.engine.Engine - INFO - [cached since 8.011s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 16:24:27,265 INFO sqlalchemy.engine.Engine INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 16:24:27,265 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 16:24:27,265 INFO sqlalchemy.engine.Engine [cached since 8.001s ago] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'file_type': 'ai_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_ai_recommendation_20251009_162427.json', 'file_path': 'user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_162427.json', 'file_size': 3286, 'sha256': 'fff3b3a4e04cfccfb63b8b264770e32ae4d03c4916d87b8bdf934b98ecce782a', 'timestamp': '20251009_162427'}
2025-10-09 16:24:27,265 - sqlalchemy.engine.Engine - INFO - [cached since 8.001s ago] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'file_type': 'ai_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_ai_recommendation_20251009_162427.json', 'file_path': 'user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_162427.json', 'file_size': 3286, 'sha256': 'fff3b3a4e04cfccfb63b8b264770e32ae4d03c4916d87b8bdf934b98ecce782a', 'timestamp': '20251009_162427'}
2025-10-09 16:24:27,288 INFO sqlalchemy.engine.Engine INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 16:24:27,288 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 16:24:27,289 INFO sqlalchemy.engine.Engine [cached since 7.997s ago] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'kind': 'ai_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 177}
2025-10-09 16:24:27,289 - sqlalchemy.engine.Engine - INFO - [cached since 7.997s ago] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'kind': 'ai_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 177}
2025-10-09 16:24:27,311 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 16:24:27,311 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 16:24:27,333 - app.services.ai_recommendation_generator - INFO - ✅ [AI GENERATOR] AI recommendation generated and saved for Australia_for_UNHCR
2025-10-09 16:24:27,333 - app.services.ai_recommendation_generator - INFO - 📄 File: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_161311.json
2025-10-09 16:24:27,333 - app.services.ai_recommendation_generator - INFO - 💰 Cost: $0.0043
2025-10-09 16:24:27,333 - app.services.ai_recommendation_generator - INFO - 🔤 Tokens: 3293
2025-10-09 16:24:27,333 - app.services.ai_recommendation_generator - INFO - 🚀 [AI GENERATOR] Starting automatic CV tailoring for Australia_for_UNHCR
2025-10-09 16:24:27,334 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:24:27,337 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded CV optimization framework from /Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/tailored_cv/prompts/framework.md
2025-10-09 16:24:27,337 - app.tailored_cv.services.cv_tailoring_service - INFO - Loading real data for Australia_for_UNHCR
2025-10-09 16:24:27,337 - app.tailored_cv.services.cv_tailoring_service - INFO - Company folder: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 16:24:27,338 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:24:27,338 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:24:27,339 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:24:27,340 - app.tailored_cv.services.cv_tailoring_service - INFO - 📄 [TAILORING] Using latest CV via unified selector → type=tailored, ts=20251009_161344, path=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.txt
2025-10-09 16:24:27,340 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [DEBUG] Loading CV from user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.txt
2025-10-09 16:24:27,340 - app.tailored_cv.services.cv_tailoring_service - INFO - - First 200 chars: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • Excel, SQL, Python, Power BI, VBA, Analytical Models, Data Analysis, Data Extraction 
2025-10-09 16:24:27,341 - app.tailored_cv.services.recommendation_parser - INFO - 📂 Loading CV from: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.txt
2025-10-09 16:24:27,341 - app.tailored_cv.services.recommendation_parser - INFO - 📝 Detected .txt CV file → parsing as raw text
2025-10-09 16:24:27,345 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Successfully parsed raw text CV from .txt
2025-10-09 16:24:27,345 - app.tailored_cv.services.cv_tailoring_service - INFO - - Parsed CV data keys: ['contact', 'education', 'experience', 'skills', 'total_years_experience']
2025-10-09 16:24:27,345 - app.tailored_cv.services.cv_tailoring_service - WARNING - ⚠️ [TAILORING] CV data is empty, checking for original_text fallback
2025-10-09 16:24:27,345 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Skills already in SkillCategory format
2025-10-09 16:24:27,345 - app.tailored_cv.services.cv_tailoring_service - WARNING - ⚠️ [TAILORING] CV data is incomplete, falling back to original CV
2025-10-09 16:24:27,346 - app.tailored_cv.services.cv_tailoring_service - INFO - 📄 [TAILORING] Loading original CV as fallback: user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 16:24:27,346 - app.tailored_cv.services.recommendation_parser - INFO - 📂 Loading CV from: user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 16:24:27,347 - app.tailored_cv.services.recommendation_parser - INFO - 📋 CV format check:
2025-10-09 16:24:27,347 - app.tailored_cv.services.recommendation_parser - INFO -   - Top-level keys: ['personal_information', 'career_profile', 'skills', 'education', 'experience', 'projects', 'certifications', 'languages', 'awards', 'publications', 'volunteer_work', 'professional_memberships', 'unknown_sections', 'original_sections', 'saved_at', 'metadata']
2025-10-09 16:24:27,347 - app.tailored_cv.services.recommendation_parser - INFO -   - Has metadata: True
2025-10-09 16:24:27,347 - app.tailored_cv.services.recommendation_parser - INFO -   - Source file: maheshwor_tiwari.pdf
2025-10-09 16:24:27,347 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing version: 1.0
2025-10-09 16:24:27,347 - app.tailored_cv.services.recommendation_parser - INFO - 🔍 [CV_PARSER] Detailed CV structure analysis:
2025-10-09 16:24:27,348 - app.tailored_cv.services.recommendation_parser - INFO -   - Has contact: False
2025-10-09 16:24:27,348 - app.tailored_cv.services.recommendation_parser - INFO -   - Has experience: True
2025-10-09 16:24:27,348 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience type: <class 'list'>
2025-10-09 16:24:27,348 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience count: 6
2025-10-09 16:24:27,348 - app.tailored_cv.services.recommendation_parser - INFO -   - First experience keys: ['title', 'company', 'duration', 'location', 'responsibilities', 'achievements', 'technologies']
2025-10-09 16:24:27,348 - app.tailored_cv.services.recommendation_parser - INFO -   - Has skills: True
2025-10-09 16:24:27,348 - app.tailored_cv.services.recommendation_parser - INFO -   - Skills type: <class 'dict'>
2025-10-09 16:24:27,348 - app.tailored_cv.services.recommendation_parser - INFO -   - Skills count: Not a list
2025-10-09 16:24:27,348 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Detected structured CV format
2025-10-09 16:24:27,349 - app.tailored_cv.services.recommendation_parser - INFO - 📊 Structure overview:
2025-10-09 16:24:27,349 - app.tailored_cv.services.recommendation_parser - INFO -   - Skills sections: ['technical_skills', 'key_skills', 'soft_skills', 'domain_expertise']
2025-10-09 16:24:27,349 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience entries: 6
2025-10-09 16:24:27,349 - app.tailored_cv.services.recommendation_parser - INFO -   - Education entries: 3
2025-10-09 16:24:27,349 - app.tailored_cv.services.recommendation_parser - INFO -   - Projects: 0
2025-10-09 16:24:27,349 - app.tailored_cv.services.recommendation_parser - INFO - 🔄 Starting structured CV conversion
2025-10-09 16:24:27,349 - app.tailored_cv.services.recommendation_parser - INFO - 📊 Input data validation:
2025-10-09 16:24:27,350 - app.tailored_cv.services.recommendation_parser - INFO - 👤 Converting contact information
2025-10-09 16:24:27,350 - app.tailored_cv.services.recommendation_parser - INFO -   - Source fields: ['name', 'phone', 'email', 'location', 'linkedin', 'github', 'portfolio_links', 'residency_status', 'open_to']
2025-10-09 16:24:27,350 - app.tailored_cv.services.recommendation_parser - INFO -   - Mapped fields: ['name', 'email', 'phone', 'location', 'linkedin', 'website']
2025-10-09 16:24:27,351 - app.tailored_cv.services.recommendation_parser - INFO -   - Contact completeness: 100.0%
2025-10-09 16:24:27,351 - app.tailored_cv.services.recommendation_parser - INFO -   - LinkedIn: LinkedIn
2025-10-09 16:24:27,351 - app.tailored_cv.services.recommendation_parser - INFO -   - Website: GitHub
2025-10-09 16:24:27,351 - app.tailored_cv.services.recommendation_parser - INFO - 💼 Converting experience entries
2025-10-09 16:24:27,352 - app.tailored_cv.services.recommendation_parser - INFO -   - Found 6 experience entries
2025-10-09 16:24:27,352 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 1/6
2025-10-09 16:24:27,352 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: The Bitrates
2025-10-09 16:24:27,353 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Data Analyst
2025-10-09 16:24:27,353 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Jul 2024 to Present
2025-10-09 16:24:27,353 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 5
2025-10-09 16:24:27,354 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 2/6
2025-10-09 16:24:27,354 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: iBuild Building Solutions
2025-10-09 16:24:27,354 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Data Analyst
2025-10-09 16:24:27,354 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Mar 2024 to Jun 2024
2025-10-09 16:24:27,354 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 4
2025-10-09 16:24:27,355 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 3/6
2025-10-09 16:24:27,355 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: Property Console
2025-10-09 16:24:27,355 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Software engineer and Analyst
2025-10-09 16:24:27,355 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Jun 2023 to Nov 2023
2025-10-09 16:24:27,355 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 4
2025-10-09 16:24:27,356 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 4/6
2025-10-09 16:24:27,356 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: CY Cergy Paris University
2025-10-09 16:24:27,356 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Research Assistant
2025-10-09 16:24:27,356 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Oct 2018 to Sep 2022
2025-10-09 16:24:27,356 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 3
2025-10-09 16:24:27,356 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 5/6
2025-10-09 16:24:27,357 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: CY Cergy Paris University
2025-10-09 16:24:27,357 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Lecturer and Course Facilitator
2025-10-09 16:24:27,357 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Sep 2019 to Jun 2022
2025-10-09 16:24:27,357 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 3
2025-10-09 16:24:27,357 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 6/6
2025-10-09 16:24:27,357 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: CY Cergy Paris University
2025-10-09 16:24:27,357 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Research Intern
2025-10-09 16:24:27,357 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Feb 2018 to Jun 2018
2025-10-09 16:24:27,358 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 3
2025-10-09 16:24:27,358 - app.tailored_cv.services.recommendation_parser - INFO - Converted 6 experience entries
2025-10-09 16:24:27,358 - app.tailored_cv.services.recommendation_parser - INFO - 🔧 Converting skills section
2025-10-09 16:24:27,358 - app.tailored_cv.services.recommendation_parser - INFO -   - Source skill categories: ['technical_skills', 'key_skills', 'soft_skills', 'domain_expertise']
2025-10-09 16:24:27,359 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing technical skills:
2025-10-09 16:24:27,359 - app.tailored_cv.services.recommendation_parser - INFO -     • Extracted 5 unique technical skills
2025-10-09 16:24:27,359 - app.tailored_cv.services.recommendation_parser - INFO -     • Skills: Python, Power BI, Data Analysis, SQL, Excel
2025-10-09 16:24:27,359 - app.tailored_cv.services.recommendation_parser - INFO - Converted 1 skill categories
2025-10-09 16:24:27,359 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Conversion complete - Validating output
2025-10-09 16:24:27,360 - app.tailored_cv.services.recommendation_parser - INFO - ✓ Experience: 6 entries
2025-10-09 16:24:27,360 - app.tailored_cv.services.recommendation_parser - INFO - ✓ Skills: 1 categories
2025-10-09 16:24:27,361 - app.tailored_cv.services.recommendation_parser - INFO -   • Technical Skills: 5 skills
2025-10-09 16:24:27,361 - app.tailored_cv.services.recommendation_parser - INFO - ✨ Validation passed - All required sections present
2025-10-09 16:24:27,361 - app.tailored_cv.services.recommendation_parser - INFO - 🎓 Converting education entries
2025-10-09 16:24:27,361 - app.tailored_cv.services.recommendation_parser - INFO -   - Found 3 education entries
2025-10-09 16:24:27,361 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing education 1/3
2025-10-09 16:24:27,361 - app.tailored_cv.services.recommendation_parser - INFO -     • Institution: Charles Darwin University, Sydney, Australia
2025-10-09 16:24:27,362 - app.tailored_cv.services.recommendation_parser - INFO -     • Degree: Master of Data Science
2025-10-09 16:24:27,362 - app.tailored_cv.services.recommendation_parser - INFO -     • Graduation date: Mar 2023 - Nov 2024
2025-10-09 16:24:27,362 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing education 2/3
2025-10-09 16:24:27,362 - app.tailored_cv.services.recommendation_parser - INFO -     • Institution: CY Cergy Paris University, Cergy, France
2025-10-09 16:24:27,362 - app.tailored_cv.services.recommendation_parser - INFO -     • Degree: PhD in Physics
2025-10-09 16:24:27,362 - app.tailored_cv.services.recommendation_parser - INFO -     • Graduation date: Oct 2018 - Sep 2022
2025-10-09 16:24:27,362 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing education 3/3
2025-10-09 16:24:27,362 - app.tailored_cv.services.recommendation_parser - INFO -     • Institution: CY Cergy Paris University, Cergy, France
2025-10-09 16:24:27,362 - app.tailored_cv.services.recommendation_parser - INFO -     • Degree: Master of Theoretical Physics
2025-10-09 16:24:27,363 - app.tailored_cv.services.recommendation_parser - INFO -     • Graduation date: Sep 2016 - Jun 2018
2025-10-09 16:24:27,363 - app.tailored_cv.services.recommendation_parser - INFO - Converted 3 education entries
2025-10-09 16:24:27,363 - app.tailored_cv.services.recommendation_parser - INFO - 📤 Returning converted CV data:
2025-10-09 16:24:27,363 - app.tailored_cv.services.recommendation_parser - INFO -   - Contact fields: ['name', 'email', 'phone', 'location', 'linkedin', 'website']
2025-10-09 16:24:27,363 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience entries: 6
2025-10-09 16:24:27,363 - app.tailored_cv.services.recommendation_parser - INFO -   - Skill categories: 1
2025-10-09 16:24:27,363 - app.tailored_cv.services.recommendation_parser - INFO -   - Education entries: 3
2025-10-09 16:24:27,363 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [TAILORING] Successfully loaded original CV as fallback
2025-10-09 16:24:27,364 - app.tailored_cv.services.cv_tailoring_service - INFO - - Final CV object attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__repr__', '__repr_args__', '__repr_name__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_check_frozen', '_copy_and_set_values', '_get_value', '_iter', 'construct', 'contact', 'copy', 'created_at', 'dict', 'education', 'experience', 'experience_level', 'from_orm', 'json', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'projects', 'schema', 'schema_json', 'skills', 'total_years_experience', 'update_forward_refs', 'updated_at', 'validate']
2025-10-09 16:24:27,370 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Parsed recommendation for Australia_for_UNHCR
2025-10-09 16:24:27,371 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded real CV and recommendation for Australia_for_UNHCR
2025-10-09 16:24:27,371 - app.tailored_cv.services.cv_tailoring_service - INFO - 🎯 Starting CV tailoring for Australia_for_UNHCR - Senior Data Analyst
2025-10-09 16:24:27,372 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [DEBUG] Validating CV structure:
2025-10-09 16:24:27,372 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV object type: <class 'app.tailored_cv.models.cv_models.OriginalCV'>
2025-10-09 16:24:27,372 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__repr__', '__repr_args__', '__repr_name__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_check_frozen', '_copy_and_set_values', '_get_value', '_iter', 'construct', 'contact', 'copy', 'created_at', 'dict', 'education', 'experience', 'experience_level', 'from_orm', 'json', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'projects', 'schema', 'schema_json', 'skills', 'total_years_experience', 'update_forward_refs', 'updated_at', 'validate']
2025-10-09 16:24:27,373 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV data: {
  "contact": {
    "name": "Maheshwor Tiwari",
    "phone": "0414 032 507",
    "email": "maheshtwari99@gmail.com",
    "linkedin": "LinkedIn",
    "location": "Hurstville, NSW, 2220",
    "website": "GitHub"
  },
  "education": [
    {
      "institution": "Charles Darwin University, Sydney, Australia",
      "degree": "Master of Data Science",
      "location": "Sydney, Australia",
      "graduation_date": "Mar 2023 - Nov 2024",
      "gpa": "GPA",
      "relevant_coursework": [],
      "honors": []
    },
    {
      "institution": "CY Cergy Paris University, Cergy, France",
      "degree": "PhD in Physics",
      "location": "Cergy, France",
      "graduation_date": "Oct 2018 - Sep 2022",
      "gpa": "",
      "relevant_coursework": [],
      "honors": []
    },
    {
      "institution": "CY Cergy Paris University, Cergy, France",
      "degree": "Master of Theoretical Physics",
      "location": "Cergy, France",
      "graduation_date": "Sep 2016 - Jun 2018",
      "gpa": "",
      "relevant_coursework": [],
      "honors": []
    }
  ],
  "experience": [
    {
      "company": "The Bitrates",
      "title": "Data Analyst",
      "location": "",
      "start_date": "Jul 2024",
      "end_date": "Present",
      "duration": null,
      "bullets": [
        "Designed and implemented Python scripts for data cleaning, preprocessing, and analysis, improving data pipeline efficiency by 30%.",
        "Developed machine learning models in Python for predictive analytics, enabling data-driven business decisions.",
        "Leveraged AI techniques to automate repetitive tasks, reducing manual effort and improving productivity.",
        "Built dynamic dashboards and visualizations using Python libraries like Matplotlib and Seaborn to communicate insights effectively.",
        "Integrated Google Analytics data with Python for advanced analysis, enhancing customer behavior insights."
      ],
      "skills_used": null
    },
    {
      "company": "iBuild Building Solutions",
      "title": "Data Analyst",
      "location": "",
      "start_date": "Mar 2024",
      "end_date": "Jun 2024",
      "duration": null,
      "bullets": [
        "Automated data extraction and structuring of population datasets using Python, improving data accuracy and team collaboration.",
        "Analyzed customer support data with Python to optimize response times and enhance operational efficiency.",
        "Developed Python-based solutions to generate actionable insights, meeting strict deadlines for strategic decision-making.",
        "Designed Python scripts to create dynamic reports and dashboards, significantly improving customer satisfaction and decision-making processes."
      ],
      "skills_used": null
    },
    {
      "company": "Property Console",
      "title": "Software engineer and Analyst",
      "location": "",
      "start_date": "Jun 2023",
      "end_date": "Nov 2023",
      "duration": null,
      "bullets": [
        "Built Python scripts to track key metrics, ensuring 99% data accuracy and improving data integrity and operational efficiency.",
        "Collaborated with the development team to enhance analytics capabilities, using Python to improve data processing speed by 25%.",
        "Leveraged Python for data preprocessing and analysis, producing Tableau dashboards that improved decision-making.",
        "Supported cross-functional teams with Python-driven insights, enabling customer-focused initiatives."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Research Assistant",
      "location": "",
      "start_date": "Oct 2018",
      "end_date": "Sep 2022",
      "duration": null,
      "bullets": [
        "Utilized advanced Python programming for computational modeling and solving complex research problems.",
        "Developed Python-based workflows to manage and analyze large datasets across multiple research projects.",
        "Presented Python-enabled research findings at international conferences, demonstrating technical expertise and communication skills."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Lecturer and Course Facilitator",
      "location": "",
      "start_date": "Sep 2019",
      "end_date": "Jun 2022",
      "duration": null,
      "bullets": [
        "Led engaging physics tutorials for master\u2019s students, enhancing understanding and promoting teamwork.",
        "Designed course materials, assignments, and exams, strengthening the learning experience.",
        "Mentored students on projects, collaborated with faculty, and fostered student engagement."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Research Intern",
      "location": "",
      "start_date": "Feb 2018",
      "end_date": "Jun 2018",
      "duration": null,
      "bullets": [
        "Developed proficiency in Python programming by researching the effect of magnetic fields on 2D materials.",
        "Managed and analyzed complex data sets, improving their accuracy and reliability.",
        "Used dashboard using Power BI to present research findings and participated in weekly reviews, improving collaboration and research skills."
      ],
      "skills_used": null
    }
  ],
  "projects": null,
  "skills": [
    {
      "category": "Technical Skills",
      "skills": [
        "Python",
        "Power BI",
        "Data Analysis",
        "SQL",
        "Excel"
      ]
    }
  ],
  "experience_level": null,
  "total_years_experience": null,
  "created_at": null,
  "updated_at": null
}
2025-10-09 16:24:27,373 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [CV_VALIDATION] Starting detailed validation:
2025-10-09 16:24:27,373 - app.tailored_cv.services.cv_tailoring_service - INFO - - Has contact: True
2025-10-09 16:24:27,373 - app.tailored_cv.services.cv_tailoring_service - INFO - - Contact name: Maheshwor Tiwari
2025-10-09 16:24:27,374 - app.tailored_cv.services.cv_tailoring_service - INFO - - Contact email: maheshtwari99@gmail.com
2025-10-09 16:24:27,374 - app.tailored_cv.services.cv_tailoring_service - INFO - - Has experience: True
2025-10-09 16:24:27,374 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience count: 6
2025-10-09 16:24:27,374 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 1: company=The Bitrates, bullets=5
2025-10-09 16:24:27,374 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 2: company=iBuild Building Solutions, bullets=4
2025-10-09 16:24:27,374 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 3: company=Property Console, bullets=4
2025-10-09 16:24:27,374 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 4: company=CY Cergy Paris University, bullets=3
2025-10-09 16:24:27,375 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 5: company=CY Cergy Paris University, bullets=3
2025-10-09 16:24:27,375 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 6: company=CY Cergy Paris University, bullets=3
2025-10-09 16:24:27,375 - app.tailored_cv.services.cv_tailoring_service - INFO - - Has skills: True
2025-10-09 16:24:27,375 - app.tailored_cv.services.cv_tailoring_service - INFO - - Skills count: 1
2025-10-09 16:24:27,375 - app.tailored_cv.services.cv_tailoring_service - INFO - - Skill category 1: Technical Skills, skills=5
2025-10-09 16:24:27,375 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [CV_VALIDATION] Checking required fields:
2025-10-09 16:24:27,376 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Contact name present: Maheshwor Tiwari
2025-10-09 16:24:27,376 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Contact email present: maheshtwari99@gmail.com
2025-10-09 16:24:27,376 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Experience entries present: 6
2025-10-09 16:24:27,376 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Skills section present: 1 categories
2025-10-09 16:24:27,378 - app.tailored_cv.services.cv_tailoring_service - INFO - [4a52e332] 🎯 Starting CV tailoring for Australia_for_UNHCR with strategy: education_last
2025-10-09 16:24:27,378 - app.tailored_cv.services.cv_tailoring_service - INFO - [4a52e332] Initial stats:
2025-10-09 16:24:27,379 - app.tailored_cv.services.cv_tailoring_service - INFO - [4a52e332] - Experience entries: 6
2025-10-09 16:24:27,379 - app.tailored_cv.services.cv_tailoring_service - INFO - [4a52e332] - Total bullets: 22
2025-10-09 16:24:27,379 - app.tailored_cv.services.cv_tailoring_service - INFO - [4a52e332] - Skills categories: 1
2025-10-09 16:24:27,379 - app.tailored_cv.services.cv_tailoring_service - INFO - [4a52e332] - Total skills: 5
2025-10-09 16:24:27,379 - app.tailored_cv.services.cv_tailoring_service - INFO - [4a52e332] Critical gaps to address: Data Extraction, Analytical Models, Detail-oriented, Analytical
2025-10-09 16:24:27,379 - app.tailored_cv.services.cv_tailoring_service - INFO - [4a52e332] Technical enhancements needed: 
2025-10-09 16:24:27,380 - app.tailored_cv.services.cv_tailoring_service - INFO - [4a52e332] 🤖 Generating tailored CV using AI service...
2025-10-09 16:24:27,380 - app.tailored_cv.services.cv_tailoring_service - INFO - [4a52e332] Attempt 1/5 with temp=0.0
2025-10-09 16:24:27,380 - app.tailored_cv.services.cv_tailoring_service - INFO - [4a52e332] - System prompt length: 10574
2025-10-09 16:24:27,380 - app.tailored_cv.services.cv_tailoring_service - INFO - [4a52e332] - User prompt length: 12483
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=tailored, ts=20251009_160851, mtime=1759987413.4442675, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
  - type=tailored, ts=20251009_161344, mtime=1759987413.4470196, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json
  - type=original, ts=00000000_000000, mtime=1759986398.6319315, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=tailored, ts=20251009_161344, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json, txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.txt
2025-10-09 16:24:27,398 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:24:27,398 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:24:27,399 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 16:24:27,399 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 16:24:27,400 INFO sqlalchemy.engine.Engine [generated in 0.00032s] {'email_1': 'keosha@gmail.com', 'param_1': 1}
2025-10-09 16:24:27,400 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] {'email_1': 'keosha@gmail.com', 'param_1': 1}
2025-10-09 16:24:27,439 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:24:27,439 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:24:27,462 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user keosha@gmail.com
2025-10-09 16:24:27,462 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Before initialization:
2025-10-09 16:24:27,463 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 16:24:27,463 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:24:27,463 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:24:27,463 - app.ai.ai_service - INFO - - Cached providers for user: ['openai']
2025-10-09 16:24:27,463 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Using cached providers for user keosha@gmail.com
2025-10-09 16:24:27,463 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] After initialization:
2025-10-09 16:24:27,463 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 16:24:27,464 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:24:27,464 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:24:27,464 - app.tailored_cv.services.cv_tailoring_service - INFO - [4a52e332] 🔄 Initialized AI service for user keosha@gmail.com
2025-10-09 16:24:27,464 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:24:27,464 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:24:27,464 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:24:27,464 - app.ai.ai_service - INFO - - Prompt length: 12483
2025-10-09 16:24:27,464 - app.ai.ai_service - INFO - - System prompt length: 10574
2025-10-09 16:24:27,464 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:24:27,465 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:24:27,465 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:24:27,465 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:24:27,465 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:24:27,465 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:24:27,465 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:24:27,465 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:24:28,251 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:24:28,263 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:24:28,263 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:24:28,264 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:24:28,264 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:24:46,471 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:24:46,473 - app.tailored_cv.services.cv_tailoring_service - INFO - [4a52e332] AI response stats:
2025-10-09 16:24:46,474 - app.tailored_cv.services.cv_tailoring_service - INFO - [4a52e332] - Content length: 5749
2025-10-09 16:24:46,474 - app.tailored_cv.services.cv_tailoring_service - INFO - [4a52e332] - First 300 chars: {   "contact": {     "name": "Maheshwor Tiwari",     "phone": "0414 032 507",     "email": "maheshtwari99@gmail.com",     "location": "Hurstville, NSW, 2220",     "linkedin": "",     "website": ""   },   "education": [     {       "institution": "Charles Darwin University, Sydney, Australia",       ...
2025-10-09 16:24:46,474 - app.tailored_cv.services.cv_tailoring_service - INFO - Starting JSON extraction from content length: 5749
2025-10-09 16:24:46,474 - app.tailored_cv.services.cv_tailoring_service - INFO - [4a52e332] 🔍 Starting JSON validation
2025-10-09 16:24:46,475 - app.tailored_cv.services.cv_tailoring_service - WARNING - [4a52e332] CV created below minimum standards: 47.8% quantification
2025-10-09 16:24:46,476 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ JSON structure and Impact Formula validation passed (11/23 bullets with quantification)
2025-10-09 16:24:46,476 - app.tailored_cv.services.cv_tailoring_service - INFO - ℹ️ Skipping placeholder checks; proceeding with generated data as-is.
2025-10-09 16:24:46,476 - app.tailored_cv.services.cv_tailoring_service - INFO - [4a52e332] 🔍 Starting keyword integration validation
2025-10-09 16:24:46,476 - app.tailored_cv.services.cv_tailoring_service - INFO - [4a52e332] Scanning experience bullets:
2025-10-09 16:24:46,476 - app.tailored_cv.services.cv_tailoring_service - INFO - [4a52e332] - Experience 1: 6 bullets
2025-10-09 16:24:46,477 - app.tailored_cv.services.cv_tailoring_service - INFO - [4a52e332] - Experience 2: 4 bullets
2025-10-09 16:24:46,477 - app.tailored_cv.services.cv_tailoring_service - INFO - [4a52e332] - Experience 3: 4 bullets
2025-10-09 16:24:46,477 - app.tailored_cv.services.cv_tailoring_service - INFO - [4a52e332] - Experience 4: 3 bullets
2025-10-09 16:24:46,478 - app.tailored_cv.services.cv_tailoring_service - INFO - [4a52e332] - Experience 5: 3 bullets
2025-10-09 16:24:46,478 - app.tailored_cv.services.cv_tailoring_service - INFO - [4a52e332] - Experience 6: 3 bullets
2025-10-09 16:24:46,480 - app.tailored_cv.services.cv_tailoring_service - INFO - [4a52e332] Scanning skills:
2025-10-09 16:24:46,481 - app.tailored_cv.services.cv_tailoring_service - INFO - [4a52e332] - Category 1: 7 skills
2025-10-09 16:24:46,481 - app.tailored_cv.services.cv_tailoring_service - WARNING - ⚠️ Some keywords not found but within acceptable range: Detail-oriented
2025-10-09 16:24:46,481 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Keyword integration validation passed - 3/4 critical keywords found
2025-10-09 16:24:46,481 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Keyword integration validation passed - 4 critical keywords found
2025-10-09 16:24:46,481 - app.tailored_cv.services.cv_tailoring_service - INFO - [4a52e332] ✅ AI generation successful on attempt 1
2025-10-09 16:24:46,481 - app.tailored_cv.services.cv_tailoring_service - INFO - [4a52e332] 🔁 Quantification below 60% (47.8%). Enhancement attempt 1/3
2025-10-09 16:24:46,481 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:24:46,482 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:24:46,482 - app.ai.ai_service - INFO - - Prompt length: 14239
2025-10-09 16:24:46,482 - app.ai.ai_service - INFO - - System prompt length: 10574
2025-10-09 16:24:46,482 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:24:46,482 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:24:46,482 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:24:46,482 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:24:46,482 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:24:46,483 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:24:46,483 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:24:46,483 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:24:47,188 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:24:47,198 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:24:47,198 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:24:47,199 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:24:47,199 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:25:02,142 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:25:02,144 - app.tailored_cv.services.cv_tailoring_service - INFO - Starting JSON extraction from content length: 5453
2025-10-09 16:25:02,144 - app.tailored_cv.services.cv_tailoring_service - INFO - [4a52e332] 🔍 Starting JSON validation
2025-10-09 16:25:02,145 - app.tailored_cv.services.cv_tailoring_service - INFO - [4a52e332] CV created with improvement suggestions: 68.2% quantification
2025-10-09 16:25:02,145 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ JSON structure and Impact Formula validation passed (15/22 bullets with quantification)
2025-10-09 16:25:02,177 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:25:02,177 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:25:02,177 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 16:25:02,177 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 16:25:02,178 INFO sqlalchemy.engine.Engine [cached since 34.78s ago] {'email_1': 'keosha@gmail.com', 'param_1': 1}
2025-10-09 16:25:02,178 - sqlalchemy.engine.Engine - INFO - [cached since 34.78s ago] {'email_1': 'keosha@gmail.com', 'param_1': 1}
2025-10-09 16:25:02,223 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:25:02,223 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:25:02,246 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:25:02,246 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:25:02,246 - app.ai.ai_service - INFO - - Prompt length: 2983
2025-10-09 16:25:02,246 - app.ai.ai_service - INFO - - System prompt length: 424
2025-10-09 16:25:02,246 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:25:02,247 - app.ai.ai_service - INFO - - Max tokens: 10
2025-10-09 16:25:02,247 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:25:02,247 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:25:02,247 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:25:02,247 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:25:02,247 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:25:02,247 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:25:03,471 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:25:03,482 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:25:03,482 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:25:03,482 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:25:03,482 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:25:03,981 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:25:03,982 - app.tailored_cv.services.cv_tailoring_service - INFO - ⚠️ CV created with quality warnings: GOOD (B+)
2025-10-09 16:25:03,982 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ CV tailoring completed successfully. Estimated ATS score: 85
2025-10-09 16:25:03,985 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Saved tailored CV to user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.json
2025-10-09 16:25:03,985 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Saved tailored CV text to user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.txt
2025-10-09 16:25:03,986 - app.services.ai_recommendation_generator - INFO - ✅ [AI GENERATOR] Tailored CV saved automatically to user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.json
2025-10-09 16:25:03,986 - app.services.ai_recommendation_generator - INFO - 📊 [AI GENERATOR] Estimated ATS score: 85
2025-10-09 16:25:03,986 - app.services.ai_recommendation_generator - INFO - 🎯 [AI GENERATOR] CV tailoring completed automatically for Australia_for_UNHCR
2025-10-09 16:25:03,986 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] AI recommendation generated for Australia_for_UNHCR
2025-10-09 16:25:03,987 - app.routes.skills_analysis - INFO - 🎯 [PIPELINE] Starting tailored CV generation for Australia_for_UNHCR
2025-10-09 16:25:03,987 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:25:03,988 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded CV optimization framework from /Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/tailored_cv/prompts/framework.md
2025-10-09 16:25:03,989 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:25:03,989 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Found AI recommendation file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_162427.json
2025-10-09 16:25:03,990 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Tailored CV found: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.txt
2025-10-09 16:25:03,990 - app.routes.skills_analysis - INFO - 📋 [PIPELINE] Pipeline summary for Australia_for_UNHCR:
2025-10-09 16:25:03,990 - app.routes.skills_analysis - INFO -    ✅ Successful: ['jd_analysis', 'cv_jd_matching', 'component_analysis', 'input_recommendation', 'ai_recommendation', 'tailored_cv']
2025-10-09 16:25:03,990 - app.routes.skills_analysis - INFO -    🎉 All steps completed successfully!
2025-10-09 16:25:03,991 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-09 16:25:03,992 - app.services.ai_recommendation_generator - INFO - 🟢 [AI GENERATOR] Latest AI recommendation (Australia_for_UNHCR_ai_recommendation_20251009_162427.json) is up-to-date vs input (Australia_for_UNHCR_input_recommendation_20251009_162419.json); skipping regeneration
2025-10-09 16:25:03,993 - app.services.ats_recommendation_service - INFO - ✅ [TRIGGER] AI recommendation generated successfully for Australia_for_UNHCR
INFO:     127.0.0.1:53575 - "POST /api/preliminary-analysis HTTP/1.1" 200 OK
INFO:     127.0.0.1:53575 - "OPTIONS /api/analysis-results/Australia_for_UNHCR HTTP/1.1" 200 OK
2025-10-09 16:25:04,027 - app.routes.skills_analysis - INFO - 📊 [API] Fetching analysis results for company: Australia_for_UNHCR
2025-10-09 16:25:04,027 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:25:04,028 - app.utils.path_debug - INFO - 
📌 Starting get_analysis_results
2025-10-09 16:25:04,028 - app.utils.path_debug - INFO -   📂 User base dir: user/keosha@gmail.com/cv-analysis
2025-10-09 16:25:04,028 - app.utils.path_debug - INFO -   📂 Company dir: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 16:25:04,028 - app.utils.path_debug - INFO -   📂 Using analysis file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_162401.json
2025-10-09 16:25:04,029 - app.utils.path_debug - INFO -   ✅ Loaded analysis file, size: 16549 bytes
INFO:     127.0.0.1:53575 - "GET /api/analysis-results/Australia_for_UNHCR HTTP/1.1" 200 OK
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 16:25:04,192 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [17020]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [17319]
INFO:     Waiting for application startup.
2025-10-09 16:25:09,539 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 16:25:09,973 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 16:25:09,973 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 16:25:09,973 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:25:09,973 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:25:10,015 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 16:25:10,015 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 16:25:10,016 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:25:10,016 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:25:10,060 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 16:25:10,060 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 16:25:10,061 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:25:10,061 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:25:10,110 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:25:10,110 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:25:10,110 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 16:25:10,110 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 16:25:10,110 INFO sqlalchemy.engine.Engine [generated in 0.00058s] {}
2025-10-09 16:25:10,110 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] {}
2025-10-09 16:25:10,149 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:25:10,149 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:25:10,172 - app.database - INFO - Database connection successful
2025-10-09 16:25:10,172 - app.main - INFO - ✅ Database connection successful
2025-10-09 16:25:10,195 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:25:10,195 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:25:10,200 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:25:10,200 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:25:10,201 INFO sqlalchemy.engine.Engine [generated in 0.00044s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:25:10,201 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:25:10,242 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:25:10,242 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:25:10,242 INFO sqlalchemy.engine.Engine [cached since 0.04201s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:25:10,242 - sqlalchemy.engine.Engine - INFO - [cached since 0.04201s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:25:10,265 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:25:10,265 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:25:10,265 INFO sqlalchemy.engine.Engine [cached since 0.06497s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:25:10,265 - sqlalchemy.engine.Engine - INFO - [cached since 0.06497s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:25:10,287 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:25:10,287 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:25:10,287 INFO sqlalchemy.engine.Engine [cached since 0.08704s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:25:10,287 - sqlalchemy.engine.Engine - INFO - [cached since 0.08704s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:25:10,311 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:25:10,311 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:25:10,311 INFO sqlalchemy.engine.Engine [cached since 0.1112s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:25:10,311 - sqlalchemy.engine.Engine - INFO - [cached since 0.1112s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:25:10,333 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:25:10,333 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:25:10,334 INFO sqlalchemy.engine.Engine [cached since 0.1336s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:25:10,334 - sqlalchemy.engine.Engine - INFO - [cached since 0.1336s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:25:10,357 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:25:10,357 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:25:10,357 INFO sqlalchemy.engine.Engine [cached since 0.1568s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:25:10,357 - sqlalchemy.engine.Engine - INFO - [cached since 0.1568s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:25:10,379 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:25:10,379 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:25:10,379 INFO sqlalchemy.engine.Engine [cached since 0.179s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:25:10,379 - sqlalchemy.engine.Engine - INFO - [cached since 0.179s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:25:10,411 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:25:10,411 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:25:10,412 INFO sqlalchemy.engine.Engine [cached since 0.2115s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:25:10,412 - sqlalchemy.engine.Engine - INFO - [cached since 0.2115s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:25:10,435 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:25:10,435 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:25:10,435 INFO sqlalchemy.engine.Engine [cached since 0.2353s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:25:10,435 - sqlalchemy.engine.Engine - INFO - [cached since 0.2353s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:25:10,459 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:25:10,459 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:25:10,459 INFO sqlalchemy.engine.Engine [cached since 0.2589s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:25:10,459 - sqlalchemy.engine.Engine - INFO - [cached since 0.2589s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:25:10,478 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 16:25:10,478 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 16:25:10,501 - app.database - INFO - Database tables created successfully
2025-10-09 16:25:10,501 - app.main - INFO - ✅ Database tables ready
2025-10-09 16:25:10,501 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 16:25:10,502 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
2025-10-09 16:25:24,060 - app.routes.skills_analysis - INFO - 📊 [API] Fetching analysis results for company: Australia_for_UNHCR
2025-10-09 16:25:24,061 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:25:24,062 - app.utils.path_debug - INFO - 
📌 Starting get_analysis_results
2025-10-09 16:25:24,062 - app.utils.path_debug - INFO -   📂 User base dir: user/keosha@gmail.com/cv-analysis
2025-10-09 16:25:24,062 - app.utils.path_debug - INFO -   📂 Company dir: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 16:25:24,063 - app.utils.path_debug - INFO -   📂 Using analysis file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_162401.json
2025-10-09 16:25:24,064 - app.utils.path_debug - INFO -   ✅ Loaded analysis file, size: 16549 bytes
INFO:     127.0.0.1:53672 - "GET /api/analysis-results/Australia_for_UNHCR HTTP/1.1" 200 OK
INFO:     127.0.0.1:53672 - "OPTIONS /api/ai-recommendations/company/Australia_for_UNHCR HTTP/1.1" 200 OK
2025-10-09 16:25:24,436 - app.routes.ai_recommendations - INFO - 🔍 [AI_RECOMMENDATIONS] Fetching for company: Australia_for_UNHCR, user: keosha@gmail.com
2025-10-09 16:25:24,437 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:25:24,438 - app.routes.ai_recommendations - INFO - 🔍 [AI_RECOMMENDATIONS] Searching in: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 16:25:24,439 - app.routes.ai_recommendations - INFO - ✅ [AI_RECOMMENDATIONS] Found file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_162427.json
2025-10-09 16:25:24,439 - app.routes.ai_recommendations - INFO - ✅ [AI_RECOMMENDATIONS] Successfully loaded recommendation, content length: 2885
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
INFO:     127.0.0.1:53672 - "GET /api/ai-recommendations/company/Australia_for_UNHCR HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'app/services/ats/component_assembler.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 16:27:30,718 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [17319]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [19693]
INFO:     Waiting for application startup.
2025-10-09 16:27:36,193 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 16:27:36,511 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 16:27:36,511 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 16:27:36,511 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:27:36,511 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:27:36,549 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 16:27:36,549 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 16:27:36,549 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:27:36,549 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:27:36,589 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 16:27:36,589 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 16:27:36,590 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:27:36,590 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:27:36,634 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:27:36,634 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:27:36,634 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 16:27:36,634 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 16:27:36,634 INFO sqlalchemy.engine.Engine [generated in 0.00068s] {}
2025-10-09 16:27:36,634 - sqlalchemy.engine.Engine - INFO - [generated in 0.00068s] {}
2025-10-09 16:27:36,673 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:27:36,673 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:27:36,691 - app.database - INFO - Database connection successful
2025-10-09 16:27:36,691 - app.main - INFO - ✅ Database connection successful
2025-10-09 16:27:36,707 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:27:36,707 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:27:36,713 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:27:36,713 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:27:36,713 INFO sqlalchemy.engine.Engine [generated in 0.00045s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:27:36,713 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:27:36,750 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:27:36,750 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:27:36,750 INFO sqlalchemy.engine.Engine [cached since 0.03769s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:27:36,750 - sqlalchemy.engine.Engine - INFO - [cached since 0.03769s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:27:36,773 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:27:36,773 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:27:36,773 INFO sqlalchemy.engine.Engine [cached since 0.06077s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:27:36,773 - sqlalchemy.engine.Engine - INFO - [cached since 0.06077s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:27:36,795 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:27:36,795 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:27:36,796 INFO sqlalchemy.engine.Engine [cached since 0.08312s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:27:36,796 - sqlalchemy.engine.Engine - INFO - [cached since 0.08312s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:27:36,816 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:27:36,816 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:27:36,816 INFO sqlalchemy.engine.Engine [cached since 0.1039s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:27:36,816 - sqlalchemy.engine.Engine - INFO - [cached since 0.1039s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:27:36,839 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:27:36,839 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:27:36,840 INFO sqlalchemy.engine.Engine [cached since 0.1274s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:27:36,840 - sqlalchemy.engine.Engine - INFO - [cached since 0.1274s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:27:36,858 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:27:36,858 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:27:36,859 INFO sqlalchemy.engine.Engine [cached since 0.1462s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:27:36,859 - sqlalchemy.engine.Engine - INFO - [cached since 0.1462s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:27:36,882 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:27:36,882 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:27:36,883 INFO sqlalchemy.engine.Engine [cached since 0.1702s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:27:36,883 - sqlalchemy.engine.Engine - INFO - [cached since 0.1702s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:27:36,901 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:27:36,901 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:27:36,902 INFO sqlalchemy.engine.Engine [cached since 0.1894s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:27:36,902 - sqlalchemy.engine.Engine - INFO - [cached since 0.1894s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:27:36,923 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:27:36,923 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:27:36,923 INFO sqlalchemy.engine.Engine [cached since 0.211s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:27:36,923 - sqlalchemy.engine.Engine - INFO - [cached since 0.211s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:27:36,945 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:27:36,945 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:27:36,945 INFO sqlalchemy.engine.Engine [cached since 0.2328s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:27:36,945 - sqlalchemy.engine.Engine - INFO - [cached since 0.2328s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:27:36,968 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 16:27:36,968 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 16:27:36,989 - app.database - INFO - Database tables created successfully
2025-10-09 16:27:36,989 - app.main - INFO - ✅ Database tables ready
2025-10-09 16:27:36,989 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 16:27:36,990 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/services/ats/component_assembler.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 16:27:48,506 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [19693]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [19795]
INFO:     Waiting for application startup.
2025-10-09 16:27:53,795 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 16:27:54,198 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 16:27:54,198 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 16:27:54,198 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:27:54,198 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:27:54,241 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 16:27:54,241 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 16:27:54,242 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:27:54,242 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:27:54,283 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 16:27:54,283 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 16:27:54,284 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:27:54,284 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:27:54,332 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:27:54,332 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:27:54,332 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 16:27:54,332 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 16:27:54,332 INFO sqlalchemy.engine.Engine [generated in 0.00060s] {}
2025-10-09 16:27:54,332 - sqlalchemy.engine.Engine - INFO - [generated in 0.00060s] {}
2025-10-09 16:27:54,376 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:27:54,376 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:27:54,396 - app.database - INFO - Database connection successful
2025-10-09 16:27:54,396 - app.main - INFO - ✅ Database connection successful
2025-10-09 16:27:54,459 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:27:54,459 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:27:54,464 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:27:54,464 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:27:54,464 INFO sqlalchemy.engine.Engine [generated in 0.00044s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:27:54,464 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:27:54,507 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:27:54,507 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:27:54,508 INFO sqlalchemy.engine.Engine [cached since 0.04425s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:27:54,508 - sqlalchemy.engine.Engine - INFO - [cached since 0.04425s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:27:54,533 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:27:54,533 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:27:54,533 INFO sqlalchemy.engine.Engine [cached since 0.0697s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:27:54,533 - sqlalchemy.engine.Engine - INFO - [cached since 0.0697s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:27:54,556 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:27:54,556 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:27:54,556 INFO sqlalchemy.engine.Engine [cached since 0.09291s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:27:54,556 - sqlalchemy.engine.Engine - INFO - [cached since 0.09291s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:27:54,579 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:27:54,579 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:27:54,579 INFO sqlalchemy.engine.Engine [cached since 0.1157s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:27:54,579 - sqlalchemy.engine.Engine - INFO - [cached since 0.1157s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:27:54,598 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:27:54,598 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:27:54,599 INFO sqlalchemy.engine.Engine [cached since 0.1351s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:27:54,599 - sqlalchemy.engine.Engine - INFO - [cached since 0.1351s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:27:54,622 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:27:54,622 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:27:54,622 INFO sqlalchemy.engine.Engine [cached since 0.1585s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:27:54,622 - sqlalchemy.engine.Engine - INFO - [cached since 0.1585s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:27:54,641 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:27:54,641 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:27:54,641 INFO sqlalchemy.engine.Engine [cached since 0.178s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:27:54,641 - sqlalchemy.engine.Engine - INFO - [cached since 0.178s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:27:54,665 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:27:54,665 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:27:54,665 INFO sqlalchemy.engine.Engine [cached since 0.2015s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:27:54,665 - sqlalchemy.engine.Engine - INFO - [cached since 0.2015s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:27:54,688 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:27:54,688 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:27:54,688 INFO sqlalchemy.engine.Engine [cached since 0.2244s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:27:54,688 - sqlalchemy.engine.Engine - INFO - [cached since 0.2244s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:27:54,713 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:27:54,713 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:27:54,714 INFO sqlalchemy.engine.Engine [cached since 0.2501s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:27:54,714 - sqlalchemy.engine.Engine - INFO - [cached since 0.2501s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:27:54,732 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 16:27:54,732 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 16:27:54,749 - app.database - INFO - Database tables created successfully
2025-10-09 16:27:54,749 - app.main - INFO - ✅ Database tables ready
2025-10-09 16:27:54,749 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 16:27:54,750 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/services/ats/component_assembler.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 16:28:04,675 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [19795]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [19837]
INFO:     Waiting for application startup.
2025-10-09 16:28:08,998 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 16:28:09,265 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 16:28:09,265 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 16:28:09,266 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:28:09,266 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:28:09,301 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 16:28:09,301 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 16:28:09,301 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:28:09,301 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:28:09,346 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 16:28:09,346 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 16:28:09,346 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:28:09,346 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:28:09,388 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:28:09,388 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:28:09,389 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 16:28:09,389 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 16:28:09,389 INFO sqlalchemy.engine.Engine [generated in 0.00056s] {}
2025-10-09 16:28:09,389 - sqlalchemy.engine.Engine - INFO - [generated in 0.00056s] {}
2025-10-09 16:28:09,428 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:28:09,428 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:28:09,453 - app.database - INFO - Database connection successful
2025-10-09 16:28:09,453 - app.main - INFO - ✅ Database connection successful
2025-10-09 16:28:09,471 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:28:09,471 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:28:09,475 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:28:09,475 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:28:09,476 INFO sqlalchemy.engine.Engine [generated in 0.00044s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:28:09,476 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:28:09,517 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:28:09,517 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:28:09,518 INFO sqlalchemy.engine.Engine [cached since 0.04235s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:28:09,518 - sqlalchemy.engine.Engine - INFO - [cached since 0.04235s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:28:09,539 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:28:09,539 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:28:09,540 INFO sqlalchemy.engine.Engine [cached since 0.06438s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:28:09,540 - sqlalchemy.engine.Engine - INFO - [cached since 0.06438s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:28:09,564 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:28:09,564 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:28:09,565 INFO sqlalchemy.engine.Engine [cached since 0.08922s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:28:09,565 - sqlalchemy.engine.Engine - INFO - [cached since 0.08922s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:28:09,587 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:28:09,587 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:28:09,587 INFO sqlalchemy.engine.Engine [cached since 0.1121s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:28:09,587 - sqlalchemy.engine.Engine - INFO - [cached since 0.1121s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:28:09,611 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:28:09,611 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:28:09,611 INFO sqlalchemy.engine.Engine [cached since 0.1355s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:28:09,611 - sqlalchemy.engine.Engine - INFO - [cached since 0.1355s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:28:09,635 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:28:09,635 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:28:09,636 INFO sqlalchemy.engine.Engine [cached since 0.1605s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:28:09,636 - sqlalchemy.engine.Engine - INFO - [cached since 0.1605s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:28:09,658 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:28:09,658 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:28:09,658 INFO sqlalchemy.engine.Engine [cached since 0.1829s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:28:09,658 - sqlalchemy.engine.Engine - INFO - [cached since 0.1829s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:28:09,682 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:28:09,682 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:28:09,682 INFO sqlalchemy.engine.Engine [cached since 0.2068s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:28:09,682 - sqlalchemy.engine.Engine - INFO - [cached since 0.2068s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:28:09,704 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:28:09,704 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:28:09,704 INFO sqlalchemy.engine.Engine [cached since 0.2287s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:28:09,704 - sqlalchemy.engine.Engine - INFO - [cached since 0.2287s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:28:09,729 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:28:09,729 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:28:09,730 INFO sqlalchemy.engine.Engine [cached since 0.2545s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:28:09,730 - sqlalchemy.engine.Engine - INFO - [cached since 0.2545s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:28:09,754 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 16:28:09,754 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 16:28:09,775 - app.database - INFO - Database tables created successfully
2025-10-09 16:28:09,775 - app.main - INFO - ✅ Database tables ready
2025-10-09 16:28:09,776 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 16:28:09,776 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/services/ats/component_assembler.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 16:28:45,337 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [19837]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [19927]
INFO:     Waiting for application startup.
2025-10-09 16:28:50,952 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 16:28:51,249 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 16:28:51,249 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 16:28:51,249 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:28:51,249 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:28:51,292 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 16:28:51,292 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 16:28:51,292 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:28:51,292 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:28:51,333 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 16:28:51,333 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 16:28:51,333 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:28:51,333 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:28:51,381 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:28:51,381 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:28:51,381 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 16:28:51,381 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 16:28:51,381 INFO sqlalchemy.engine.Engine [generated in 0.00067s] {}
2025-10-09 16:28:51,381 - sqlalchemy.engine.Engine - INFO - [generated in 0.00067s] {}
2025-10-09 16:28:51,416 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:28:51,416 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:28:51,434 - app.database - INFO - Database connection successful
2025-10-09 16:28:51,434 - app.main - INFO - ✅ Database connection successful
2025-10-09 16:28:51,452 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:28:51,452 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:28:51,457 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:28:51,457 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:28:51,457 INFO sqlalchemy.engine.Engine [generated in 0.00041s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:28:51,457 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:28:51,490 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:28:51,490 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:28:51,491 INFO sqlalchemy.engine.Engine [cached since 0.03434s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:28:51,491 - sqlalchemy.engine.Engine - INFO - [cached since 0.03434s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:28:51,513 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:28:51,513 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:28:51,513 INFO sqlalchemy.engine.Engine [cached since 0.05672s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:28:51,513 - sqlalchemy.engine.Engine - INFO - [cached since 0.05672s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:28:51,537 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:28:51,537 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:28:51,537 INFO sqlalchemy.engine.Engine [cached since 0.0807s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:28:51,537 - sqlalchemy.engine.Engine - INFO - [cached since 0.0807s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:28:51,559 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:28:51,559 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:28:51,559 INFO sqlalchemy.engine.Engine [cached since 0.103s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:28:51,559 - sqlalchemy.engine.Engine - INFO - [cached since 0.103s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:28:51,583 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:28:51,583 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:28:51,584 INFO sqlalchemy.engine.Engine [cached since 0.1273s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:28:51,584 - sqlalchemy.engine.Engine - INFO - [cached since 0.1273s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:28:51,608 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:28:51,608 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:28:51,608 INFO sqlalchemy.engine.Engine [cached since 0.1519s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:28:51,608 - sqlalchemy.engine.Engine - INFO - [cached since 0.1519s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:28:51,627 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:28:51,627 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:28:51,627 INFO sqlalchemy.engine.Engine [cached since 0.1706s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:28:51,627 - sqlalchemy.engine.Engine - INFO - [cached since 0.1706s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:28:51,650 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:28:51,650 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:28:51,651 INFO sqlalchemy.engine.Engine [cached since 0.1941s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:28:51,651 - sqlalchemy.engine.Engine - INFO - [cached since 0.1941s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:28:51,676 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:28:51,676 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:28:51,676 INFO sqlalchemy.engine.Engine [cached since 0.2197s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:28:51,676 - sqlalchemy.engine.Engine - INFO - [cached since 0.2197s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:28:51,700 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:28:51,700 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:28:51,700 INFO sqlalchemy.engine.Engine [cached since 0.2434s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:28:51,700 - sqlalchemy.engine.Engine - INFO - [cached since 0.2434s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:28:51,718 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 16:28:51,718 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 16:28:51,739 - app.database - INFO - Database tables created successfully
2025-10-09 16:28:51,739 - app.main - INFO - ✅ Database tables ready
2025-10-09 16:28:51,739 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 16:28:51,739 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
2025-10-09 16:31:49,620 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
INFO:     127.0.0.1:54149 - "GET /api/tailored-cv/available-companies-real HTTP/1.1" 200 OK
2025-10-09 16:31:49,740 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 📄 Tailored CV content request for Australia_for_UNHCR from user 0d4bdc07-cadf-4300-8e4f-f07da7575a62
2025-10-09 16:31:49,740 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:31:49,741 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:31:49,741 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:31:49,743 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ Served TAILORED CV content: Australia_for_UNHCR_tailored_cv_20251009_162503.txt from tailored folder (3524 characters)
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
🔍 Searching for tailored CV ONLY for company: Australia_for_UNHCR
📁 Found 3 tailored CV candidates
✅ Selected tailored CV: tailored - user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.json
INFO:     127.0.0.1:54149 - "GET /api/tailored-cv/content/Australia_for_UNHCR HTTP/1.1" 200 OK
INFO:     127.0.0.1:54158 - "GET /api/preliminary-analysis/cache HTTP/1.1" 200 OK
2025-10-09 16:32:00,027 - app.core.model_dependency - INFO - 🔍 [MODEL_DEPENDENCY] Initializing model for user: keosha@gmail.com
2025-10-09 16:32:00,028 - app.core.model_dependency - INFO - - Header model: gpt-3.5-turbo
2025-10-09 16:32:00,028 - app.core.model_dependency - INFO - - User ID: 0d4bdc07-cadf-4300-8e4f-f07da7575a62
2025-10-09 16:32:00,028 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 16:32:00,028 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:32:00,028 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 16:32:00,028 - app.ai.ai_service - INFO - - Available providers: []
2025-10-09 16:32:00,029 - app.ai.ai_service - INFO - - Provider status: {}
2025-10-09 16:32:00,029 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 16:32:00,029 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: []
2025-10-09 16:32:00,029 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 16:32:00,029 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {}
2025-10-09 16:32:00,029 - app.ai.ai_service - ERROR - ❌ No current provider available for model switching
2025-10-09 16:32:00,029 - app.core.model_dependency - WARNING - ⚠️ Failed to switch to header model gpt-3.5-turbo
2025-10-09 16:32:00,036 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user keosha@gmail.com
2025-10-09 16:32:00,037 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Before initialization:
2025-10-09 16:32:00,037 - app.ai.ai_service - INFO - - Current providers: []
2025-10-09 16:32:00,037 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 16:32:00,038 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 16:32:00,038 - app.ai.ai_service - INFO - - Cached providers for user: []
2025-10-09 16:32:00,038 - app.ai.ai_service - INFO - 🔄 [AI_SERVICE] Initializing new providers for user keosha@gmail.com
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
2025-10-09 16:32:00,109 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:32:00,109 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:32:00,121 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:32:00,121 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:32:00,121 INFO sqlalchemy.engine.Engine [generated in 0.00055s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 16:32:00,121 - sqlalchemy.engine.Engine - INFO - [generated in 0.00055s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 16:32:00,196 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:32:00,196 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:32:00,876 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:32:01,049 - app.ai.ai_service - INFO - ✅ Initialized openai provider with model gpt-4o for user keosha@gmail.com
2025-10-09 16:32:01,071 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:32:01,071 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:32:01,072 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:32:01,072 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:32:01,073 INFO sqlalchemy.engine.Engine [cached since 0.952s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 16:32:01,073 - sqlalchemy.engine.Engine - INFO - [cached since 0.952s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 16:32:01,116 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:32:01,116 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:32:01,136 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user keosha@gmail.com and provider anthropic
2025-10-09 16:32:01,154 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:32:01,154 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:32:01,155 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:32:01,155 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:32:01,155 INFO sqlalchemy.engine.Engine [cached since 1.035s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 16:32:01,155 - sqlalchemy.engine.Engine - INFO - [cached since 1.035s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 16:32:01,200 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:32:01,200 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:32:01,219 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user keosha@gmail.com and provider deepseek
2025-10-09 16:32:01,219 - app.ai.ai_service - INFO - 💾 [AI_SERVICE] Cached 1 providers for user keosha@gmail.com
2025-10-09 16:32:01,219 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] After initialization:
2025-10-09 16:32:01,219 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 16:32:01,219 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 16:32:01,219 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 16:32:01,220 - app.core.model_dependency - INFO - ✅ [MODEL_DEPENDENCY] AI providers initialized for user keosha@gmail.com
2025-10-09 16:32:01,243 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:32:01,243 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:32:01,246 INFO sqlalchemy.engine.Engine SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 16:32:01,246 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 16:32:01,246 INFO sqlalchemy.engine.Engine [generated in 0.00052s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'param_1': 1}
2025-10-09 16:32:01,246 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'param_1': 1}
2025-10-09 16:32:01,283 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:32:01,283 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:32:01,305 - app.core.model_dependency - INFO - 🔍 [MODEL_DEPENDENCY] Found saved preference: openai/gpt-3.5-turbo
2025-10-09 16:32:01,306 - app.ai.ai_service - INFO - ✅ Switched to openai provider with model gpt-3.5-turbo
2025-10-09 16:32:01,307 - app.core.model_dependency - INFO - ✅ [MODEL_DEPENDENCY] Successfully restored user preference: openai/gpt-3.5-turbo
2025-10-09 16:32:01,310 - app.routes.skills_analysis - INFO - 🎯 Preliminary analysis request: CV=maheshwor_tiwari.pdf, JD_length=6014, CONFIG=None
2025-10-09 16:32:01,311 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:32:01,311 - app.routes.skills_analysis - INFO - 🏢 Extracted company name: Australia_for_UNHCR
2025-10-09 16:32:01,312 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:32:01,315 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:32:01,316 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:32:01,316 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:32:01,316 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:32:01,318 - app.routes.skills_analysis - INFO - 🔗 [PRELIM_ANALYSIS] JD URL (latest job_info): https://www.ethicaljobs.com.au/members/australiaforunhcr/data-analyst
2025-10-09 16:32:01,319 - app.routes.skills_analysis - INFO - 📄 [PRELIM_ANALYSIS] Latest CV selected → type=tailored, ts=20251009_162503, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.json, txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.txt
2025-10-09 16:32:01,319 - app.routes.skills_analysis - INFO - 🧪 [PRELIM_ANALYSIS] CV content length=3524, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • Python, Power BI, SQL, Excel, Analytical Models, Data Analysis, Data Extraction  EXPERIENCE Data Analyst         Jul 2024 – Present The Bitrates  • Designed and implemented 5 Python scripts for data cleaning, preprocessing, and analysis, improving data pipeline efficiency by 30%. • Developed 3 '
2025-10-09 16:32:01,320 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 16:32:01,320 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 16:32:01,320 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 16:32:01,320 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Starting AI-powered skills analysis for maheshwor_tiwari.pdf
2025-10-09 16:32:01,320 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] CV content length: 3524 chars
2025-10-09 16:32:01,320 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] JD content length: 6014 chars
2025-10-09 16:32:01,320 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using config: default
2025-10-09 16:32:01,321 - app.routes.skills_analysis - INFO - 🧪 [SKILLS_ANALYSIS] CV preview: 'Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • Python, Power BI, SQL, Excel, Analytical Models, Data Analysis, Data Extrac'
2025-10-09 16:32:01,321 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:32:01,321 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:32:01,321 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:32:01,321 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:32:01,321 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:32:02,001 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:32:02,070 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:32:02,070 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:32:02,070 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:32:02,070 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI provider: openai
2025-10-09 16:32:02,070 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI model: gpt-3.5-turbo
2025-10-09 16:32:02,071 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Provider available: True
2025-10-09 16:32:02,071 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Model from header: gpt-3.5-turbo
2025-10-09 16:32:02,071 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting CV skills with detailed structured analysis...
2025-10-09 16:32:02,071 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:32:02,071 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:32:02,072 - app.ai.ai_service - INFO - - Prompt length: 12994
2025-10-09 16:32:02,072 - app.ai.ai_service - INFO - - System prompt length: 0
2025-10-09 16:32:02,072 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:32:02,073 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:32:02,073 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:32:02,073 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:32:02,074 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:32:02,074 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:32:02,075 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:32:02,075 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:32:02,716 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:32:02,730 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:32:02,730 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:32:02,731 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:32:02,731 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:32:07,428 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:32:07,442 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] Starting response parsing...
2025-10-09 16:32:07,442 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] Raw response preview: 
**SOFT SKILLS:**
- Communication
- Leadership
- Teamwork
- Collaboration
- Time Management
- Organization
- Adaptability
- Problem-solving
- Analytical Thinking
- Critical Thinking
- Creativity
- Innovation
- Detail-oriented
- Self-motivated
- Proactive
- Results-driven

**TECHNICAL SKILLS:**
- Python
- Power BI
- SQL
- Excel
- Analytical Models
- Data Analysis
- Data Extraction
- Machine Learning
- AI Techniques
- Data Cleaning
- Preprocessing
- Data Pipeline Efficiency
- Dynamic Dashboards
- ...
2025-10-09 16:32:07,443 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] FULL CV RESPONSE: 
**SOFT SKILLS:**
- Communication
- Leadership
- Teamwork
- Collaboration
- Time Management
- Organization
- Adaptability
- Problem-solving
- Analytical Thinking
- Critical Thinking
- Creativity
- Innovation
- Detail-oriented
- Self-motivated
- Proactive
- Results-driven

**TECHNICAL SKILLS:**
- Python
- Power BI
- SQL
- Excel
- Analytical Models
- Data Analysis
- Data Extraction
- Machine Learning
- AI Techniques
- Data Cleaning
- Preprocessing
- Data Pipeline Efficiency
- Dynamic Dashboards
- Visualizations
- Matplotlib
- Seaborn
- Google Analytics
- Data Structuring
- Customer Support Data Analysis
- Actionable Insights
- Dynamic Reports
- Tableau
- Data Preprocessing
- Data Processing Speed
- Data Integrity
- Computational Modeling
- Large Datasets Analysis
- Research Findings Presentation

**DOMAIN KEYWORDS:**
- Physics
- Theoretical Physics
- Data Science
- Research
- Computational Research
- Data Sets Management
- Physics Tutorials
- Course Materials Design
- Project Mentoring
- Research Internship
- GPA Analysis
- International Conferences
- Master's Students
- Faculty Collaboration
- Research Skills
- Data Accuracy
- Reliability
- Magnetic Fields
- 2D Materials
- Dashboard Presentation
- Weekly Reviews
2025-10-09 16:32:07,444 - app.services.skill_extraction.response_parser - WARNING - ⚠️ [CV] No SOFT_SKILLS variable found in response
2025-10-09 16:32:07,444 - app.services.skill_extraction.response_parser - WARNING - ⚠️ [CV] No TECHNICAL_SKILLS variable found in response
2025-10-09 16:32:07,446 - app.services.skill_extraction.response_parser - WARNING - ⚠️ [CV] No DOMAIN_KEYWORDS variable found in response
2025-10-09 16:32:07,446 - app.services.skill_extraction.response_parser - INFO - 🔄 [CV] Python format not found, trying markdown format...
2025-10-09 16:32:07,449 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Successfully extracted 65 total skills using multi-format parser
2025-10-09 16:32:07,449 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated soft_skills: 16 valid skills
2025-10-09 16:32:07,450 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated technical_skills: 28 valid skills
2025-10-09 16:32:07,450 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated domain_keywords: 21 valid skills
2025-10-09 16:32:07,450 - app.services.skill_extraction.response_parser - INFO - 📊 [CV] Parsing completed:
2025-10-09 16:32:07,450 - app.services.skill_extraction.response_parser - INFO -    Soft Skills (16): ['Communication', 'Leadership', 'Teamwork']...
2025-10-09 16:32:07,451 - app.services.skill_extraction.response_parser - INFO -    Technical Skills (28): ['Python', 'Power BI', 'SQL']...
2025-10-09 16:32:07,451 - app.services.skill_extraction.response_parser - INFO -    Domain Keywords (21): ['Physics', 'Theoretical Physics', 'Data Science']...
2025-10-09 16:32:07,451 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting JD skills with detailed structured analysis...
2025-10-09 16:32:07,451 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:32:07,452 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:32:07,452 - app.ai.ai_service - INFO - - Prompt length: 18001
2025-10-09 16:32:07,452 - app.ai.ai_service - INFO - - System prompt length: 0
2025-10-09 16:32:07,452 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:32:07,452 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:32:07,453 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:32:07,454 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:32:07,454 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:32:07,454 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:32:07,454 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:32:07,454 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:32:08,603 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:32:08,626 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:32:08,627 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:32:08,627 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:32:08,627 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:32:13,620 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:32:13,623 - app.services.skill_extraction.response_parser - INFO - 🔍 [JD] Starting response parsing...
2025-10-09 16:32:13,624 - app.services.skill_extraction.response_parser - INFO - 🔍 [JD] Raw response preview: ## SOFT SKILLS:
- Communication
- Collaboration
- Problem-solving
- Analytical Thinking
- Detail-oriented
- Self-motivated
- Proactive
- Results-driven

## TECHNICAL SKILLS:
- Data Analysis
- Data Mining
- Business Intelligence
- Power BI
- SQL
- Database Management
- Excel Formulas
- VBA
- Data Modeling
- Data Warehousing
- Stakeholder Management
- Marketing Campaign Analysis

## DOMAIN KEYWORDS:
- Fundraising
- Humanitarian Aid
- Refugee Support
- Business Decision-making
- Donor Value Maximiz...
2025-10-09 16:32:13,624 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Successfully extracted 32 total skills using multi-format parser
2025-10-09 16:32:13,624 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated soft_skills: 8 valid skills
2025-10-09 16:32:13,624 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated technical_skills: 12 valid skills
2025-10-09 16:32:13,624 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated domain_keywords: 12 valid skills
2025-10-09 16:32:13,625 - app.services.skill_extraction.response_parser - INFO - 📊 [JD] Parsing completed:
2025-10-09 16:32:13,625 - app.services.skill_extraction.response_parser - INFO -    Soft Skills (8): ['Communication', 'Collaboration', 'Problem-solving']...
2025-10-09 16:32:13,625 - app.services.skill_extraction.response_parser - INFO -    Technical Skills (12): ['Data Analysis', 'Data Mining', 'Business Intelligence']...
2025-10-09 16:32:13,625 - app.services.skill_extraction.response_parser - INFO -    Domain Keywords (12): ['Fundraising', 'Humanitarian Aid', 'Refugee Support']...
2025-10-09 16:32:13,625 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using structured analysis as comprehensive analysis...
2025-10-09 16:32:13,625 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Technical Skills (28): ['Python', 'Power BI', 'SQL', 'Excel', 'Analytical Models', 'Data Analysis', 'Data Extraction', 'Machine Learning', 'AI Techniques', 'Data Cleaning', 'Preprocessing', 'Data Pipeline Efficiency', 'Dynamic Dashboards', 'Visualizations', 'Matplotlib', 'Seaborn', 'Google Analytics', 'Data Structuring', 'Customer Support Data Analysis', 'Actionable Insights', 'Dynamic Reports', 'Tableau', 'Data Preprocessing', 'Data Processing Speed', 'Data Integrity', 'Computational Modeling', 'Large Datasets Analysis', 'Research Findings Presentation']
2025-10-09 16:32:13,626 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Soft Skills (16): ['Communication', 'Leadership', 'Teamwork', 'Collaboration', 'Time Management', 'Organization', 'Adaptability', 'Problem-solving', 'Analytical Thinking', 'Critical Thinking', 'Creativity', 'Innovation', 'Detail-oriented', 'Self-motivated', 'Proactive', 'Results-driven']
2025-10-09 16:32:13,626 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Domain Keywords (21): ['Physics', 'Theoretical Physics', 'Data Science', 'Research', 'Computational Research', 'Data Sets Management', 'Physics Tutorials', 'Course Materials Design', 'Project Mentoring', 'Research Internship', 'GPA Analysis', 'International Conferences', "Master's Students", 'Faculty Collaboration', 'Research Skills', 'Data Accuracy', 'Reliability', 'Magnetic Fields', '2D Materials', 'Dashboard Presentation', 'Weekly Reviews']
2025-10-09 16:32:13,626 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Technical Skills (12): ['Data Analysis', 'Data Mining', 'Business Intelligence', 'Power BI', 'SQL', 'Database Management', 'Excel Formulas', 'VBA', 'Data Modeling', 'Data Warehousing', 'Stakeholder Management', 'Marketing Campaign Analysis']
2025-10-09 16:32:13,626 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Soft Skills (8): ['Communication', 'Collaboration', 'Problem-solving', 'Analytical Thinking', 'Detail-oriented', 'Self-motivated', 'Proactive', 'Results-driven']
2025-10-09 16:32:13,626 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Domain Keywords (12): ['Fundraising', 'Humanitarian Aid', 'Refugee Support', 'Business Decision-making', 'Donor Value Maximization', 'Direct Marketing', 'Segmentation Strategies', 'Data Warehouse Administration', 'Project Management', 'Communication Data Usage', 'Data Governance', 'Clean Data Maintenance']
2025-10-09 16:32:13,626 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] Analysis completed successfully
2025-10-09 16:32:13,627 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 16:32:13,627 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:32:13,628 - app.services.skill_extraction.result_saver - INFO - 📁 Result saver initialized with base directory: user/keosha@gmail.com/cv-analysis
2025-10-09 16:32:13,628 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:32:13,629 - app.routes.skills_analysis - INFO - 🔍 [COMPANY_DETECTION] Looking in: user/keosha@gmail.com/cv-analysis/applied_companies
2025-10-09 16:32:13,629 - app.routes.skills_analysis - INFO - 📁 [COMPANY_DETECTION] Found company folder: Australia_for_UNHCR with 1 job_info files
2025-10-09 16:32:13,630 - app.routes.skills_analysis - INFO - 🏢 [COMPANY_DETECTION] Using most recent company folder: Australia_for_UNHCR
2025-10-09 16:32:13,631 - app.routes.skills_analysis - INFO - 📋 [COMPANY_DETECTION] Job info company: Australia for UNHCR
2025-10-09 16:32:13,632 - app.services.skill_extraction.result_saver - INFO - 🏢 Using provided company name: Australia_for_UNHCR -> Australia_for_UNHCR
2025-10-09 16:32:13,632 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:32:13,633 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:32:13,633 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:32:13,633 - app.services.skill_extraction.result_saver - INFO - 💾 Structured CV already exists, preserving it: user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 16:32:13,633 - app.services.skill_extraction.result_saver - INFO - 💾 Structured CV preserved, skipping save: user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 16:32:13,635 - app.services.skill_extraction.result_saver - INFO - 💾 Analysis results saved (JSON) to: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_163213.json
2025-10-09 16:32:13,635 - app.routes.skills_analysis - INFO - 📁 [FILE_SAVE] Results saved to: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_163213.json
2025-10-09 16:32:13,635 - app.routes.skills_analysis - INFO - 🔍 [ANALYZE_MATCH] Starting analyze match assessment...
2025-10-09 16:32:13,640 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:32:13,640 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:32:13,640 - app.ai.ai_service - INFO - - Prompt length: 15627
2025-10-09 16:32:13,641 - app.ai.ai_service - INFO - - System prompt length: 0
2025-10-09 16:32:13,641 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:32:13,641 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:32:13,641 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:32:13,641 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:32:13,641 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:32:13,641 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:32:13,642 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:32:13,642 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:32:14,126 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:32:14,145 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:32:14,145 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:32:14,145 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:32:14,146 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:32:17,463 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:32:17,467 - app.routes.skills_analysis - INFO - ✅ [ANALYZE_MATCH] Analysis completed (length: 1966 chars)
2025-10-09 16:32:17,468 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:32:17,469 - app.services.skill_extraction.result_saver - INFO - 📂 Found existing analysis file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_163213.json
2025-10-09 16:32:17,469 - app.services.skill_extraction.result_saver - INFO - 🔍 Looking for analysis file in: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 16:32:17,470 - app.services.skill_extraction.result_saver - INFO - 📄 Using existing file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_163213.json
2025-10-09 16:32:17,471 - app.services.skill_extraction.result_saver - INFO - 📁 [ANALYZE_MATCH] Results appended to: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_163213.json
2025-10-09 16:32:17,471 - app.routes.skills_analysis - INFO - 📁 [ANALYZE_MATCH] Results appended to: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_163213.json
2025-10-09 16:32:17,472 - app.routes.skills_analysis - INFO - 🔍 [PREEXTRACTED_COMPARISON] Starting pre-extracted skills semantic comparison...
2025-10-09 16:32:17,475 - app.services.skill_extraction.preextracted_comparator - INFO - 🔍 [EXACT_MATCHES] Found 3 exact matches: {'technical_skills': [{'jd_skill': 'Data Analysis', 'cv_skill': 'Data Analysis', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Power BI', 'cv_skill': 'Power BI', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'SQL', 'cv_skill': 'SQL', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}], 'soft_skills': [{'jd_skill': 'Analytical Thinking', 'cv_skill': 'Analytical Thinking', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Collaboration', 'cv_skill': 'Collaboration', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Communication', 'cv_skill': 'Communication', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Detail-oriented', 'cv_skill': 'Detail-oriented', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Proactive', 'cv_skill': 'Proactive', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Problem-solving', 'cv_skill': 'Problem-solving', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Results-driven', 'cv_skill': 'Results-driven', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Self-motivated', 'cv_skill': 'Self-motivated', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}], 'domain_keywords': []}
2025-10-09 16:32:17,476 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:32:17,477 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:32:17,477 - app.ai.ai_service - INFO - - Prompt length: 7251
2025-10-09 16:32:17,477 - app.ai.ai_service - INFO - - System prompt length: 0
2025-10-09 16:32:17,478 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:32:17,478 - app.ai.ai_service - INFO - - Max tokens: 3000
2025-10-09 16:32:17,478 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:32:17,478 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:32:17,478 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:32:17,479 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:32:17,479 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:32:17,479 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:32:18,178 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:32:18,190 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:32:18,190 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:32:18,191 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:32:18,191 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:32:27,496 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:32:27,499 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Analytical Thinking → Analytical Thinking
2025-10-09 16:32:27,499 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Collaboration → Collaboration
2025-10-09 16:32:27,499 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Communication → Communication
2025-10-09 16:32:27,499 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Detail-oriented → Detail-oriented
2025-10-09 16:32:27,500 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Proactive → Proactive
2025-10-09 16:32:27,500 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Problem-solving → Problem-solving
2025-10-09 16:32:27,500 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Results-driven → Results-driven
2025-10-09 16:32:27,500 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Self-motivated → Self-motivated
2025-10-09 16:32:27,500 - app.services.skill_extraction.preextracted_comparator - INFO - ℹ️ [VALIDATION] technical_skills: matched 12 + missing 12 = 24 vs JD count 12 (acceptable variance)
2025-10-09 16:32:27,500 - app.services.skill_extraction.preextracted_comparator - WARNING - ❌ [VALIDATION] technical_skills: extreme variance - processed 24 vs expected 12
2025-10-09 16:32:27,501 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] CV Skills: Tech=28, Soft=16, Domain=21
2025-10-09 16:32:27,501 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] JD Skills: Tech=12, Soft=8, Domain=12
2025-10-09 16:32:27,501 - app.services.skill_extraction.preextracted_comparator - WARNING - ❌ [VALIDATION] 1 validation error(s) found
2025-10-09 16:32:27,502 - app.services.skill_extraction.preextracted_comparator - WARNING - ⚠️ [COMPARISON] JSON results failed validation, attempting to fix inconsistencies
2025-10-09 16:32:27,502 - app.services.skill_extraction.preextracted_comparator - INFO - 🔧 [FIX] Attempting to fix inconsistent AI response
2025-10-09 16:32:27,502 - app.services.skill_extraction.preextracted_comparator - WARNING - 🔧 [FIX] technical_skills: Too many items (24 > 12), trimming missing items
2025-10-09 16:32:27,502 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [FIX] Finished fixing AI response inconsistencies
2025-10-09 16:32:27,503 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] CV Skills: Tech=28, Soft=16, Domain=21
2025-10-09 16:32:27,503 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] JD Skills: Tech=12, Soft=8, Domain=12
2025-10-09 16:32:27,503 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [VALIDATION] Comparison results passed validation
2025-10-09 16:32:27,503 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [COMPARISON] Successfully fixed AI response inconsistencies
2025-10-09 16:32:27,503 - app.routes.skills_analysis - INFO - ✅ [PREEXTRACTED_COMPARISON] Completed (length: 5118 chars)
2025-10-09 16:32:27,504 - app.services.skill_extraction.result_saver - INFO - 🏢 [PREEXTRACTED_COMPARISON] Inferred company from saved_file_path: Australia_for_UNHCR
2025-10-09 16:32:27,507 - app.services.skill_extraction.result_saver - INFO - 📁 [PREEXTRACTED_COMPARISON] Results appended to: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_163213.json
2025-10-09 16:32:27,507 - app.routes.skills_analysis - INFO - 📁 [PREEXTRACTED_COMPARISON] Results appended to: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_163213.json
2025-10-09 16:32:27,508 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:32:27,508 - app.routes.skills_analysis - INFO - ♻️ [PIPELINE] (preliminary-analysis) JD file already exists: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/jd_original_20251009_160700.json
2025-10-09 16:32:27,510 - app.routes.skills_analysis - INFO - ♻️ [JOBS] Job already exists in saved_jobs.json: Data Analyst at Australia for UNHCR
2025-10-09 16:32:27,510 - app.routes.skills_analysis - INFO - 🚀 [PIPELINE] (preliminary-analysis) scheduling for company: Australia_for_UNHCR
2025-10-09 16:32:27,510 - app.routes.skills_analysis - INFO - 🚀 [PIPELINE] Scheduling JD analysis and CV–JD matching for 'Australia_for_UNHCR'...
2025-10-09 16:32:27,512 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:32:27,512 - app.routes.skills_analysis - INFO - 🔧 [PIPELINE] Starting JD analysis for Australia_for_UNHCR (force_refresh=True)
2025-10-09 16:32:27,513 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:32:27,514 - app.services.jd_analysis.jd_analyzer - INFO - 🔄 Analyzing JD for Australia_for_UNHCR (force_refresh=True)
2025-10-09 16:32:27,516 - app.services.jd_analysis.jd_analyzer - INFO - 📄 Analyzing JD file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/jd_original_20251009_160700.json
2025-10-09 16:32:27,517 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:32:27,517 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:32:27,517 - app.ai.ai_service - INFO - - Prompt length: 6409
2025-10-09 16:32:27,517 - app.ai.ai_service - INFO - - System prompt length: 2650
2025-10-09 16:32:27,517 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:32:27,518 - app.ai.ai_service - INFO - - Max tokens: 2000
2025-10-09 16:32:27,518 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:32:27,518 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:32:27,518 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:32:27,518 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:32:27,518 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:32:27,518 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:32:28,008 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:32:28,020 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:32:28,021 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:32:28,021 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:32:28,021 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:32:29,600 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:32:29,607 - app.services.jd_analysis.jd_analyzer - INFO - ✅ JD analysis completed. Found 0 required and 0 preferred keywords
2025-10-09 16:32:29,608 - app.services.jd_analysis.jd_analyzer - INFO - ♻️ JD analysis already exists, reusing: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_jd_analysis_20251009_160741.json
2025-10-09 16:32:29,609 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] JD analysis saved for Australia_for_UNHCR at: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_jd_analysis_20251009_160741.json
2025-10-09 16:32:29,611 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:32:29,612 - app.services.jd_usage_tracker - INFO - 🔍 [JD_TRACKER] Recording JD usage:
2025-10-09 16:32:29,612 - app.services.jd_usage_tracker - INFO - - jd_url: 
2025-10-09 16:32:29,612 - app.services.jd_usage_tracker - INFO - - jd_text length: 0
2025-10-09 16:32:29,612 - app.services.jd_usage_tracker - INFO - - company: Australia_for_UNHCR
2025-10-09 16:32:29,612 - app.services.jd_usage_tracker - INFO - - job_title: 
2025-10-09 16:32:29,613 - app.services.jd_usage_tracker - ERROR - ❌ [JD_TRACKER] Error recording JD usage: Either jd_url or jd_text must be provided
2025-10-09 16:32:29,613 - app.routes.skills_analysis - INFO - 📝 [PIPELINE] JD usage recorded for Australia_for_UNHCR
2025-10-09 16:32:29,613 - app.routes.skills_analysis - INFO - 🔧 [PIPELINE] Starting CV–JD matching for Australia_for_UNHCR
2025-10-09 16:32:29,614 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:32:29,615 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:32:29,615 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:32:29,615 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:32:29,616 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] CV–JD matching will use CV TXT: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.txt
2025-10-09 16:32:29,616 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 📄 [CV_JD_MATCHER] Using provided CV path: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.txt
2025-10-09 16:32:29,618 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 📄 [CV_JD_MATCHER] Read CV from: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.txt
2025-10-09 16:32:29,618 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🧪 [CV_JD_MATCHER] CV content length=3523, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • Python, Power BI, SQL, Excel, Analytical Models, Data Analysis, Data Extraction  EXPERIENCE Data Analyst         Jul 2024 – Present The Bitrates  • Designed and implemented 5 Python scripts for data cleaning, preprocessing, and analysis, improving data pipeline efficiency by 30%. • Developed 3 '
2025-10-09 16:32:29,618 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🔍 Found 8 required and 4 preferred keywords
2025-10-09 16:32:29,618 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:32:29,618 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:32:29,619 - app.ai.ai_service - INFO - - Prompt length: 4891
2025-10-09 16:32:29,619 - app.ai.ai_service - INFO - - System prompt length: 2705
2025-10-09 16:32:29,619 - app.ai.ai_service - INFO - - Temperature: 0.3
2025-10-09 16:32:29,619 - app.ai.ai_service - INFO - - Max tokens: 3000
2025-10-09 16:32:29,620 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:32:29,620 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:32:29,620 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:32:29,620 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:32:29,620 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:32:29,620 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:32:30,254 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:32:30,272 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:32:30,273 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:32:30,273 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:32:30,273 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:32:32,308 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:32:32,310 - app.services.cv_jd_matching.cv_jd_matcher - INFO - ✅ CV-JD matching completed. Found 4 matched required keywords
2025-10-09 16:32:32,311 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:32:32,311 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:32:32,313 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 💾 Saved CV-JD match results to: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_cv_jd_matching_20251009_163232.json
2025-10-09 16:32:32,314 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] CV–JD match results saved for Australia_for_UNHCR
2025-10-09 16:32:32,314 - app.routes.skills_analysis - INFO - 🔍 [PIPELINE] Starting component analysis for Australia_for_UNHCR
2025-10-09 16:32:32,316 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:32:32,317 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:32:32,317 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:32:32,317 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:32:32,318 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Latest CV selected → type=tailored, ts=20251009_162503, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.json, txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.txt
2025-10-09 16:32:32,319 - app.routes.skills_analysis - INFO - 🧪 [PIPELINE] CV content length=3524, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • Python, Power BI, SQL, Excel, Analytical Models, Data Analysis, Data Extraction  EXPERIENCE Data Analyst         Jul 2024 – Present The Bitrates  • Designed and implemented 5 Python scripts for data cleaning, preprocessing, and analysis, improving data pipeline efficiency by 30%. • Developed 3 '
2025-10-09 16:32:32,320 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:32:32,320 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Required files found, proceeding with component analysis
2025-10-09 16:32:32,321 - app.services.ats.modular_ats_orchestrator - INFO - ===== [MODULAR ATS] Starting component analysis for: Australia_for_UNHCR =====
2025-10-09 16:32:32,321 - app.services.ats.component_assembler - INFO - ===== [ASSEMBLER] Starting component assembly for: Australia_for_UNHCR =====
2025-10-09 16:32:32,321 - app.services.ats.component_assembler - INFO - 📄 [ASSEMBLER] Using CV text provided by caller
2025-10-09 16:32:32,330 - app.services.ats.component_assembler - WARNING - [ASSEMBLER] Match results not found: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/cv_jd_match_results.json
2025-10-09 16:32:32,330 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Starting parallel component analyses...
2025-10-09 16:32:32,332 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Requesting skills relevance analysis...
2025-10-09 16:32:32,333 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:32:32,333 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:32:32,334 - app.ai.ai_service - INFO - - Prompt length: 11370
2025-10-09 16:32:32,334 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Requirement bonus using match file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_cv_jd_matching_20251009_163232.json
2025-10-09 16:32:32,334 - app.ai.ai_service - INFO - - System prompt length: 163
2025-10-09 16:32:32,335 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Using existing match_counts from file
2025-10-09 16:32:32,335 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:32:32,335 - app.services.ats.requirement_bonus_calculator - INFO - [ATS][BONUS] required_total=8 matched_required=4 missing_required=4 required_bonus=2.00 required_penalty=-1.50 preferred_total=4 matched_preferred=0 missing_preferred=4 preferred_bonus=0.00 preferred_penalty=-0.60 total_bonus=-0.10
2025-10-09 16:32:32,335 - app.ai.ai_service - INFO - - Max tokens: 1500
2025-10-09 16:32:32,336 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Requirement bonus calculated: -0.10 points
2025-10-09 16:32:32,336 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:32:32,336 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:32:32,337 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:32:32,337 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:32:32,337 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:32:32,337 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:32:32,784 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:32:32,796 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:32:32,796 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:32:32,796 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:32:32,796 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:32:43,716 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:32:43,856 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Raw response length: 6496
2025-10-09 16:32:43,857 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Raw response preview: {
 "skills_analysis": [
  {
   "skill": "Python",
   "cv_evidence": "Utilized for data cleaning, preprocessing, analysis, machine learning models, automation, dashboard creation, integration with Goog
2025-10-09 16:32:43,857 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Cleaned response: {
 "skills_analysis": [
  {
   "skill": "Python",
   "cv_evidence": "Utilized for data cleaning, preprocessing, analysis, machine learning models, automation, dashboard creation, integration with Goog
2025-10-09 16:32:43,857 - app.services.ats.components.skills_relevance_analyzer - WARNING - [SKILLS] Direct parse failed: Expecting ',' delimiter: line 121 column 4 (char 6203)
2025-10-09 16:32:43,858 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Found 0 JSON objects
2025-10-09 16:32:43,861 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Pattern match 0 successful
2025-10-09 16:32:43,861 - app.services.ats.components.skills_relevance_analyzer - ERROR - [SKILLS] Analysis failed: Missing overall_skills_score in response
2025-10-09 16:32:43,862 - app.services.ats.components.skills_relevance_analyzer - WARNING - [SKILLS] Returning fallback response due to analysis error
2025-10-09 16:32:43,862 - app.services.ats.components.experience_analyzer - INFO - [EXPERIENCE] Requesting experience alignment analysis...
2025-10-09 16:32:43,862 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:32:43,862 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:32:43,863 - app.ai.ai_service - INFO - - Prompt length: 10151
2025-10-09 16:32:43,863 - app.ai.ai_service - INFO - - System prompt length: 163
2025-10-09 16:32:43,863 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:32:43,863 - app.ai.ai_service - INFO - - Max tokens: 1500
2025-10-09 16:32:43,863 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:32:43,864 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:32:43,864 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:32:43,864 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:32:43,864 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:32:43,864 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:32:44,288 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:32:44,302 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:32:44,302 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:32:44,303 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:32:44,303 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:32:47,873 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:32:47,875 - app.services.ats.components.experience_analyzer - INFO - [EXPERIENCE] Analysis completed. Score: 75.0
2025-10-09 16:32:47,877 - app.services.ats.components.industry_analyzer - INFO - [INDUSTRY] Requesting industry fit analysis...
2025-10-09 16:32:47,877 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:32:47,877 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:32:47,877 - app.ai.ai_service - INFO - - Prompt length: 11607
2025-10-09 16:32:47,878 - app.ai.ai_service - INFO - - System prompt length: 163
2025-10-09 16:32:47,878 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:32:47,878 - app.ai.ai_service - INFO - - Max tokens: 1500
2025-10-09 16:32:47,879 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:32:47,879 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:32:47,880 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:32:47,880 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:32:47,880 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:32:47,880 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:32:48,486 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:32:48,498 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:32:48,498 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:32:48,498 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:32:48,498 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:32:51,046 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:32:51,049 - app.services.ats.components.industry_analyzer - INFO - [INDUSTRY] Analysis completed. Score: 60.0
2025-10-09 16:32:51,059 - app.services.ats.components.seniority_analyzer - INFO - [SENIORITY] Requesting role seniority analysis...
2025-10-09 16:32:51,059 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:32:51,060 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:32:51,060 - app.ai.ai_service - INFO - - Prompt length: 12679
2025-10-09 16:32:51,060 - app.ai.ai_service - INFO - - System prompt length: 163
2025-10-09 16:32:51,060 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:32:51,061 - app.ai.ai_service - INFO - - Max tokens: 1500
2025-10-09 16:32:51,061 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:32:51,061 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:32:51,061 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:32:51,061 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:32:51,061 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:32:51,062 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:32:51,661 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:32:51,671 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:32:51,671 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:32:51,671 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:32:51,672 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:32:56,199 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:32:56,206 - app.services.ats.components.seniority_analyzer - INFO - [SENIORITY] Analysis completed. Score: 64.0
2025-10-09 16:32:56,206 - app.services.ats.components.technical_analyzer - INFO - [TECHNICAL] Requesting technical depth analysis...
2025-10-09 16:32:56,206 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:32:56,206 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:32:56,206 - app.ai.ai_service - INFO - - Prompt length: 8124
2025-10-09 16:32:56,207 - app.ai.ai_service - INFO - - System prompt length: 163
2025-10-09 16:32:56,207 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:32:56,207 - app.ai.ai_service - INFO - - Max tokens: 1500
2025-10-09 16:32:56,207 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:32:56,207 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:32:56,207 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:32:56,207 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:32:56,207 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:32:56,207 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:32:56,679 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:32:56,693 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:32:56,694 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:32:56,694 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:32:56,694 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:32:58,726 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:32:58,731 - app.services.ats.components.technical_analyzer - INFO - [TECHNICAL] Analysis completed. Score: 90.0
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=tailored, ts=20251009_160851, mtime=1759987413.4442675, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
  - type=tailored, ts=20251009_161344, mtime=1759987413.4470196, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json
  - type=tailored, ts=20251009_162503, mtime=1759987503.984058, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.json
  - type=original, ts=00000000_000000, mtime=1759986398.6319315, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=tailored, ts=20251009_162503, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.json, txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.txt
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=tailored, ts=20251009_160851, mtime=1759987413.4442675, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
  - type=tailored, ts=20251009_161344, mtime=1759987413.4470196, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json
  - type=tailored, ts=20251009_162503, mtime=1759987503.984058, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.json
  - type=original, ts=00000000_000000, mtime=1759986398.6319315, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=tailored, ts=20251009_162503, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.json, txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.txt
📄 [UNIFIED] Reading CV content from: txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.txt, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.json
🧪 [UNIFIED] CV content length=3524, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • Python, Power BI, SQL, Excel, Analytical Models, Data Analysis, Data Extraction  EXPERIENCE Data Analyst         Jul 2024 – Present The Bitrates  • Designed and implemented 5 Python scripts for data cleaning, preprocessing, and analysis, improving data pipeline efficiency by 30%. • Developed 3 '
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=tailored, ts=20251009_160851, mtime=1759987413.4442675, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
  - type=tailored, ts=20251009_161344, mtime=1759987413.4470196, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json
  - type=tailored, ts=20251009_162503, mtime=1759987503.984058, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.json
  - type=original, ts=00000000_000000, mtime=1759986398.6319315, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=tailored, ts=20251009_162503, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.json, txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.txt
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=tailored, ts=20251009_160851, mtime=1759987413.4442675, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
  - type=tailored, ts=20251009_161344, mtime=1759987413.4470196, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json
  - type=tailored, ts=20251009_162503, mtime=1759987503.984058, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.json
  - type=original, ts=00000000_000000, mtime=1759986398.6319315, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=tailored, ts=20251009_162503, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.json, txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.txt
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=tailored, ts=20251009_160851, mtime=1759987413.4442675, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
  - type=tailored, ts=20251009_161344, mtime=1759987413.4470196, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json
  - type=tailored, ts=20251009_162503, mtime=1759987503.984058, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.json
  - type=original, ts=00000000_000000, mtime=1759986398.6319315, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=tailored, ts=20251009_162503, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.json, txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.txt
📄 [UNIFIED] Reading CV content from: txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.txt, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.json
🧪 [UNIFIED] CV content length=3524, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • Python, Power BI, SQL, Excel, Analytical Models, Data Analysis, Data Extraction  EXPERIENCE Data Analyst         Jul 2024 – Present The Bitrates  • Designed and implemented 5 Python scripts for data cleaning, preprocessing, and analysis, improving data pipeline efficiency by 30%. • Developed 3 '
INFO:     127.0.0.1:54158 - "POST /api/preliminary-analysis HTTP/1.1" 200 OK
2025-10-09 16:32:58,736 - app.services.ats.component_assembler - INFO - [ASSEMBLER] All component analyses completed successfully
2025-10-09 16:32:58,737 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Validating cross-analyzer consistency...
2025-10-09 16:32:58,737 - app.services.ats.components.consistency_validator - ERROR - [CONSISTENCY] Validation failed: unsupported operand type(s) for -: 'str' and 'int'
2025-10-09 16:32:58,737 - app.services.ats.component_assembler - WARNING - [ASSEMBLER] Inconsistencies detected in analysis results
2025-10-09 16:32:58,738 - app.services.ats.component_assembler - WARNING - [ASSEMBLER] Confidence score: 100%
2025-10-09 16:32:58,745 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Results saved to: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_163213.json
2025-10-09 16:32:58,745 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Starting ATS score calculation...
2025-10-09 16:32:58,748 - app.services.ats.ats_score_calculator - INFO - [ATS] Starting comprehensive ATS score calculation
2025-10-09 16:32:58,749 - app.services.ats.ats_score_calculator - INFO - [ATS] Match rates - Tech: 100.0%, Domain: 0.0%, Soft: 100.0%
2025-10-09 16:32:58,750 - app.services.ats.ats_score_calculator - INFO - [ATS] Missing counts - Tech: 0, Domain: 12, Soft: 0
2025-10-09 16:32:58,750 - app.services.ats.ats_score_calculator - INFO - [ATS] Category 1 - Tech: 20.0, Domain: 0.0, Soft: 15.0, Total: 35.0
2025-10-09 16:32:58,750 - app.services.ats.ats_score_calculator - INFO - [ATS] Category 2 - Core: 15.9, Exp: 5.6, Potential: 6.0, Company: 0.8, Total: 28.2
2025-10-09 16:32:58,750 - app.services.ats.ats_score_calculator - INFO - [ATS] Final ATS Score: 63.1/100 (⚠️ Moderate fit)
2025-10-09 16:32:58,755 - app.services.ats.component_assembler - INFO - [ASSEMBLER] ATS calculation completed. Score: 63.1/100 (⚠️ Moderate fit)
2025-10-09 16:32:58,756 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:32:58,759 - app.services.ats_recommendation_service - INFO - Final ATS Score: 63.1475
2025-10-09 16:32:58,759 - app.services.ats_recommendation_service - INFO - Category Status: ⚠️ Moderate fit
2025-10-09 16:32:58,760 - app.services.ats_recommendation_service - INFO - Successfully extracted comprehensive recommendation data for Australia_for_UNHCR
2025-10-09 16:32:58,763 - app.services.ats_recommendation_service - INFO - Successfully created recommendation file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_163258.json
2025-10-09 16:32:58,809 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:32:58,809 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:32:58,825 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 16:32:58,825 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 16:32:58,826 INFO sqlalchemy.engine.Engine [generated in 0.00161s] {'email_1': 'keosha@gmail.com'}
2025-10-09 16:32:58,826 - sqlalchemy.engine.Engine - INFO - [generated in 0.00161s] {'email_1': 'keosha@gmail.com'}
2025-10-09 16:32:58,886 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 16:32:58,886 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 16:32:58,887 INFO sqlalchemy.engine.Engine [generated in 0.00056s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 16:32:58,887 - sqlalchemy.engine.Engine - INFO - [generated in 0.00056s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 16:32:58,936 INFO sqlalchemy.engine.Engine INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 16:32:58,936 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 16:32:58,936 INFO sqlalchemy.engine.Engine [generated in 0.00180s] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_163258.json', 'file_path': 'user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_163258.json', 'file_size': 22114, 'sha256': '9ccd90cc652ebc316cfaac060aecd825988e7c480214bec4fd7657250712ebf4', 'timestamp': '20251009_163258'}
2025-10-09 16:32:58,936 - sqlalchemy.engine.Engine - INFO - [generated in 0.00180s] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_163258.json', 'file_path': 'user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_163258.json', 'file_size': 22114, 'sha256': '9ccd90cc652ebc316cfaac060aecd825988e7c480214bec4fd7657250712ebf4', 'timestamp': '20251009_163258'}
2025-10-09 16:32:58,968 INFO sqlalchemy.engine.Engine INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 16:32:58,968 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 16:32:58,969 INFO sqlalchemy.engine.Engine [generated in 0.00086s] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'kind': 'input_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 178}
2025-10-09 16:32:58,969 - sqlalchemy.engine.Engine - INFO - [generated in 0.00086s] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'kind': 'input_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 178}
2025-10-09 16:32:58,990 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 16:32:58,990 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 16:32:59,009 - app.services.ats_recommendation_service - INFO - Successfully created AI recommendation prompt: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_prompt_recommendation.py
2025-10-09 16:32:59,009 - app.services.ats_recommendation_service - INFO - 🤖 [TRIGGER] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-09 16:32:59,010 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:32:59,010 - app.services.ats_recommendation_service - INFO - 📋 [TRIGGER] AI generation scheduled as background task for Australia_for_UNHCR
2025-10-09 16:32:59,011 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Recommendation file created for Australia_for_UNHCR
2025-10-09 16:32:59,011 - app.services.ats.component_assembler - INFO - ===== [ASSEMBLER] Completed assembly. Scores: skills=50.0 exp=75.0 industry=60.0 seniority=64.0 tech=90.0 =====
2025-10-09 16:32:59,012 - app.services.ats.modular_ats_orchestrator - INFO - ===== [MODULAR ATS] Component analysis completed for: Australia_for_UNHCR =====
2025-10-09 16:32:59,012 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Component analysis completed for Australia_for_UNHCR
2025-10-09 16:32:59,013 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] Component scores extracted: 23 scores
2025-10-09 16:32:59,013 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] skills_relevance: 50.0
2025-10-09 16:32:59,013 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] experience_alignment: 75.0
2025-10-09 16:32:59,014 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] industry_fit: 60.0
2025-10-09 16:32:59,014 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] role_seniority: 64.0
2025-10-09 16:32:59,014 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] technical_depth: 90.0
2025-10-09 16:32:59,014 - app.routes.skills_analysis - INFO - 🎯 [PIPELINE] ATS Score calculated: 63.1475
2025-10-09 16:32:59,015 - app.routes.skills_analysis - INFO - 📋 [PIPELINE] Creating input recommendation file for Australia_for_UNHCR
2025-10-09 16:32:59,015 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:32:59,017 - app.services.ats_recommendation_service - INFO - Final ATS Score: 63.1475
2025-10-09 16:32:59,017 - app.services.ats_recommendation_service - INFO - Category Status: ⚠️ Moderate fit
2025-10-09 16:32:59,017 - app.services.ats_recommendation_service - INFO - Successfully extracted comprehensive recommendation data for Australia_for_UNHCR
2025-10-09 16:32:59,020 - app.services.ats_recommendation_service - INFO - Successfully created recommendation file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_163259.json
2025-10-09 16:32:59,041 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:32:59,041 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:32:59,042 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 16:32:59,042 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 16:32:59,043 INFO sqlalchemy.engine.Engine [cached since 0.2184s ago] {'email_1': 'keosha@gmail.com'}
2025-10-09 16:32:59,043 - sqlalchemy.engine.Engine - INFO - [cached since 0.2184s ago] {'email_1': 'keosha@gmail.com'}
2025-10-09 16:32:59,081 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 16:32:59,081 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 16:32:59,081 INFO sqlalchemy.engine.Engine [cached since 0.1951s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 16:32:59,081 - sqlalchemy.engine.Engine - INFO - [cached since 0.1951s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 16:32:59,106 INFO sqlalchemy.engine.Engine INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 16:32:59,106 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 16:32:59,106 INFO sqlalchemy.engine.Engine [cached since 0.1715s ago] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_163259.json', 'file_path': 'user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_163259.json', 'file_size': 22114, 'sha256': '9ccd90cc652ebc316cfaac060aecd825988e7c480214bec4fd7657250712ebf4', 'timestamp': '20251009_163259'}
2025-10-09 16:32:59,106 - sqlalchemy.engine.Engine - INFO - [cached since 0.1715s ago] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_163259.json', 'file_path': 'user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_163259.json', 'file_size': 22114, 'sha256': '9ccd90cc652ebc316cfaac060aecd825988e7c480214bec4fd7657250712ebf4', 'timestamp': '20251009_163259'}
2025-10-09 16:32:59,128 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:32:59,128 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:32:59,158 - app.services.ats_recommendation_service - WARNING - ⚠️ [DB] Failed to register input recommendation: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "uq_company_files_dedupe"
DETAIL:  Key (user_id, company_id, file_type, sha256)=(0d4bdc07-cadf-4300-8e4f-f07da7575a62, 15, input_recommendation, 9ccd90cc652ebc316cfaac060aecd825988e7c480214bec4fd7657250712ebf4) already exists.

[SQL: INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at]
[parameters: {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_163259.json', 'file_path': 'user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_163259.json', 'file_size': 22114, 'sha256': '9ccd90cc652ebc316cfaac060aecd825988e7c480214bec4fd7657250712ebf4', 'timestamp': '20251009_163259'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-10-09 16:32:59,160 - app.services.ats_recommendation_service - INFO - Successfully created AI recommendation prompt: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_prompt_recommendation.py
2025-10-09 16:32:59,160 - app.services.ats_recommendation_service - INFO - 🤖 [TRIGGER] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-09 16:32:59,161 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:32:59,162 - app.services.ats_recommendation_service - INFO - 📋 [TRIGGER] AI generation scheduled as background task for Australia_for_UNHCR
2025-10-09 16:32:59,162 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Input recommendation file created for Australia_for_UNHCR
2025-10-09 16:32:59,162 - app.routes.skills_analysis - INFO - 🤖 [PIPELINE] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-09 16:32:59,162 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:32:59,163 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-09 16:32:59,168 - app.services.ai_recommendation_generator - INFO - 🟡 [AI GENERATOR] Input recommendation is newer (ai_mtime=1759987467.1812193, input_mtime=1759987979.0204716); regenerating AI recommendation
2025-10-09 16:32:59,169 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:32:59,169 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:32:59,170 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:32:59,172 - app.services.ai_recommendation_generator - ERROR - ❌ [AI GENERATOR] Error checking CV freshness: 'str' object has no attribute 'timestamp'
2025-10-09 16:32:59,175 - app.services.ai_recommendation_generator - INFO - 📋 [AI GENERATOR] Generated AI prompt for Australia_for_UNHCR using centralized template (12791 characters)
2025-10-09 16:32:59,175 - app.services.ai_recommendation_generator - INFO - 🧠 [AI GENERATOR] Executing AI prompt for Australia_for_UNHCR
2025-10-09 16:32:59,175 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:32:59,175 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:32:59,176 - app.ai.ai_service - INFO - - Prompt length: 12791
2025-10-09 16:32:59,176 - app.ai.ai_service - INFO - - System prompt length: 130
2025-10-09 16:32:59,177 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:32:59,177 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:32:59,177 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:32:59,177 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:32:59,178 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:32:59,178 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:32:59,179 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:32:59,179 - app.ai.ai_service - INFO - - Available providers: ['openai']
WARNING:  WatchFiles detected changes in 'user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_prompt_recommendation.py'. Reloading...
2025-10-09 16:32:59,548 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:32:59,572 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:32:59,572 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:32:59,573 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:32:59,573 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:33:04,567 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:33:04,569 - app.services.ai_recommendation_generator - INFO - 🧠 [AI GENERATOR] AI response generated - Provider: openai, Model: gpt-3.5-turbo
2025-10-09 16:33:04,569 - app.services.ai_recommendation_generator - INFO - 💰 [AI GENERATOR] Cost: $0.0046, Tokens: 3520
2025-10-09 16:33:04,570 - app.services.ai_recommendation_generator - INFO - 💾 [AI GENERATOR] Saved AI recommendation: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_163304.json (3.4KB)
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=tailored, ts=20251009_160851, mtime=1759987413.4442675, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
  - type=tailored, ts=20251009_161344, mtime=1759987413.4470196, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json
  - type=tailored, ts=20251009_162503, mtime=1759987503.984058, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.json
  - type=original, ts=00000000_000000, mtime=1759986398.6319315, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=tailored, ts=20251009_162503, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.json, txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.txt
2025-10-09 16:33:04,590 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:33:04,590 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:33:04,591 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 16:33:04,591 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 16:33:04,592 INFO sqlalchemy.engine.Engine [cached since 5.768s ago] {'email_1': 'keosha@gmail.com'}
2025-10-09 16:33:04,592 - sqlalchemy.engine.Engine - INFO - [cached since 5.768s ago] {'email_1': 'keosha@gmail.com'}
2025-10-09 16:33:04,634 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 16:33:04,634 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 16:33:04,635 INFO sqlalchemy.engine.Engine [cached since 5.749s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 16:33:04,635 - sqlalchemy.engine.Engine - INFO - [cached since 5.749s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 16:33:04,660 INFO sqlalchemy.engine.Engine INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 16:33:04,660 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 16:33:04,661 INFO sqlalchemy.engine.Engine [cached since 5.726s ago] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'file_type': 'ai_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_ai_recommendation_20251009_163304.json', 'file_path': 'user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_163304.json', 'file_size': 3436, 'sha256': '88643fdea6583a0d2c5f9c5c08bf1d3de7f59ca51f059ec653768b7b7987cedc', 'timestamp': '20251009_163304'}
2025-10-09 16:33:04,661 - sqlalchemy.engine.Engine - INFO - [cached since 5.726s ago] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'file_type': 'ai_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_ai_recommendation_20251009_163304.json', 'file_path': 'user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_163304.json', 'file_size': 3436, 'sha256': '88643fdea6583a0d2c5f9c5c08bf1d3de7f59ca51f059ec653768b7b7987cedc', 'timestamp': '20251009_163304'}
2025-10-09 16:33:04,683 INFO sqlalchemy.engine.Engine INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 16:33:04,683 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 16:33:04,684 INFO sqlalchemy.engine.Engine [cached since 5.716s ago] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'kind': 'ai_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 180}
2025-10-09 16:33:04,684 - sqlalchemy.engine.Engine - INFO - [cached since 5.716s ago] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'kind': 'ai_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 180}
2025-10-09 16:33:04,708 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 16:33:04,708 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 16:33:04,732 - app.services.ai_recommendation_generator - INFO - ✅ [AI GENERATOR] AI recommendation generated and saved for Australia_for_UNHCR
2025-10-09 16:33:04,732 - app.services.ai_recommendation_generator - INFO - 📄 File: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_162427.json
2025-10-09 16:33:04,732 - app.services.ai_recommendation_generator - INFO - 💰 Cost: $0.0046
2025-10-09 16:33:04,733 - app.services.ai_recommendation_generator - INFO - 🔤 Tokens: 3520
2025-10-09 16:33:04,733 - app.services.ai_recommendation_generator - INFO - 🚀 [AI GENERATOR] Starting automatic CV tailoring for Australia_for_UNHCR
2025-10-09 16:33:04,733 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:33:04,735 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded CV optimization framework from /Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/tailored_cv/prompts/framework.md
2025-10-09 16:33:04,735 - app.tailored_cv.services.cv_tailoring_service - INFO - Loading real data for Australia_for_UNHCR
2025-10-09 16:33:04,736 - app.tailored_cv.services.cv_tailoring_service - INFO - Company folder: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 16:33:04,736 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:33:04,736 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:33:04,737 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:33:04,737 - app.tailored_cv.services.cv_tailoring_service - INFO - 📄 [TAILORING] Using latest CV via unified selector → type=tailored, ts=20251009_162503, path=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.json
2025-10-09 16:33:04,738 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [DEBUG] Loading CV from user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.json
2025-10-09 16:33:04,738 - app.tailored_cv.services.cv_tailoring_service - INFO - - First 200 chars: {   "contact": {     "name": "Maheshwor Tiwari",     "phone": "0414 032 507",     "email": "maheshtwari99@gmail.com",     "linkedin": "",     "location": "Hurstville, NSW, 2220",     "website": ""   }
2025-10-09 16:33:04,739 - app.tailored_cv.services.recommendation_parser - INFO - 📂 Loading CV from: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.json
2025-10-09 16:33:04,739 - app.tailored_cv.services.recommendation_parser - INFO - 📋 CV format check:
2025-10-09 16:33:04,739 - app.tailored_cv.services.recommendation_parser - INFO -   - Top-level keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:33:04,740 - app.tailored_cv.services.recommendation_parser - INFO -   - Has metadata: False
2025-10-09 16:33:04,740 - app.tailored_cv.services.recommendation_parser - INFO - 🔍 [CV_PARSER] Detailed CV structure analysis:
2025-10-09 16:33:04,740 - app.tailored_cv.services.recommendation_parser - INFO -   - Has contact: True
2025-10-09 16:33:04,740 - app.tailored_cv.services.recommendation_parser - INFO -   - Contact keys: ['name', 'phone', 'email', 'linkedin', 'location', 'website']
2025-10-09 16:33:04,740 - app.tailored_cv.services.recommendation_parser - INFO -   - Contact name: Maheshwor Tiwari
2025-10-09 16:33:04,740 - app.tailored_cv.services.recommendation_parser - INFO -   - Contact email: maheshtwari99@gmail.com
2025-10-09 16:33:04,740 - app.tailored_cv.services.recommendation_parser - INFO -   - Has experience: True
2025-10-09 16:33:04,740 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience type: <class 'list'>
2025-10-09 16:33:04,741 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience count: 6
2025-10-09 16:33:04,741 - app.tailored_cv.services.recommendation_parser - INFO -   - First experience keys: ['company', 'title', 'location', 'start_date', 'end_date', 'duration', 'bullets', 'skills_used']
2025-10-09 16:33:04,741 - app.tailored_cv.services.recommendation_parser - INFO -   - Has skills: True
2025-10-09 16:33:04,741 - app.tailored_cv.services.recommendation_parser - INFO -   - Skills type: <class 'list'>
2025-10-09 16:33:04,741 - app.tailored_cv.services.recommendation_parser - INFO -   - Skills count: 3
2025-10-09 16:33:04,742 - app.tailored_cv.services.recommendation_parser - INFO -   - First skill type: <class 'dict'>
2025-10-09 16:33:04,742 - app.tailored_cv.services.recommendation_parser - INFO -   - First skill keys: ['category', 'skills']
2025-10-09 16:33:04,742 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Detected tailored structured CV format (contact/experience/skills)
2025-10-09 16:33:04,743 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Successfully normalized tailored structured CV
2025-10-09 16:33:04,743 - app.tailored_cv.services.cv_tailoring_service - INFO - - Parsed CV data keys: ['contact', 'education', 'experience', 'skills']
2025-10-09 16:33:04,743 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Skills already in SkillCategory format
2025-10-09 16:33:04,745 - app.tailored_cv.services.cv_tailoring_service - INFO - - Final CV object attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__repr__', '__repr_args__', '__repr_name__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_check_frozen', '_copy_and_set_values', '_get_value', '_iter', 'construct', 'contact', 'copy', 'created_at', 'dict', 'education', 'experience', 'experience_level', 'from_orm', 'json', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'projects', 'schema', 'schema_json', 'skills', 'total_years_experience', 'update_forward_refs', 'updated_at', 'validate']
2025-10-09 16:33:04,752 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Parsed recommendation for Australia_for_UNHCR
2025-10-09 16:33:04,752 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded real CV and recommendation for Australia_for_UNHCR
2025-10-09 16:33:04,753 - app.tailored_cv.services.cv_tailoring_service - INFO - 🎯 Starting CV tailoring for Australia_for_UNHCR - Senior Data Analyst
2025-10-09 16:33:04,753 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [DEBUG] Validating CV structure:
2025-10-09 16:33:04,753 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV object type: <class 'app.tailored_cv.models.cv_models.OriginalCV'>
2025-10-09 16:33:04,753 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__repr__', '__repr_args__', '__repr_name__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_check_frozen', '_copy_and_set_values', '_get_value', '_iter', 'construct', 'contact', 'copy', 'created_at', 'dict', 'education', 'experience', 'experience_level', 'from_orm', 'json', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'projects', 'schema', 'schema_json', 'skills', 'total_years_experience', 'update_forward_refs', 'updated_at', 'validate']
2025-10-09 16:33:04,754 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV data: {
  "contact": {
    "name": "Maheshwor Tiwari",
    "phone": "0414 032 507",
    "email": "maheshtwari99@gmail.com",
    "linkedin": "",
    "location": "Hurstville, NSW, 2220",
    "website": ""
  },
  "education": [
    {
      "institution": "CY Cergy Paris University, Cergy, France",
      "degree": "PhD in Physics",
      "location": "Cergy, France",
      "graduation_date": "Oct 2018 - Sep 2022",
      "gpa": "",
      "relevant_coursework": [],
      "honors": []
    },
    {
      "institution": "CY Cergy Paris University, Cergy, France",
      "degree": "Master of Theoretical Physics",
      "location": "Cergy, France",
      "graduation_date": "Sep 2016 - Jun 2018",
      "gpa": "",
      "relevant_coursework": [],
      "honors": []
    },
    {
      "institution": "Charles Darwin University, Sydney, Australia",
      "degree": "Master of Data Science",
      "location": "Sydney, Australia",
      "graduation_date": "Mar 2023 - Nov 2024",
      "gpa": "GPA",
      "relevant_coursework": [],
      "honors": []
    }
  ],
  "experience": [
    {
      "company": "The Bitrates",
      "title": "Data Analyst",
      "location": "",
      "start_date": "Jul 2024",
      "end_date": "Present",
      "duration": null,
      "bullets": [
        "Designed and implemented 5 Python scripts for data cleaning, preprocessing, and analysis, improving data pipeline efficiency by 30%.",
        "Developed 3 machine learning models in Python for predictive analytics, enabling data-driven business decisions.",
        "Leveraged AI techniques to automate repetitive tasks, reducing manual effort and improving productivity.",
        "Built 4 dynamic dashboards and visualizations using Python libraries like Matplotlib and Seaborn to communicate insights effectively.",
        "Integrated Google Analytics data with Python for advanced analysis, enhancing customer behavior insights."
      ],
      "skills_used": null
    },
    {
      "company": "iBuild Building Solutions",
      "title": "Data Analyst",
      "location": "",
      "start_date": "Mar 2024",
      "end_date": "Jun 2024",
      "duration": null,
      "bullets": [
        "Automated data extraction and structuring of population datasets using Python, improving data accuracy and team collaboration.",
        "Analyzed customer support data with Python to optimize response times and enhance operational efficiency.",
        "Developed 2 Python-based solutions to generate actionable insights, meeting strict deadlines for strategic decision-making.",
        "Designed 3 Python scripts to create dynamic reports and dashboards, significantly improving customer satisfaction and decision-making processes."
      ],
      "skills_used": null
    },
    {
      "company": "Property Console",
      "title": "Software engineer and Analyst",
      "location": "",
      "start_date": "Jun 2023",
      "end_date": "Nov 2023",
      "duration": null,
      "bullets": [
        "Built 6 Python scripts to track key metrics, ensuring 99% data accuracy and improving data integrity and operational efficiency.",
        "Collaborated with the development team to enhance analytics capabilities, using Python to improve data processing speed by 25%.",
        "Leveraged Python for data preprocessing and analysis, producing Tableau dashboards that improved decision-making.",
        "Supported 2 cross-functional teams with Python-driven insights, enabling customer-focused initiatives."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Research Assistant",
      "location": "",
      "start_date": "Oct 2018",
      "end_date": "Sep 2022",
      "duration": null,
      "bullets": [
        "Utilized advanced Python programming for computational modeling and solving complex research problems.",
        "Developed Python-based workflows to manage and analyze large datasets across multiple research projects.",
        "Presented Python-enabled research findings at international conferences, demonstrating technical expertise and communication skills."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Lecturer and Course Facilitator",
      "location": "",
      "start_date": "Sep 2019",
      "end_date": "Jun 2022",
      "duration": null,
      "bullets": [
        "Led engaging physics tutorials for master\u2019s students, enhancing understanding and promoting teamwork.",
        "Designed course materials, assignments, and exams, strengthening the learning experience.",
        "Mentored students on projects, collaborated with faculty, and fostered student engagement."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Research Intern",
      "location": "",
      "start_date": "Feb 2018",
      "end_date": "Jun 2018",
      "duration": null,
      "bullets": [
        "Developed proficiency in Python programming by researching the effect of magnetic fields on 2D materials.",
        "Managed and analyzed complex data sets, improving their accuracy and reliability.",
        "Used dashboard using Power BI to present research findings and participated in weekly reviews, improving collaboration and research skills."
      ],
      "skills_used": null
    }
  ],
  "projects": null,
  "skills": [
    {
      "category": "Technical Skills",
      "skills": [
        "Python",
        "Power BI",
        "SQL",
        "Excel"
      ]
    },
    {
      "category": "Soft Skills",
      "skills": [
        "Analytical Models"
      ]
    },
    {
      "category": "Other Skills",
      "skills": [
        "Data Analysis",
        "Data Extraction"
      ]
    }
  ],
  "experience_level": null,
  "total_years_experience": null,
  "created_at": null,
  "updated_at": null
}
2025-10-09 16:33:04,754 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [CV_VALIDATION] Starting detailed validation:
2025-10-09 16:33:04,755 - app.tailored_cv.services.cv_tailoring_service - INFO - - Has contact: True
2025-10-09 16:33:04,755 - app.tailored_cv.services.cv_tailoring_service - INFO - - Contact name: Maheshwor Tiwari
2025-10-09 16:33:04,755 - app.tailored_cv.services.cv_tailoring_service - INFO - - Contact email: maheshtwari99@gmail.com
2025-10-09 16:33:04,755 - app.tailored_cv.services.cv_tailoring_service - INFO - - Has experience: True
2025-10-09 16:33:04,755 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience count: 6
2025-10-09 16:33:04,755 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 1: company=The Bitrates, bullets=5
2025-10-09 16:33:04,755 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 2: company=iBuild Building Solutions, bullets=4
2025-10-09 16:33:04,755 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 3: company=Property Console, bullets=4
2025-10-09 16:33:04,756 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 4: company=CY Cergy Paris University, bullets=3
2025-10-09 16:33:04,756 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 5: company=CY Cergy Paris University, bullets=3
2025-10-09 16:33:04,756 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 6: company=CY Cergy Paris University, bullets=3
2025-10-09 16:33:04,756 - app.tailored_cv.services.cv_tailoring_service - INFO - - Has skills: True
2025-10-09 16:33:04,756 - app.tailored_cv.services.cv_tailoring_service - INFO - - Skills count: 3
2025-10-09 16:33:04,756 - app.tailored_cv.services.cv_tailoring_service - INFO - - Skill category 1: Technical Skills, skills=4
2025-10-09 16:33:04,756 - app.tailored_cv.services.cv_tailoring_service - INFO - - Skill category 2: Soft Skills, skills=1
2025-10-09 16:33:04,757 - app.tailored_cv.services.cv_tailoring_service - INFO - - Skill category 3: Other Skills, skills=2
2025-10-09 16:33:04,757 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [CV_VALIDATION] Checking required fields:
2025-10-09 16:33:04,757 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Contact name present: Maheshwor Tiwari
2025-10-09 16:33:04,757 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Contact email present: maheshtwari99@gmail.com
2025-10-09 16:33:04,758 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Experience entries present: 6
2025-10-09 16:33:04,758 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Skills section present: 3 categories
2025-10-09 16:33:04,760 - app.tailored_cv.services.cv_tailoring_service - INFO - [66880794] 🎯 Starting CV tailoring for Australia_for_UNHCR with strategy: education_last
2025-10-09 16:33:04,760 - app.tailored_cv.services.cv_tailoring_service - INFO - [66880794] Initial stats:
2025-10-09 16:33:04,761 - app.tailored_cv.services.cv_tailoring_service - INFO - [66880794] - Experience entries: 6
2025-10-09 16:33:04,761 - app.tailored_cv.services.cv_tailoring_service - INFO - [66880794] - Total bullets: 22
2025-10-09 16:33:04,761 - app.tailored_cv.services.cv_tailoring_service - INFO - [66880794] - Skills categories: 3
2025-10-09 16:33:04,762 - app.tailored_cv.services.cv_tailoring_service - INFO - [66880794] - Total skills: 7
2025-10-09 16:33:04,762 - app.tailored_cv.services.cv_tailoring_service - INFO - [66880794] Critical gaps to address: Business Intelligence, VBA, Detail-oriented, Analytical
2025-10-09 16:33:04,762 - app.tailored_cv.services.cv_tailoring_service - INFO - [66880794] Technical enhancements needed: 
2025-10-09 16:33:04,763 - app.tailored_cv.services.cv_tailoring_service - INFO - [66880794] 🤖 Generating tailored CV using AI service...
2025-10-09 16:33:04,763 - app.tailored_cv.services.cv_tailoring_service - INFO - [66880794] Attempt 1/5 with temp=0.0
2025-10-09 16:33:04,763 - app.tailored_cv.services.cv_tailoring_service - INFO - [66880794] - System prompt length: 10574
2025-10-09 16:33:04,763 - app.tailored_cv.services.cv_tailoring_service - INFO - [66880794] - User prompt length: 12222
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=tailored, ts=20251009_160851, mtime=1759987413.4442675, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
  - type=tailored, ts=20251009_161344, mtime=1759987413.4470196, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json
  - type=tailored, ts=20251009_162503, mtime=1759987503.984058, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.json
  - type=original, ts=00000000_000000, mtime=1759986398.6319315, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=tailored, ts=20251009_162503, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.json, txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.txt
2025-10-09 16:33:04,783 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:33:04,783 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:33:04,785 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 16:33:04,785 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 16:33:04,785 INFO sqlalchemy.engine.Engine [generated in 0.00047s] {'email_1': 'keosha@gmail.com', 'param_1': 1}
2025-10-09 16:33:04,785 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] {'email_1': 'keosha@gmail.com', 'param_1': 1}
2025-10-09 16:33:04,829 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:33:04,829 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:33:04,853 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user keosha@gmail.com
2025-10-09 16:33:04,853 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Before initialization:
2025-10-09 16:33:04,853 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 16:33:04,853 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:33:04,853 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:33:04,854 - app.ai.ai_service - INFO - - Cached providers for user: ['openai']
2025-10-09 16:33:04,854 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Using cached providers for user keosha@gmail.com
2025-10-09 16:33:04,854 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] After initialization:
2025-10-09 16:33:04,854 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 16:33:04,854 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:33:04,854 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:33:04,854 - app.tailored_cv.services.cv_tailoring_service - INFO - [66880794] 🔄 Initialized AI service for user keosha@gmail.com
2025-10-09 16:33:04,854 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:33:04,855 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:33:04,855 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:33:04,855 - app.ai.ai_service - INFO - - Prompt length: 12222
2025-10-09 16:33:04,855 - app.ai.ai_service - INFO - - System prompt length: 10574
2025-10-09 16:33:04,855 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:33:04,855 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:33:04,855 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:33:04,855 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:33:04,856 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:33:04,856 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:33:04,856 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:33:04,856 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:33:05,303 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:33:05,328 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:33:05,328 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:33:05,329 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:33:05,329 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:33:16,338 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:33:16,341 - app.tailored_cv.services.cv_tailoring_service - INFO - [66880794] AI response stats:
2025-10-09 16:33:16,341 - app.tailored_cv.services.cv_tailoring_service - INFO - [66880794] - Content length: 5785
2025-10-09 16:33:16,341 - app.tailored_cv.services.cv_tailoring_service - INFO - [66880794] - First 300 chars: {   "contact": {     "name": "Maheshwor Tiwari",     "phone": "0414 032 507",     "email": "maheshtwari99@gmail.com",     "location": "Hurstville, NSW, 2220",     "linkedin": ""   },   "education": [     {       "institution": "CY Cergy Paris University, Cergy, France",       "degree": "PhD in Physi...
2025-10-09 16:33:16,342 - app.tailored_cv.services.cv_tailoring_service - INFO - Starting JSON extraction from content length: 5785
2025-10-09 16:33:16,342 - app.tailored_cv.services.cv_tailoring_service - INFO - [66880794] 🔍 Starting JSON validation
2025-10-09 16:33:16,343 - app.tailored_cv.services.cv_tailoring_service - INFO - [66880794] CV created with improvement suggestions: 68.2% quantification
2025-10-09 16:33:16,343 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ JSON structure and Impact Formula validation passed (15/22 bullets with quantification)
2025-10-09 16:33:16,344 - app.tailored_cv.services.cv_tailoring_service - INFO - ℹ️ Skipping placeholder checks; proceeding with generated data as-is.
2025-10-09 16:33:16,344 - app.tailored_cv.services.cv_tailoring_service - INFO - [66880794] 🔍 Starting keyword integration validation
2025-10-09 16:33:16,344 - app.tailored_cv.services.cv_tailoring_service - INFO - [66880794] Scanning experience bullets:
2025-10-09 16:33:16,345 - app.tailored_cv.services.cv_tailoring_service - INFO - [66880794] - Experience 1: 5 bullets
2025-10-09 16:33:16,345 - app.tailored_cv.services.cv_tailoring_service - INFO - [66880794] - Experience 2: 4 bullets
2025-10-09 16:33:16,345 - app.tailored_cv.services.cv_tailoring_service - INFO - [66880794] - Experience 3: 4 bullets
2025-10-09 16:33:16,345 - app.tailored_cv.services.cv_tailoring_service - INFO - [66880794] - Experience 4: 3 bullets
2025-10-09 16:33:16,345 - app.tailored_cv.services.cv_tailoring_service - INFO - [66880794] - Experience 5: 3 bullets
2025-10-09 16:33:16,345 - app.tailored_cv.services.cv_tailoring_service - INFO - [66880794] - Experience 6: 3 bullets
2025-10-09 16:33:16,346 - app.tailored_cv.services.cv_tailoring_service - INFO - [66880794] Scanning skills:
2025-10-09 16:33:16,346 - app.tailored_cv.services.cv_tailoring_service - INFO - [66880794] - Category 1: 5 skills
2025-10-09 16:33:16,346 - app.tailored_cv.services.cv_tailoring_service - INFO - [66880794] - Category 2: 3 skills
2025-10-09 16:33:16,346 - app.tailored_cv.services.cv_tailoring_service - INFO - [66880794] - Category 3: 3 skills
2025-10-09 16:33:16,346 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Keyword integration validation passed - 4/4 critical keywords found
2025-10-09 16:33:16,346 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Keyword integration validation passed - 4 critical keywords found
2025-10-09 16:33:16,347 - app.tailored_cv.services.cv_tailoring_service - INFO - [66880794] ✅ AI generation successful on attempt 1
2025-10-09 16:33:16,366 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:33:16,366 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:33:16,367 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 16:33:16,367 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 16:33:16,367 INFO sqlalchemy.engine.Engine [cached since 11.58s ago] {'email_1': 'keosha@gmail.com', 'param_1': 1}
2025-10-09 16:33:16,367 - sqlalchemy.engine.Engine - INFO - [cached since 11.58s ago] {'email_1': 'keosha@gmail.com', 'param_1': 1}
2025-10-09 16:33:16,405 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:33:16,405 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:33:16,429 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:33:16,429 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:33:16,429 - app.ai.ai_service - INFO - - Prompt length: 3047
2025-10-09 16:33:16,430 - app.ai.ai_service - INFO - - System prompt length: 424
2025-10-09 16:33:16,430 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:33:16,430 - app.ai.ai_service - INFO - - Max tokens: 10
2025-10-09 16:33:16,430 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:33:16,430 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:33:16,431 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:33:16,431 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:33:16,431 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:33:16,431 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:33:17,056 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:33:17,070 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:33:17,070 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:33:17,070 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:33:17,070 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:33:17,875 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:33:17,877 - app.tailored_cv.services.cv_tailoring_service - INFO - ⚠️ CV created with quality warnings: GOOD (B+)
2025-10-09 16:33:17,878 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ CV tailoring completed successfully. Estimated ATS score: 85
2025-10-09 16:33:17,881 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Saved tailored CV to user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.json
2025-10-09 16:33:17,882 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Saved tailored CV text to user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.txt
2025-10-09 16:33:17,882 - app.services.ai_recommendation_generator - INFO - ✅ [AI GENERATOR] Tailored CV saved automatically to user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.json
2025-10-09 16:33:17,882 - app.services.ai_recommendation_generator - INFO - 📊 [AI GENERATOR] Estimated ATS score: 85
2025-10-09 16:33:17,882 - app.services.ai_recommendation_generator - INFO - 🎯 [AI GENERATOR] CV tailoring completed automatically for Australia_for_UNHCR
2025-10-09 16:33:17,883 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] AI recommendation generated for Australia_for_UNHCR
2025-10-09 16:33:17,883 - app.routes.skills_analysis - INFO - 🎯 [PIPELINE] Starting tailored CV generation for Australia_for_UNHCR
2025-10-09 16:33:17,883 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:33:17,884 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded CV optimization framework from /Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/tailored_cv/prompts/framework.md
2025-10-09 16:33:17,885 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:33:17,885 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Found AI recommendation file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_163304.json
2025-10-09 16:33:17,886 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Tailored CV found: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.txt
2025-10-09 16:33:17,886 - app.routes.skills_analysis - INFO - 📋 [PIPELINE] Pipeline summary for Australia_for_UNHCR:
2025-10-09 16:33:17,886 - app.routes.skills_analysis - INFO -    ✅ Successful: ['jd_analysis', 'cv_jd_matching', 'component_analysis', 'input_recommendation', 'ai_recommendation', 'tailored_cv']
2025-10-09 16:33:17,886 - app.routes.skills_analysis - INFO -    🎉 All steps completed successfully!
2025-10-09 16:33:17,887 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-09 16:33:17,888 - app.services.ai_recommendation_generator - INFO - 🟢 [AI GENERATOR] Latest AI recommendation (Australia_for_UNHCR_ai_recommendation_20251009_163304.json) is up-to-date vs input (Australia_for_UNHCR_input_recommendation_20251009_163259.json); skipping regeneration
2025-10-09 16:33:17,888 - app.services.ats_recommendation_service - INFO - ✅ [TRIGGER] AI recommendation generated successfully for Australia_for_UNHCR
2025-10-09 16:33:17,888 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-09 16:33:17,891 - app.services.ai_recommendation_generator - INFO - 🟢 [AI GENERATOR] Latest AI recommendation (Australia_for_UNHCR_ai_recommendation_20251009_163304.json) is up-to-date vs input (Australia_for_UNHCR_input_recommendation_20251009_163259.json); skipping regeneration
2025-10-09 16:33:17,897 - app.services.ats_recommendation_service - INFO - ✅ [TRIGGER] AI recommendation generated successfully for Australia_for_UNHCR
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 16:33:18,003 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [19927]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [22779]
INFO:     Waiting for application startup.
2025-10-09 16:33:23,279 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 16:33:23,603 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 16:33:23,603 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 16:33:23,603 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:33:23,603 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:33:23,648 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 16:33:23,648 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 16:33:23,649 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:33:23,649 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:33:23,694 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 16:33:23,694 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 16:33:23,695 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:33:23,695 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:33:23,741 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:33:23,741 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:33:23,742 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 16:33:23,742 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 16:33:23,742 INFO sqlalchemy.engine.Engine [generated in 0.00075s] {}
2025-10-09 16:33:23,742 - sqlalchemy.engine.Engine - INFO - [generated in 0.00075s] {}
2025-10-09 16:33:23,780 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:33:23,780 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:33:23,801 - app.database - INFO - Database connection successful
2025-10-09 16:33:23,801 - app.main - INFO - ✅ Database connection successful
2025-10-09 16:33:23,822 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:33:23,822 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:33:23,827 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:33:23,827 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:33:23,828 INFO sqlalchemy.engine.Engine [generated in 0.00043s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:33:23,828 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:33:23,870 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:33:23,870 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:33:23,871 INFO sqlalchemy.engine.Engine [cached since 0.04336s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:33:23,871 - sqlalchemy.engine.Engine - INFO - [cached since 0.04336s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:33:23,893 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:33:23,893 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:33:23,893 INFO sqlalchemy.engine.Engine [cached since 0.066s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:33:23,893 - sqlalchemy.engine.Engine - INFO - [cached since 0.066s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:33:23,917 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:33:23,917 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:33:23,917 INFO sqlalchemy.engine.Engine [cached since 0.08957s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:33:23,917 - sqlalchemy.engine.Engine - INFO - [cached since 0.08957s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:33:23,939 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:33:23,939 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:33:23,939 INFO sqlalchemy.engine.Engine [cached since 0.1117s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:33:23,939 - sqlalchemy.engine.Engine - INFO - [cached since 0.1117s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:33:23,962 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:33:23,962 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:33:23,962 INFO sqlalchemy.engine.Engine [cached since 0.1345s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:33:23,962 - sqlalchemy.engine.Engine - INFO - [cached since 0.1345s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:33:23,985 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:33:23,985 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:33:23,986 INFO sqlalchemy.engine.Engine [cached since 0.1583s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:33:23,986 - sqlalchemy.engine.Engine - INFO - [cached since 0.1583s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:33:24,007 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:33:24,007 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:33:24,008 INFO sqlalchemy.engine.Engine [cached since 0.1803s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:33:24,008 - sqlalchemy.engine.Engine - INFO - [cached since 0.1803s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:33:24,029 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:33:24,029 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:33:24,030 INFO sqlalchemy.engine.Engine [cached since 0.2022s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:33:24,030 - sqlalchemy.engine.Engine - INFO - [cached since 0.2022s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:33:24,052 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:33:24,052 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:33:24,053 INFO sqlalchemy.engine.Engine [cached since 0.2254s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:33:24,053 - sqlalchemy.engine.Engine - INFO - [cached since 0.2254s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:33:24,075 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:33:24,075 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:33:24,076 INFO sqlalchemy.engine.Engine [cached since 0.2482s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:33:24,076 - sqlalchemy.engine.Engine - INFO - [cached since 0.2482s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:33:24,099 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 16:33:24,099 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 16:33:24,115 - app.database - INFO - Database tables created successfully
2025-10-09 16:33:24,115 - app.main - INFO - ✅ Database tables ready
2025-10-09 16:33:24,115 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 16:33:24,116 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
2025-10-09 16:33:24,130 - app.routes.skills_analysis - INFO - 📊 [API] Fetching analysis results for company: Australia_for_UNHCR
2025-10-09 16:33:24,131 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:33:24,131 - app.utils.path_debug - INFO - 
📌 Starting get_analysis_results
2025-10-09 16:33:24,132 - app.utils.path_debug - INFO -   📂 User base dir: user/keosha@gmail.com/cv-analysis
2025-10-09 16:33:24,132 - app.utils.path_debug - INFO -   📂 Company dir: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 16:33:24,134 - app.utils.path_debug - INFO -   📂 Using analysis file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_163213.json
2025-10-09 16:33:24,135 - app.utils.path_debug - INFO -   ✅ Loaded analysis file, size: 25994 bytes
INFO:     127.0.0.1:54218 - "GET /api/analysis-results/Australia_for_UNHCR HTTP/1.1" 200 OK
2025-10-09 16:33:37,946 - app.routes.skills_analysis - INFO - 📊 [API] Fetching analysis results for company: Australia_for_UNHCR
2025-10-09 16:33:37,948 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:33:37,949 - app.utils.path_debug - INFO - 
📌 Starting get_analysis_results
2025-10-09 16:33:37,949 - app.utils.path_debug - INFO -   📂 User base dir: user/keosha@gmail.com/cv-analysis
2025-10-09 16:33:37,950 - app.utils.path_debug - INFO -   📂 Company dir: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 16:33:37,950 - app.utils.path_debug - INFO -   📂 Using analysis file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_163213.json
2025-10-09 16:33:37,951 - app.utils.path_debug - INFO -   ✅ Loaded analysis file, size: 25994 bytes
INFO:     127.0.0.1:54234 - "GET /api/analysis-results/Australia_for_UNHCR HTTP/1.1" 200 OK
2025-10-09 16:34:00,514 - app.routes.ai_recommendations - INFO - 🔍 [AI_RECOMMENDATIONS] Fetching for company: Australia_for_UNHCR, user: keosha@gmail.com
2025-10-09 16:34:00,515 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:34:00,515 - app.routes.ai_recommendations - INFO - 🔍 [AI_RECOMMENDATIONS] Searching in: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 16:34:00,516 - app.routes.ai_recommendations - INFO - ✅ [AI_RECOMMENDATIONS] Found file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_163304.json
2025-10-09 16:34:00,516 - app.routes.ai_recommendations - INFO - ✅ [AI_RECOMMENDATIONS] Successfully loaded recommendation, content length: 3036
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
INFO:     127.0.0.1:54283 - "GET /api/ai-recommendations/company/Australia_for_UNHCR HTTP/1.1" 200 OK
INFO:     127.0.0.1:54356 - "OPTIONS /api/tailored-cv/available-companies-real HTTP/1.1" 200 OK
2025-10-09 16:35:53,235 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
INFO:     127.0.0.1:54356 - "GET /api/tailored-cv/available-companies-real HTTP/1.1" 200 OK
INFO:     127.0.0.1:54356 - "OPTIONS /api/tailored-cv/content/Australia_for_UNHCR HTTP/1.1" 200 OK
2025-10-09 16:35:53,270 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 📄 Tailored CV content request for Australia_for_UNHCR from user 0d4bdc07-cadf-4300-8e4f-f07da7575a62
2025-10-09 16:35:53,271 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:35:53,274 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:35:53,276 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:35:53,281 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ Served TAILORED CV content: Australia_for_UNHCR_tailored_cv_20251009_163317.txt from tailored folder (3588 characters)
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
🔍 Searching for tailored CV ONLY for company: Australia_for_UNHCR
📁 Found 4 tailored CV candidates
✅ Selected tailored CV: tailored - user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.json
INFO:     127.0.0.1:54358 - "GET /api/tailored-cv/content/Australia_for_UNHCR HTTP/1.1" 200 OK
INFO:     127.0.0.1:54372 - "OPTIONS /api/tailored-cv/save-edited HTTP/1.1" 200 OK
2025-10-09 16:36:04,152 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Received request data keys: ['company', 'content']
2025-10-09 16:36:04,153 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Request data: {
  "company": "Australia_for_UNHCR",
  "content": "Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220\n\nTECHNICAL SKILLS\n\u2022 Python, Power BI, SQL, Excel, VBA, Analytical Models, Analytical, Detail-oriented, Data Analysis, Data Extraction, Business Intelligence\n\n"
}...
2025-10-09 16:36:04,153 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Extracted - Company: Australia_for_UNHCR
2025-10-09 16:36:04,154 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Extracted - Content type: <class 'str'>
2025-10-09 16:36:04,154 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Extracted - Content length: 243
2025-10-09 16:36:04,154 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Starting save process for Australia_for_UNHCR
2025-10-09 16:36:04,154 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:36:04,154 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Tailored path: user/keosha@gmail.com/cv-analysis/cvs/tailored
2025-10-09 16:36:04,155 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Found 4 existing TXT files in tailored folder
2025-10-09 16:36:04,155 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] - user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.txt
2025-10-09 16:36:04,156 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] - user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.txt
2025-10-09 16:36:04,156 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] - user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.txt
2025-10-09 16:36:04,156 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] - user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.txt
2025-10-09 16:36:04,158 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated TXT: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.txt
2025-10-09 16:36:04,159 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Starting CV content parsing
2025-10-09 16:36:04,160 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Content length: 243
2025-10-09 16:36:04,160 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Existing JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:36:04,160 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Processing 4 lines
2025-10-09 16:36:04,160 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing contact line: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220
2025-10-09 16:36:04,161 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: technical_skills
2025-10-09 16:36:04,161 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsed 11 skills
2025-10-09 16:36:04,161 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing completed successfully
2025-10-09 16:36:04,161 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Updated JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:36:04,163 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated JSON: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.json
2025-10-09 16:36:04,164 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated TXT: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.txt
2025-10-09 16:36:04,165 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Starting CV content parsing
2025-10-09 16:36:04,166 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Content length: 243
2025-10-09 16:36:04,166 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Existing JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:36:04,166 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Processing 4 lines
2025-10-09 16:36:04,167 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing contact line: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220
2025-10-09 16:36:04,167 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: technical_skills
2025-10-09 16:36:04,168 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsed 11 skills
2025-10-09 16:36:04,168 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing completed successfully
2025-10-09 16:36:04,168 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Updated JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:36:04,170 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated JSON: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.json
2025-10-09 16:36:04,171 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated TXT: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.txt
2025-10-09 16:36:04,171 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Starting CV content parsing
2025-10-09 16:36:04,171 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Content length: 243
2025-10-09 16:36:04,171 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Existing JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:36:04,172 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Processing 4 lines
2025-10-09 16:36:04,172 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing contact line: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220
2025-10-09 16:36:04,172 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: technical_skills
2025-10-09 16:36:04,173 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsed 11 skills
2025-10-09 16:36:04,173 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing completed successfully
2025-10-09 16:36:04,174 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Updated JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:36:04,175 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated JSON: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
2025-10-09 16:36:04,176 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated TXT: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.txt
2025-10-09 16:36:04,176 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Starting CV content parsing
2025-10-09 16:36:04,176 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Content length: 243
2025-10-09 16:36:04,176 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Existing JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:36:04,177 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Processing 4 lines
2025-10-09 16:36:04,177 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing contact line: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220
2025-10-09 16:36:04,177 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: technical_skills
2025-10-09 16:36:04,177 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsed 11 skills
2025-10-09 16:36:04,177 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing completed successfully
2025-10-09 16:36:04,177 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Updated JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:36:04,178 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated JSON: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json
2025-10-09 16:36:04,178 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Completed saving for Australia_for_UNHCR
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
INFO:     127.0.0.1:54372 - "POST /api/tailored-cv/save-edited HTTP/1.1" 200 OK
2025-10-09 16:36:04,974 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Received request data keys: ['company', 'content']
2025-10-09 16:36:04,974 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Request data: {
  "company": "Australia_for_UNHCR",
  "content": "Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220\n\nTECHNICAL SKILLS\n\u2022 Python, Power BI, SQL, Excel, VBA, Analytical Models, Analytical, Detail-oriented, Data Analysis, Data Extraction, Business Intelligence\n\n"
}...
2025-10-09 16:36:04,975 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Extracted - Company: Australia_for_UNHCR
2025-10-09 16:36:04,975 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Extracted - Content type: <class 'str'>
2025-10-09 16:36:04,975 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Extracted - Content length: 243
2025-10-09 16:36:04,975 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Starting save process for Australia_for_UNHCR
2025-10-09 16:36:04,976 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:36:04,976 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Tailored path: user/keosha@gmail.com/cv-analysis/cvs/tailored
2025-10-09 16:36:04,976 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Found 4 existing TXT files in tailored folder
2025-10-09 16:36:04,976 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] - user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.txt
2025-10-09 16:36:04,976 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] - user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.txt
2025-10-09 16:36:04,977 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] - user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.txt
2025-10-09 16:36:04,977 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] - user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.txt
2025-10-09 16:36:04,978 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated TXT: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.txt
2025-10-09 16:36:04,978 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Starting CV content parsing
2025-10-09 16:36:04,978 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Content length: 243
2025-10-09 16:36:04,979 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Existing JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:36:04,979 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Processing 4 lines
2025-10-09 16:36:04,979 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing contact line: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220
2025-10-09 16:36:04,979 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: technical_skills
2025-10-09 16:36:04,980 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsed 11 skills
2025-10-09 16:36:04,980 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing completed successfully
2025-10-09 16:36:04,980 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Updated JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:36:04,981 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated JSON: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.json
2025-10-09 16:36:04,982 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated TXT: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.txt
2025-10-09 16:36:04,983 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Starting CV content parsing
2025-10-09 16:36:04,984 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Content length: 243
2025-10-09 16:36:04,984 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Existing JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:36:04,984 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Processing 4 lines
2025-10-09 16:36:04,985 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing contact line: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220
2025-10-09 16:36:04,985 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: technical_skills
2025-10-09 16:36:04,985 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsed 11 skills
2025-10-09 16:36:04,985 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing completed successfully
2025-10-09 16:36:04,985 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Updated JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:36:04,986 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated JSON: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.json
2025-10-09 16:36:04,987 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated TXT: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.txt
2025-10-09 16:36:04,988 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Starting CV content parsing
2025-10-09 16:36:04,988 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Content length: 243
2025-10-09 16:36:04,988 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Existing JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:36:04,988 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Processing 4 lines
2025-10-09 16:36:04,989 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing contact line: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220
2025-10-09 16:36:04,989 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: technical_skills
2025-10-09 16:36:04,989 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsed 11 skills
2025-10-09 16:36:04,989 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing completed successfully
2025-10-09 16:36:04,990 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Updated JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:36:04,990 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated JSON: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
2025-10-09 16:36:04,991 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated TXT: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.txt
2025-10-09 16:36:04,992 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Starting CV content parsing
2025-10-09 16:36:04,992 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Content length: 243
2025-10-09 16:36:04,993 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Existing JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:36:04,993 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Processing 4 lines
2025-10-09 16:36:04,993 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing contact line: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220
2025-10-09 16:36:04,994 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: technical_skills
2025-10-09 16:36:04,994 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsed 11 skills
2025-10-09 16:36:04,994 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing completed successfully
2025-10-09 16:36:04,994 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Updated JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:36:04,995 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated JSON: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json
2025-10-09 16:36:04,995 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Completed saving for Australia_for_UNHCR
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
INFO:     127.0.0.1:54372 - "POST /api/tailored-cv/save-edited HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'app/services/ats/components/standardized_config.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 16:38:53,369 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [22779]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [24849]
INFO:     Waiting for application startup.
2025-10-09 16:38:58,587 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 16:38:58,920 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 16:38:58,920 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 16:38:58,920 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:38:58,920 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:38:58,959 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 16:38:58,959 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 16:38:58,959 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:38:58,959 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:38:59,003 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 16:38:59,003 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 16:38:59,003 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:38:59,003 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:38:59,049 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:38:59,049 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:38:59,049 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 16:38:59,049 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 16:38:59,049 INFO sqlalchemy.engine.Engine [generated in 0.00067s] {}
2025-10-09 16:38:59,049 - sqlalchemy.engine.Engine - INFO - [generated in 0.00067s] {}
2025-10-09 16:38:59,085 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:38:59,085 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:38:59,105 - app.database - INFO - Database connection successful
2025-10-09 16:38:59,105 - app.main - INFO - ✅ Database connection successful
2025-10-09 16:38:59,123 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:38:59,123 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:38:59,128 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:38:59,128 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:38:59,128 INFO sqlalchemy.engine.Engine [generated in 0.00043s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:38:59,128 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:38:59,162 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:38:59,162 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:38:59,162 INFO sqlalchemy.engine.Engine [cached since 0.03485s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:38:59,162 - sqlalchemy.engine.Engine - INFO - [cached since 0.03485s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:38:59,185 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:38:59,185 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:38:59,186 INFO sqlalchemy.engine.Engine [cached since 0.05797s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:38:59,186 - sqlalchemy.engine.Engine - INFO - [cached since 0.05797s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:38:59,209 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:38:59,209 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:38:59,209 INFO sqlalchemy.engine.Engine [cached since 0.08151s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:38:59,209 - sqlalchemy.engine.Engine - INFO - [cached since 0.08151s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:38:59,233 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:38:59,233 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:38:59,234 INFO sqlalchemy.engine.Engine [cached since 0.1061s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:38:59,234 - sqlalchemy.engine.Engine - INFO - [cached since 0.1061s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:38:59,255 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:38:59,255 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:38:59,255 INFO sqlalchemy.engine.Engine [cached since 0.1273s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:38:59,255 - sqlalchemy.engine.Engine - INFO - [cached since 0.1273s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:38:59,275 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:38:59,275 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:38:59,275 INFO sqlalchemy.engine.Engine [cached since 0.1477s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:38:59,275 - sqlalchemy.engine.Engine - INFO - [cached since 0.1477s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:38:59,297 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:38:59,297 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:38:59,298 INFO sqlalchemy.engine.Engine [cached since 0.1701s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:38:59,298 - sqlalchemy.engine.Engine - INFO - [cached since 0.1701s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:38:59,321 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:38:59,321 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:38:59,321 INFO sqlalchemy.engine.Engine [cached since 0.1933s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:38:59,321 - sqlalchemy.engine.Engine - INFO - [cached since 0.1933s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:38:59,343 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:38:59,343 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:38:59,344 INFO sqlalchemy.engine.Engine [cached since 0.2161s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:38:59,344 - sqlalchemy.engine.Engine - INFO - [cached since 0.2161s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:38:59,368 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:38:59,368 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:38:59,369 INFO sqlalchemy.engine.Engine [cached since 0.2411s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:38:59,369 - sqlalchemy.engine.Engine - INFO - [cached since 0.2411s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:38:59,405 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 16:38:59,405 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 16:38:59,422 - app.database - INFO - Database tables created successfully
2025-10-09 16:38:59,422 - app.main - INFO - ✅ Database tables ready
2025-10-09 16:38:59,423 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 16:38:59,423 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/services/ats/components/standardized_config.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 16:39:02,484 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [24849]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [24906]
INFO:     Waiting for application startup.
2025-10-09 16:39:07,088 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 16:39:07,363 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 16:39:07,363 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 16:39:07,363 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:39:07,363 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:39:07,398 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 16:39:07,398 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 16:39:07,398 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:39:07,398 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:39:07,439 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 16:39:07,439 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 16:39:07,439 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:39:07,439 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:39:07,490 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:39:07,490 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:39:07,490 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 16:39:07,490 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 16:39:07,490 INFO sqlalchemy.engine.Engine [generated in 0.00058s] {}
2025-10-09 16:39:07,490 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] {}
2025-10-09 16:39:07,527 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:39:07,527 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:39:07,550 - app.database - INFO - Database connection successful
2025-10-09 16:39:07,550 - app.main - INFO - ✅ Database connection successful
2025-10-09 16:39:07,572 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:39:07,572 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:39:07,578 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:39:07,578 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:39:07,578 INFO sqlalchemy.engine.Engine [generated in 0.00047s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:39:07,578 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:39:07,616 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:39:07,616 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:39:07,616 INFO sqlalchemy.engine.Engine [cached since 0.03809s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:39:07,616 - sqlalchemy.engine.Engine - INFO - [cached since 0.03809s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:39:07,637 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:39:07,637 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:39:07,637 INFO sqlalchemy.engine.Engine [cached since 0.05968s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:39:07,637 - sqlalchemy.engine.Engine - INFO - [cached since 0.05968s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:39:07,660 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:39:07,660 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:39:07,661 INFO sqlalchemy.engine.Engine [cached since 0.08284s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:39:07,661 - sqlalchemy.engine.Engine - INFO - [cached since 0.08284s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:39:07,682 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:39:07,682 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:39:07,682 INFO sqlalchemy.engine.Engine [cached since 0.1045s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:39:07,682 - sqlalchemy.engine.Engine - INFO - [cached since 0.1045s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:39:07,707 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:39:07,707 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:39:07,707 INFO sqlalchemy.engine.Engine [cached since 0.1294s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:39:07,707 - sqlalchemy.engine.Engine - INFO - [cached since 0.1294s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:39:07,730 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:39:07,730 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:39:07,730 INFO sqlalchemy.engine.Engine [cached since 0.1521s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:39:07,730 - sqlalchemy.engine.Engine - INFO - [cached since 0.1521s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:39:07,757 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:39:07,757 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:39:07,757 INFO sqlalchemy.engine.Engine [cached since 0.1794s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:39:07,757 - sqlalchemy.engine.Engine - INFO - [cached since 0.1794s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:39:07,780 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:39:07,780 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:39:07,780 INFO sqlalchemy.engine.Engine [cached since 0.2025s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:39:07,780 - sqlalchemy.engine.Engine - INFO - [cached since 0.2025s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:39:07,804 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:39:07,804 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:39:07,804 INFO sqlalchemy.engine.Engine [cached since 0.2267s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:39:07,804 - sqlalchemy.engine.Engine - INFO - [cached since 0.2267s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:39:07,826 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:39:07,826 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:39:07,827 INFO sqlalchemy.engine.Engine [cached since 0.249s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:39:07,827 - sqlalchemy.engine.Engine - INFO - [cached since 0.249s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:39:07,851 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 16:39:07,851 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 16:39:07,873 - app.database - INFO - Database tables created successfully
2025-10-09 16:39:07,874 - app.main - INFO - ✅ Database tables ready
2025-10-09 16:39:07,874 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 16:39:07,874 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/services/ats/components/standardized_config.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 16:41:05,695 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [24906]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [25226]
INFO:     Waiting for application startup.
2025-10-09 16:41:12,285 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 16:41:12,623 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 16:41:12,623 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 16:41:12,624 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:41:12,624 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:41:12,665 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 16:41:12,665 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 16:41:12,667 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:41:12,667 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:41:12,709 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 16:41:12,709 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 16:41:12,709 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:41:12,709 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:41:12,757 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:41:12,757 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:41:12,757 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 16:41:12,757 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 16:41:12,757 INFO sqlalchemy.engine.Engine [generated in 0.00063s] {}
2025-10-09 16:41:12,757 - sqlalchemy.engine.Engine - INFO - [generated in 0.00063s] {}
2025-10-09 16:41:12,795 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:41:12,795 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:41:12,818 - app.database - INFO - Database connection successful
2025-10-09 16:41:12,818 - app.main - INFO - ✅ Database connection successful
2025-10-09 16:41:12,837 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:41:12,837 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:41:12,843 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:41:12,843 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:41:12,843 INFO sqlalchemy.engine.Engine [generated in 0.00043s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:41:12,843 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:41:12,889 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:41:12,889 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:41:12,889 INFO sqlalchemy.engine.Engine [cached since 0.04633s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:41:12,889 - sqlalchemy.engine.Engine - INFO - [cached since 0.04633s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:41:12,913 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:41:12,913 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:41:12,913 INFO sqlalchemy.engine.Engine [cached since 0.07044s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:41:12,913 - sqlalchemy.engine.Engine - INFO - [cached since 0.07044s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:41:12,936 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:41:12,936 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:41:12,936 INFO sqlalchemy.engine.Engine [cached since 0.09305s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:41:12,936 - sqlalchemy.engine.Engine - INFO - [cached since 0.09305s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:41:12,958 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:41:12,958 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:41:12,958 INFO sqlalchemy.engine.Engine [cached since 0.1154s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:41:12,958 - sqlalchemy.engine.Engine - INFO - [cached since 0.1154s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:41:12,975 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:41:12,975 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:41:12,976 INFO sqlalchemy.engine.Engine [cached since 0.1327s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:41:12,976 - sqlalchemy.engine.Engine - INFO - [cached since 0.1327s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:41:13,000 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:41:13,000 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:41:13,000 INFO sqlalchemy.engine.Engine [cached since 0.1575s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:41:13,000 - sqlalchemy.engine.Engine - INFO - [cached since 0.1575s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:41:13,023 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:41:13,023 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:41:13,023 INFO sqlalchemy.engine.Engine [cached since 0.18s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:41:13,023 - sqlalchemy.engine.Engine - INFO - [cached since 0.18s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:41:13,048 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:41:13,048 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:41:13,048 INFO sqlalchemy.engine.Engine [cached since 0.2051s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:41:13,048 - sqlalchemy.engine.Engine - INFO - [cached since 0.2051s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:41:13,072 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:41:13,072 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:41:13,073 INFO sqlalchemy.engine.Engine [cached since 0.2297s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:41:13,073 - sqlalchemy.engine.Engine - INFO - [cached since 0.2297s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:41:13,095 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:41:13,095 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:41:13,095 INFO sqlalchemy.engine.Engine [cached since 0.2522s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:41:13,095 - sqlalchemy.engine.Engine - INFO - [cached since 0.2522s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:41:13,118 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 16:41:13,118 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 16:41:13,134 - app.database - INFO - Database tables created successfully
2025-10-09 16:41:13,134 - app.main - INFO - ✅ Database tables ready
2025-10-09 16:41:13,134 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 16:41:13,134 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
INFO:     127.0.0.1:54776 - "OPTIONS /api/preliminary-analysis/cache HTTP/1.1" 200 OK
INFO:     127.0.0.1:54776 - "GET /api/preliminary-analysis/cache HTTP/1.1" 200 OK
INFO:     127.0.0.1:54776 - "OPTIONS /api/preliminary-analysis HTTP/1.1" 200 OK
2025-10-09 16:41:13,174 - app.core.model_dependency - INFO - 🔍 [MODEL_DEPENDENCY] Initializing model for user: keosha@gmail.com
2025-10-09 16:41:13,174 - app.core.model_dependency - INFO - - Header model: gpt-3.5-turbo
2025-10-09 16:41:13,174 - app.core.model_dependency - INFO - - User ID: 0d4bdc07-cadf-4300-8e4f-f07da7575a62
2025-10-09 16:41:13,174 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 16:41:13,175 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:41:13,175 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 16:41:13,175 - app.ai.ai_service - INFO - - Available providers: []
2025-10-09 16:41:13,175 - app.ai.ai_service - INFO - - Provider status: {}
2025-10-09 16:41:13,175 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 16:41:13,175 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: []
2025-10-09 16:41:13,175 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 16:41:13,176 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {}
2025-10-09 16:41:13,176 - app.ai.ai_service - ERROR - ❌ No current provider available for model switching
2025-10-09 16:41:13,176 - app.core.model_dependency - WARNING - ⚠️ Failed to switch to header model gpt-3.5-turbo
2025-10-09 16:41:13,181 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user keosha@gmail.com
2025-10-09 16:41:13,181 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Before initialization:
2025-10-09 16:41:13,181 - app.ai.ai_service - INFO - - Current providers: []
2025-10-09 16:41:13,181 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 16:41:13,181 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 16:41:13,182 - app.ai.ai_service - INFO - - Cached providers for user: []
2025-10-09 16:41:13,182 - app.ai.ai_service - INFO - 🔄 [AI_SERVICE] Initializing new providers for user keosha@gmail.com
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
2025-10-09 16:41:13,221 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:41:13,221 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:41:13,226 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:41:13,226 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:41:13,227 INFO sqlalchemy.engine.Engine [generated in 0.00046s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 16:41:13,227 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 16:41:13,275 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:41:13,275 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:41:13,924 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:41:13,937 - app.ai.ai_service - INFO - ✅ Initialized openai provider with model gpt-4o for user keosha@gmail.com
2025-10-09 16:41:13,952 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:41:13,952 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:41:13,953 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:41:13,953 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:41:13,954 INFO sqlalchemy.engine.Engine [cached since 0.7274s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 16:41:13,954 - sqlalchemy.engine.Engine - INFO - [cached since 0.7274s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 16:41:13,998 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:41:13,998 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:41:14,023 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user keosha@gmail.com and provider anthropic
2025-10-09 16:41:14,046 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:41:14,046 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:41:14,047 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:41:14,047 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:41:14,048 INFO sqlalchemy.engine.Engine [cached since 0.8218s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 16:41:14,048 - sqlalchemy.engine.Engine - INFO - [cached since 0.8218s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 16:41:14,087 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:41:14,087 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:41:14,106 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user keosha@gmail.com and provider deepseek
2025-10-09 16:41:14,106 - app.ai.ai_service - INFO - 💾 [AI_SERVICE] Cached 1 providers for user keosha@gmail.com
2025-10-09 16:41:14,106 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] After initialization:
2025-10-09 16:41:14,106 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 16:41:14,107 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 16:41:14,107 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 16:41:14,107 - app.core.model_dependency - INFO - ✅ [MODEL_DEPENDENCY] AI providers initialized for user keosha@gmail.com
2025-10-09 16:41:14,128 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:41:14,128 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:41:14,131 INFO sqlalchemy.engine.Engine SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 16:41:14,131 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 16:41:14,132 INFO sqlalchemy.engine.Engine [generated in 0.00053s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'param_1': 1}
2025-10-09 16:41:14,132 - sqlalchemy.engine.Engine - INFO - [generated in 0.00053s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'param_1': 1}
2025-10-09 16:41:14,168 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:41:14,168 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:41:14,184 - app.core.model_dependency - INFO - 🔍 [MODEL_DEPENDENCY] Found saved preference: openai/gpt-3.5-turbo
2025-10-09 16:41:14,184 - app.ai.ai_service - INFO - ✅ Switched to openai provider with model gpt-3.5-turbo
2025-10-09 16:41:14,184 - app.core.model_dependency - INFO - ✅ [MODEL_DEPENDENCY] Successfully restored user preference: openai/gpt-3.5-turbo
2025-10-09 16:41:14,187 - app.routes.skills_analysis - INFO - 🎯 Preliminary analysis request: CV=maheshwor_tiwari.pdf, JD_length=6014, CONFIG=None
2025-10-09 16:41:14,188 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:41:14,189 - app.routes.skills_analysis - INFO - 🏢 Extracted company name: Australia_for_UNHCR
2025-10-09 16:41:14,189 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:41:14,191 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:41:14,191 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:41:14,192 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:41:14,192 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:41:14,193 - app.routes.skills_analysis - INFO - 🔗 [PRELIM_ANALYSIS] JD URL (latest job_info): https://www.ethicaljobs.com.au/members/australiaforunhcr/data-analyst
2025-10-09 16:41:14,195 - app.routes.skills_analysis - INFO - 📄 [PRELIM_ANALYSIS] Latest CV selected → type=tailored, ts=20251009_163317, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.json, txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.txt
2025-10-09 16:41:14,198 - app.routes.skills_analysis - INFO - 🧪 [PRELIM_ANALYSIS] CV content length=243, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • Python, Power BI, SQL, Excel, VBA, Analytical Models, Analytical, Detail-oriented, Data Analysis, Data Extraction, Business Intelligence  '
2025-10-09 16:41:14,198 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 16:41:14,199 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 16:41:14,199 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 16:41:14,199 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Starting AI-powered skills analysis for maheshwor_tiwari.pdf
2025-10-09 16:41:14,199 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] CV content length: 243 chars
2025-10-09 16:41:14,200 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] JD content length: 6014 chars
2025-10-09 16:41:14,200 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using config: default
2025-10-09 16:41:14,200 - app.routes.skills_analysis - INFO - 🧪 [SKILLS_ANALYSIS] CV preview: 'Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • Python, Power BI, SQL, Excel, VBA, Analytical Models, Analytical, Detail-or'
2025-10-09 16:41:14,200 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:41:14,201 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:41:14,201 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:41:14,201 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:41:14,201 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:41:14,840 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:41:14,853 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:41:14,853 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:41:14,853 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:41:14,853 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI provider: openai
2025-10-09 16:41:14,854 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI model: gpt-3.5-turbo
2025-10-09 16:41:14,854 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Provider available: True
2025-10-09 16:41:14,854 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Model from header: gpt-3.5-turbo
2025-10-09 16:41:14,854 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting CV skills with detailed structured analysis...
2025-10-09 16:41:14,854 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:41:14,855 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:41:14,855 - app.ai.ai_service - INFO - - Prompt length: 6431
2025-10-09 16:41:14,856 - app.ai.ai_service - INFO - - System prompt length: 0
2025-10-09 16:41:14,856 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:41:14,856 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:41:14,856 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:41:14,856 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:41:14,857 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:41:14,857 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:41:14,857 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:41:14,857 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:41:15,658 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:41:15,675 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:41:15,676 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:41:15,677 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:41:15,677 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:41:17,811 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:41:17,824 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] Starting response parsing...
2025-10-09 16:41:17,824 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] Raw response preview: 
TECHNICAL SKILLS:
- Python
- Power BI
- SQL
- Excel
- VBA
- Analytical Models
- Data Analysis
- Data Extraction
- Business Intelligence

SOFT_SKILLS = ["Analytical Thinking", "Detail-oriented"]
TECHNICAL_SKILLS = ["Python", "Power BI", "SQL", "Excel", "VBA", "Analytical Models", "Data Analysis", "Data Extraction", "Business Intelligence"]  
DOMAIN_KEYWORDS = []...
2025-10-09 16:41:17,824 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] FULL CV RESPONSE: 
TECHNICAL SKILLS:
- Python
- Power BI
- SQL
- Excel
- VBA
- Analytical Models
- Data Analysis
- Data Extraction
- Business Intelligence

SOFT_SKILLS = ["Analytical Thinking", "Detail-oriented"]
TECHNICAL_SKILLS = ["Python", "Power BI", "SQL", "Excel", "VBA", "Analytical Models", "Data Analysis", "Data Extraction", "Business Intelligence"]  
DOMAIN_KEYWORDS = []
2025-10-09 16:41:17,826 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Successfully extracted 11 total skills using multi-format parser
2025-10-09 16:41:17,826 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated soft_skills: 2 valid skills
2025-10-09 16:41:17,826 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated technical_skills: 9 valid skills
2025-10-09 16:41:17,827 - app.services.skill_extraction.response_parser - INFO - 📊 [CV] Parsing completed:
2025-10-09 16:41:17,827 - app.services.skill_extraction.response_parser - INFO -    Soft Skills (2): ['Analytical Thinking', 'Detail-oriented']
2025-10-09 16:41:17,827 - app.services.skill_extraction.response_parser - INFO -    Technical Skills (9): ['Python', 'Power BI', 'SQL']...
2025-10-09 16:41:17,827 - app.services.skill_extraction.response_parser - INFO -    Domain Keywords (0): []
2025-10-09 16:41:17,827 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting JD skills with detailed structured analysis...
2025-10-09 16:41:17,828 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:41:17,828 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:41:17,828 - app.ai.ai_service - INFO - - Prompt length: 18001
2025-10-09 16:41:17,828 - app.ai.ai_service - INFO - - System prompt length: 0
2025-10-09 16:41:17,828 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:41:17,828 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:41:17,829 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:41:17,829 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:41:17,829 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:41:17,829 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:41:17,829 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:41:17,830 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:41:18,423 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:41:18,439 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:41:18,439 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:41:18,439 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:41:18,440 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:41:22,417 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:41:22,418 - app.services.skill_extraction.response_parser - INFO - 🔍 [JD] Starting response parsing...
2025-10-09 16:41:22,419 - app.services.skill_extraction.response_parser - INFO - 🔍 [JD] Raw response preview: ## SOFT SKILLS:
- Communication
- Leadership
- Teamwork
- Collaboration
- Negotiation
- Time Management
- Organization
- Adaptability
- Problem-solving
- Analytical Thinking
- Critical Thinking
- Creativity
- Innovation
- Detail-oriented
- Self-motivated
- Proactive
- Results-driven

## TECHNICAL SKILLS:
- Data Analysis
- Data Mining
- Business Intelligence
- Power BI
- SQL
- Excel
- Database Management
- Data Modeling
- Data Warehousing
- Spreadsheets
- VBA
- Stakeholder Management
- Report Cre...
2025-10-09 16:41:22,420 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Successfully extracted 56 total skills using multi-format parser
2025-10-09 16:41:22,420 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated soft_skills: 17 valid skills
2025-10-09 16:41:22,420 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated technical_skills: 20 valid skills
2025-10-09 16:41:22,421 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated domain_keywords: 19 valid skills
2025-10-09 16:41:22,421 - app.services.skill_extraction.response_parser - INFO - 📊 [JD] Parsing completed:
2025-10-09 16:41:22,421 - app.services.skill_extraction.response_parser - INFO -    Soft Skills (17): ['Communication', 'Leadership', 'Teamwork']...
2025-10-09 16:41:22,422 - app.services.skill_extraction.response_parser - INFO -    Technical Skills (20): ['Data Analysis', 'Data Mining', 'Business Intelligence']...
2025-10-09 16:41:22,422 - app.services.skill_extraction.response_parser - INFO -    Domain Keywords (19): ['Fundraising', 'Humanitarian Aid', 'Refugee Support']...
2025-10-09 16:41:22,422 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using structured analysis as comprehensive analysis...
2025-10-09 16:41:22,422 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Technical Skills (9): ['Python', 'Power BI', 'SQL', 'Excel', 'VBA', 'Analytical Models', 'Data Analysis', 'Data Extraction', 'Business Intelligence']
2025-10-09 16:41:22,422 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Soft Skills (2): ['Analytical Thinking', 'Detail-oriented']
2025-10-09 16:41:22,422 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Domain Keywords (0): []
2025-10-09 16:41:22,422 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Technical Skills (20): ['Data Analysis', 'Data Mining', 'Business Intelligence', 'Power BI', 'SQL', 'Excel', 'Database Management', 'Data Modeling', 'Data Warehousing', 'Spreadsheets', 'VBA', 'Stakeholder Management', 'Report Creation', 'Project Management', 'Data Extraction', 'Segmentation', 'Data Cleansing', 'Data Visualization', 'Querying', 'Relational Databases']
2025-10-09 16:41:22,423 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Soft Skills (17): ['Communication', 'Leadership', 'Teamwork', 'Collaboration', 'Negotiation', 'Time Management', 'Organization', 'Adaptability', 'Problem-solving', 'Analytical Thinking', 'Critical Thinking', 'Creativity', 'Innovation', 'Detail-oriented', 'Self-motivated', 'Proactive', 'Results-driven']
2025-10-09 16:41:22,423 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Domain Keywords (19): ['Fundraising', 'Humanitarian Aid', 'Refugee Support', 'Nonprofit Sector', 'Business Decision-making', 'Direct Marketing', 'Donor-centricity', 'Campaign Analysis', 'Data Requirements', 'Data Warehouse Administration', 'Stakeholder Engagement', 'Communication Strategies', 'Business Intelligence Unit', 'Data-driven Decision Making', 'Refugee Assistance', 'Data Governance', 'Data Quality', 'Data Strategy', 'Data Enhancement']
2025-10-09 16:41:22,423 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] Analysis completed successfully
2025-10-09 16:41:22,423 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 16:41:22,423 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:41:22,424 - app.services.skill_extraction.result_saver - INFO - 📁 Result saver initialized with base directory: user/keosha@gmail.com/cv-analysis
2025-10-09 16:41:22,424 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:41:22,424 - app.routes.skills_analysis - INFO - 🔍 [COMPANY_DETECTION] Looking in: user/keosha@gmail.com/cv-analysis/applied_companies
2025-10-09 16:41:22,424 - app.routes.skills_analysis - INFO - 📁 [COMPANY_DETECTION] Found company folder: Australia_for_UNHCR with 1 job_info files
2025-10-09 16:41:22,425 - app.routes.skills_analysis - INFO - 🏢 [COMPANY_DETECTION] Using most recent company folder: Australia_for_UNHCR
2025-10-09 16:41:22,425 - app.routes.skills_analysis - INFO - 📋 [COMPANY_DETECTION] Job info company: Australia for UNHCR
2025-10-09 16:41:22,425 - app.services.skill_extraction.result_saver - INFO - 🏢 Using provided company name: Australia_for_UNHCR -> Australia_for_UNHCR
2025-10-09 16:41:22,426 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:41:22,426 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:41:22,426 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:41:22,429 - app.services.skill_extraction.result_saver - INFO - 💾 Structured CV already exists, preserving it: user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 16:41:22,429 - app.services.skill_extraction.result_saver - INFO - 💾 Structured CV preserved, skipping save: user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 16:41:22,430 - app.services.skill_extraction.result_saver - INFO - 💾 Analysis results saved (JSON) to: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_164122.json
2025-10-09 16:41:22,431 - app.routes.skills_analysis - INFO - 📁 [FILE_SAVE] Results saved to: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_164122.json
2025-10-09 16:41:22,431 - app.routes.skills_analysis - INFO - 🔍 [ANALYZE_MATCH] Starting analyze match assessment...
2025-10-09 16:41:22,434 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:41:22,434 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:41:22,434 - app.ai.ai_service - INFO - - Prompt length: 12346
2025-10-09 16:41:22,435 - app.ai.ai_service - INFO - - System prompt length: 0
2025-10-09 16:41:22,435 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:41:22,435 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:41:22,435 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:41:22,435 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:41:22,435 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:41:22,435 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:41:22,436 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:41:22,436 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:41:22,928 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:41:22,942 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:41:22,942 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:41:22,942 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:41:22,942 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:41:28,357 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:41:28,358 - app.routes.skills_analysis - INFO - ✅ [ANALYZE_MATCH] Analysis completed (length: 1896 chars)
2025-10-09 16:41:28,358 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:41:28,359 - app.services.skill_extraction.result_saver - INFO - 📂 Found existing analysis file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_164122.json
2025-10-09 16:41:28,359 - app.services.skill_extraction.result_saver - INFO - 🔍 Looking for analysis file in: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 16:41:28,360 - app.services.skill_extraction.result_saver - INFO - 📄 Using existing file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_164122.json
2025-10-09 16:41:28,362 - app.services.skill_extraction.result_saver - INFO - 📁 [ANALYZE_MATCH] Results appended to: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_164122.json
2025-10-09 16:41:28,362 - app.routes.skills_analysis - INFO - 📁 [ANALYZE_MATCH] Results appended to: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_164122.json
2025-10-09 16:41:28,362 - app.routes.skills_analysis - INFO - 🔍 [PREEXTRACTED_COMPARISON] Starting pre-extracted skills semantic comparison...
2025-10-09 16:41:28,365 - app.services.skill_extraction.preextracted_comparator - INFO - 🔍 [EXACT_MATCHES] Found 3 exact matches: {'technical_skills': [{'jd_skill': 'Business Intelligence', 'cv_skill': 'Business Intelligence', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Data Analysis', 'cv_skill': 'Data Analysis', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Data Extraction', 'cv_skill': 'Data Extraction', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Excel', 'cv_skill': 'Excel', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Power BI', 'cv_skill': 'Power BI', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'SQL', 'cv_skill': 'SQL', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'VBA', 'cv_skill': 'VBA', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}], 'soft_skills': [{'jd_skill': 'Analytical Thinking', 'cv_skill': 'Analytical Thinking', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Detail-oriented', 'cv_skill': 'Detail-oriented', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}], 'domain_keywords': []}
2025-10-09 16:41:28,366 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:41:28,366 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:41:28,367 - app.ai.ai_service - INFO - - Prompt length: 6593
2025-10-09 16:41:28,367 - app.ai.ai_service - INFO - - System prompt length: 0
2025-10-09 16:41:28,367 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:41:28,367 - app.ai.ai_service - INFO - - Max tokens: 3000
2025-10-09 16:41:28,367 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:41:28,367 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:41:28,368 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:41:28,368 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:41:28,368 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:41:28,368 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:41:29,070 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:41:29,225 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:41:29,225 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:41:29,225 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:41:29,225 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:41:39,761 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:41:39,795 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: VBA → VBA
2025-10-09 16:41:39,795 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Analytical Thinking → Analytical Thinking
2025-10-09 16:41:39,795 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Detail-oriented → Detail-oriented
2025-10-09 16:41:39,795 - app.services.skill_extraction.preextracted_comparator - INFO - ℹ️ [VALIDATION] soft_skills: matched 2 + missing 13 = 15 vs JD count 17 (acceptable variance)
2025-10-09 16:41:39,796 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] CV Skills: Tech=9, Soft=2, Domain=0
2025-10-09 16:41:39,796 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] JD Skills: Tech=20, Soft=17, Domain=19
2025-10-09 16:41:39,796 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [VALIDATION] Comparison results passed validation
2025-10-09 16:41:39,796 - app.routes.skills_analysis - INFO - ✅ [PREEXTRACTED_COMPARISON] Completed (length: 6167 chars)
2025-10-09 16:41:39,797 - app.services.skill_extraction.result_saver - INFO - 🏢 [PREEXTRACTED_COMPARISON] Inferred company from saved_file_path: Australia_for_UNHCR
2025-10-09 16:41:39,799 - app.services.skill_extraction.result_saver - INFO - 📁 [PREEXTRACTED_COMPARISON] Results appended to: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_164122.json
2025-10-09 16:41:39,799 - app.routes.skills_analysis - INFO - 📁 [PREEXTRACTED_COMPARISON] Results appended to: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_164122.json
2025-10-09 16:41:39,800 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:41:39,800 - app.routes.skills_analysis - INFO - ♻️ [PIPELINE] (preliminary-analysis) JD file already exists: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/jd_original_20251009_160700.json
2025-10-09 16:41:39,802 - app.routes.skills_analysis - INFO - ♻️ [JOBS] Job already exists in saved_jobs.json: Data Analyst at Australia for UNHCR
2025-10-09 16:41:39,802 - app.routes.skills_analysis - INFO - 🚀 [PIPELINE] (preliminary-analysis) scheduling for company: Australia_for_UNHCR
2025-10-09 16:41:39,803 - app.routes.skills_analysis - INFO - 🚀 [PIPELINE] Scheduling JD analysis and CV–JD matching for 'Australia_for_UNHCR'...
2025-10-09 16:41:39,804 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:41:39,804 - app.routes.skills_analysis - INFO - 🔧 [PIPELINE] Starting JD analysis for Australia_for_UNHCR (force_refresh=True)
2025-10-09 16:41:39,804 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:41:39,804 - app.services.jd_analysis.jd_analyzer - INFO - 🔄 Analyzing JD for Australia_for_UNHCR (force_refresh=True)
2025-10-09 16:41:39,805 - app.services.jd_analysis.jd_analyzer - INFO - 📄 Analyzing JD file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/jd_original_20251009_160700.json
2025-10-09 16:41:39,806 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:41:39,806 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:41:39,806 - app.ai.ai_service - INFO - - Prompt length: 6409
2025-10-09 16:41:39,806 - app.ai.ai_service - INFO - - System prompt length: 2650
2025-10-09 16:41:39,806 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:41:39,806 - app.ai.ai_service - INFO - - Max tokens: 2000
2025-10-09 16:41:39,806 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:41:39,807 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:41:39,807 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:41:39,807 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:41:39,807 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:41:39,807 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:41:40,222 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:41:40,395 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:41:40,395 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:41:40,395 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:41:40,395 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:41:42,252 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:41:42,255 - app.services.jd_analysis.jd_analyzer - INFO - ✅ JD analysis completed. Found 0 required and 0 preferred keywords
2025-10-09 16:41:42,256 - app.services.jd_analysis.jd_analyzer - INFO - ♻️ JD analysis already exists, reusing: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_jd_analysis_20251009_160741.json
2025-10-09 16:41:42,256 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] JD analysis saved for Australia_for_UNHCR at: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_jd_analysis_20251009_160741.json
2025-10-09 16:41:42,258 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:41:42,258 - app.services.jd_usage_tracker - INFO - 🔍 [JD_TRACKER] Recording JD usage:
2025-10-09 16:41:42,258 - app.services.jd_usage_tracker - INFO - - jd_url: 
2025-10-09 16:41:42,258 - app.services.jd_usage_tracker - INFO - - jd_text length: 0
2025-10-09 16:41:42,259 - app.services.jd_usage_tracker - INFO - - company: Australia_for_UNHCR
2025-10-09 16:41:42,259 - app.services.jd_usage_tracker - INFO - - job_title: 
2025-10-09 16:41:42,259 - app.services.jd_usage_tracker - ERROR - ❌ [JD_TRACKER] Error recording JD usage: Either jd_url or jd_text must be provided
2025-10-09 16:41:42,259 - app.routes.skills_analysis - INFO - 📝 [PIPELINE] JD usage recorded for Australia_for_UNHCR
2025-10-09 16:41:42,259 - app.routes.skills_analysis - INFO - 🔧 [PIPELINE] Starting CV–JD matching for Australia_for_UNHCR
2025-10-09 16:41:42,260 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:41:42,261 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:41:42,262 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:41:42,262 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:41:42,263 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] CV–JD matching will use CV TXT: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.txt
2025-10-09 16:41:42,264 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 📄 [CV_JD_MATCHER] Using provided CV path: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.txt
2025-10-09 16:41:42,265 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 📄 [CV_JD_MATCHER] Read CV from: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.txt
2025-10-09 16:41:42,265 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🧪 [CV_JD_MATCHER] CV content length=241, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • Python, Power BI, SQL, Excel, VBA, Analytical Models, Analytical, Detail-oriented, Data Analysis, Data Extraction, Business Intelligence'
2025-10-09 16:41:42,265 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🔍 Found 10 required and 4 preferred keywords
2025-10-09 16:41:42,266 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:41:42,266 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:41:42,266 - app.ai.ai_service - INFO - - Prompt length: 1643
2025-10-09 16:41:42,266 - app.ai.ai_service - INFO - - System prompt length: 2705
2025-10-09 16:41:42,266 - app.ai.ai_service - INFO - - Temperature: 0.3
2025-10-09 16:41:42,266 - app.ai.ai_service - INFO - - Max tokens: 3000
2025-10-09 16:41:42,266 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:41:42,266 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:41:42,267 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:41:42,267 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:41:42,267 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:41:42,267 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:41:42,741 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:41:42,754 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:41:42,754 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:41:42,754 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:41:42,755 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:41:45,149 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:41:45,151 - app.services.cv_jd_matching.cv_jd_matcher - INFO - ✅ CV-JD matching completed. Found 3 matched required keywords
2025-10-09 16:41:45,152 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:41:45,152 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:41:45,153 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 💾 Saved CV-JD match results to: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_cv_jd_matching_20251009_164145.json
2025-10-09 16:41:45,153 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] CV–JD match results saved for Australia_for_UNHCR
2025-10-09 16:41:45,153 - app.routes.skills_analysis - INFO - 🔍 [PIPELINE] Starting component analysis for Australia_for_UNHCR
2025-10-09 16:41:45,155 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:41:45,156 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:41:45,156 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:41:45,156 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:41:45,157 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Latest CV selected → type=tailored, ts=20251009_163317, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.json, txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.txt
2025-10-09 16:41:45,158 - app.routes.skills_analysis - INFO - 🧪 [PIPELINE] CV content length=243, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • Python, Power BI, SQL, Excel, VBA, Analytical Models, Analytical, Detail-oriented, Data Analysis, Data Extraction, Business Intelligence  '
2025-10-09 16:41:45,158 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:41:45,159 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Required files found, proceeding with component analysis
2025-10-09 16:41:45,159 - app.services.ats.modular_ats_orchestrator - INFO - ===== [MODULAR ATS] Starting component analysis for: Australia_for_UNHCR =====
2025-10-09 16:41:45,159 - app.services.ats.component_assembler - INFO - ===== [ASSEMBLER] Starting component assembly for: Australia_for_UNHCR =====
2025-10-09 16:41:45,159 - app.services.ats.component_assembler - INFO - 📄 [ASSEMBLER] Using CV text provided by caller
2025-10-09 16:41:45,164 - app.services.ats.component_assembler - WARNING - [ASSEMBLER] Match results not found: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/cv_jd_match_results.json
2025-10-09 16:41:45,165 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Starting parallel component analyses...
2025-10-09 16:41:45,167 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Requesting skills relevance analysis...
2025-10-09 16:41:45,167 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:41:45,168 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:41:45,169 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Requirement bonus using match file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_cv_jd_matching_20251009_164145.json
2025-10-09 16:41:45,170 - app.ai.ai_service - INFO - - Prompt length: 8089
2025-10-09 16:41:45,170 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Using existing match_counts from file
2025-10-09 16:41:45,170 - app.ai.ai_service - INFO - - System prompt length: 163
2025-10-09 16:41:45,171 - app.services.ats.requirement_bonus_calculator - INFO - [ATS][BONUS] required_total=10 matched_required=3 missing_required=7 required_bonus=1.50 required_penalty=-4.00 preferred_total=4 matched_preferred=0 missing_preferred=4 preferred_bonus=0.00 preferred_penalty=-0.60 total_bonus=-3.10
2025-10-09 16:41:45,171 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:41:45,171 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Requirement bonus calculated: -3.10 points
2025-10-09 16:41:45,171 - app.ai.ai_service - INFO - - Max tokens: 3000
2025-10-09 16:41:45,172 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:41:45,172 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:41:45,172 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:41:45,172 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:41:45,172 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:41:45,172 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:41:46,071 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:41:46,083 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:41:46,083 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:41:46,083 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:41:46,083 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:41:53,176 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:41:53,183 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Raw response length: 2885
2025-10-09 16:41:53,183 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Raw response preview: {
 "skills_analysis": [
  {
   "skill": "Python",
   "cv_evidence": "Python",
   "jd_application": "Data Analysis, Data Extraction, Analytical Models",
   "context_type": "CORPORATE",
   "corporate_ex
2025-10-09 16:41:53,184 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Cleaned response: {
 "skills_analysis": [
  {
   "skill": "Python",
   "cv_evidence": "Python",
   "jd_application": "Data Analysis, Data Extraction, Analytical Models",
   "context_type": "CORPORATE",
   "corporate_ex
2025-10-09 16:41:53,184 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Direct parse successful
2025-10-09 16:41:53,184 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Analysis completed. Score: 84.0
2025-10-09 16:41:53,185 - app.services.ats.components.experience_analyzer - INFO - [EXPERIENCE] Requesting experience alignment analysis...
2025-10-09 16:41:53,185 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:41:53,185 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:41:53,185 - app.ai.ai_service - INFO - - Prompt length: 6870
2025-10-09 16:41:53,186 - app.ai.ai_service - INFO - - System prompt length: 163
2025-10-09 16:41:53,186 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:41:53,186 - app.ai.ai_service - INFO - - Max tokens: 3000
2025-10-09 16:41:53,186 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:41:53,186 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:41:53,186 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:41:53,186 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:41:53,186 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:41:53,187 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:41:53,681 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:41:53,691 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:41:53,691 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:41:53,692 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:41:53,692 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:41:55,799 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:41:55,800 - app.services.ats.components.experience_analyzer - INFO - [EXPERIENCE] Analysis completed. Score: 85.0
2025-10-09 16:41:55,801 - app.services.ats.components.industry_analyzer - INFO - [INDUSTRY] Requesting industry fit analysis...
2025-10-09 16:41:55,801 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:41:55,801 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:41:55,802 - app.ai.ai_service - INFO - - Prompt length: 8326
2025-10-09 16:41:55,802 - app.ai.ai_service - INFO - - System prompt length: 163
2025-10-09 16:41:55,802 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:41:55,802 - app.ai.ai_service - INFO - - Max tokens: 3000
2025-10-09 16:41:55,802 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:41:55,803 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:41:55,803 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:41:55,803 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:41:55,803 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:41:55,803 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:41:56,398 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:41:56,408 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:41:56,408 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:41:56,409 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:41:56,409 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:41:58,954 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:41:58,964 - app.services.ats.components.industry_analyzer - ERROR - [INDUSTRY] Analysis failed: could not convert string to float: '50-70'
2025-10-09 16:41:58,966 - app.services.ats.components.seniority_analyzer - INFO - [SENIORITY] Requesting role seniority analysis...
2025-10-09 16:41:58,966 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:41:58,967 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:41:58,967 - app.ai.ai_service - INFO - - Prompt length: 9353
2025-10-09 16:41:58,967 - app.ai.ai_service - INFO - - System prompt length: 163
2025-10-09 16:41:58,967 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:41:58,967 - app.ai.ai_service - INFO - - Max tokens: 3000
2025-10-09 16:41:58,967 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:41:58,968 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:41:58,968 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:41:58,968 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:41:58,969 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:41:58,969 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:41:59,998 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:42:00,012 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:42:00,012 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:42:00,012 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:42:00,013 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:42:03,956 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:42:03,970 - app.services.ats.components.seniority_analyzer - INFO - [SENIORITY] Analysis completed. Score: 0.0
2025-10-09 16:42:03,970 - app.services.ats.components.technical_analyzer - INFO - [TECHNICAL] Requesting technical depth analysis...
2025-10-09 16:42:03,970 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:42:03,970 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:42:03,970 - app.ai.ai_service - INFO - - Prompt length: 4843
2025-10-09 16:42:03,970 - app.ai.ai_service - INFO - - System prompt length: 163
2025-10-09 16:42:03,971 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:42:03,971 - app.ai.ai_service - INFO - - Max tokens: 3000
2025-10-09 16:42:03,971 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:42:03,971 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:42:03,971 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:42:03,971 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:42:03,971 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:42:03,971 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:42:04,501 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:42:04,512 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:42:04,512 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:42:04,513 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:42:04,513 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:42:06,687 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:42:06,694 - app.services.ats.components.technical_analyzer - INFO - [TECHNICAL] Analysis completed. Score: 90.0
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=tailored, ts=20251009_160851, mtime=1759988164.9906538, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
  - type=tailored, ts=20251009_161344, mtime=1759988164.9952226, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json
  - type=tailored, ts=20251009_162503, mtime=1759988164.9867861, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.json
  - type=tailored, ts=20251009_163317, mtime=1759988164.9816656, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.json
  - type=original, ts=00000000_000000, mtime=1759986398.6319315, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=tailored, ts=20251009_163317, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.json, txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.txt
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=tailored, ts=20251009_160851, mtime=1759988164.9906538, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
  - type=tailored, ts=20251009_161344, mtime=1759988164.9952226, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json
  - type=tailored, ts=20251009_162503, mtime=1759988164.9867861, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.json
  - type=tailored, ts=20251009_163317, mtime=1759988164.9816656, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.json
  - type=original, ts=00000000_000000, mtime=1759986398.6319315, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=tailored, ts=20251009_163317, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.json, txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.txt
📄 [UNIFIED] Reading CV content from: txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.txt, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.json
🧪 [UNIFIED] CV content length=243, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • Python, Power BI, SQL, Excel, VBA, Analytical Models, Analytical, Detail-oriented, Data Analysis, Data Extraction, Business Intelligence  '
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=tailored, ts=20251009_160851, mtime=1759988164.9906538, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
  - type=tailored, ts=20251009_161344, mtime=1759988164.9952226, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json
  - type=tailored, ts=20251009_162503, mtime=1759988164.9867861, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.json
  - type=tailored, ts=20251009_163317, mtime=1759988164.9816656, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.json
  - type=original, ts=00000000_000000, mtime=1759986398.6319315, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=tailored, ts=20251009_163317, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.json, txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.txt
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=tailored, ts=20251009_160851, mtime=1759988164.9906538, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
  - type=tailored, ts=20251009_161344, mtime=1759988164.9952226, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json
  - type=tailored, ts=20251009_162503, mtime=1759988164.9867861, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.json
  - type=tailored, ts=20251009_163317, mtime=1759988164.9816656, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.json
  - type=original, ts=00000000_000000, mtime=1759986398.6319315, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=tailored, ts=20251009_163317, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.json, txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.txt
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=tailored, ts=20251009_160851, mtime=1759988164.9906538, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
  - type=tailored, ts=20251009_161344, mtime=1759988164.9952226, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json
  - type=tailored, ts=20251009_162503, mtime=1759988164.9867861, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.json
  - type=tailored, ts=20251009_163317, mtime=1759988164.9816656, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.json
  - type=original, ts=00000000_000000, mtime=1759986398.6319315, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=tailored, ts=20251009_163317, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.json, txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.txt
📄 [UNIFIED] Reading CV content from: txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.txt, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.json
🧪 [UNIFIED] CV content length=243, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • Python, Power BI, SQL, Excel, VBA, Analytical Models, Analytical, Detail-oriented, Data Analysis, Data Extraction, Business Intelligence  '
INFO:     127.0.0.1:54782 - "POST /api/preliminary-analysis HTTP/1.1" 200 OK
2025-10-09 16:42:06,696 - app.services.ats.component_assembler - ERROR - [ASSEMBLER] Industry analysis failed: Industry analysis failed: could not convert string to float: '50-70'
2025-10-09 16:42:06,696 - app.services.ats.component_assembler - ERROR - [ASSEMBLER] Assembly failed for Australia_for_UNHCR: Industry analysis failed: could not convert string to float: '50-70'
2025-10-09 16:42:06,696 - app.services.ats.modular_ats_orchestrator - ERROR - [MODULAR ATS] Component analysis failed for Australia_for_UNHCR: Industry analysis failed: could not convert string to float: '50-70'
2025-10-09 16:42:06,697 - app.routes.skills_analysis - ERROR - ❌ [PIPELINE] Component analysis failed for Australia_for_UNHCR: Industry analysis failed: could not convert string to float: '50-70'
2025-10-09 16:42:06,709 - app.routes.skills_analysis - ERROR - [PIPELINE] Component analysis traceback: Traceback (most recent call last):
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/services/ats/components/industry_analyzer.py", line 132, in analyze
    score = float(industry_analysis["industry_alignment_score"])
ValueError: could not convert string to float: '50-70'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/routes/skills_analysis.py", line 467, in _run_pipeline
    component_result = await user_orchestrator.run_component_analysis(cname, cv_text=cv_text_for_analysis or None)
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/services/ats/modular_ats_orchestrator.py", line 53, in run_component_analysis
    result = await self.assembler.assemble_analysis(company, cv_text=cv_text, jd_url="")
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/services/ats/component_assembler.py", line 675, in assemble_analysis
    component_results = await self._run_component_analyses(cv_text, jd_text, matched_skills, company)
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/services/ats/component_assembler.py", line 248, in _run_component_analyses
    raise result
  File "/Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/services/ats/components/industry_analyzer.py", line 141, in analyze
    raise ValueError(f"Industry analysis failed: {str(e)}")
ValueError: Industry analysis failed: could not convert string to float: '50-70'

2025-10-09 16:42:06,709 - app.routes.skills_analysis - INFO - 📋 [PIPELINE] Creating input recommendation file for Australia_for_UNHCR
2025-10-09 16:42:06,709 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:42:06,712 - app.services.ats_recommendation_service - WARNING - No component analysis entries found in user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_164122.json
2025-10-09 16:42:06,712 - app.services.ats_recommendation_service - WARNING - No ATS calculation entries found in user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_164122.json
2025-10-09 16:42:06,713 - app.services.ats_recommendation_service - INFO - Successfully extracted comprehensive recommendation data for Australia_for_UNHCR
2025-10-09 16:42:06,714 - app.services.ats_recommendation_service - INFO - Successfully created recommendation file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_164206.json
2025-10-09 16:42:06,736 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:42:06,736 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:42:06,739 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 16:42:06,739 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 16:42:06,739 INFO sqlalchemy.engine.Engine [generated in 0.00036s] {'email_1': 'keosha@gmail.com'}
2025-10-09 16:42:06,739 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] {'email_1': 'keosha@gmail.com'}
2025-10-09 16:42:06,782 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 16:42:06,782 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 16:42:06,782 INFO sqlalchemy.engine.Engine [generated in 0.00044s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 16:42:06,782 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 16:42:06,808 INFO sqlalchemy.engine.Engine INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 16:42:06,808 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 16:42:06,809 INFO sqlalchemy.engine.Engine [generated in 0.00091s] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_164206.json', 'file_path': 'user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_164206.json', 'file_size': 12674, 'sha256': '631cc57b18497acf38e1cb6d730aca4339c3580901430d655f7470f54e416144', 'timestamp': '20251009_164206'}
2025-10-09 16:42:06,809 - sqlalchemy.engine.Engine - INFO - [generated in 0.00091s] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_164206.json', 'file_path': 'user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_164206.json', 'file_size': 12674, 'sha256': '631cc57b18497acf38e1cb6d730aca4339c3580901430d655f7470f54e416144', 'timestamp': '20251009_164206'}
2025-10-09 16:42:06,833 INFO sqlalchemy.engine.Engine INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 16:42:06,833 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 16:42:06,833 INFO sqlalchemy.engine.Engine [generated in 0.00062s] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'kind': 'input_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 181}
2025-10-09 16:42:06,833 - sqlalchemy.engine.Engine - INFO - [generated in 0.00062s] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'kind': 'input_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 181}
2025-10-09 16:42:06,854 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 16:42:06,854 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 16:42:06,879 - app.services.ats_recommendation_service - INFO - Successfully created AI recommendation prompt: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_prompt_recommendation.py
2025-10-09 16:42:06,879 - app.services.ats_recommendation_service - INFO - 🤖 [TRIGGER] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-09 16:42:06,880 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:42:06,880 - app.services.ats_recommendation_service - INFO - 📋 [TRIGGER] AI generation scheduled as background task for Australia_for_UNHCR
2025-10-09 16:42:06,880 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Input recommendation file created for Australia_for_UNHCR
2025-10-09 16:42:06,881 - app.routes.skills_analysis - INFO - 🤖 [PIPELINE] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-09 16:42:06,881 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:42:06,881 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-09 16:42:06,883 - app.services.ai_recommendation_generator - INFO - 🟡 [AI GENERATOR] Input recommendation is newer (ai_mtime=1759987984.5706623, input_mtime=1759988526.7142131); regenerating AI recommendation
2025-10-09 16:42:06,884 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:42:06,884 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:42:06,885 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:42:06,886 - app.services.ai_recommendation_generator - ERROR - ❌ [AI GENERATOR] Error checking CV freshness: 'str' object has no attribute 'timestamp'
2025-10-09 16:42:06,888 - app.services.ai_recommendation_generator - INFO - 📋 [AI GENERATOR] Generated AI prompt for Australia_for_UNHCR using centralized template (11965 characters)
2025-10-09 16:42:06,888 - app.services.ai_recommendation_generator - INFO - 🧠 [AI GENERATOR] Executing AI prompt for Australia_for_UNHCR
2025-10-09 16:42:06,888 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:42:06,889 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:42:06,889 - app.ai.ai_service - INFO - - Prompt length: 11965
2025-10-09 16:42:06,889 - app.ai.ai_service - INFO - - System prompt length: 130
2025-10-09 16:42:06,889 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:42:06,889 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:42:06,889 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:42:06,889 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:42:06,889 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:42:06,890 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:42:06,890 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:42:06,890 - app.ai.ai_service - INFO - - Available providers: ['openai']
WARNING:  WatchFiles detected changes in 'user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_prompt_recommendation.py'. Reloading...
2025-10-09 16:42:07,361 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:42:07,374 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:42:07,374 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:42:07,374 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:42:07,374 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:42:14,084 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:42:14,087 - app.services.ai_recommendation_generator - INFO - 🧠 [AI GENERATOR] AI response generated - Provider: openai, Model: gpt-3.5-turbo
2025-10-09 16:42:14,087 - app.services.ai_recommendation_generator - INFO - 💰 [AI GENERATOR] Cost: $0.0046, Tokens: 3501
2025-10-09 16:42:14,088 - app.services.ai_recommendation_generator - INFO - 💾 [AI GENERATOR] Saved AI recommendation: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_164214.json (4.3KB)
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=tailored, ts=20251009_160851, mtime=1759988164.9906538, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
  - type=tailored, ts=20251009_161344, mtime=1759988164.9952226, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json
  - type=tailored, ts=20251009_162503, mtime=1759988164.9867861, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.json
  - type=tailored, ts=20251009_163317, mtime=1759988164.9816656, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.json
  - type=original, ts=00000000_000000, mtime=1759986398.6319315, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=tailored, ts=20251009_163317, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.json, txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.txt
2025-10-09 16:42:14,118 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:42:14,118 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:42:14,119 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 16:42:14,119 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 16:42:14,119 INFO sqlalchemy.engine.Engine [cached since 7.38s ago] {'email_1': 'keosha@gmail.com'}
2025-10-09 16:42:14,119 - sqlalchemy.engine.Engine - INFO - [cached since 7.38s ago] {'email_1': 'keosha@gmail.com'}
2025-10-09 16:42:14,160 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 16:42:14,160 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 16:42:14,160 INFO sqlalchemy.engine.Engine [cached since 7.378s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 16:42:14,160 - sqlalchemy.engine.Engine - INFO - [cached since 7.378s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 16:42:14,183 INFO sqlalchemy.engine.Engine INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 16:42:14,183 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 16:42:14,183 INFO sqlalchemy.engine.Engine [cached since 7.375s ago] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'file_type': 'ai_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_ai_recommendation_20251009_164214.json', 'file_path': 'user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_164214.json', 'file_size': 4374, 'sha256': '878615439c097eed28f03269c0b9f94d3fc860164df579c99140e2fe07c8b89f', 'timestamp': '20251009_164214'}
2025-10-09 16:42:14,183 - sqlalchemy.engine.Engine - INFO - [cached since 7.375s ago] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'file_type': 'ai_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_ai_recommendation_20251009_164214.json', 'file_path': 'user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_164214.json', 'file_size': 4374, 'sha256': '878615439c097eed28f03269c0b9f94d3fc860164df579c99140e2fe07c8b89f', 'timestamp': '20251009_164214'}
2025-10-09 16:42:14,205 INFO sqlalchemy.engine.Engine INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 16:42:14,205 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 16:42:14,206 INFO sqlalchemy.engine.Engine [cached since 7.373s ago] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'kind': 'ai_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 182}
2025-10-09 16:42:14,206 - sqlalchemy.engine.Engine - INFO - [cached since 7.373s ago] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'kind': 'ai_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 182}
2025-10-09 16:42:14,228 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 16:42:14,228 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 16:42:14,244 - app.services.ai_recommendation_generator - INFO - ✅ [AI GENERATOR] AI recommendation generated and saved for Australia_for_UNHCR
2025-10-09 16:42:14,245 - app.services.ai_recommendation_generator - INFO - 📄 File: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_163304.json
2025-10-09 16:42:14,245 - app.services.ai_recommendation_generator - INFO - 💰 Cost: $0.0046
2025-10-09 16:42:14,246 - app.services.ai_recommendation_generator - INFO - 🔤 Tokens: 3501
2025-10-09 16:42:14,246 - app.services.ai_recommendation_generator - INFO - 🚀 [AI GENERATOR] Starting automatic CV tailoring for Australia_for_UNHCR
2025-10-09 16:42:14,246 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:42:14,248 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded CV optimization framework from /Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/tailored_cv/prompts/framework.md
2025-10-09 16:42:14,248 - app.tailored_cv.services.cv_tailoring_service - INFO - Loading real data for Australia_for_UNHCR
2025-10-09 16:42:14,249 - app.tailored_cv.services.cv_tailoring_service - INFO - Company folder: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 16:42:14,249 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:42:14,249 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:42:14,249 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:42:14,251 - app.tailored_cv.services.cv_tailoring_service - INFO - 📄 [TAILORING] Using latest CV via unified selector → type=tailored, ts=20251009_163317, path=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.txt
2025-10-09 16:42:14,251 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [DEBUG] Loading CV from user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.txt
2025-10-09 16:42:14,252 - app.tailored_cv.services.cv_tailoring_service - INFO - - First 200 chars: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • Python, Power BI, SQL, Excel, VBA, Analytical Models, Analytical, Detail-oriented, Data Analysi
2025-10-09 16:42:14,252 - app.tailored_cv.services.recommendation_parser - INFO - 📂 Loading CV from: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.txt
2025-10-09 16:42:14,253 - app.tailored_cv.services.recommendation_parser - INFO - 📝 Detected .txt CV file → parsing as raw text
2025-10-09 16:42:14,255 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Successfully parsed raw text CV from .txt
2025-10-09 16:42:14,255 - app.tailored_cv.services.cv_tailoring_service - INFO - - Parsed CV data keys: ['contact', 'education', 'experience', 'skills', 'total_years_experience']
2025-10-09 16:42:14,256 - app.tailored_cv.services.cv_tailoring_service - WARNING - ⚠️ [TAILORING] CV data is empty, checking for original_text fallback
2025-10-09 16:42:14,256 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Skills already in SkillCategory format
2025-10-09 16:42:14,256 - app.tailored_cv.services.cv_tailoring_service - WARNING - ⚠️ [TAILORING] CV data is incomplete, falling back to original CV
2025-10-09 16:42:14,256 - app.tailored_cv.services.cv_tailoring_service - INFO - 📄 [TAILORING] Loading original CV as fallback: user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 16:42:14,256 - app.tailored_cv.services.recommendation_parser - INFO - 📂 Loading CV from: user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 16:42:14,257 - app.tailored_cv.services.recommendation_parser - INFO - 📋 CV format check:
2025-10-09 16:42:14,258 - app.tailored_cv.services.recommendation_parser - INFO -   - Top-level keys: ['personal_information', 'career_profile', 'skills', 'education', 'experience', 'projects', 'certifications', 'languages', 'awards', 'publications', 'volunteer_work', 'professional_memberships', 'unknown_sections', 'original_sections', 'saved_at', 'metadata']
2025-10-09 16:42:14,258 - app.tailored_cv.services.recommendation_parser - INFO -   - Has metadata: True
2025-10-09 16:42:14,258 - app.tailored_cv.services.recommendation_parser - INFO -   - Source file: maheshwor_tiwari.pdf
2025-10-09 16:42:14,259 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing version: 1.0
2025-10-09 16:42:14,259 - app.tailored_cv.services.recommendation_parser - INFO - 🔍 [CV_PARSER] Detailed CV structure analysis:
2025-10-09 16:42:14,259 - app.tailored_cv.services.recommendation_parser - INFO -   - Has contact: False
2025-10-09 16:42:14,260 - app.tailored_cv.services.recommendation_parser - INFO -   - Has experience: True
2025-10-09 16:42:14,260 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience type: <class 'list'>
2025-10-09 16:42:14,260 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience count: 6
2025-10-09 16:42:14,260 - app.tailored_cv.services.recommendation_parser - INFO -   - First experience keys: ['title', 'company', 'duration', 'location', 'responsibilities', 'achievements', 'technologies']
2025-10-09 16:42:14,260 - app.tailored_cv.services.recommendation_parser - INFO -   - Has skills: True
2025-10-09 16:42:14,261 - app.tailored_cv.services.recommendation_parser - INFO -   - Skills type: <class 'dict'>
2025-10-09 16:42:14,261 - app.tailored_cv.services.recommendation_parser - INFO -   - Skills count: Not a list
2025-10-09 16:42:14,261 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Detected structured CV format
2025-10-09 16:42:14,261 - app.tailored_cv.services.recommendation_parser - INFO - 📊 Structure overview:
2025-10-09 16:42:14,261 - app.tailored_cv.services.recommendation_parser - INFO -   - Skills sections: ['technical_skills', 'key_skills', 'soft_skills', 'domain_expertise']
2025-10-09 16:42:14,261 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience entries: 6
2025-10-09 16:42:14,262 - app.tailored_cv.services.recommendation_parser - INFO -   - Education entries: 3
2025-10-09 16:42:14,262 - app.tailored_cv.services.recommendation_parser - INFO -   - Projects: 0
2025-10-09 16:42:14,262 - app.tailored_cv.services.recommendation_parser - INFO - 🔄 Starting structured CV conversion
2025-10-09 16:42:14,262 - app.tailored_cv.services.recommendation_parser - INFO - 📊 Input data validation:
2025-10-09 16:42:14,262 - app.tailored_cv.services.recommendation_parser - INFO - 👤 Converting contact information
2025-10-09 16:42:14,262 - app.tailored_cv.services.recommendation_parser - INFO -   - Source fields: ['name', 'phone', 'email', 'location', 'linkedin', 'github', 'portfolio_links', 'residency_status', 'open_to']
2025-10-09 16:42:14,262 - app.tailored_cv.services.recommendation_parser - INFO -   - Mapped fields: ['name', 'email', 'phone', 'location', 'linkedin', 'website']
2025-10-09 16:42:14,263 - app.tailored_cv.services.recommendation_parser - INFO -   - Contact completeness: 100.0%
2025-10-09 16:42:14,263 - app.tailored_cv.services.recommendation_parser - INFO -   - LinkedIn: LinkedIn
2025-10-09 16:42:14,263 - app.tailored_cv.services.recommendation_parser - INFO -   - Website: GitHub
2025-10-09 16:42:14,263 - app.tailored_cv.services.recommendation_parser - INFO - 💼 Converting experience entries
2025-10-09 16:42:14,263 - app.tailored_cv.services.recommendation_parser - INFO -   - Found 6 experience entries
2025-10-09 16:42:14,263 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 1/6
2025-10-09 16:42:14,263 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: The Bitrates
2025-10-09 16:42:14,263 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Data Analyst
2025-10-09 16:42:14,264 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Jul 2024 to Present
2025-10-09 16:42:14,264 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 5
2025-10-09 16:42:14,264 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 2/6
2025-10-09 16:42:14,264 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: iBuild Building Solutions
2025-10-09 16:42:14,264 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Data Analyst
2025-10-09 16:42:14,264 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Mar 2024 to Jun 2024
2025-10-09 16:42:14,264 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 4
2025-10-09 16:42:14,264 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 3/6
2025-10-09 16:42:14,264 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: Property Console
2025-10-09 16:42:14,265 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Software engineer and Analyst
2025-10-09 16:42:14,265 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Jun 2023 to Nov 2023
2025-10-09 16:42:14,265 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 4
2025-10-09 16:42:14,265 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 4/6
2025-10-09 16:42:14,265 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: CY Cergy Paris University
2025-10-09 16:42:14,265 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Research Assistant
2025-10-09 16:42:14,265 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Oct 2018 to Sep 2022
2025-10-09 16:42:14,266 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 3
2025-10-09 16:42:14,266 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 5/6
2025-10-09 16:42:14,266 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: CY Cergy Paris University
2025-10-09 16:42:14,266 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Lecturer and Course Facilitator
2025-10-09 16:42:14,266 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Sep 2019 to Jun 2022
2025-10-09 16:42:14,266 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 3
2025-10-09 16:42:14,266 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 6/6
2025-10-09 16:42:14,267 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: CY Cergy Paris University
2025-10-09 16:42:14,267 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Research Intern
2025-10-09 16:42:14,267 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Feb 2018 to Jun 2018
2025-10-09 16:42:14,267 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 3
2025-10-09 16:42:14,267 - app.tailored_cv.services.recommendation_parser - INFO - Converted 6 experience entries
2025-10-09 16:42:14,268 - app.tailored_cv.services.recommendation_parser - INFO - 🔧 Converting skills section
2025-10-09 16:42:14,268 - app.tailored_cv.services.recommendation_parser - INFO -   - Source skill categories: ['technical_skills', 'key_skills', 'soft_skills', 'domain_expertise']
2025-10-09 16:42:14,268 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing technical skills:
2025-10-09 16:42:14,268 - app.tailored_cv.services.recommendation_parser - INFO -     • Extracted 5 unique technical skills
2025-10-09 16:42:14,268 - app.tailored_cv.services.recommendation_parser - INFO -     • Skills: Data Analysis, SQL, Python, Power BI, Excel
2025-10-09 16:42:14,268 - app.tailored_cv.services.recommendation_parser - INFO - Converted 1 skill categories
2025-10-09 16:42:14,269 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Conversion complete - Validating output
2025-10-09 16:42:14,269 - app.tailored_cv.services.recommendation_parser - INFO - ✓ Experience: 6 entries
2025-10-09 16:42:14,269 - app.tailored_cv.services.recommendation_parser - INFO - ✓ Skills: 1 categories
2025-10-09 16:42:14,269 - app.tailored_cv.services.recommendation_parser - INFO -   • Technical Skills: 5 skills
2025-10-09 16:42:14,269 - app.tailored_cv.services.recommendation_parser - INFO - ✨ Validation passed - All required sections present
2025-10-09 16:42:14,269 - app.tailored_cv.services.recommendation_parser - INFO - 🎓 Converting education entries
2025-10-09 16:42:14,269 - app.tailored_cv.services.recommendation_parser - INFO -   - Found 3 education entries
2025-10-09 16:42:14,270 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing education 1/3
2025-10-09 16:42:14,270 - app.tailored_cv.services.recommendation_parser - INFO -     • Institution: Charles Darwin University, Sydney, Australia
2025-10-09 16:42:14,270 - app.tailored_cv.services.recommendation_parser - INFO -     • Degree: Master of Data Science
2025-10-09 16:42:14,270 - app.tailored_cv.services.recommendation_parser - INFO -     • Graduation date: Mar 2023 - Nov 2024
2025-10-09 16:42:14,270 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing education 2/3
2025-10-09 16:42:14,270 - app.tailored_cv.services.recommendation_parser - INFO -     • Institution: CY Cergy Paris University, Cergy, France
2025-10-09 16:42:14,270 - app.tailored_cv.services.recommendation_parser - INFO -     • Degree: PhD in Physics
2025-10-09 16:42:14,271 - app.tailored_cv.services.recommendation_parser - INFO -     • Graduation date: Oct 2018 - Sep 2022
2025-10-09 16:42:14,271 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing education 3/3
2025-10-09 16:42:14,271 - app.tailored_cv.services.recommendation_parser - INFO -     • Institution: CY Cergy Paris University, Cergy, France
2025-10-09 16:42:14,271 - app.tailored_cv.services.recommendation_parser - INFO -     • Degree: Master of Theoretical Physics
2025-10-09 16:42:14,271 - app.tailored_cv.services.recommendation_parser - INFO -     • Graduation date: Sep 2016 - Jun 2018
2025-10-09 16:42:14,271 - app.tailored_cv.services.recommendation_parser - INFO - Converted 3 education entries
2025-10-09 16:42:14,271 - app.tailored_cv.services.recommendation_parser - INFO - 📤 Returning converted CV data:
2025-10-09 16:42:14,271 - app.tailored_cv.services.recommendation_parser - INFO -   - Contact fields: ['name', 'email', 'phone', 'location', 'linkedin', 'website']
2025-10-09 16:42:14,272 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience entries: 6
2025-10-09 16:42:14,272 - app.tailored_cv.services.recommendation_parser - INFO -   - Skill categories: 1
2025-10-09 16:42:14,272 - app.tailored_cv.services.recommendation_parser - INFO -   - Education entries: 3
2025-10-09 16:42:14,272 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [TAILORING] Successfully loaded original CV as fallback
2025-10-09 16:42:14,272 - app.tailored_cv.services.cv_tailoring_service - INFO - - Final CV object attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__repr__', '__repr_args__', '__repr_name__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_check_frozen', '_copy_and_set_values', '_get_value', '_iter', 'construct', 'contact', 'copy', 'created_at', 'dict', 'education', 'experience', 'experience_level', 'from_orm', 'json', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'projects', 'schema', 'schema_json', 'skills', 'total_years_experience', 'update_forward_refs', 'updated_at', 'validate']
2025-10-09 16:42:14,279 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Parsed recommendation for Australia_for_UNHCR
2025-10-09 16:42:14,280 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded real CV and recommendation for Australia_for_UNHCR
2025-10-09 16:42:14,280 - app.tailored_cv.services.cv_tailoring_service - INFO - 🎯 Starting CV tailoring for Australia_for_UNHCR - Senior Data Analyst
2025-10-09 16:42:14,280 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [DEBUG] Validating CV structure:
2025-10-09 16:42:14,280 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV object type: <class 'app.tailored_cv.models.cv_models.OriginalCV'>
2025-10-09 16:42:14,281 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__repr__', '__repr_args__', '__repr_name__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_check_frozen', '_copy_and_set_values', '_get_value', '_iter', 'construct', 'contact', 'copy', 'created_at', 'dict', 'education', 'experience', 'experience_level', 'from_orm', 'json', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'projects', 'schema', 'schema_json', 'skills', 'total_years_experience', 'update_forward_refs', 'updated_at', 'validate']
2025-10-09 16:42:14,281 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV data: {
  "contact": {
    "name": "Maheshwor Tiwari",
    "phone": "0414 032 507",
    "email": "maheshtwari99@gmail.com",
    "linkedin": "LinkedIn",
    "location": "Hurstville, NSW, 2220",
    "website": "GitHub"
  },
  "education": [
    {
      "institution": "Charles Darwin University, Sydney, Australia",
      "degree": "Master of Data Science",
      "location": "Sydney, Australia",
      "graduation_date": "Mar 2023 - Nov 2024",
      "gpa": "GPA",
      "relevant_coursework": [],
      "honors": []
    },
    {
      "institution": "CY Cergy Paris University, Cergy, France",
      "degree": "PhD in Physics",
      "location": "Cergy, France",
      "graduation_date": "Oct 2018 - Sep 2022",
      "gpa": "",
      "relevant_coursework": [],
      "honors": []
    },
    {
      "institution": "CY Cergy Paris University, Cergy, France",
      "degree": "Master of Theoretical Physics",
      "location": "Cergy, France",
      "graduation_date": "Sep 2016 - Jun 2018",
      "gpa": "",
      "relevant_coursework": [],
      "honors": []
    }
  ],
  "experience": [
    {
      "company": "The Bitrates",
      "title": "Data Analyst",
      "location": "",
      "start_date": "Jul 2024",
      "end_date": "Present",
      "duration": null,
      "bullets": [
        "Designed and implemented Python scripts for data cleaning, preprocessing, and analysis, improving data pipeline efficiency by 30%.",
        "Developed machine learning models in Python for predictive analytics, enabling data-driven business decisions.",
        "Leveraged AI techniques to automate repetitive tasks, reducing manual effort and improving productivity.",
        "Built dynamic dashboards and visualizations using Python libraries like Matplotlib and Seaborn to communicate insights effectively.",
        "Integrated Google Analytics data with Python for advanced analysis, enhancing customer behavior insights."
      ],
      "skills_used": null
    },
    {
      "company": "iBuild Building Solutions",
      "title": "Data Analyst",
      "location": "",
      "start_date": "Mar 2024",
      "end_date": "Jun 2024",
      "duration": null,
      "bullets": [
        "Automated data extraction and structuring of population datasets using Python, improving data accuracy and team collaboration.",
        "Analyzed customer support data with Python to optimize response times and enhance operational efficiency.",
        "Developed Python-based solutions to generate actionable insights, meeting strict deadlines for strategic decision-making.",
        "Designed Python scripts to create dynamic reports and dashboards, significantly improving customer satisfaction and decision-making processes."
      ],
      "skills_used": null
    },
    {
      "company": "Property Console",
      "title": "Software engineer and Analyst",
      "location": "",
      "start_date": "Jun 2023",
      "end_date": "Nov 2023",
      "duration": null,
      "bullets": [
        "Built Python scripts to track key metrics, ensuring 99% data accuracy and improving data integrity and operational efficiency.",
        "Collaborated with the development team to enhance analytics capabilities, using Python to improve data processing speed by 25%.",
        "Leveraged Python for data preprocessing and analysis, producing Tableau dashboards that improved decision-making.",
        "Supported cross-functional teams with Python-driven insights, enabling customer-focused initiatives."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Research Assistant",
      "location": "",
      "start_date": "Oct 2018",
      "end_date": "Sep 2022",
      "duration": null,
      "bullets": [
        "Utilized advanced Python programming for computational modeling and solving complex research problems.",
        "Developed Python-based workflows to manage and analyze large datasets across multiple research projects.",
        "Presented Python-enabled research findings at international conferences, demonstrating technical expertise and communication skills."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Lecturer and Course Facilitator",
      "location": "",
      "start_date": "Sep 2019",
      "end_date": "Jun 2022",
      "duration": null,
      "bullets": [
        "Led engaging physics tutorials for master\u2019s students, enhancing understanding and promoting teamwork.",
        "Designed course materials, assignments, and exams, strengthening the learning experience.",
        "Mentored students on projects, collaborated with faculty, and fostered student engagement."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Research Intern",
      "location": "",
      "start_date": "Feb 2018",
      "end_date": "Jun 2018",
      "duration": null,
      "bullets": [
        "Developed proficiency in Python programming by researching the effect of magnetic fields on 2D materials.",
        "Managed and analyzed complex data sets, improving their accuracy and reliability.",
        "Used dashboard using Power BI to present research findings and participated in weekly reviews, improving collaboration and research skills."
      ],
      "skills_used": null
    }
  ],
  "projects": null,
  "skills": [
    {
      "category": "Technical Skills",
      "skills": [
        "Data Analysis",
        "SQL",
        "Python",
        "Power BI",
        "Excel"
      ]
    }
  ],
  "experience_level": null,
  "total_years_experience": null,
  "created_at": null,
  "updated_at": null
}
2025-10-09 16:42:14,281 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [CV_VALIDATION] Starting detailed validation:
2025-10-09 16:42:14,282 - app.tailored_cv.services.cv_tailoring_service - INFO - - Has contact: True
2025-10-09 16:42:14,282 - app.tailored_cv.services.cv_tailoring_service - INFO - - Contact name: Maheshwor Tiwari
2025-10-09 16:42:14,282 - app.tailored_cv.services.cv_tailoring_service - INFO - - Contact email: maheshtwari99@gmail.com
2025-10-09 16:42:14,282 - app.tailored_cv.services.cv_tailoring_service - INFO - - Has experience: True
2025-10-09 16:42:14,282 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience count: 6
2025-10-09 16:42:14,282 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 1: company=The Bitrates, bullets=5
2025-10-09 16:42:14,282 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 2: company=iBuild Building Solutions, bullets=4
2025-10-09 16:42:14,282 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 3: company=Property Console, bullets=4
2025-10-09 16:42:14,283 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 4: company=CY Cergy Paris University, bullets=3
2025-10-09 16:42:14,283 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 5: company=CY Cergy Paris University, bullets=3
2025-10-09 16:42:14,283 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 6: company=CY Cergy Paris University, bullets=3
2025-10-09 16:42:14,283 - app.tailored_cv.services.cv_tailoring_service - INFO - - Has skills: True
2025-10-09 16:42:14,283 - app.tailored_cv.services.cv_tailoring_service - INFO - - Skills count: 1
2025-10-09 16:42:14,284 - app.tailored_cv.services.cv_tailoring_service - INFO - - Skill category 1: Technical Skills, skills=5
2025-10-09 16:42:14,284 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [CV_VALIDATION] Checking required fields:
2025-10-09 16:42:14,284 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Contact name present: Maheshwor Tiwari
2025-10-09 16:42:14,284 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Contact email present: maheshtwari99@gmail.com
2025-10-09 16:42:14,284 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Experience entries present: 6
2025-10-09 16:42:14,285 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Skills section present: 1 categories
2025-10-09 16:42:14,286 - app.tailored_cv.services.cv_tailoring_service - INFO - [f26a8c65] 🎯 Starting CV tailoring for Australia_for_UNHCR with strategy: education_last
2025-10-09 16:42:14,286 - app.tailored_cv.services.cv_tailoring_service - INFO - [f26a8c65] Initial stats:
2025-10-09 16:42:14,286 - app.tailored_cv.services.cv_tailoring_service - INFO - [f26a8c65] - Experience entries: 6
2025-10-09 16:42:14,286 - app.tailored_cv.services.cv_tailoring_service - INFO - [f26a8c65] - Total bullets: 22
2025-10-09 16:42:14,286 - app.tailored_cv.services.cv_tailoring_service - INFO - [f26a8c65] - Skills categories: 1
2025-10-09 16:42:14,287 - app.tailored_cv.services.cv_tailoring_service - INFO - [f26a8c65] - Total skills: 5
2025-10-09 16:42:14,287 - app.tailored_cv.services.cv_tailoring_service - INFO - [f26a8c65] Critical gaps to address: Business Intelligence, VBA, Querying, Analytical
2025-10-09 16:42:14,287 - app.tailored_cv.services.cv_tailoring_service - INFO - [f26a8c65] Technical enhancements needed: 
2025-10-09 16:42:14,287 - app.tailored_cv.services.cv_tailoring_service - INFO - [f26a8c65] 🤖 Generating tailored CV using AI service...
2025-10-09 16:42:14,287 - app.tailored_cv.services.cv_tailoring_service - INFO - [f26a8c65] Attempt 1/5 with temp=0.0
2025-10-09 16:42:14,287 - app.tailored_cv.services.cv_tailoring_service - INFO - [f26a8c65] - System prompt length: 10574
2025-10-09 16:42:14,288 - app.tailored_cv.services.cv_tailoring_service - INFO - [f26a8c65] - User prompt length: 12398
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=tailored, ts=20251009_160851, mtime=1759988164.9906538, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
  - type=tailored, ts=20251009_161344, mtime=1759988164.9952226, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json
  - type=tailored, ts=20251009_162503, mtime=1759988164.9867861, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.json
  - type=tailored, ts=20251009_163317, mtime=1759988164.9816656, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.json
  - type=original, ts=00000000_000000, mtime=1759986398.6319315, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=tailored, ts=20251009_163317, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.json, txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.txt
2025-10-09 16:42:14,310 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:42:14,310 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:42:14,312 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 16:42:14,312 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 16:42:14,312 INFO sqlalchemy.engine.Engine [generated in 0.00054s] {'email_1': 'keosha@gmail.com', 'param_1': 1}
2025-10-09 16:42:14,312 - sqlalchemy.engine.Engine - INFO - [generated in 0.00054s] {'email_1': 'keosha@gmail.com', 'param_1': 1}
2025-10-09 16:42:14,352 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:42:14,352 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:42:14,375 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user keosha@gmail.com
2025-10-09 16:42:14,376 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Before initialization:
2025-10-09 16:42:14,376 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 16:42:14,376 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:42:14,376 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:42:14,377 - app.ai.ai_service - INFO - - Cached providers for user: ['openai']
2025-10-09 16:42:14,377 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Using cached providers for user keosha@gmail.com
2025-10-09 16:42:14,377 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] After initialization:
2025-10-09 16:42:14,377 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 16:42:14,377 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:42:14,378 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:42:14,378 - app.tailored_cv.services.cv_tailoring_service - INFO - [f26a8c65] 🔄 Initialized AI service for user keosha@gmail.com
2025-10-09 16:42:14,378 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:42:14,378 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:42:14,379 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:42:14,379 - app.ai.ai_service - INFO - - Prompt length: 12398
2025-10-09 16:42:14,379 - app.ai.ai_service - INFO - - System prompt length: 10574
2025-10-09 16:42:14,379 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:42:14,379 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:42:14,380 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:42:14,380 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:42:14,380 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:42:14,380 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:42:14,380 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:42:14,380 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:42:14,845 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:42:14,857 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:42:14,857 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:42:14,858 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:42:14,859 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:42:30,615 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:42:30,619 - app.tailored_cv.services.cv_tailoring_service - INFO - [f26a8c65] AI response stats:
2025-10-09 16:42:30,619 - app.tailored_cv.services.cv_tailoring_service - INFO - [f26a8c65] - Content length: 6112
2025-10-09 16:42:30,619 - app.tailored_cv.services.cv_tailoring_service - INFO - [f26a8c65] - First 300 chars: {   "contact": {     "name": "Maheshwor Tiwari",     "phone": "0414 032 507",     "email": "maheshtwari99@gmail.com",     "location": "Hurstville, NSW, 2220",     "linkedin": "",     "website": ""   },   "education": [     {       "institution": "Charles Darwin University, Sydney, Australia",       ...
2025-10-09 16:42:30,619 - app.tailored_cv.services.cv_tailoring_service - INFO - Starting JSON extraction from content length: 6112
2025-10-09 16:42:30,620 - app.tailored_cv.services.cv_tailoring_service - INFO - [f26a8c65] 🔍 Starting JSON validation
2025-10-09 16:42:30,621 - app.tailored_cv.services.cv_tailoring_service - WARNING - [f26a8c65] CV created below minimum standards: 42.9% quantification
2025-10-09 16:42:30,621 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ JSON structure and Impact Formula validation passed (12/28 bullets with quantification)
2025-10-09 16:42:30,621 - app.tailored_cv.services.cv_tailoring_service - INFO - ℹ️ Skipping placeholder checks; proceeding with generated data as-is.
2025-10-09 16:42:30,621 - app.tailored_cv.services.cv_tailoring_service - INFO - [f26a8c65] 🔍 Starting keyword integration validation
2025-10-09 16:42:30,621 - app.tailored_cv.services.cv_tailoring_service - INFO - [f26a8c65] Scanning experience bullets:
2025-10-09 16:42:30,621 - app.tailored_cv.services.cv_tailoring_service - INFO - [f26a8c65] - Experience 1: 6 bullets
2025-10-09 16:42:30,621 - app.tailored_cv.services.cv_tailoring_service - INFO - [f26a8c65] - Experience 2: 5 bullets
2025-10-09 16:42:30,622 - app.tailored_cv.services.cv_tailoring_service - INFO - [f26a8c65] - Experience 3: 5 bullets
2025-10-09 16:42:30,622 - app.tailored_cv.services.cv_tailoring_service - INFO - [f26a8c65] - Experience 4: 4 bullets
2025-10-09 16:42:30,622 - app.tailored_cv.services.cv_tailoring_service - INFO - [f26a8c65] - Experience 5: 4 bullets
2025-10-09 16:42:30,622 - app.tailored_cv.services.cv_tailoring_service - INFO - [f26a8c65] - Experience 6: 4 bullets
2025-10-09 16:42:30,622 - app.tailored_cv.services.cv_tailoring_service - INFO - [f26a8c65] Scanning skills:
2025-10-09 16:42:30,622 - app.tailored_cv.services.cv_tailoring_service - INFO - [f26a8c65] - Category 1: 9 skills
2025-10-09 16:42:30,622 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Keyword integration validation passed - 4/4 critical keywords found
2025-10-09 16:42:30,622 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Keyword integration validation passed - 4 critical keywords found
2025-10-09 16:42:30,623 - app.tailored_cv.services.cv_tailoring_service - INFO - [f26a8c65] ✅ AI generation successful on attempt 1
2025-10-09 16:42:30,623 - app.tailored_cv.services.cv_tailoring_service - INFO - [f26a8c65] 🔁 Quantification below 60% (42.9%). Enhancement attempt 1/3
2025-10-09 16:42:30,623 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:42:30,623 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:42:30,623 - app.ai.ai_service - INFO - - Prompt length: 14154
2025-10-09 16:42:30,623 - app.ai.ai_service - INFO - - System prompt length: 10574
2025-10-09 16:42:30,623 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:42:30,623 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:42:30,624 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:42:30,624 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:42:30,624 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:42:30,624 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:42:30,624 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:42:30,624 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:42:31,031 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:42:31,047 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:42:31,047 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:42:31,048 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:42:31,048 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:42:40,452 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:42:40,454 - app.tailored_cv.services.cv_tailoring_service - INFO - Starting JSON extraction from content length: 5647
2025-10-09 16:42:40,454 - app.tailored_cv.services.cv_tailoring_service - INFO - [f26a8c65] 🔍 Starting JSON validation
2025-10-09 16:42:40,455 - app.tailored_cv.services.cv_tailoring_service - INFO - [f26a8c65] CV created with improvement suggestions: 65.2% quantification
2025-10-09 16:42:40,455 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ JSON structure and Impact Formula validation passed (15/23 bullets with quantification)
2025-10-09 16:42:40,475 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:42:40,475 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:42:40,476 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 16:42:40,476 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 16:42:40,476 INFO sqlalchemy.engine.Engine [cached since 26.17s ago] {'email_1': 'keosha@gmail.com', 'param_1': 1}
2025-10-09 16:42:40,476 - sqlalchemy.engine.Engine - INFO - [cached since 26.17s ago] {'email_1': 'keosha@gmail.com', 'param_1': 1}
2025-10-09 16:42:40,514 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:42:40,514 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:42:40,540 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:42:40,541 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:42:40,541 - app.ai.ai_service - INFO - - Prompt length: 3098
2025-10-09 16:42:40,541 - app.ai.ai_service - INFO - - System prompt length: 424
2025-10-09 16:42:40,542 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:42:40,542 - app.ai.ai_service - INFO - - Max tokens: 10
2025-10-09 16:42:40,543 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:42:40,543 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:42:40,543 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:42:40,544 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:42:40,544 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:42:40,544 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:42:41,036 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:42:41,221 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:42:41,221 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:42:41,221 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:42:41,221 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:42:41,818 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:42:41,829 - app.tailored_cv.services.cv_tailoring_service - INFO - ⚠️ CV created with quality warnings: GOOD (B+)
2025-10-09 16:42:41,829 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ CV tailoring completed successfully. Estimated ATS score: 85
2025-10-09 16:42:41,832 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Saved tailored CV to user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.json
2025-10-09 16:42:41,832 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Saved tailored CV text to user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.txt
2025-10-09 16:42:41,832 - app.services.ai_recommendation_generator - INFO - ✅ [AI GENERATOR] Tailored CV saved automatically to user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.json
2025-10-09 16:42:41,832 - app.services.ai_recommendation_generator - INFO - 📊 [AI GENERATOR] Estimated ATS score: 85
2025-10-09 16:42:41,832 - app.services.ai_recommendation_generator - INFO - 🎯 [AI GENERATOR] CV tailoring completed automatically for Australia_for_UNHCR
2025-10-09 16:42:41,833 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] AI recommendation generated for Australia_for_UNHCR
2025-10-09 16:42:41,833 - app.routes.skills_analysis - INFO - 🎯 [PIPELINE] Starting tailored CV generation for Australia_for_UNHCR
2025-10-09 16:42:41,833 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:42:41,834 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded CV optimization framework from /Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/tailored_cv/prompts/framework.md
2025-10-09 16:42:41,834 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:42:41,835 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Found AI recommendation file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_164214.json
2025-10-09 16:42:41,835 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Tailored CV found: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.txt
2025-10-09 16:42:41,836 - app.routes.skills_analysis - INFO - 📋 [PIPELINE] Pipeline summary for Australia_for_UNHCR:
2025-10-09 16:42:41,836 - app.routes.skills_analysis - INFO -    ✅ Successful: ['jd_analysis', 'cv_jd_matching', 'input_recommendation', 'ai_recommendation', 'tailored_cv']
2025-10-09 16:42:41,836 - app.routes.skills_analysis - INFO -    ❌ Failed: ['component_analysis']
2025-10-09 16:42:41,836 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-09 16:42:41,837 - app.services.ai_recommendation_generator - INFO - 🟢 [AI GENERATOR] Latest AI recommendation (Australia_for_UNHCR_ai_recommendation_20251009_164214.json) is up-to-date vs input (Australia_for_UNHCR_input_recommendation_20251009_164206.json); skipping regeneration
2025-10-09 16:42:41,837 - app.services.ats_recommendation_service - INFO - ✅ [TRIGGER] AI recommendation generated successfully for Australia_for_UNHCR
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 16:42:41,938 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [25226]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [25489]
INFO:     Waiting for application startup.
2025-10-09 16:42:48,548 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 16:42:48,859 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 16:42:48,859 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 16:42:48,860 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:42:48,860 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:42:48,900 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 16:42:48,900 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 16:42:48,901 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:42:48,901 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:42:48,942 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 16:42:48,942 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 16:42:48,942 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:42:48,942 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:42:48,987 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:42:48,987 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:42:48,988 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 16:42:48,988 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 16:42:48,988 INFO sqlalchemy.engine.Engine [generated in 0.00095s] {}
2025-10-09 16:42:48,988 - sqlalchemy.engine.Engine - INFO - [generated in 0.00095s] {}
2025-10-09 16:42:49,027 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:42:49,027 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:42:49,044 - app.database - INFO - Database connection successful
2025-10-09 16:42:49,044 - app.main - INFO - ✅ Database connection successful
2025-10-09 16:42:49,061 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:42:49,061 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:42:49,067 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:42:49,067 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:42:49,069 INFO sqlalchemy.engine.Engine [generated in 0.00189s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:42:49,069 - sqlalchemy.engine.Engine - INFO - [generated in 0.00189s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:42:49,108 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:42:49,108 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:42:49,109 INFO sqlalchemy.engine.Engine [cached since 0.04191s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:42:49,109 - sqlalchemy.engine.Engine - INFO - [cached since 0.04191s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:42:49,130 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:42:49,130 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:42:49,131 INFO sqlalchemy.engine.Engine [cached since 0.06379s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:42:49,131 - sqlalchemy.engine.Engine - INFO - [cached since 0.06379s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:42:49,152 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:42:49,152 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:42:49,153 INFO sqlalchemy.engine.Engine [cached since 0.08605s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:42:49,153 - sqlalchemy.engine.Engine - INFO - [cached since 0.08605s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:42:49,175 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:42:49,175 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:42:49,175 INFO sqlalchemy.engine.Engine [cached since 0.1088s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:42:49,175 - sqlalchemy.engine.Engine - INFO - [cached since 0.1088s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:42:49,193 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:42:49,193 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:42:49,193 INFO sqlalchemy.engine.Engine [cached since 0.1268s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:42:49,193 - sqlalchemy.engine.Engine - INFO - [cached since 0.1268s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:42:49,216 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:42:49,216 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:42:49,216 INFO sqlalchemy.engine.Engine [cached since 0.1492s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:42:49,216 - sqlalchemy.engine.Engine - INFO - [cached since 0.1492s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:42:49,234 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:42:49,234 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:42:49,235 INFO sqlalchemy.engine.Engine [cached since 0.1682s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:42:49,235 - sqlalchemy.engine.Engine - INFO - [cached since 0.1682s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:42:49,256 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:42:49,256 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:42:49,256 INFO sqlalchemy.engine.Engine [cached since 0.1893s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:42:49,256 - sqlalchemy.engine.Engine - INFO - [cached since 0.1893s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:42:49,279 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:42:49,279 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:42:49,279 INFO sqlalchemy.engine.Engine [cached since 0.2122s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:42:49,279 - sqlalchemy.engine.Engine - INFO - [cached since 0.2122s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:42:49,301 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:42:49,301 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:42:49,301 INFO sqlalchemy.engine.Engine [cached since 0.2346s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:42:49,301 - sqlalchemy.engine.Engine - INFO - [cached since 0.2346s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:42:49,326 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 16:42:49,326 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 16:42:49,344 - app.database - INFO - Database tables created successfully
2025-10-09 16:42:49,344 - app.main - INFO - ✅ Database tables ready
2025-10-09 16:42:49,345 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 16:42:49,345 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
INFO:     127.0.0.1:54871 - "OPTIONS /api/analysis-results/Australia_for_UNHCR HTTP/1.1" 200 OK
2025-10-09 16:42:49,357 - app.routes.skills_analysis - INFO - 📊 [API] Fetching analysis results for company: Australia_for_UNHCR
2025-10-09 16:42:49,357 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:42:49,358 - app.utils.path_debug - INFO - 
📌 Starting get_analysis_results
2025-10-09 16:42:49,358 - app.utils.path_debug - INFO -   📂 User base dir: user/keosha@gmail.com/cv-analysis
2025-10-09 16:42:49,358 - app.utils.path_debug - INFO -   📂 Company dir: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 16:42:49,361 - app.utils.path_debug - INFO -   📂 Using analysis file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_164122.json
2025-10-09 16:42:49,362 - app.utils.path_debug - INFO -   ✅ Loaded analysis file, size: 16553 bytes
INFO:     127.0.0.1:54871 - "GET /api/analysis-results/Australia_for_UNHCR HTTP/1.1" 200 OK
2025-10-09 16:43:01,940 - app.routes.skills_analysis - INFO - 📊 [API] Fetching analysis results for company: Australia_for_UNHCR
2025-10-09 16:43:01,942 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:43:01,942 - app.utils.path_debug - INFO - 
📌 Starting get_analysis_results
2025-10-09 16:43:01,942 - app.utils.path_debug - INFO -   📂 User base dir: user/keosha@gmail.com/cv-analysis
2025-10-09 16:43:01,943 - app.utils.path_debug - INFO -   📂 Company dir: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 16:43:01,944 - app.utils.path_debug - INFO -   📂 Using analysis file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_164122.json
2025-10-09 16:43:01,945 - app.utils.path_debug - INFO -   ✅ Loaded analysis file, size: 16553 bytes
INFO:     127.0.0.1:54882 - "GET /api/analysis-results/Australia_for_UNHCR HTTP/1.1" 200 OK
INFO:     127.0.0.1:54882 - "OPTIONS /api/ai-recommendations/company/Australia_for_UNHCR HTTP/1.1" 200 OK
2025-10-09 16:43:02,304 - app.routes.ai_recommendations - INFO - 🔍 [AI_RECOMMENDATIONS] Fetching for company: Australia_for_UNHCR, user: keosha@gmail.com
2025-10-09 16:43:02,304 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:43:02,304 - app.routes.ai_recommendations - INFO - 🔍 [AI_RECOMMENDATIONS] Searching in: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 16:43:02,305 - app.routes.ai_recommendations - INFO - ✅ [AI_RECOMMENDATIONS] Found file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_164214.json
2025-10-09 16:43:02,305 - app.routes.ai_recommendations - INFO - ✅ [AI_RECOMMENDATIONS] Successfully loaded recommendation, content length: 3976
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
INFO:     127.0.0.1:54882 - "GET /api/ai-recommendations/company/Australia_for_UNHCR HTTP/1.1" 200 OK
2025-10-09 16:45:42,510 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
INFO:     127.0.0.1:55062 - "GET /api/tailored-cv/available-companies-real HTTP/1.1" 200 OK
2025-10-09 16:45:42,570 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 📄 Tailored CV content request for Australia_for_UNHCR from user 0d4bdc07-cadf-4300-8e4f-f07da7575a62
2025-10-09 16:45:42,570 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:45:42,571 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:45:42,571 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:45:42,573 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ Served TAILORED CV content: Australia_for_UNHCR_tailored_cv_20251009_164241.txt from tailored folder (3641 characters)
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
🔍 Searching for tailored CV ONLY for company: Australia_for_UNHCR
📁 Found 5 tailored CV candidates
✅ Selected tailored CV: tailored - user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.json
INFO:     127.0.0.1:55062 - "GET /api/tailored-cv/content/Australia_for_UNHCR HTTP/1.1" 200 OK
2025-10-09 16:45:58,506 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Received request data keys: ['company', 'content']
2025-10-09 16:45:58,507 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Request data: {
  "company": "Australia_for_UNHCR",
  "content": "Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220\n\nTECHNICAL SKILLS\n\u2022 SQL, Python, Power BI, Excel, VBA, Analytical, Data Analysis, Business Intelligence, Querying\n\n"
}...
2025-10-09 16:45:58,507 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Extracted - Company: Australia_for_UNHCR
2025-10-09 16:45:58,507 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Extracted - Content type: <class 'str'>
2025-10-09 16:45:58,507 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Extracted - Content length: 200
2025-10-09 16:45:58,508 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Starting save process for Australia_for_UNHCR
2025-10-09 16:45:58,508 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:45:58,508 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Tailored path: user/keosha@gmail.com/cv-analysis/cvs/tailored
2025-10-09 16:45:58,509 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Found 5 existing TXT files in tailored folder
2025-10-09 16:45:58,510 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] - user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.txt
2025-10-09 16:45:58,510 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] - user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.txt
2025-10-09 16:45:58,511 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] - user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.txt
2025-10-09 16:45:58,511 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] - user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.txt
2025-10-09 16:45:58,511 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] - user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.txt
2025-10-09 16:45:58,512 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated TXT: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.txt
2025-10-09 16:45:58,513 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Starting CV content parsing
2025-10-09 16:45:58,513 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Content length: 200
2025-10-09 16:45:58,513 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Existing JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:45:58,513 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Processing 4 lines
2025-10-09 16:45:58,514 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing contact line: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220
2025-10-09 16:45:58,514 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: technical_skills
2025-10-09 16:45:58,514 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsed 9 skills
2025-10-09 16:45:58,514 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing completed successfully
2025-10-09 16:45:58,514 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Updated JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:45:58,515 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated JSON: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.json
2025-10-09 16:45:58,516 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated TXT: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.txt
2025-10-09 16:45:58,517 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Starting CV content parsing
2025-10-09 16:45:58,517 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Content length: 200
2025-10-09 16:45:58,517 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Existing JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:45:58,517 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Processing 4 lines
2025-10-09 16:45:58,518 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing contact line: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220
2025-10-09 16:45:58,518 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: technical_skills
2025-10-09 16:45:58,518 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsed 9 skills
2025-10-09 16:45:58,518 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing completed successfully
2025-10-09 16:45:58,518 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Updated JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:45:58,519 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated JSON: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.json
2025-10-09 16:45:58,519 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated TXT: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.txt
2025-10-09 16:45:58,520 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Starting CV content parsing
2025-10-09 16:45:58,520 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Content length: 200
2025-10-09 16:45:58,520 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Existing JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:45:58,521 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Processing 4 lines
2025-10-09 16:45:58,521 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing contact line: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220
2025-10-09 16:45:58,521 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: technical_skills
2025-10-09 16:45:58,521 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsed 9 skills
2025-10-09 16:45:58,521 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing completed successfully
2025-10-09 16:45:58,521 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Updated JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:45:58,522 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated JSON: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.json
2025-10-09 16:45:58,523 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated TXT: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.txt
2025-10-09 16:45:58,524 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Starting CV content parsing
2025-10-09 16:45:58,525 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Content length: 200
2025-10-09 16:45:58,525 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Existing JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:45:58,525 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Processing 4 lines
2025-10-09 16:45:58,526 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing contact line: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220
2025-10-09 16:45:58,526 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: technical_skills
2025-10-09 16:45:58,526 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsed 9 skills
2025-10-09 16:45:58,526 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing completed successfully
2025-10-09 16:45:58,526 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Updated JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:45:58,527 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated JSON: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
2025-10-09 16:45:58,528 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated TXT: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.txt
2025-10-09 16:45:58,529 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Starting CV content parsing
2025-10-09 16:45:58,529 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Content length: 200
2025-10-09 16:45:58,529 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Existing JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:45:58,529 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Processing 4 lines
2025-10-09 16:45:58,529 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing contact line: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220
2025-10-09 16:45:58,529 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: technical_skills
2025-10-09 16:45:58,530 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsed 9 skills
2025-10-09 16:45:58,530 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing completed successfully
2025-10-09 16:45:58,530 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Updated JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:45:58,530 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated JSON: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json
2025-10-09 16:45:58,530 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Completed saving for Australia_for_UNHCR
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
INFO:     127.0.0.1:55074 - "POST /api/tailored-cv/save-edited HTTP/1.1" 200 OK
2025-10-09 16:45:58,696 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Received request data keys: ['company', 'content']
2025-10-09 16:45:58,697 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Request data: {
  "company": "Australia_for_UNHCR",
  "content": "Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220\n\nTECHNICAL SKILLS\n\u2022 SQL, Python, Power BI, Excel, VBA, Analytical, Data Analysis, Business Intelligence, Querying\n\n"
}...
2025-10-09 16:45:58,697 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Extracted - Company: Australia_for_UNHCR
2025-10-09 16:45:58,697 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Extracted - Content type: <class 'str'>
2025-10-09 16:45:58,697 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Extracted - Content length: 200
2025-10-09 16:45:58,697 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Starting save process for Australia_for_UNHCR
2025-10-09 16:45:58,698 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:45:58,698 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Tailored path: user/keosha@gmail.com/cv-analysis/cvs/tailored
2025-10-09 16:45:58,699 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] Found 5 existing TXT files in tailored folder
2025-10-09 16:45:58,699 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] - user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.txt
2025-10-09 16:45:58,699 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] - user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.txt
2025-10-09 16:45:58,699 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] - user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.txt
2025-10-09 16:45:58,700 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] - user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.txt
2025-10-09 16:45:58,700 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [SAVE_EDITED] - user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.txt
2025-10-09 16:45:58,701 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated TXT: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.txt
2025-10-09 16:45:58,701 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Starting CV content parsing
2025-10-09 16:45:58,701 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Content length: 200
2025-10-09 16:45:58,702 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Existing JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:45:58,702 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Processing 4 lines
2025-10-09 16:45:58,702 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing contact line: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220
2025-10-09 16:45:58,702 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: technical_skills
2025-10-09 16:45:58,702 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsed 9 skills
2025-10-09 16:45:58,702 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing completed successfully
2025-10-09 16:45:58,703 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Updated JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:45:58,703 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated JSON: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.json
2025-10-09 16:45:58,704 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated TXT: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.txt
2025-10-09 16:45:58,705 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Starting CV content parsing
2025-10-09 16:45:58,705 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Content length: 200
2025-10-09 16:45:58,705 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Existing JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:45:58,705 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Processing 4 lines
2025-10-09 16:45:58,705 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing contact line: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220
2025-10-09 16:45:58,705 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: technical_skills
2025-10-09 16:45:58,705 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsed 9 skills
2025-10-09 16:45:58,706 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing completed successfully
2025-10-09 16:45:58,706 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Updated JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:45:58,706 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated JSON: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.json
2025-10-09 16:45:58,707 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated TXT: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.txt
2025-10-09 16:45:58,707 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Starting CV content parsing
2025-10-09 16:45:58,707 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Content length: 200
2025-10-09 16:45:58,708 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Existing JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:45:58,708 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Processing 4 lines
2025-10-09 16:45:58,708 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing contact line: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220
2025-10-09 16:45:58,708 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: technical_skills
2025-10-09 16:45:58,708 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsed 9 skills
2025-10-09 16:45:58,708 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing completed successfully
2025-10-09 16:45:58,708 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Updated JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:45:58,709 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated JSON: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.json
2025-10-09 16:45:58,710 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated TXT: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.txt
2025-10-09 16:45:58,710 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Starting CV content parsing
2025-10-09 16:45:58,710 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Content length: 200
2025-10-09 16:45:58,710 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Existing JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:45:58,710 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Processing 4 lines
2025-10-09 16:45:58,710 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing contact line: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220
2025-10-09 16:45:58,711 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: technical_skills
2025-10-09 16:45:58,711 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsed 9 skills
2025-10-09 16:45:58,711 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing completed successfully
2025-10-09 16:45:58,711 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Updated JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:45:58,712 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated JSON: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
2025-10-09 16:45:58,712 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated TXT: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.txt
2025-10-09 16:45:58,713 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Starting CV content parsing
2025-10-09 16:45:58,713 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Content length: 200
2025-10-09 16:45:58,713 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Existing JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:45:58,713 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Processing 4 lines
2025-10-09 16:45:58,715 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing contact line: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220
2025-10-09 16:45:58,715 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Found section: technical_skills
2025-10-09 16:45:58,716 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsed 9 skills
2025-10-09 16:45:58,716 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Parsing completed successfully
2025-10-09 16:45:58,717 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 🔍 [CV_PARSER] Updated JSON keys: ['contact', 'education', 'experience', 'projects', 'skills', 'created_at', 'last_edited', 'manually_edited']
2025-10-09 16:45:58,718 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Updated JSON: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json
2025-10-09 16:45:58,718 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ [SAVE_EDITED] Completed saving for Australia_for_UNHCR
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
INFO:     127.0.0.1:55074 - "POST /api/tailored-cv/save-edited HTTP/1.1" 200 OK
INFO:     127.0.0.1:55079 - "GET /api/preliminary-analysis/cache HTTP/1.1" 200 OK
2025-10-09 16:46:03,942 - app.core.model_dependency - INFO - 🔍 [MODEL_DEPENDENCY] Initializing model for user: keosha@gmail.com
2025-10-09 16:46:03,943 - app.core.model_dependency - INFO - - Header model: gpt-3.5-turbo
2025-10-09 16:46:03,943 - app.core.model_dependency - INFO - - User ID: 0d4bdc07-cadf-4300-8e4f-f07da7575a62
2025-10-09 16:46:03,943 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 16:46:03,944 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:46:03,944 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 16:46:03,944 - app.ai.ai_service - INFO - - Available providers: []
2025-10-09 16:46:03,944 - app.ai.ai_service - INFO - - Provider status: {}
2025-10-09 16:46:03,945 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 16:46:03,945 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: []
2025-10-09 16:46:03,945 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 16:46:03,945 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {}
2025-10-09 16:46:03,945 - app.ai.ai_service - ERROR - ❌ No current provider available for model switching
2025-10-09 16:46:03,946 - app.core.model_dependency - WARNING - ⚠️ Failed to switch to header model gpt-3.5-turbo
2025-10-09 16:46:03,977 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user keosha@gmail.com
2025-10-09 16:46:03,977 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Before initialization:
2025-10-09 16:46:03,978 - app.ai.ai_service - INFO - - Current providers: []
2025-10-09 16:46:03,978 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 16:46:03,979 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 16:46:03,979 - app.ai.ai_service - INFO - - Cached providers for user: []
2025-10-09 16:46:03,979 - app.ai.ai_service - INFO - 🔄 [AI_SERVICE] Initializing new providers for user keosha@gmail.com
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
2025-10-09 16:46:04,043 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:46:04,043 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:46:04,052 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:46:04,052 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:46:04,052 INFO sqlalchemy.engine.Engine [generated in 0.00092s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 16:46:04,052 - sqlalchemy.engine.Engine - INFO - [generated in 0.00092s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 16:46:04,112 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:46:04,112 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:46:04,863 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:46:04,881 - app.ai.ai_service - INFO - ✅ Initialized openai provider with model gpt-4o for user keosha@gmail.com
2025-10-09 16:46:04,901 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:46:04,901 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:46:04,902 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:46:04,902 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:46:04,902 INFO sqlalchemy.engine.Engine [cached since 0.8509s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 16:46:04,902 - sqlalchemy.engine.Engine - INFO - [cached since 0.8509s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 16:46:04,941 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:46:04,941 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:46:04,965 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user keosha@gmail.com and provider anthropic
2025-10-09 16:46:04,983 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:46:04,983 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:46:04,984 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:46:04,984 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:46:04,984 INFO sqlalchemy.engine.Engine [cached since 0.9326s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 16:46:04,984 - sqlalchemy.engine.Engine - INFO - [cached since 0.9326s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 16:46:05,029 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:46:05,029 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:46:05,046 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user keosha@gmail.com and provider deepseek
2025-10-09 16:46:05,046 - app.ai.ai_service - INFO - 💾 [AI_SERVICE] Cached 1 providers for user keosha@gmail.com
2025-10-09 16:46:05,047 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] After initialization:
2025-10-09 16:46:05,047 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 16:46:05,047 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 16:46:05,048 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 16:46:05,048 - app.core.model_dependency - INFO - ✅ [MODEL_DEPENDENCY] AI providers initialized for user keosha@gmail.com
2025-10-09 16:46:05,063 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:46:05,063 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:46:05,068 INFO sqlalchemy.engine.Engine SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 16:46:05,068 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 16:46:05,068 INFO sqlalchemy.engine.Engine [generated in 0.00056s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'param_1': 1}
2025-10-09 16:46:05,068 - sqlalchemy.engine.Engine - INFO - [generated in 0.00056s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'param_1': 1}
2025-10-09 16:46:05,111 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:46:05,111 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:46:05,134 - app.core.model_dependency - INFO - 🔍 [MODEL_DEPENDENCY] Found saved preference: openai/gpt-3.5-turbo
2025-10-09 16:46:05,134 - app.ai.ai_service - INFO - ✅ Switched to openai provider with model gpt-3.5-turbo
2025-10-09 16:46:05,134 - app.core.model_dependency - INFO - ✅ [MODEL_DEPENDENCY] Successfully restored user preference: openai/gpt-3.5-turbo
2025-10-09 16:46:05,137 - app.routes.skills_analysis - INFO - 🎯 Preliminary analysis request: CV=maheshwor_tiwari.pdf, JD_length=6014, CONFIG=None
2025-10-09 16:46:05,138 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:46:05,140 - app.routes.skills_analysis - INFO - 🏢 Extracted company name: Australia_for_UNHCR
2025-10-09 16:46:05,141 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:46:05,145 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:46:05,145 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:46:05,146 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:46:05,147 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:46:05,148 - app.routes.skills_analysis - INFO - 🔗 [PRELIM_ANALYSIS] JD URL (latest job_info): https://www.ethicaljobs.com.au/members/australiaforunhcr/data-analyst
2025-10-09 16:46:05,151 - app.routes.skills_analysis - INFO - 📄 [PRELIM_ANALYSIS] Latest CV selected → type=tailored, ts=20251009_164241, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.json, txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.txt
2025-10-09 16:46:05,153 - app.routes.skills_analysis - INFO - 🧪 [PRELIM_ANALYSIS] CV content length=200, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • SQL, Python, Power BI, Excel, VBA, Analytical, Data Analysis, Business Intelligence, Querying  '
2025-10-09 16:46:05,154 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 16:46:05,154 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 16:46:05,155 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 16:46:05,155 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Starting AI-powered skills analysis for maheshwor_tiwari.pdf
2025-10-09 16:46:05,156 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] CV content length: 200 chars
2025-10-09 16:46:05,156 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] JD content length: 6014 chars
2025-10-09 16:46:05,157 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using config: default
2025-10-09 16:46:05,157 - app.routes.skills_analysis - INFO - 🧪 [SKILLS_ANALYSIS] CV preview: 'Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • SQL, Python, Power BI, Excel, VBA, Analytical, Data Analysis, Business Inte'
2025-10-09 16:46:05,158 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:46:05,158 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:46:05,159 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:46:05,160 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:46:05,160 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:46:06,843 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:46:06,854 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:46:06,855 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:46:06,855 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:46:06,855 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI provider: openai
2025-10-09 16:46:06,855 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI model: gpt-3.5-turbo
2025-10-09 16:46:06,855 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Provider available: True
2025-10-09 16:46:06,855 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Model from header: gpt-3.5-turbo
2025-10-09 16:46:06,856 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting CV skills with detailed structured analysis...
2025-10-09 16:46:06,856 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:46:06,856 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:46:06,857 - app.ai.ai_service - INFO - - Prompt length: 6345
2025-10-09 16:46:06,857 - app.ai.ai_service - INFO - - System prompt length: 0
2025-10-09 16:46:06,857 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:46:06,857 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:46:06,857 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:46:06,858 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:46:06,858 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:46:06,859 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:46:06,859 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:46:06,859 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:46:07,316 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:46:07,327 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:46:07,327 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:46:07,328 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:46:07,328 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:46:08,569 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:46:08,590 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] Starting response parsing...
2025-10-09 16:46:08,590 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] Raw response preview: 
TECHNICAL_SKILLS = ["SQL", "Python", "Power BI", "Excel", "VBA", "Analytical", "Data Analysis", "Business Intelligence", "Querying"]
DOMAIN_KEYWORDS = []
SOFT_SKILLS = []...
2025-10-09 16:46:08,590 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] FULL CV RESPONSE: 
TECHNICAL_SKILLS = ["SQL", "Python", "Power BI", "Excel", "VBA", "Analytical", "Data Analysis", "Business Intelligence", "Querying"]
DOMAIN_KEYWORDS = []
SOFT_SKILLS = []
2025-10-09 16:46:08,594 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Successfully extracted 9 total skills using multi-format parser
2025-10-09 16:46:08,596 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated technical_skills: 9 valid skills
2025-10-09 16:46:08,596 - app.services.skill_extraction.response_parser - INFO - 📊 [CV] Parsing completed:
2025-10-09 16:46:08,599 - app.services.skill_extraction.response_parser - INFO -    Soft Skills (0): []
2025-10-09 16:46:08,599 - app.services.skill_extraction.response_parser - INFO -    Technical Skills (9): ['SQL', 'Python', 'Power BI']...
2025-10-09 16:46:08,599 - app.services.skill_extraction.response_parser - INFO -    Domain Keywords (0): []
2025-10-09 16:46:08,600 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting JD skills with detailed structured analysis...
2025-10-09 16:46:08,600 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:46:08,601 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:46:08,601 - app.ai.ai_service - INFO - - Prompt length: 18001
2025-10-09 16:46:08,602 - app.ai.ai_service - INFO - - System prompt length: 0
2025-10-09 16:46:08,602 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:46:08,602 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:46:08,602 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:46:08,603 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:46:08,603 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:46:08,603 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:46:08,603 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:46:08,603 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:46:08,966 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:46:09,281 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:46:09,282 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:46:09,282 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:46:09,282 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:46:15,277 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:46:15,280 - app.services.skill_extraction.response_parser - INFO - 🔍 [JD] Starting response parsing...
2025-10-09 16:46:15,280 - app.services.skill_extraction.response_parser - INFO - 🔍 [JD] Raw response preview: ## SOFT SKILLS:
- Communication
- Leadership
- Teamwork
- Collaboration
- Negotiation
- Time Management
- Organization
- Adaptability
- Problem-solving
- Analytical Thinking
- Critical Thinking
- Creativity
- Innovation
- Detail-oriented
- Self-motivated
- Proactive
- Results-driven

## TECHNICAL SKILLS:
- Data Analysis
- Data Mining
- Business Intelligence
- Power BI
- SQL
- Excel
- Spreadsheets
- VBA
- Data Models
- SQL Data Warehouse
- Database Knowledge
- Tableau
- Project Management
- Stake...
2025-10-09 16:46:15,281 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Successfully extracted 56 total skills using multi-format parser
2025-10-09 16:46:15,281 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated soft_skills: 17 valid skills
2025-10-09 16:46:15,282 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated technical_skills: 18 valid skills
2025-10-09 16:46:15,282 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated domain_keywords: 21 valid skills
2025-10-09 16:46:15,282 - app.services.skill_extraction.response_parser - INFO - 📊 [JD] Parsing completed:
2025-10-09 16:46:15,282 - app.services.skill_extraction.response_parser - INFO -    Soft Skills (17): ['Communication', 'Leadership', 'Teamwork']...
2025-10-09 16:46:15,282 - app.services.skill_extraction.response_parser - INFO -    Technical Skills (18): ['Data Analysis', 'Data Mining', 'Business Intelligence']...
2025-10-09 16:46:15,282 - app.services.skill_extraction.response_parser - INFO -    Domain Keywords (21): ['Fundraising', 'Humanitarian Emergencies', 'Business Decision-making']...
2025-10-09 16:46:15,283 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using structured analysis as comprehensive analysis...
2025-10-09 16:46:15,283 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Technical Skills (9): ['SQL', 'Python', 'Power BI', 'Excel', 'VBA', 'Analytical', 'Data Analysis', 'Business Intelligence', 'Querying']
2025-10-09 16:46:15,283 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Soft Skills (0): []
2025-10-09 16:46:15,283 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Domain Keywords (0): []
2025-10-09 16:46:15,283 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Technical Skills (18): ['Data Analysis', 'Data Mining', 'Business Intelligence', 'Power BI', 'SQL', 'Excel', 'Spreadsheets', 'VBA', 'Data Models', 'SQL Data Warehouse', 'Database Knowledge', 'Tableau', 'Project Management', 'Stakeholder Management', 'Data Extraction', 'Marketing Campaigns', 'Clean Data', 'Segmentation Strategies']
2025-10-09 16:46:15,283 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Soft Skills (17): ['Communication', 'Leadership', 'Teamwork', 'Collaboration', 'Negotiation', 'Time Management', 'Organization', 'Adaptability', 'Problem-solving', 'Analytical Thinking', 'Critical Thinking', 'Creativity', 'Innovation', 'Detail-oriented', 'Self-motivated', 'Proactive', 'Results-driven']
2025-10-09 16:46:15,284 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Domain Keywords (21): ['Fundraising', 'Humanitarian Emergencies', 'Business Decision-making', 'Direct Marketing Campaigns', 'Data Warehouse', 'Business Intelligence Unit', 'Refugee Support', 'Data Requirements', 'Data Selections', 'Analytical Models', 'BI Report Authoring', 'Multi-channel Communication', 'Donor-centricity', 'Projection Models', 'Segmentation Models', 'Program Needs', 'Evidence-based Decision Making', 'Inclusive Work Environment', 'Employee Engagement', 'Wellbeing', 'Diversity and Inclusion']
2025-10-09 16:46:15,284 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] Analysis completed successfully
2025-10-09 16:46:15,285 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 16:46:15,285 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:46:15,285 - app.services.skill_extraction.result_saver - INFO - 📁 Result saver initialized with base directory: user/keosha@gmail.com/cv-analysis
2025-10-09 16:46:15,286 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:46:15,286 - app.routes.skills_analysis - INFO - 🔍 [COMPANY_DETECTION] Looking in: user/keosha@gmail.com/cv-analysis/applied_companies
2025-10-09 16:46:15,286 - app.routes.skills_analysis - INFO - 📁 [COMPANY_DETECTION] Found company folder: Australia_for_UNHCR with 1 job_info files
2025-10-09 16:46:15,286 - app.routes.skills_analysis - INFO - 🏢 [COMPANY_DETECTION] Using most recent company folder: Australia_for_UNHCR
2025-10-09 16:46:15,287 - app.routes.skills_analysis - INFO - 📋 [COMPANY_DETECTION] Job info company: Australia for UNHCR
2025-10-09 16:46:15,288 - app.services.skill_extraction.result_saver - INFO - 🏢 Using provided company name: Australia_for_UNHCR -> Australia_for_UNHCR
2025-10-09 16:46:15,288 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:46:15,289 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:46:15,289 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:46:15,290 - app.services.skill_extraction.result_saver - INFO - 💾 Structured CV already exists, preserving it: user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 16:46:15,291 - app.services.skill_extraction.result_saver - INFO - 💾 Structured CV preserved, skipping save: user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 16:46:15,293 - app.services.skill_extraction.result_saver - INFO - 💾 Analysis results saved (JSON) to: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_164615.json
2025-10-09 16:46:15,293 - app.routes.skills_analysis - INFO - 📁 [FILE_SAVE] Results saved to: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_164615.json
2025-10-09 16:46:15,294 - app.routes.skills_analysis - INFO - 🔍 [ANALYZE_MATCH] Starting analyze match assessment...
2025-10-09 16:46:15,297 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:46:15,297 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:46:15,297 - app.ai.ai_service - INFO - - Prompt length: 12303
2025-10-09 16:46:15,297 - app.ai.ai_service - INFO - - System prompt length: 0
2025-10-09 16:46:15,297 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:46:15,297 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:46:15,298 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:46:15,298 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:46:15,298 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:46:15,298 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:46:15,298 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:46:15,298 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:46:17,248 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:46:17,441 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:46:17,442 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:46:17,443 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:46:17,443 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:46:20,730 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:46:20,732 - app.routes.skills_analysis - INFO - ✅ [ANALYZE_MATCH] Analysis completed (length: 1553 chars)
2025-10-09 16:46:20,732 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:46:20,733 - app.services.skill_extraction.result_saver - INFO - 📂 Found existing analysis file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_164615.json
2025-10-09 16:46:20,734 - app.services.skill_extraction.result_saver - INFO - 🔍 Looking for analysis file in: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 16:46:20,734 - app.services.skill_extraction.result_saver - INFO - 📄 Using existing file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_164615.json
2025-10-09 16:46:20,739 - app.services.skill_extraction.result_saver - INFO - 📁 [ANALYZE_MATCH] Results appended to: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_164615.json
2025-10-09 16:46:20,740 - app.routes.skills_analysis - INFO - 📁 [ANALYZE_MATCH] Results appended to: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_164615.json
2025-10-09 16:46:20,740 - app.routes.skills_analysis - INFO - 🔍 [PREEXTRACTED_COMPARISON] Starting pre-extracted skills semantic comparison...
2025-10-09 16:46:20,744 - app.services.skill_extraction.preextracted_comparator - INFO - 🔍 [EXACT_MATCHES] Found 3 exact matches: {'technical_skills': [{'jd_skill': 'Business Intelligence', 'cv_skill': 'Business Intelligence', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Data Analysis', 'cv_skill': 'Data Analysis', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Excel', 'cv_skill': 'Excel', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Power BI', 'cv_skill': 'Power BI', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'SQL', 'cv_skill': 'SQL', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'VBA', 'cv_skill': 'VBA', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}], 'soft_skills': [], 'domain_keywords': []}
2025-10-09 16:46:20,746 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:46:20,747 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:46:20,747 - app.ai.ai_service - INFO - - Prompt length: 6567
2025-10-09 16:46:20,747 - app.ai.ai_service - INFO - - System prompt length: 0
2025-10-09 16:46:20,747 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:46:20,747 - app.ai.ai_service - INFO - - Max tokens: 3000
2025-10-09 16:46:20,747 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:46:20,748 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:46:20,748 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:46:20,748 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:46:20,748 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:46:20,748 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:46:21,561 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:46:21,793 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:46:21,794 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:46:21,794 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:46:21,794 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:46:36,766 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:46:36,771 - app.services.skill_extraction.preextracted_comparator - WARNING - ❌ [VALIDATION] technical_skills: matched 18 > CV count 9
2025-10-09 16:46:36,772 - app.services.skill_extraction.preextracted_comparator - INFO - ℹ️ [VALIDATION] technical_skills: matched 18 + missing 2 = 20 vs JD count 18 (acceptable variance)
2025-10-09 16:46:36,772 - app.services.skill_extraction.preextracted_comparator - INFO - ℹ️ [VALIDATION] soft_skills: matched 0 + missing 0 = 0 vs JD count 17 (acceptable variance)
2025-10-09 16:46:36,772 - app.services.skill_extraction.preextracted_comparator - WARNING - ❌ [VALIDATION] soft_skills: extreme variance - processed 0 vs expected 17
2025-10-09 16:46:36,773 - app.services.skill_extraction.preextracted_comparator - INFO - ℹ️ [VALIDATION] domain_keywords: matched 0 + missing 19 = 19 vs JD count 21 (acceptable variance)
2025-10-09 16:46:36,773 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] CV Skills: Tech=9, Soft=0, Domain=0
2025-10-09 16:46:36,774 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] JD Skills: Tech=18, Soft=17, Domain=21
2025-10-09 16:46:36,775 - app.services.skill_extraction.preextracted_comparator - WARNING - ❌ [VALIDATION] 2 validation error(s) found
2025-10-09 16:46:36,775 - app.services.skill_extraction.preextracted_comparator - WARNING - ⚠️ [COMPARISON] JSON results failed validation, attempting to fix inconsistencies
2025-10-09 16:46:36,775 - app.services.skill_extraction.preextracted_comparator - INFO - 🔧 [FIX] Attempting to fix inconsistent AI response
2025-10-09 16:46:36,776 - app.services.skill_extraction.preextracted_comparator - WARNING - 🔧 [FIX] technical_skills: Trimming 18 matches to 9 (CV limit)
2025-10-09 16:46:36,776 - app.services.skill_extraction.preextracted_comparator - WARNING - 🔧 [FIX] technical_skills: Too many items (20 > 18), trimming missing items
2025-10-09 16:46:36,777 - app.services.skill_extraction.preextracted_comparator - INFO - 🔧 [FIX] soft_skills: Adding 17 missing JD skills
2025-10-09 16:46:36,777 - app.services.skill_extraction.preextracted_comparator - INFO - 🔧 [FIX] domain_keywords: Adding 2 missing JD skills
2025-10-09 16:46:36,777 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [FIX] Finished fixing AI response inconsistencies
2025-10-09 16:46:36,778 - app.services.skill_extraction.preextracted_comparator - INFO - ℹ️ [VALIDATION] domain_keywords: matched 0 + missing 27 = 27 vs JD count 21 (acceptable variance)
2025-10-09 16:46:36,779 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] CV Skills: Tech=9, Soft=0, Domain=0
2025-10-09 16:46:36,779 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] JD Skills: Tech=18, Soft=17, Domain=21
2025-10-09 16:46:36,779 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [VALIDATION] Comparison results passed validation
2025-10-09 16:46:36,779 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [COMPARISON] Successfully fixed AI response inconsistencies
2025-10-09 16:46:36,780 - app.routes.skills_analysis - INFO - ✅ [PREEXTRACTED_COMPARISON] Completed (length: 7056 chars)
2025-10-09 16:46:36,780 - app.services.skill_extraction.result_saver - INFO - 🏢 [PREEXTRACTED_COMPARISON] Inferred company from saved_file_path: Australia_for_UNHCR
2025-10-09 16:46:36,785 - app.services.skill_extraction.result_saver - INFO - 📁 [PREEXTRACTED_COMPARISON] Results appended to: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_164615.json
2025-10-09 16:46:36,785 - app.routes.skills_analysis - INFO - 📁 [PREEXTRACTED_COMPARISON] Results appended to: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_164615.json
2025-10-09 16:46:36,786 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:46:36,786 - app.routes.skills_analysis - INFO - ♻️ [PIPELINE] (preliminary-analysis) JD file already exists: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/jd_original_20251009_160700.json
2025-10-09 16:46:36,788 - app.routes.skills_analysis - INFO - ♻️ [JOBS] Job already exists in saved_jobs.json: Data Analyst at Australia for UNHCR
2025-10-09 16:46:36,788 - app.routes.skills_analysis - INFO - 🚀 [PIPELINE] (preliminary-analysis) scheduling for company: Australia_for_UNHCR
2025-10-09 16:46:36,788 - app.routes.skills_analysis - INFO - 🚀 [PIPELINE] Scheduling JD analysis and CV–JD matching for 'Australia_for_UNHCR'...
2025-10-09 16:46:36,790 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:46:36,790 - app.routes.skills_analysis - INFO - 🔧 [PIPELINE] Starting JD analysis for Australia_for_UNHCR (force_refresh=True)
2025-10-09 16:46:36,791 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:46:36,792 - app.services.jd_analysis.jd_analyzer - INFO - 🔄 Analyzing JD for Australia_for_UNHCR (force_refresh=True)
2025-10-09 16:46:36,795 - app.services.jd_analysis.jd_analyzer - INFO - 📄 Analyzing JD file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/jd_original_20251009_160700.json
2025-10-09 16:46:36,796 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:46:36,797 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:46:36,797 - app.ai.ai_service - INFO - - Prompt length: 6409
2025-10-09 16:46:36,797 - app.ai.ai_service - INFO - - System prompt length: 2650
2025-10-09 16:46:36,798 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:46:36,798 - app.ai.ai_service - INFO - - Max tokens: 2000
2025-10-09 16:46:36,798 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:46:36,798 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:46:36,799 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:46:36,799 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:46:36,799 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:46:36,799 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:46:37,586 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:46:37,598 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:46:37,599 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:46:37,599 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:46:37,599 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:46:39,269 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:46:39,277 - app.services.jd_analysis.jd_analyzer - INFO - ✅ JD analysis completed. Found 0 required and 0 preferred keywords
2025-10-09 16:46:39,279 - app.services.jd_analysis.jd_analyzer - INFO - ♻️ JD analysis already exists, reusing: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_jd_analysis_20251009_160741.json
2025-10-09 16:46:39,279 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] JD analysis saved for Australia_for_UNHCR at: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_jd_analysis_20251009_160741.json
2025-10-09 16:46:39,282 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:46:39,282 - app.services.jd_usage_tracker - INFO - 🔍 [JD_TRACKER] Recording JD usage:
2025-10-09 16:46:39,283 - app.services.jd_usage_tracker - INFO - - jd_url: 
2025-10-09 16:46:39,283 - app.services.jd_usage_tracker - INFO - - jd_text length: 0
2025-10-09 16:46:39,283 - app.services.jd_usage_tracker - INFO - - company: Australia_for_UNHCR
2025-10-09 16:46:39,283 - app.services.jd_usage_tracker - INFO - - job_title: 
2025-10-09 16:46:39,283 - app.services.jd_usage_tracker - ERROR - ❌ [JD_TRACKER] Error recording JD usage: Either jd_url or jd_text must be provided
2025-10-09 16:46:39,284 - app.routes.skills_analysis - INFO - 📝 [PIPELINE] JD usage recorded for Australia_for_UNHCR
2025-10-09 16:46:39,284 - app.routes.skills_analysis - INFO - 🔧 [PIPELINE] Starting CV–JD matching for Australia_for_UNHCR
2025-10-09 16:46:39,284 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:46:39,285 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:46:39,285 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:46:39,286 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:46:39,288 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] CV–JD matching will use CV TXT: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.txt
2025-10-09 16:46:39,288 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 📄 [CV_JD_MATCHER] Using provided CV path: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.txt
2025-10-09 16:46:39,291 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 📄 [CV_JD_MATCHER] Read CV from: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.txt
2025-10-09 16:46:39,292 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🧪 [CV_JD_MATCHER] CV content length=198, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • SQL, Python, Power BI, Excel, VBA, Analytical, Data Analysis, Business Intelligence, Querying'
2025-10-09 16:46:39,292 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🔍 Found 10 required and 4 preferred keywords
2025-10-09 16:46:39,292 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:46:39,293 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:46:39,293 - app.ai.ai_service - INFO - - Prompt length: 1600
2025-10-09 16:46:39,293 - app.ai.ai_service - INFO - - System prompt length: 2705
2025-10-09 16:46:39,293 - app.ai.ai_service - INFO - - Temperature: 0.3
2025-10-09 16:46:39,293 - app.ai.ai_service - INFO - - Max tokens: 3000
2025-10-09 16:46:39,293 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:46:39,293 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:46:39,293 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:46:39,293 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:46:39,294 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:46:39,294 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:46:39,695 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:46:39,705 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:46:39,705 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:46:39,706 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:46:39,706 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:46:42,030 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:46:42,031 - app.services.cv_jd_matching.cv_jd_matcher - INFO - ✅ CV-JD matching completed. Found 3 matched required keywords
2025-10-09 16:46:42,032 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:46:42,032 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:46:42,033 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 💾 Saved CV-JD match results to: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_cv_jd_matching_20251009_164642.json
2025-10-09 16:46:42,033 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] CV–JD match results saved for Australia_for_UNHCR
2025-10-09 16:46:42,034 - app.routes.skills_analysis - INFO - 🔍 [PIPELINE] Starting component analysis for Australia_for_UNHCR
2025-10-09 16:46:42,036 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:46:42,036 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:46:42,037 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:46:42,037 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:46:42,038 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Latest CV selected → type=tailored, ts=20251009_164241, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.json, txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.txt
2025-10-09 16:46:42,039 - app.routes.skills_analysis - INFO - 🧪 [PIPELINE] CV content length=200, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • SQL, Python, Power BI, Excel, VBA, Analytical, Data Analysis, Business Intelligence, Querying  '
2025-10-09 16:46:42,039 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:46:42,040 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Required files found, proceeding with component analysis
2025-10-09 16:46:42,042 - app.services.ats.modular_ats_orchestrator - INFO - ===== [MODULAR ATS] Starting component analysis for: Australia_for_UNHCR =====
2025-10-09 16:46:42,042 - app.services.ats.component_assembler - INFO - ===== [ASSEMBLER] Starting component assembly for: Australia_for_UNHCR =====
2025-10-09 16:46:42,042 - app.services.ats.component_assembler - INFO - 📄 [ASSEMBLER] Using CV text provided by caller
2025-10-09 16:46:42,046 - app.services.ats.component_assembler - INFO - 📄 [ASSEMBLER] CV is minimal - using realistic analysis with constraints
2025-10-09 16:46:42,046 - app.services.ats.component_assembler - INFO - 📄 [ASSEMBLER] Generating realistic results for minimal CV
2025-10-09 16:46:42,049 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Minimal CV results saved to: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_164615.json
2025-10-09 16:46:42,049 - app.services.ats.modular_ats_orchestrator - INFO - ===== [MODULAR ATS] Component analysis completed for: Australia_for_UNHCR =====
2025-10-09 16:46:42,050 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Component analysis completed for Australia_for_UNHCR
2025-10-09 16:46:42,050 - app.routes.skills_analysis - INFO - 📋 [PIPELINE] Creating input recommendation file for Australia_for_UNHCR
2025-10-09 16:46:42,050 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:46:42,051 - app.services.ats_recommendation_service - WARNING - No ATS calculation entries found in user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_164615.json
2025-10-09 16:46:42,052 - app.services.ats_recommendation_service - INFO - Successfully extracted comprehensive recommendation data for Australia_for_UNHCR
2025-10-09 16:46:42,053 - app.services.ats_recommendation_service - INFO - Successfully created recommendation file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_164642.json
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=tailored, ts=20251009_160851, mtime=1759988758.7117772, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
  - type=tailored, ts=20251009_161344, mtime=1759988758.7179363, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json
  - type=tailored, ts=20251009_162503, mtime=1759988758.7095118, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.json
  - type=tailored, ts=20251009_164241, mtime=1759988758.7034194, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.json
  - type=tailored, ts=20251009_163317, mtime=1759988758.7067196, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.json
  - type=original, ts=00000000_000000, mtime=1759986398.6319315, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=tailored, ts=20251009_164241, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.json, txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.txt
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=tailored, ts=20251009_160851, mtime=1759988758.7117772, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
  - type=tailored, ts=20251009_161344, mtime=1759988758.7179363, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json
  - type=tailored, ts=20251009_162503, mtime=1759988758.7095118, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.json
  - type=tailored, ts=20251009_164241, mtime=1759988758.7034194, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.json
  - type=tailored, ts=20251009_163317, mtime=1759988758.7067196, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.json
  - type=original, ts=00000000_000000, mtime=1759986398.6319315, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=tailored, ts=20251009_164241, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.json, txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.txt
📄 [UNIFIED] Reading CV content from: txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.txt, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.json
🧪 [UNIFIED] CV content length=200, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • SQL, Python, Power BI, Excel, VBA, Analytical, Data Analysis, Business Intelligence, Querying  '
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=tailored, ts=20251009_160851, mtime=1759988758.7117772, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
  - type=tailored, ts=20251009_161344, mtime=1759988758.7179363, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json
  - type=tailored, ts=20251009_162503, mtime=1759988758.7095118, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.json
  - type=tailored, ts=20251009_164241, mtime=1759988758.7034194, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.json
  - type=tailored, ts=20251009_163317, mtime=1759988758.7067196, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.json
  - type=original, ts=00000000_000000, mtime=1759986398.6319315, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=tailored, ts=20251009_164241, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.json, txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.txt
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=tailored, ts=20251009_160851, mtime=1759988758.7117772, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
  - type=tailored, ts=20251009_161344, mtime=1759988758.7179363, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json
  - type=tailored, ts=20251009_162503, mtime=1759988758.7095118, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.json
  - type=tailored, ts=20251009_164241, mtime=1759988758.7034194, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.json
  - type=tailored, ts=20251009_163317, mtime=1759988758.7067196, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.json
  - type=original, ts=00000000_000000, mtime=1759986398.6319315, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=tailored, ts=20251009_164241, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.json, txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.txt
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=tailored, ts=20251009_160851, mtime=1759988758.7117772, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
  - type=tailored, ts=20251009_161344, mtime=1759988758.7179363, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json
  - type=tailored, ts=20251009_162503, mtime=1759988758.7095118, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.json
  - type=tailored, ts=20251009_164241, mtime=1759988758.7034194, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.json
  - type=tailored, ts=20251009_163317, mtime=1759988758.7067196, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.json
  - type=original, ts=00000000_000000, mtime=1759986398.6319315, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=tailored, ts=20251009_164241, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.json, txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.txt
📄 [UNIFIED] Reading CV content from: txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.txt, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.json
🧪 [UNIFIED] CV content length=200, preview='Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • SQL, Python, Power BI, Excel, VBA, Analytical, Data Analysis, Business Intelligence, Querying  '
2025-10-09 16:46:42,106 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:46:42,106 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:46:42,171 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 16:46:42,171 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 16:46:42,171 INFO sqlalchemy.engine.Engine [generated in 0.00058s] {'email_1': 'keosha@gmail.com'}
2025-10-09 16:46:42,171 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] {'email_1': 'keosha@gmail.com'}
2025-10-09 16:46:42,221 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 16:46:42,221 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 16:46:42,221 INFO sqlalchemy.engine.Engine [generated in 0.00055s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 16:46:42,221 - sqlalchemy.engine.Engine - INFO - [generated in 0.00055s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 16:46:42,256 INFO sqlalchemy.engine.Engine INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 16:46:42,256 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 16:46:42,256 INFO sqlalchemy.engine.Engine [generated in 0.00047s] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_164642.json', 'file_path': 'user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_164642.json', 'file_size': 14929, 'sha256': '33a85f52a8d3fc7f658791bdf3ac54577e6ba720358d5ad5943769d110f1c0a6', 'timestamp': '20251009_164642'}
2025-10-09 16:46:42,256 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_input_recommendation_20251009_164642.json', 'file_path': 'user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_input_recommendation_20251009_164642.json', 'file_size': 14929, 'sha256': '33a85f52a8d3fc7f658791bdf3ac54577e6ba720358d5ad5943769d110f1c0a6', 'timestamp': '20251009_164642'}
2025-10-09 16:46:42,284 INFO sqlalchemy.engine.Engine INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 16:46:42,284 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 16:46:42,286 INFO sqlalchemy.engine.Engine [generated in 0.00231s] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'kind': 'input_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 183}
2025-10-09 16:46:42,286 - sqlalchemy.engine.Engine - INFO - [generated in 0.00231s] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'kind': 'input_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 183}
2025-10-09 16:46:42,309 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 16:46:42,309 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 16:46:42,327 - app.services.ats_recommendation_service - INFO - Successfully created AI recommendation prompt: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_prompt_recommendation.py
2025-10-09 16:46:42,327 - app.services.ats_recommendation_service - INFO - 🤖 [TRIGGER] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-09 16:46:42,328 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:46:42,329 - app.services.ats_recommendation_service - INFO - 📋 [TRIGGER] AI generation scheduled as background task for Australia_for_UNHCR
2025-10-09 16:46:42,330 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Input recommendation file created for Australia_for_UNHCR
2025-10-09 16:46:42,331 - app.routes.skills_analysis - INFO - 🤖 [PIPELINE] Starting AI recommendation generation for Australia_for_UNHCR
2025-10-09 16:46:42,331 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:46:42,332 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-09 16:46:42,334 - app.services.ai_recommendation_generator - INFO - 🟡 [AI GENERATOR] Input recommendation is newer (ai_mtime=1759988534.0884292, input_mtime=1759988802.053078); regenerating AI recommendation
2025-10-09 16:46:42,335 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:46:42,335 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:46:42,336 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:46:42,338 - app.services.ai_recommendation_generator - ERROR - ❌ [AI GENERATOR] Error checking CV freshness: 'str' object has no attribute 'timestamp'
2025-10-09 16:46:42,341 - app.services.ai_recommendation_generator - INFO - 📋 [AI GENERATOR] Generated AI prompt for Australia_for_UNHCR using centralized template (11889 characters)
2025-10-09 16:46:42,342 - app.services.ai_recommendation_generator - INFO - 🧠 [AI GENERATOR] Executing AI prompt for Australia_for_UNHCR
2025-10-09 16:46:42,342 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:46:42,342 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:46:42,342 - app.ai.ai_service - INFO - - Prompt length: 11889
2025-10-09 16:46:42,342 - app.ai.ai_service - INFO - - System prompt length: 130
2025-10-09 16:46:42,342 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:46:42,343 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:46:42,343 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:46:42,343 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:46:42,343 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:46:42,343 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:46:42,343 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:46:42,344 - app.ai.ai_service - INFO - - Available providers: ['openai']
WARNING:  WatchFiles detected changes in 'user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_prompt_recommendation.py'. Reloading...
2025-10-09 16:46:42,818 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:46:42,838 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:46:42,838 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:46:42,838 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:46:42,838 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:46:51,861 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:46:51,865 - app.services.ai_recommendation_generator - INFO - 🧠 [AI GENERATOR] AI response generated - Provider: openai, Model: gpt-3.5-turbo
2025-10-09 16:46:51,865 - app.services.ai_recommendation_generator - INFO - 💰 [AI GENERATOR] Cost: $0.0044, Tokens: 3385
2025-10-09 16:46:51,866 - app.services.ai_recommendation_generator - INFO - 💾 [AI GENERATOR] Saved AI recommendation: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_164651.json (3.6KB)
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=tailored, ts=20251009_160851, mtime=1759988758.7117772, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
  - type=tailored, ts=20251009_161344, mtime=1759988758.7179363, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json
  - type=tailored, ts=20251009_162503, mtime=1759988758.7095118, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.json
  - type=tailored, ts=20251009_164241, mtime=1759988758.7034194, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.json
  - type=tailored, ts=20251009_163317, mtime=1759988758.7067196, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.json
  - type=original, ts=00000000_000000, mtime=1759986398.6319315, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=tailored, ts=20251009_164241, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.json, txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.txt
2025-10-09 16:46:51,883 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:46:51,883 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:46:51,884 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 16:46:51,884 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 16:46:51,884 INFO sqlalchemy.engine.Engine [cached since 9.714s ago] {'email_1': 'keosha@gmail.com'}
2025-10-09 16:46:51,884 - sqlalchemy.engine.Engine - INFO - [cached since 9.714s ago] {'email_1': 'keosha@gmail.com'}
2025-10-09 16:46:51,925 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 16:46:51,925 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 16:46:51,926 INFO sqlalchemy.engine.Engine [cached since 9.705s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 16:46:51,926 - sqlalchemy.engine.Engine - INFO - [cached since 9.705s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'name_1': 'Australia_for_UNHCR'}
2025-10-09 16:46:51,948 INFO sqlalchemy.engine.Engine INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 16:46:51,948 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 16:46:51,948 INFO sqlalchemy.engine.Engine [cached since 9.692s ago] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'file_type': 'ai_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_ai_recommendation_20251009_164651.json', 'file_path': 'user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_164651.json', 'file_size': 3699, 'sha256': '0ea3799802907c4f231490cc4b8ac8af4422664289b2f63afb7869777a3c2106', 'timestamp': '20251009_164651'}
2025-10-09 16:46:51,948 - sqlalchemy.engine.Engine - INFO - [cached since 9.692s ago] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'file_type': 'ai_recommendation', 'file_format': 'json', 'filename': 'Australia_for_UNHCR_ai_recommendation_20251009_164651.json', 'file_path': 'user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_164651.json', 'file_size': 3699, 'sha256': '0ea3799802907c4f231490cc4b8ac8af4422664289b2f63afb7869777a3c2106', 'timestamp': '20251009_164651'}
2025-10-09 16:46:51,972 INFO sqlalchemy.engine.Engine INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 16:46:51,972 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 16:46:51,972 INFO sqlalchemy.engine.Engine [cached since 9.689s ago] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'kind': 'ai_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 184}
2025-10-09 16:46:51,972 - sqlalchemy.engine.Engine - INFO - [cached since 9.689s ago] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 15, 'kind': 'ai_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 184}
2025-10-09 16:46:51,995 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 16:46:51,995 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 16:46:52,028 - app.services.ai_recommendation_generator - INFO - ✅ [AI GENERATOR] AI recommendation generated and saved for Australia_for_UNHCR
2025-10-09 16:46:52,029 - app.services.ai_recommendation_generator - INFO - 📄 File: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_164214.json
2025-10-09 16:46:52,029 - app.services.ai_recommendation_generator - INFO - 💰 Cost: $0.0044
2025-10-09 16:46:52,029 - app.services.ai_recommendation_generator - INFO - 🔤 Tokens: 3385
2025-10-09 16:46:52,030 - app.services.ai_recommendation_generator - INFO - 🚀 [AI GENERATOR] Starting automatic CV tailoring for Australia_for_UNHCR
2025-10-09 16:46:52,031 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:46:52,034 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded CV optimization framework from /Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/tailored_cv/prompts/framework.md
2025-10-09 16:46:52,034 - app.tailored_cv.services.cv_tailoring_service - INFO - Loading real data for Australia_for_UNHCR
2025-10-09 16:46:52,034 - app.tailored_cv.services.cv_tailoring_service - INFO - Company folder: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 16:46:52,035 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:46:52,035 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:46:52,035 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:46:52,036 - app.tailored_cv.services.cv_tailoring_service - INFO - 📄 [TAILORING] Using latest CV via unified selector → type=tailored, ts=20251009_164241, path=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.txt
2025-10-09 16:46:52,037 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [DEBUG] Loading CV from user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.txt
2025-10-09 16:46:52,037 - app.tailored_cv.services.cv_tailoring_service - INFO - - First 200 chars: Maheshwor Tiwari  | 0414 032 507  | maheshtwari99@gmail.com  | Hurstville, NSW, 2220  TECHNICAL SKILLS • SQL, Python, Power BI, Excel, VBA, Analytical, Data Analysis, Business Intelligence, Querying  
2025-10-09 16:46:52,037 - app.tailored_cv.services.recommendation_parser - INFO - 📂 Loading CV from: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.txt
2025-10-09 16:46:52,038 - app.tailored_cv.services.recommendation_parser - INFO - 📝 Detected .txt CV file → parsing as raw text
2025-10-09 16:46:52,043 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Successfully parsed raw text CV from .txt
2025-10-09 16:46:52,044 - app.tailored_cv.services.cv_tailoring_service - INFO - - Parsed CV data keys: ['contact', 'education', 'experience', 'skills', 'total_years_experience']
2025-10-09 16:46:52,045 - app.tailored_cv.services.cv_tailoring_service - WARNING - ⚠️ [TAILORING] CV data is empty, checking for original_text fallback
2025-10-09 16:46:52,045 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Skills already in SkillCategory format
2025-10-09 16:46:52,045 - app.tailored_cv.services.cv_tailoring_service - WARNING - ⚠️ [TAILORING] CV data is incomplete, falling back to original CV
2025-10-09 16:46:52,045 - app.tailored_cv.services.cv_tailoring_service - INFO - 📄 [TAILORING] Loading original CV as fallback: user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 16:46:52,046 - app.tailored_cv.services.recommendation_parser - INFO - 📂 Loading CV from: user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 16:46:52,048 - app.tailored_cv.services.recommendation_parser - INFO - 📋 CV format check:
2025-10-09 16:46:52,049 - app.tailored_cv.services.recommendation_parser - INFO -   - Top-level keys: ['personal_information', 'career_profile', 'skills', 'education', 'experience', 'projects', 'certifications', 'languages', 'awards', 'publications', 'volunteer_work', 'professional_memberships', 'unknown_sections', 'original_sections', 'saved_at', 'metadata']
2025-10-09 16:46:52,049 - app.tailored_cv.services.recommendation_parser - INFO -   - Has metadata: True
2025-10-09 16:46:52,049 - app.tailored_cv.services.recommendation_parser - INFO -   - Source file: maheshwor_tiwari.pdf
2025-10-09 16:46:52,050 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing version: 1.0
2025-10-09 16:46:52,050 - app.tailored_cv.services.recommendation_parser - INFO - 🔍 [CV_PARSER] Detailed CV structure analysis:
2025-10-09 16:46:52,050 - app.tailored_cv.services.recommendation_parser - INFO -   - Has contact: False
2025-10-09 16:46:52,050 - app.tailored_cv.services.recommendation_parser - INFO -   - Has experience: True
2025-10-09 16:46:52,050 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience type: <class 'list'>
2025-10-09 16:46:52,050 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience count: 6
2025-10-09 16:46:52,051 - app.tailored_cv.services.recommendation_parser - INFO -   - First experience keys: ['title', 'company', 'duration', 'location', 'responsibilities', 'achievements', 'technologies']
2025-10-09 16:46:52,051 - app.tailored_cv.services.recommendation_parser - INFO -   - Has skills: True
2025-10-09 16:46:52,051 - app.tailored_cv.services.recommendation_parser - INFO -   - Skills type: <class 'dict'>
2025-10-09 16:46:52,051 - app.tailored_cv.services.recommendation_parser - INFO -   - Skills count: Not a list
2025-10-09 16:46:52,051 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Detected structured CV format
2025-10-09 16:46:52,052 - app.tailored_cv.services.recommendation_parser - INFO - 📊 Structure overview:
2025-10-09 16:46:52,052 - app.tailored_cv.services.recommendation_parser - INFO -   - Skills sections: ['technical_skills', 'key_skills', 'soft_skills', 'domain_expertise']
2025-10-09 16:46:52,052 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience entries: 6
2025-10-09 16:46:52,052 - app.tailored_cv.services.recommendation_parser - INFO -   - Education entries: 3
2025-10-09 16:46:52,052 - app.tailored_cv.services.recommendation_parser - INFO -   - Projects: 0
2025-10-09 16:46:52,052 - app.tailored_cv.services.recommendation_parser - INFO - 🔄 Starting structured CV conversion
2025-10-09 16:46:52,052 - app.tailored_cv.services.recommendation_parser - INFO - 📊 Input data validation:
2025-10-09 16:46:52,053 - app.tailored_cv.services.recommendation_parser - INFO - 👤 Converting contact information
2025-10-09 16:46:52,053 - app.tailored_cv.services.recommendation_parser - INFO -   - Source fields: ['name', 'phone', 'email', 'location', 'linkedin', 'github', 'portfolio_links', 'residency_status', 'open_to']
2025-10-09 16:46:52,053 - app.tailored_cv.services.recommendation_parser - INFO -   - Mapped fields: ['name', 'email', 'phone', 'location', 'linkedin', 'website']
2025-10-09 16:46:52,053 - app.tailored_cv.services.recommendation_parser - INFO -   - Contact completeness: 100.0%
2025-10-09 16:46:52,053 - app.tailored_cv.services.recommendation_parser - INFO -   - LinkedIn: LinkedIn
2025-10-09 16:46:52,053 - app.tailored_cv.services.recommendation_parser - INFO -   - Website: GitHub
2025-10-09 16:46:52,054 - app.tailored_cv.services.recommendation_parser - INFO - 💼 Converting experience entries
2025-10-09 16:46:52,054 - app.tailored_cv.services.recommendation_parser - INFO -   - Found 6 experience entries
2025-10-09 16:46:52,054 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 1/6
2025-10-09 16:46:52,054 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: The Bitrates
2025-10-09 16:46:52,054 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Data Analyst
2025-10-09 16:46:52,054 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Jul 2024 to Present
2025-10-09 16:46:52,054 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 5
2025-10-09 16:46:52,054 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 2/6
2025-10-09 16:46:52,055 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: iBuild Building Solutions
2025-10-09 16:46:52,055 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Data Analyst
2025-10-09 16:46:52,055 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Mar 2024 to Jun 2024
2025-10-09 16:46:52,055 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 4
2025-10-09 16:46:52,055 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 3/6
2025-10-09 16:46:52,055 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: Property Console
2025-10-09 16:46:52,055 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Software engineer and Analyst
2025-10-09 16:46:52,055 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Jun 2023 to Nov 2023
2025-10-09 16:46:52,055 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 4
2025-10-09 16:46:52,056 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 4/6
2025-10-09 16:46:52,056 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: CY Cergy Paris University
2025-10-09 16:46:52,056 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Research Assistant
2025-10-09 16:46:52,056 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Oct 2018 to Sep 2022
2025-10-09 16:46:52,056 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 3
2025-10-09 16:46:52,056 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 5/6
2025-10-09 16:46:52,057 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: CY Cergy Paris University
2025-10-09 16:46:52,058 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Lecturer and Course Facilitator
2025-10-09 16:46:52,060 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Sep 2019 to Jun 2022
2025-10-09 16:46:52,060 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 3
2025-10-09 16:46:52,061 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 6/6
2025-10-09 16:46:52,061 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: CY Cergy Paris University
2025-10-09 16:46:52,061 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Research Intern
2025-10-09 16:46:52,061 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Feb 2018 to Jun 2018
2025-10-09 16:46:52,062 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 3
2025-10-09 16:46:52,062 - app.tailored_cv.services.recommendation_parser - INFO - Converted 6 experience entries
2025-10-09 16:46:52,062 - app.tailored_cv.services.recommendation_parser - INFO - 🔧 Converting skills section
2025-10-09 16:46:52,063 - app.tailored_cv.services.recommendation_parser - INFO -   - Source skill categories: ['technical_skills', 'key_skills', 'soft_skills', 'domain_expertise']
2025-10-09 16:46:52,063 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing technical skills:
2025-10-09 16:46:52,063 - app.tailored_cv.services.recommendation_parser - INFO -     • Extracted 5 unique technical skills
2025-10-09 16:46:52,064 - app.tailored_cv.services.recommendation_parser - INFO -     • Skills: Python, Data Analysis, Power BI, SQL, Excel
2025-10-09 16:46:52,066 - app.tailored_cv.services.recommendation_parser - INFO - Converted 1 skill categories
2025-10-09 16:46:52,066 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Conversion complete - Validating output
2025-10-09 16:46:52,066 - app.tailored_cv.services.recommendation_parser - INFO - ✓ Experience: 6 entries
2025-10-09 16:46:52,066 - app.tailored_cv.services.recommendation_parser - INFO - ✓ Skills: 1 categories
2025-10-09 16:46:52,066 - app.tailored_cv.services.recommendation_parser - INFO -   • Technical Skills: 5 skills
2025-10-09 16:46:52,066 - app.tailored_cv.services.recommendation_parser - INFO - ✨ Validation passed - All required sections present
2025-10-09 16:46:52,066 - app.tailored_cv.services.recommendation_parser - INFO - 🎓 Converting education entries
2025-10-09 16:46:52,067 - app.tailored_cv.services.recommendation_parser - INFO -   - Found 3 education entries
2025-10-09 16:46:52,067 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing education 1/3
2025-10-09 16:46:52,067 - app.tailored_cv.services.recommendation_parser - INFO -     • Institution: Charles Darwin University, Sydney, Australia
2025-10-09 16:46:52,067 - app.tailored_cv.services.recommendation_parser - INFO -     • Degree: Master of Data Science
2025-10-09 16:46:52,067 - app.tailored_cv.services.recommendation_parser - INFO -     • Graduation date: Mar 2023 - Nov 2024
2025-10-09 16:46:52,068 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing education 2/3
2025-10-09 16:46:52,068 - app.tailored_cv.services.recommendation_parser - INFO -     • Institution: CY Cergy Paris University, Cergy, France
2025-10-09 16:46:52,068 - app.tailored_cv.services.recommendation_parser - INFO -     • Degree: PhD in Physics
2025-10-09 16:46:52,068 - app.tailored_cv.services.recommendation_parser - INFO -     • Graduation date: Oct 2018 - Sep 2022
2025-10-09 16:46:52,068 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing education 3/3
2025-10-09 16:46:52,068 - app.tailored_cv.services.recommendation_parser - INFO -     • Institution: CY Cergy Paris University, Cergy, France
2025-10-09 16:46:52,069 - app.tailored_cv.services.recommendation_parser - INFO -     • Degree: Master of Theoretical Physics
2025-10-09 16:46:52,069 - app.tailored_cv.services.recommendation_parser - INFO -     • Graduation date: Sep 2016 - Jun 2018
2025-10-09 16:46:52,069 - app.tailored_cv.services.recommendation_parser - INFO - Converted 3 education entries
2025-10-09 16:46:52,069 - app.tailored_cv.services.recommendation_parser - INFO - 📤 Returning converted CV data:
2025-10-09 16:46:52,069 - app.tailored_cv.services.recommendation_parser - INFO -   - Contact fields: ['name', 'email', 'phone', 'location', 'linkedin', 'website']
2025-10-09 16:46:52,069 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience entries: 6
2025-10-09 16:46:52,069 - app.tailored_cv.services.recommendation_parser - INFO -   - Skill categories: 1
2025-10-09 16:46:52,069 - app.tailored_cv.services.recommendation_parser - INFO -   - Education entries: 3
2025-10-09 16:46:52,070 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [TAILORING] Successfully loaded original CV as fallback
2025-10-09 16:46:52,071 - app.tailored_cv.services.cv_tailoring_service - INFO - - Final CV object attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__repr__', '__repr_args__', '__repr_name__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_check_frozen', '_copy_and_set_values', '_get_value', '_iter', 'construct', 'contact', 'copy', 'created_at', 'dict', 'education', 'experience', 'experience_level', 'from_orm', 'json', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'projects', 'schema', 'schema_json', 'skills', 'total_years_experience', 'update_forward_refs', 'updated_at', 'validate']
2025-10-09 16:46:52,082 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Parsed recommendation for Australia_for_UNHCR
2025-10-09 16:46:52,082 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded real CV and recommendation for Australia_for_UNHCR
2025-10-09 16:46:52,083 - app.tailored_cv.services.cv_tailoring_service - INFO - 🎯 Starting CV tailoring for Australia_for_UNHCR - Senior Data Analyst
2025-10-09 16:46:52,083 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [DEBUG] Validating CV structure:
2025-10-09 16:46:52,083 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV object type: <class 'app.tailored_cv.models.cv_models.OriginalCV'>
2025-10-09 16:46:52,084 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__repr__', '__repr_args__', '__repr_name__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_check_frozen', '_copy_and_set_values', '_get_value', '_iter', 'construct', 'contact', 'copy', 'created_at', 'dict', 'education', 'experience', 'experience_level', 'from_orm', 'json', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'projects', 'schema', 'schema_json', 'skills', 'total_years_experience', 'update_forward_refs', 'updated_at', 'validate']
2025-10-09 16:46:52,084 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV data: {
  "contact": {
    "name": "Maheshwor Tiwari",
    "phone": "0414 032 507",
    "email": "maheshtwari99@gmail.com",
    "linkedin": "LinkedIn",
    "location": "Hurstville, NSW, 2220",
    "website": "GitHub"
  },
  "education": [
    {
      "institution": "Charles Darwin University, Sydney, Australia",
      "degree": "Master of Data Science",
      "location": "Sydney, Australia",
      "graduation_date": "Mar 2023 - Nov 2024",
      "gpa": "GPA",
      "relevant_coursework": [],
      "honors": []
    },
    {
      "institution": "CY Cergy Paris University, Cergy, France",
      "degree": "PhD in Physics",
      "location": "Cergy, France",
      "graduation_date": "Oct 2018 - Sep 2022",
      "gpa": "",
      "relevant_coursework": [],
      "honors": []
    },
    {
      "institution": "CY Cergy Paris University, Cergy, France",
      "degree": "Master of Theoretical Physics",
      "location": "Cergy, France",
      "graduation_date": "Sep 2016 - Jun 2018",
      "gpa": "",
      "relevant_coursework": [],
      "honors": []
    }
  ],
  "experience": [
    {
      "company": "The Bitrates",
      "title": "Data Analyst",
      "location": "",
      "start_date": "Jul 2024",
      "end_date": "Present",
      "duration": null,
      "bullets": [
        "Designed and implemented Python scripts for data cleaning, preprocessing, and analysis, improving data pipeline efficiency by 30%.",
        "Developed machine learning models in Python for predictive analytics, enabling data-driven business decisions.",
        "Leveraged AI techniques to automate repetitive tasks, reducing manual effort and improving productivity.",
        "Built dynamic dashboards and visualizations using Python libraries like Matplotlib and Seaborn to communicate insights effectively.",
        "Integrated Google Analytics data with Python for advanced analysis, enhancing customer behavior insights."
      ],
      "skills_used": null
    },
    {
      "company": "iBuild Building Solutions",
      "title": "Data Analyst",
      "location": "",
      "start_date": "Mar 2024",
      "end_date": "Jun 2024",
      "duration": null,
      "bullets": [
        "Automated data extraction and structuring of population datasets using Python, improving data accuracy and team collaboration.",
        "Analyzed customer support data with Python to optimize response times and enhance operational efficiency.",
        "Developed Python-based solutions to generate actionable insights, meeting strict deadlines for strategic decision-making.",
        "Designed Python scripts to create dynamic reports and dashboards, significantly improving customer satisfaction and decision-making processes."
      ],
      "skills_used": null
    },
    {
      "company": "Property Console",
      "title": "Software engineer and Analyst",
      "location": "",
      "start_date": "Jun 2023",
      "end_date": "Nov 2023",
      "duration": null,
      "bullets": [
        "Built Python scripts to track key metrics, ensuring 99% data accuracy and improving data integrity and operational efficiency.",
        "Collaborated with the development team to enhance analytics capabilities, using Python to improve data processing speed by 25%.",
        "Leveraged Python for data preprocessing and analysis, producing Tableau dashboards that improved decision-making.",
        "Supported cross-functional teams with Python-driven insights, enabling customer-focused initiatives."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Research Assistant",
      "location": "",
      "start_date": "Oct 2018",
      "end_date": "Sep 2022",
      "duration": null,
      "bullets": [
        "Utilized advanced Python programming for computational modeling and solving complex research problems.",
        "Developed Python-based workflows to manage and analyze large datasets across multiple research projects.",
        "Presented Python-enabled research findings at international conferences, demonstrating technical expertise and communication skills."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Lecturer and Course Facilitator",
      "location": "",
      "start_date": "Sep 2019",
      "end_date": "Jun 2022",
      "duration": null,
      "bullets": [
        "Led engaging physics tutorials for master\u2019s students, enhancing understanding and promoting teamwork.",
        "Designed course materials, assignments, and exams, strengthening the learning experience.",
        "Mentored students on projects, collaborated with faculty, and fostered student engagement."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Research Intern",
      "location": "",
      "start_date": "Feb 2018",
      "end_date": "Jun 2018",
      "duration": null,
      "bullets": [
        "Developed proficiency in Python programming by researching the effect of magnetic fields on 2D materials.",
        "Managed and analyzed complex data sets, improving their accuracy and reliability.",
        "Used dashboard using Power BI to present research findings and participated in weekly reviews, improving collaboration and research skills."
      ],
      "skills_used": null
    }
  ],
  "projects": null,
  "skills": [
    {
      "category": "Technical Skills",
      "skills": [
        "Python",
        "Data Analysis",
        "Power BI",
        "SQL",
        "Excel"
      ]
    }
  ],
  "experience_level": null,
  "total_years_experience": null,
  "created_at": null,
  "updated_at": null
}
2025-10-09 16:46:52,085 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [CV_VALIDATION] Starting detailed validation:
2025-10-09 16:46:52,085 - app.tailored_cv.services.cv_tailoring_service - INFO - - Has contact: True
2025-10-09 16:46:52,085 - app.tailored_cv.services.cv_tailoring_service - INFO - - Contact name: Maheshwor Tiwari
2025-10-09 16:46:52,085 - app.tailored_cv.services.cv_tailoring_service - INFO - - Contact email: maheshtwari99@gmail.com
2025-10-09 16:46:52,085 - app.tailored_cv.services.cv_tailoring_service - INFO - - Has experience: True
2025-10-09 16:46:52,085 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience count: 6
2025-10-09 16:46:52,085 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 1: company=The Bitrates, bullets=5
2025-10-09 16:46:52,086 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 2: company=iBuild Building Solutions, bullets=4
2025-10-09 16:46:52,086 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 3: company=Property Console, bullets=4
2025-10-09 16:46:52,086 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 4: company=CY Cergy Paris University, bullets=3
2025-10-09 16:46:52,086 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 5: company=CY Cergy Paris University, bullets=3
2025-10-09 16:46:52,087 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 6: company=CY Cergy Paris University, bullets=3
2025-10-09 16:46:52,087 - app.tailored_cv.services.cv_tailoring_service - INFO - - Has skills: True
2025-10-09 16:46:52,087 - app.tailored_cv.services.cv_tailoring_service - INFO - - Skills count: 1
2025-10-09 16:46:52,087 - app.tailored_cv.services.cv_tailoring_service - INFO - - Skill category 1: Technical Skills, skills=5
2025-10-09 16:46:52,087 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [CV_VALIDATION] Checking required fields:
2025-10-09 16:46:52,087 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Contact name present: Maheshwor Tiwari
2025-10-09 16:46:52,087 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Contact email present: maheshtwari99@gmail.com
2025-10-09 16:46:52,087 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Experience entries present: 6
2025-10-09 16:46:52,088 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Skills section present: 1 categories
2025-10-09 16:46:52,089 - app.tailored_cv.services.cv_tailoring_service - INFO - [6d945154] 🎯 Starting CV tailoring for Australia_for_UNHCR with strategy: education_last
2025-10-09 16:46:52,089 - app.tailored_cv.services.cv_tailoring_service - INFO - [6d945154] Initial stats:
2025-10-09 16:46:52,089 - app.tailored_cv.services.cv_tailoring_service - INFO - [6d945154] - Experience entries: 6
2025-10-09 16:46:52,089 - app.tailored_cv.services.cv_tailoring_service - INFO - [6d945154] - Total bullets: 22
2025-10-09 16:46:52,089 - app.tailored_cv.services.cv_tailoring_service - INFO - [6d945154] - Skills categories: 1
2025-10-09 16:46:52,089 - app.tailored_cv.services.cv_tailoring_service - INFO - [6d945154] - Total skills: 5
2025-10-09 16:46:52,090 - app.tailored_cv.services.cv_tailoring_service - INFO - [6d945154] Critical gaps to address: Business Intelligence, VBA, Data Warehouse, Data Extraction, Detail-oriented
2025-10-09 16:46:52,091 - app.tailored_cv.services.cv_tailoring_service - INFO - [6d945154] Technical enhancements needed: 
2025-10-09 16:46:52,093 - app.tailored_cv.services.cv_tailoring_service - INFO - [6d945154] 🤖 Generating tailored CV using AI service...
2025-10-09 16:46:52,094 - app.tailored_cv.services.cv_tailoring_service - INFO - [6d945154] Attempt 1/5 with temp=0.0
2025-10-09 16:46:52,094 - app.tailored_cv.services.cv_tailoring_service - INFO - [6d945154] - System prompt length: 10574
2025-10-09 16:46:52,095 - app.tailored_cv.services.cv_tailoring_service - INFO - [6d945154] - User prompt length: 12589
🔍 Searching for latest CV across tailored+original for company: Australia_for_UNHCR
🧭 [UNIFIED] CV candidates before sort:
  - type=tailored, ts=20251009_160851, mtime=1759988758.7117772, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_160851.json
  - type=tailored, ts=20251009_161344, mtime=1759988758.7179363, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.json
  - type=tailored, ts=20251009_162503, mtime=1759988758.7095118, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_162503.json
  - type=tailored, ts=20251009_164241, mtime=1759988758.7034194, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.json
  - type=tailored, ts=20251009_163317, mtime=1759988758.7067196, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_163317.json
  - type=original, ts=00000000_000000, mtime=1759986398.6319315, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=tailored, ts=20251009_164241, json=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.json, txt=user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.txt
2025-10-09 16:46:52,120 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:46:52,120 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:46:52,121 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 16:46:52,121 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 16:46:52,122 INFO sqlalchemy.engine.Engine [generated in 0.00036s] {'email_1': 'keosha@gmail.com', 'param_1': 1}
2025-10-09 16:46:52,122 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] {'email_1': 'keosha@gmail.com', 'param_1': 1}
2025-10-09 16:46:52,183 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:46:52,183 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:46:52,205 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user keosha@gmail.com
2025-10-09 16:46:52,205 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Before initialization:
2025-10-09 16:46:52,205 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 16:46:52,205 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:46:52,205 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:46:52,205 - app.ai.ai_service - INFO - - Cached providers for user: ['openai']
2025-10-09 16:46:52,205 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Using cached providers for user keosha@gmail.com
2025-10-09 16:46:52,206 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] After initialization:
2025-10-09 16:46:52,207 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 16:46:52,208 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:46:52,209 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:46:52,210 - app.tailored_cv.services.cv_tailoring_service - INFO - [6d945154] 🔄 Initialized AI service for user keosha@gmail.com
2025-10-09 16:46:52,211 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:46:52,211 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:46:52,211 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:46:52,211 - app.ai.ai_service - INFO - - Prompt length: 12589
2025-10-09 16:46:52,212 - app.ai.ai_service - INFO - - System prompt length: 10574
2025-10-09 16:46:52,212 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:46:52,212 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:46:52,212 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:46:52,213 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:46:52,215 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:46:52,215 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:46:52,215 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:46:52,215 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:46:53,202 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:46:53,222 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:46:53,225 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:46:53,225 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:46:53,225 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:47:11,111 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:47:11,113 - app.tailored_cv.services.cv_tailoring_service - INFO - [6d945154] AI response stats:
2025-10-09 16:47:11,113 - app.tailored_cv.services.cv_tailoring_service - INFO - [6d945154] - Content length: 5932
2025-10-09 16:47:11,114 - app.tailored_cv.services.cv_tailoring_service - INFO - [6d945154] - First 300 chars: {   "contact": {     "name": "Maheshwor Tiwari",     "phone": "0414 032 507",     "email": "maheshtwari99@gmail.com",     "location": "Hurstville, NSW, 2220",     "linkedin": "",     "website": ""   },   "education": [     {       "institution": "Charles Darwin University, Sydney, Australia",       ...
2025-10-09 16:47:11,114 - app.tailored_cv.services.cv_tailoring_service - INFO - Starting JSON extraction from content length: 5932
2025-10-09 16:47:11,114 - app.tailored_cv.services.cv_tailoring_service - INFO - [6d945154] 🔍 Starting JSON validation
2025-10-09 16:47:11,115 - app.tailored_cv.services.cv_tailoring_service - WARNING - [6d945154] CV created below minimum standards: 44.0% quantification
2025-10-09 16:47:11,116 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ JSON structure and Impact Formula validation passed (11/25 bullets with quantification)
2025-10-09 16:47:11,116 - app.tailored_cv.services.cv_tailoring_service - INFO - ℹ️ Skipping placeholder checks; proceeding with generated data as-is.
2025-10-09 16:47:11,116 - app.tailored_cv.services.cv_tailoring_service - INFO - [6d945154] 🔍 Starting keyword integration validation
2025-10-09 16:47:11,117 - app.tailored_cv.services.cv_tailoring_service - INFO - [6d945154] Scanning experience bullets:
2025-10-09 16:47:11,117 - app.tailored_cv.services.cv_tailoring_service - INFO - [6d945154] - Experience 1: 6 bullets
2025-10-09 16:47:11,117 - app.tailored_cv.services.cv_tailoring_service - INFO - [6d945154] - Experience 2: 5 bullets
2025-10-09 16:47:11,117 - app.tailored_cv.services.cv_tailoring_service - INFO - [6d945154] - Experience 3: 5 bullets
2025-10-09 16:47:11,117 - app.tailored_cv.services.cv_tailoring_service - INFO - [6d945154] - Experience 4: 3 bullets
2025-10-09 16:47:11,117 - app.tailored_cv.services.cv_tailoring_service - INFO - [6d945154] - Experience 5: 3 bullets
2025-10-09 16:47:11,117 - app.tailored_cv.services.cv_tailoring_service - INFO - [6d945154] - Experience 6: 3 bullets
2025-10-09 16:47:11,117 - app.tailored_cv.services.cv_tailoring_service - INFO - [6d945154] Scanning skills:
2025-10-09 16:47:11,118 - app.tailored_cv.services.cv_tailoring_service - INFO - [6d945154] - Category 1: 8 skills
2025-10-09 16:47:11,118 - app.tailored_cv.services.cv_tailoring_service - WARNING - ⚠️ Some keywords not found but within acceptable range: Business Intelligence, Detail-oriented
2025-10-09 16:47:11,118 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Keyword integration validation passed - 4/6 critical keywords found
2025-10-09 16:47:11,118 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Keyword integration validation passed - 6 critical keywords found
2025-10-09 16:47:11,118 - app.tailored_cv.services.cv_tailoring_service - INFO - [6d945154] ✅ AI generation successful on attempt 1
2025-10-09 16:47:11,118 - app.tailored_cv.services.cv_tailoring_service - INFO - [6d945154] 🔁 Quantification below 60% (44.0%). Enhancement attempt 1/3
2025-10-09 16:47:11,118 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:47:11,119 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:47:11,119 - app.ai.ai_service - INFO - - Prompt length: 14345
2025-10-09 16:47:11,119 - app.ai.ai_service - INFO - - System prompt length: 10574
2025-10-09 16:47:11,119 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:47:11,119 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:47:11,119 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:47:11,119 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:47:11,119 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:47:11,119 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:47:11,120 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:47:11,120 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:47:11,519 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:47:11,534 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:47:11,534 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:47:11,534 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:47:11,534 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:47:28,650 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:47:28,668 - app.tailored_cv.services.cv_tailoring_service - INFO - Starting JSON extraction from content length: 5676
2025-10-09 16:47:28,668 - app.tailored_cv.services.cv_tailoring_service - INFO - [6d945154] 🔍 Starting JSON validation
2025-10-09 16:47:28,669 - app.tailored_cv.services.cv_tailoring_service - INFO - [6d945154] CV created with improvement suggestions: 59.1% quantification
2025-10-09 16:47:28,669 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ JSON structure and Impact Formula validation passed (13/22 bullets with quantification)
2025-10-09 16:47:28,669 - app.tailored_cv.services.cv_tailoring_service - INFO - [6d945154] 🔁 Quantification below 60% (59.1%). Enhancement attempt 2/3
2025-10-09 16:47:28,669 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:47:28,669 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:47:28,670 - app.ai.ai_service - INFO - - Prompt length: 16101
2025-10-09 16:47:28,670 - app.ai.ai_service - INFO - - System prompt length: 10574
2025-10-09 16:47:28,670 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:47:28,670 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:47:28,670 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:47:28,670 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:47:28,670 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:47:28,670 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:47:28,671 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:47:28,671 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:47:29,233 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:47:29,250 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:47:29,251 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:47:29,251 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:47:29,251 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:47:39,782 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:47:39,785 - app.tailored_cv.services.cv_tailoring_service - INFO - Starting JSON extraction from content length: 5545
2025-10-09 16:47:39,786 - app.tailored_cv.services.cv_tailoring_service - INFO - [6d945154] 🔍 Starting JSON validation
2025-10-09 16:47:39,786 - app.tailored_cv.services.cv_tailoring_service - INFO - [6d945154] CV created with improvement suggestions: 63.6% quantification
2025-10-09 16:47:39,786 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ JSON structure and Impact Formula validation passed (14/22 bullets with quantification)
2025-10-09 16:47:39,787 - app.tailored_cv.services.cv_tailoring_service - ERROR - ❌ CV tailoring failed: 2 validation errors for Education
relevant_coursework
  Input should be a valid list [type=list_type, input_value='', input_type=str]
    For further information visit https://errors.pydantic.dev/2.5/v/list_type
honors
  Input should be a valid list [type=list_type, input_value='', input_type=str]
    For further information visit https://errors.pydantic.dev/2.5/v/list_type
2025-10-09 16:47:39,787 - app.services.ai_recommendation_generator - ERROR - ❌ [AI GENERATOR] Error during automatic CV tailoring for Australia_for_UNHCR: CV tailoring process failed: 2 validation errors for Education
relevant_coursework
  Input should be a valid list [type=list_type, input_value='', input_type=str]
    For further information visit https://errors.pydantic.dev/2.5/v/list_type
honors
  Input should be a valid list [type=list_type, input_value='', input_type=str]
    For further information visit https://errors.pydantic.dev/2.5/v/list_type
2025-10-09 16:47:39,787 - app.services.ai_recommendation_generator - WARNING - ⚠️ [AI GENERATOR] CV tailoring failed for Australia_for_UNHCR
2025-10-09 16:47:39,787 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] AI recommendation generated for Australia_for_UNHCR
2025-10-09 16:47:39,788 - app.routes.skills_analysis - INFO - 🎯 [PIPELINE] Starting tailored CV generation for Australia_for_UNHCR
2025-10-09 16:47:39,791 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:47:39,794 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded CV optimization framework from /Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/tailored_cv/prompts/framework.md
2025-10-09 16:47:39,795 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:47:39,798 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Found AI recommendation file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_164651.json
2025-10-09 16:47:39,799 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Tailored CV found: user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_161344.txt
2025-10-09 16:47:39,800 - app.routes.skills_analysis - INFO - 📋 [PIPELINE] Pipeline summary for Australia_for_UNHCR:
2025-10-09 16:47:39,800 - app.routes.skills_analysis - INFO -    ✅ Successful: ['jd_analysis', 'cv_jd_matching', 'component_analysis', 'input_recommendation', 'ai_recommendation', 'tailored_cv']
2025-10-09 16:47:39,800 - app.routes.skills_analysis - INFO -    🎉 All steps completed successfully!
2025-10-09 16:47:39,800 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: Australia_for_UNHCR
2025-10-09 16:47:39,802 - app.services.ai_recommendation_generator - INFO - 🟢 [AI GENERATOR] Latest AI recommendation (Australia_for_UNHCR_ai_recommendation_20251009_164651.json) is up-to-date vs input (Australia_for_UNHCR_input_recommendation_20251009_164642.json); skipping regeneration
2025-10-09 16:47:39,802 - app.services.ats_recommendation_service - INFO - ✅ [TRIGGER] AI recommendation generated successfully for Australia_for_UNHCR
INFO:     127.0.0.1:55079 - "POST /api/preliminary-analysis HTTP/1.1" 200 OK
2025-10-09 16:47:39,853 - app.routes.skills_analysis - INFO - 📊 [API] Fetching analysis results for company: Australia_for_UNHCR
2025-10-09 16:47:39,854 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:47:39,855 - app.utils.path_debug - INFO - 
📌 Starting get_analysis_results
2025-10-09 16:47:39,855 - app.utils.path_debug - INFO -   📂 User base dir: user/keosha@gmail.com/cv-analysis
2025-10-09 16:47:39,856 - app.utils.path_debug - INFO -   📂 Company dir: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 16:47:39,856 - app.utils.path_debug - INFO -   📂 Using analysis file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_164615.json
2025-10-09 16:47:39,857 - app.utils.path_debug - INFO -   ✅ Loaded analysis file, size: 18518 bytes
INFO:     127.0.0.1:55079 - "GET /api/analysis-results/Australia_for_UNHCR HTTP/1.1" 200 OK
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 16:47:40,004 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [25489]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [27173]
INFO:     Waiting for application startup.
2025-10-09 16:47:45,445 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 16:47:45,786 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 16:47:45,786 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 16:47:45,786 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:47:45,786 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:47:45,826 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 16:47:45,826 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 16:47:45,826 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:47:45,826 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:47:45,871 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 16:47:45,871 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 16:47:45,872 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:47:45,872 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:47:45,913 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:47:45,913 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:47:45,914 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 16:47:45,914 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 16:47:45,914 INFO sqlalchemy.engine.Engine [generated in 0.00121s] {}
2025-10-09 16:47:45,914 - sqlalchemy.engine.Engine - INFO - [generated in 0.00121s] {}
2025-10-09 16:47:45,955 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:47:45,955 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:47:45,973 - app.database - INFO - Database connection successful
2025-10-09 16:47:45,973 - app.main - INFO - ✅ Database connection successful
2025-10-09 16:47:45,995 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:47:45,995 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:47:46,000 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:47:46,000 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:47:46,001 INFO sqlalchemy.engine.Engine [generated in 0.00048s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:47:46,001 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:47:46,039 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:47:46,039 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:47:46,039 INFO sqlalchemy.engine.Engine [cached since 0.03933s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:47:46,039 - sqlalchemy.engine.Engine - INFO - [cached since 0.03933s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:47:46,062 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:47:46,062 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:47:46,063 INFO sqlalchemy.engine.Engine [cached since 0.06285s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:47:46,063 - sqlalchemy.engine.Engine - INFO - [cached since 0.06285s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:47:46,088 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:47:46,088 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:47:46,088 INFO sqlalchemy.engine.Engine [cached since 0.08783s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:47:46,088 - sqlalchemy.engine.Engine - INFO - [cached since 0.08783s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:47:46,112 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:47:46,112 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:47:46,113 INFO sqlalchemy.engine.Engine [cached since 0.1127s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:47:46,113 - sqlalchemy.engine.Engine - INFO - [cached since 0.1127s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:47:46,138 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:47:46,138 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:47:46,138 INFO sqlalchemy.engine.Engine [cached since 0.1383s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:47:46,138 - sqlalchemy.engine.Engine - INFO - [cached since 0.1383s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:47:46,164 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:47:46,164 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:47:46,165 INFO sqlalchemy.engine.Engine [cached since 0.1644s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:47:46,165 - sqlalchemy.engine.Engine - INFO - [cached since 0.1644s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:47:46,184 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:47:46,184 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:47:46,184 INFO sqlalchemy.engine.Engine [cached since 0.1843s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:47:46,184 - sqlalchemy.engine.Engine - INFO - [cached since 0.1843s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:47:46,210 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:47:46,210 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:47:46,210 INFO sqlalchemy.engine.Engine [cached since 0.2099s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:47:46,210 - sqlalchemy.engine.Engine - INFO - [cached since 0.2099s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:47:46,233 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:47:46,233 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:47:46,234 INFO sqlalchemy.engine.Engine [cached since 0.2334s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:47:46,234 - sqlalchemy.engine.Engine - INFO - [cached since 0.2334s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:47:46,259 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:47:46,259 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:47:46,259 INFO sqlalchemy.engine.Engine [cached since 0.2589s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:47:46,259 - sqlalchemy.engine.Engine - INFO - [cached since 0.2589s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:47:46,282 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 16:47:46,282 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 16:47:46,301 - app.database - INFO - Database tables created successfully
2025-10-09 16:47:46,301 - app.main - INFO - ✅ Database tables ready
2025-10-09 16:47:46,301 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 16:47:46,301 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
2025-10-09 16:48:00,052 - app.routes.skills_analysis - INFO - 📊 [API] Fetching analysis results for company: Australia_for_UNHCR
2025-10-09 16:48:00,054 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:48:00,054 - app.utils.path_debug - INFO - 
📌 Starting get_analysis_results
2025-10-09 16:48:00,054 - app.utils.path_debug - INFO -   📂 User base dir: user/keosha@gmail.com/cv-analysis
2025-10-09 16:48:00,055 - app.utils.path_debug - INFO -   📂 Company dir: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 16:48:00,056 - app.utils.path_debug - INFO -   📂 Using analysis file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_skills_analysis_20251009_164615.json
2025-10-09 16:48:00,057 - app.utils.path_debug - INFO -   ✅ Loaded analysis file, size: 18518 bytes
INFO:     127.0.0.1:55178 - "GET /api/analysis-results/Australia_for_UNHCR HTTP/1.1" 200 OK
2025-10-09 16:48:00,510 - app.routes.ai_recommendations - INFO - 🔍 [AI_RECOMMENDATIONS] Fetching for company: Australia_for_UNHCR, user: keosha@gmail.com
2025-10-09 16:48:00,511 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:48:00,511 - app.routes.ai_recommendations - INFO - 🔍 [AI_RECOMMENDATIONS] Searching in: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR
2025-10-09 16:48:00,511 - app.routes.ai_recommendations - INFO - ✅ [AI_RECOMMENDATIONS] Found file: user/keosha@gmail.com/cv-analysis/applied_companies/Australia_for_UNHCR/Australia_for_UNHCR_ai_recommendation_20251009_164651.json
2025-10-09 16:48:00,512 - app.routes.ai_recommendations - INFO - ✅ [AI_RECOMMENDATIONS] Successfully loaded recommendation, content length: 3301
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
INFO:     127.0.0.1:55178 - "GET /api/ai-recommendations/company/Australia_for_UNHCR HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'app/services/ats/component_assembler.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 16:52:33,467 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [27173]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [29070]
INFO:     Waiting for application startup.
2025-10-09 16:52:38,961 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 16:52:39,278 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 16:52:39,278 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 16:52:39,279 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:52:39,279 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:52:39,316 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 16:52:39,316 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 16:52:39,316 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:52:39,316 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:52:39,361 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 16:52:39,361 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 16:52:39,361 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:52:39,361 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:52:39,410 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:52:39,410 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:52:39,411 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 16:52:39,411 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 16:52:39,411 INFO sqlalchemy.engine.Engine [generated in 0.00068s] {}
2025-10-09 16:52:39,411 - sqlalchemy.engine.Engine - INFO - [generated in 0.00068s] {}
2025-10-09 16:52:39,446 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:52:39,446 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:52:39,463 - app.database - INFO - Database connection successful
2025-10-09 16:52:39,463 - app.main - INFO - ✅ Database connection successful
2025-10-09 16:52:39,481 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:52:39,481 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:52:39,489 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:52:39,489 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:52:39,489 INFO sqlalchemy.engine.Engine [generated in 0.00052s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:52:39,489 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:52:39,536 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:52:39,536 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:52:39,537 INFO sqlalchemy.engine.Engine [cached since 0.04814s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:52:39,537 - sqlalchemy.engine.Engine - INFO - [cached since 0.04814s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:52:39,558 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:52:39,558 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:52:39,558 INFO sqlalchemy.engine.Engine [cached since 0.06982s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:52:39,558 - sqlalchemy.engine.Engine - INFO - [cached since 0.06982s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:52:39,581 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:52:39,581 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:52:39,582 INFO sqlalchemy.engine.Engine [cached since 0.09337s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:52:39,582 - sqlalchemy.engine.Engine - INFO - [cached since 0.09337s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:52:39,606 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:52:39,606 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:52:39,607 INFO sqlalchemy.engine.Engine [cached since 0.1184s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:52:39,607 - sqlalchemy.engine.Engine - INFO - [cached since 0.1184s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:52:39,628 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:52:39,628 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:52:39,628 INFO sqlalchemy.engine.Engine [cached since 0.1398s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:52:39,628 - sqlalchemy.engine.Engine - INFO - [cached since 0.1398s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:52:39,652 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:52:39,652 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:52:39,653 INFO sqlalchemy.engine.Engine [cached since 0.1641s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:52:39,653 - sqlalchemy.engine.Engine - INFO - [cached since 0.1641s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:52:39,676 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:52:39,676 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:52:39,676 INFO sqlalchemy.engine.Engine [cached since 0.1876s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:52:39,676 - sqlalchemy.engine.Engine - INFO - [cached since 0.1876s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:52:39,703 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:52:39,703 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:52:39,704 INFO sqlalchemy.engine.Engine [cached since 0.2152s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:52:39,704 - sqlalchemy.engine.Engine - INFO - [cached since 0.2152s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:52:39,727 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:52:39,727 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:52:39,728 INFO sqlalchemy.engine.Engine [cached since 0.2396s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:52:39,728 - sqlalchemy.engine.Engine - INFO - [cached since 0.2396s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:52:39,749 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:52:39,749 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:52:39,751 INFO sqlalchemy.engine.Engine [cached since 0.2622s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:52:39,751 - sqlalchemy.engine.Engine - INFO - [cached since 0.2622s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:52:39,772 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 16:52:39,772 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 16:52:39,790 - app.database - INFO - Database tables created successfully
2025-10-09 16:52:39,791 - app.main - INFO - ✅ Database tables ready
2025-10-09 16:52:39,791 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 16:52:39,791 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/services/ats/component_assembler.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 16:52:55,142 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [29070]
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [29124]
INFO:     Waiting for application startup.
2025-10-09 16:53:00,758 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 16:53:01,034 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 16:53:01,034 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 16:53:01,035 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:53:01,035 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:53:01,077 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 16:53:01,077 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 16:53:01,077 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:53:01,077 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:53:01,114 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 16:53:01,114 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 16:53:01,114 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:53:01,114 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:53:01,153 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:53:01,153 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:53:01,154 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 16:53:01,154 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 16:53:01,154 INFO sqlalchemy.engine.Engine [generated in 0.00081s] {}
2025-10-09 16:53:01,154 - sqlalchemy.engine.Engine - INFO - [generated in 0.00081s] {}
2025-10-09 16:53:01,184 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:53:01,184 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:53:01,201 - app.database - INFO - Database connection successful
2025-10-09 16:53:01,201 - app.main - INFO - ✅ Database connection successful
2025-10-09 16:53:01,217 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:53:01,217 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:53:01,224 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:53:01,224 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:53:01,225 INFO sqlalchemy.engine.Engine [generated in 0.00050s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:53:01,225 - sqlalchemy.engine.Engine - INFO - [generated in 0.00050s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:53:01,264 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:53:01,264 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:53:01,264 INFO sqlalchemy.engine.Engine [cached since 0.0398s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:53:01,264 - sqlalchemy.engine.Engine - INFO - [cached since 0.0398s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:53:01,286 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:53:01,286 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:53:01,287 INFO sqlalchemy.engine.Engine [cached since 0.06236s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:53:01,287 - sqlalchemy.engine.Engine - INFO - [cached since 0.06236s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:53:01,308 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:53:01,308 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:53:01,309 INFO sqlalchemy.engine.Engine [cached since 0.08519s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:53:01,309 - sqlalchemy.engine.Engine - INFO - [cached since 0.08519s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:53:01,331 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:53:01,331 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:53:01,331 INFO sqlalchemy.engine.Engine [cached since 0.1072s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:53:01,331 - sqlalchemy.engine.Engine - INFO - [cached since 0.1072s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:53:01,353 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:53:01,353 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:53:01,354 INFO sqlalchemy.engine.Engine [cached since 0.1297s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:53:01,354 - sqlalchemy.engine.Engine - INFO - [cached since 0.1297s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:53:01,375 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:53:01,375 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:53:01,376 INFO sqlalchemy.engine.Engine [cached since 0.1518s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:53:01,376 - sqlalchemy.engine.Engine - INFO - [cached since 0.1518s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:53:01,397 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:53:01,397 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:53:01,397 INFO sqlalchemy.engine.Engine [cached since 0.1732s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:53:01,397 - sqlalchemy.engine.Engine - INFO - [cached since 0.1732s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:53:01,414 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:53:01,414 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:53:01,415 INFO sqlalchemy.engine.Engine [cached since 0.1904s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:53:01,415 - sqlalchemy.engine.Engine - INFO - [cached since 0.1904s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:53:01,437 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:53:01,437 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:53:01,437 INFO sqlalchemy.engine.Engine [cached since 0.2128s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:53:01,437 - sqlalchemy.engine.Engine - INFO - [cached since 0.2128s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:53:01,459 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:53:01,459 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:53:01,459 INFO sqlalchemy.engine.Engine [cached since 0.2352s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:53:01,459 - sqlalchemy.engine.Engine - INFO - [cached since 0.2352s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:53:01,481 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 16:53:01,481 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 16:53:01,501 - app.database - INFO - Database tables created successfully
2025-10-09 16:53:01,502 - app.main - INFO - ✅ Database tables ready
2025-10-09 16:53:01,502 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 16:53:01,502 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
INFO:     127.0.0.1:55558 - "OPTIONS /api/tailored-cv/available-companies-real HTTP/1.1" 200 OK
2025-10-09 16:53:08,639 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
INFO:     127.0.0.1:55560 - "GET /api/tailored-cv/available-companies-real HTTP/1.1" 200 OK
INFO:     127.0.0.1:55560 - "OPTIONS /api/tailored-cv/content/Australia_for_UNHCR HTTP/1.1" 200 OK
2025-10-09 16:53:08,702 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 📄 Tailored CV content request for Australia_for_UNHCR from user 0d4bdc07-cadf-4300-8e4f-f07da7575a62
2025-10-09 16:53:08,702 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:53:08,703 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:53:08,704 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:53:08,706 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ Served TAILORED CV content: Australia_for_UNHCR_tailored_cv_20251009_164241.txt from tailored folder (200 characters)
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
🔍 Searching for tailored CV ONLY for company: Australia_for_UNHCR
📁 Found 5 tailored CV candidates
✅ Selected tailored CV: tailored - user/keosha@gmail.com/cv-analysis/cvs/tailored/Australia_for_UNHCR_tailored_cv_20251009_164241.json
INFO:     127.0.0.1:55558 - "GET /api/tailored-cv/content/Australia_for_UNHCR HTTP/1.1" 200 OK
INFO:     127.0.0.1:55591 - "OPTIONS /api/cv/save-for-analysis/maheshwor_tiwari.pdf HTTP/1.1" 200 OK
2025-10-09 16:53:57,276 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:53:57,667 - app.modules.cv.preview - INFO - CV content extracted: maheshwor_tiwari.pdf (4864 characters)
2025-10-09 16:53:57,668 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:53:57,669 - app.routes.cv_organized - INFO - CV saved as text: user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 16:53:57,670 - app.routes.cv_organized - INFO - Processing maheshwor_tiwari.pdf for structured CV format (background)...
2025-10-09 16:53:57,670 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:53:57,670 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:53:57,671 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] Checking user parameter: True
2025-10-09 16:53:57,671 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] User email: keosha@gmail.com
2025-10-09 16:53:57,671 - app.services.enhanced_cv_upload_service - INFO - 🔍 [CV_UPLOAD] About to initialize AI service...
2025-10-09 16:53:57,671 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user keosha@gmail.com
2025-10-09 16:53:57,672 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Before initialization:
2025-10-09 16:53:57,672 - app.ai.ai_service - INFO - - Current providers: []
2025-10-09 16:53:57,672 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 16:53:57,673 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 16:53:57,673 - app.ai.ai_service - INFO - - Cached providers for user: []
2025-10-09 16:53:57,673 - app.ai.ai_service - INFO - 🔄 [AI_SERVICE] Initializing new providers for user keosha@gmail.com
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
🔍 [DEBUG] _parse_to_structured_format called with user: True
2025-10-09 16:53:57,782 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:53:57,782 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:53:57,838 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:53:57,838 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:53:57,839 INFO sqlalchemy.engine.Engine [generated in 0.02819s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 16:53:57,839 - sqlalchemy.engine.Engine - INFO - [generated in 0.02819s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 16:53:57,898 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:53:57,898 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:53:58,665 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:53:58,692 - app.ai.ai_service - INFO - ✅ Initialized openai provider with model gpt-4o for user keosha@gmail.com
2025-10-09 16:53:58,713 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:53:58,713 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:53:58,714 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:53:58,714 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:53:58,714 INFO sqlalchemy.engine.Engine [cached since 0.9032s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 16:53:58,714 - sqlalchemy.engine.Engine - INFO - [cached since 0.9032s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 16:53:58,755 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:53:58,755 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:53:58,773 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user keosha@gmail.com and provider anthropic
2025-10-09 16:53:58,789 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:53:58,789 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:53:58,790 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:53:58,790 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:53:58,793 INFO sqlalchemy.engine.Engine [cached since 0.9819s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 16:53:58,793 - sqlalchemy.engine.Engine - INFO - [cached since 0.9819s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 16:53:58,826 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:53:58,826 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:53:58,842 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user keosha@gmail.com and provider deepseek
2025-10-09 16:53:58,843 - app.ai.ai_service - INFO - 💾 [AI_SERVICE] Cached 1 providers for user keosha@gmail.com
2025-10-09 16:53:58,843 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] After initialization:
2025-10-09 16:53:58,843 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 16:53:58,844 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 16:53:58,844 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 16:53:58,844 - app.services.enhanced_cv_upload_service - INFO - 🔄 [CV_UPLOAD] Initialized AI service for user keosha@gmail.com
2025-10-09 16:53:58,844 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 16:53:58,845 - app.ai.ai_service - INFO - ✅ Switched to openai provider with model gpt-3.5-turbo
2025-10-09 16:53:58,845 - app.services.enhanced_cv_upload_service - INFO - ✅ [CV_UPLOAD] Auto-selected provider: openai
2025-10-09 16:53:58,845 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:53:58,846 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:53:58,846 - app.ai.ai_service - INFO - - Prompt length: 10449
2025-10-09 16:53:58,846 - app.ai.ai_service - INFO - - System prompt length: 348
2025-10-09 16:53:58,847 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:53:58,847 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:53:58,847 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:53:58,848 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:53:58,849 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:53:58,850 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:53:58,852 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:53:59,365 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:53:59,374 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:53:59,374 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:53:59,374 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:53:59,375 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:54:09,609 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:54:09,623 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:54:09,624 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:54:09,624 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:54:09,625 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:54:10,148 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:54:10,165 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:54:10,166 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:54:10,166 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:54:10,166 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:54:10,166 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:54:10,166 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:54:10,167 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:54:10,836 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:54:10,848 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:54:10,848 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:54:10,848 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:54:10,849 - app.services.structured_cv_parser - INFO - Successfully parsed CV using gpt-3.5-turbo
2025-10-09 16:54:10,850 - app.services.enhanced_cv_upload_service - INFO - CV parsed from raw text content
2025-10-09 16:54:10,851 - app.routes.cv_organized - INFO - ✅ Background: CV saved as structured JSON: user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
INFO:     127.0.0.1:55591 - "POST /api/cv/save-for-analysis/maheshwor_tiwari.pdf HTTP/1.1" 200 OK
INFO:     127.0.0.1:55593 - "OPTIONS /api/job/scrape HTTP/1.1" 200 OK
2025-10-09 16:54:10,861 - app.utils.directory_utils - ERROR - ❌ Failed to create cv-analysis directories: User email must be provided
INFO:     127.0.0.1:55591 - "POST /api/job/scrape HTTP/1.1" 200 OK
INFO:     127.0.0.1:55591 - "OPTIONS /api/job-analysis/extract-and-save HTTP/1.1" 200 OK
2025-10-09 16:54:13,231 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:54:13,234 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
🔍 Starting AI extraction with token: eyJhbGciOiJIUzI1NiIs...
2025-10-09 16:54:13,259 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:54:13,259 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:54:13,260 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:54:13,260 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:54:13,260 INFO sqlalchemy.engine.Engine [cached since 15.45s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 16:54:13,260 - sqlalchemy.engine.Engine - INFO - [cached since 15.45s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 16:54:13,301 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:54:13,301 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:54:13,815 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:54:13,843 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:54:13,843 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:54:13,844 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:54:13,844 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 16:54:13,844 INFO sqlalchemy.engine.Engine [cached since 16.03s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 16:54:13,844 - sqlalchemy.engine.Engine - INFO - [cached since 16.03s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 16:54:13,891 INFO sqlalchemy.engine.Engine UPDATE user_api_keys SET last_validated=%(last_validated)s, updated_at=now() WHERE user_api_keys.id = %(user_api_keys_id)s
2025-10-09 16:54:13,891 - sqlalchemy.engine.Engine - INFO - UPDATE user_api_keys SET last_validated=%(last_validated)s, updated_at=now() WHERE user_api_keys.id = %(user_api_keys_id)s
2025-10-09 16:54:13,891 INFO sqlalchemy.engine.Engine [generated in 0.00047s] {'last_validated': datetime.datetime(2025, 10, 9, 5, 54, 13, 885085), 'user_api_keys_id': 33}
2025-10-09 16:54:13,891 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] {'last_validated': datetime.datetime(2025, 10, 9, 5, 54, 13, 885085), 'user_api_keys_id': 33}
2025-10-09 16:54:13,911 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 16:54:13,911 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 16:54:13,927 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:54:13,927 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:54:13,927 - app.ai.ai_service - INFO - - Prompt length: 6611
2025-10-09 16:54:13,928 - app.ai.ai_service - INFO - - System prompt length: 340
2025-10-09 16:54:13,928 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:54:13,928 - app.ai.ai_service - INFO - - Max tokens: 1000
2025-10-09 16:54:13,928 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:54:13,929 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:54:13,929 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:54:13,929 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:54:13,929 - app.ai.ai_service - INFO - - Available providers: []
2025-10-09 16:54:13,929 - app.ai.ai_service - INFO - - Provider status: {}
2025-10-09 16:54:13,929 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'openai'
2025-10-09 16:54:13,930 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: []
2025-10-09 16:54:13,930 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: openai
2025-10-09 16:54:13,930 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {}
2025-10-09 16:54:13,930 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:54:13,931 - app.services.enhanced_ai_service - ERROR - Error in enhanced AI service: No API key configured for openai. Please configure your API key in settings.
2025-10-09 16:54:13,931 - app.services.job_extraction_service - ERROR - AI service error: 
2025-10-09 16:54:13,968 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:54:13,971 - app.services.job_extraction_service - INFO - ✅ [JOB_EXTRACTION] Added job to shared jobs file: Data Analyst at The Glen Centre
🔍 AI extraction result: {'error': 'AI service failed: '}
⚠️ AI extraction failed: AI service failed: 
⚠️ Using rule-based extraction as fallback
INFO:     127.0.0.1:55593 - "POST /api/job-analysis/extract-and-save HTTP/1.1" 200 OK
INFO:     127.0.0.1:55611 - "OPTIONS /api/preliminary-analysis/cache HTTP/1.1" 200 OK
INFO:     127.0.0.1:55613 - "GET /api/preliminary-analysis/cache HTTP/1.1" 200 OK
INFO:     127.0.0.1:55613 - "OPTIONS /api/preliminary-analysis HTTP/1.1" 200 OK
2025-10-09 16:54:22,794 - app.core.model_dependency - INFO - 🔍 [MODEL_DEPENDENCY] Initializing model for user: keosha@gmail.com
2025-10-09 16:54:22,795 - app.core.model_dependency - INFO - - Header model: gpt-3.5-turbo
2025-10-09 16:54:22,795 - app.core.model_dependency - INFO - - User ID: 0d4bdc07-cadf-4300-8e4f-f07da7575a62
2025-10-09 16:54:22,795 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:54:22,795 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:54:22,796 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:54:22,796 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:54:23,327 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:54:23,339 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:54:23,339 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:54:23,340 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:54:23,340 - app.ai.ai_service - INFO - ✅ Switched to model gpt-3.5-turbo
2025-10-09 16:54:23,340 - app.core.model_dependency - INFO - 🔄 Switched to model from header: gpt-3.5-turbo
2025-10-09 16:54:23,342 - app.routes.skills_analysis - INFO - 🎯 Preliminary analysis request: CV=maheshwor_tiwari.pdf, JD_length=4525, CONFIG=None
2025-10-09 16:54:23,370 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:54:23,370 - app.routes.skills_analysis - INFO - 🏢 Extracted company name: Unknown_Company
2025-10-09 16:54:23,371 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:54:23,371 - app.routes.skills_analysis - WARNING - ⚠️ Proceeding without prior JD analysis: Please analyze the job description first before running skills analysis.
2025-10-09 16:54:23,371 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:54:23,372 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:54:23,372 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:54:23,372 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:54:23,375 - app.routes.skills_analysis - INFO - 📄 [PRELIM_ANALYSIS] Latest CV selected → type=original, ts=None, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 16:54:23,377 - app.routes.skills_analysis - INFO - 🧪 [PRELIM_ANALYSIS] CV content length=4864, preview='Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD in Physics and completed a Master's in Data Science, bringing over three years of experience in Python  coding, AI, and machine learning. My expertise encompasses modeling and training AI models, writing efficient Python'
2025-10-09 16:54:23,377 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 16:54:23,377 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 16:54:23,377 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 16:54:23,378 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Starting AI-powered skills analysis for maheshwor_tiwari.pdf
2025-10-09 16:54:23,378 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] CV content length: 4864 chars
2025-10-09 16:54:23,378 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] JD content length: 4525 chars
2025-10-09 16:54:23,378 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using config: default
2025-10-09 16:54:23,378 - app.routes.skills_analysis - INFO - 🧪 [SKILLS_ANALYSIS] CV preview: 'Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD '
2025-10-09 16:54:23,378 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:54:23,378 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:54:23,378 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:54:23,378 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:54:23,379 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:54:24,146 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:54:24,160 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:54:24,160 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:54:24,161 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:54:24,161 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI provider: openai
2025-10-09 16:54:24,161 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Current AI model: gpt-3.5-turbo
2025-10-09 16:54:24,162 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Provider available: True
2025-10-09 16:54:24,162 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Model from header: gpt-3.5-turbo
2025-10-09 16:54:24,162 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting CV skills with detailed structured analysis...
2025-10-09 16:54:24,163 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:54:24,163 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:54:24,164 - app.ai.ai_service - INFO - - Prompt length: 15675
2025-10-09 16:54:24,164 - app.ai.ai_service - INFO - - System prompt length: 0
2025-10-09 16:54:24,164 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:54:24,165 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:54:24,165 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:54:24,165 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:54:24,166 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:54:24,166 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:54:24,166 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:54:24,166 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:54:24,559 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:54:24,671 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:54:24,671 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:54:24,671 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:54:24,671 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:54:27,118 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:54:27,122 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] Starting response parsing...
2025-10-09 16:54:27,124 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] Raw response preview: **SOFT SKILLS:**
- Communication
- Leadership
- Teamwork
- Collaboration
- Problem-solving

**TECHNICAL SKILLS:**
- Python
- Pandas
- NumPy
- scikit-learn
- SQL
- PostgreSQL
- MySQL
- Tableau
- Power BI
- Matplotlib
- GitHub
- Docker
- Snowflake
- Visual Studio Code
- Google Analytics
- Excel

**DOMAIN KEYWORDS:**
- Data Analysis
- Machine Learning
- AI
- Data Pipelines
- Data Visualization
- Predictive Analytics
- Cloud Data Warehousing
- Version Control
- Data Cleaning
- Automation
- Computati...
2025-10-09 16:54:27,124 - app.services.skill_extraction.response_parser - INFO - 🔍 [CV] FULL CV RESPONSE: **SOFT SKILLS:**
- Communication
- Leadership
- Teamwork
- Collaboration
- Problem-solving

**TECHNICAL SKILLS:**
- Python
- Pandas
- NumPy
- scikit-learn
- SQL
- PostgreSQL
- MySQL
- Tableau
- Power BI
- Matplotlib
- GitHub
- Docker
- Snowflake
- Visual Studio Code
- Google Analytics
- Excel

**DOMAIN KEYWORDS:**
- Data Analysis
- Machine Learning
- AI
- Data Pipelines
- Data Visualization
- Predictive Analytics
- Cloud Data Warehousing
- Version Control
- Data Cleaning
- Automation
- Computational Modeling
- Research Analysis
- Physics
- Data Science
- Research Projects
- Customer Behavior Insights
- Population Datasets
- Response Times
- Operational Efficiency
- Dynamic Reports
- Key Metrics
- Analytics Capabilities
- Data Preprocessing
- Decision-making Processes
- Strategic Decision-making
- Research Findings
- Physics Tutorials
- Course Materials
- Student Engagement
2025-10-09 16:54:27,125 - app.services.skill_extraction.response_parser - WARNING - ⚠️ [CV] No SOFT_SKILLS variable found in response
2025-10-09 16:54:27,126 - app.services.skill_extraction.response_parser - WARNING - ⚠️ [CV] No TECHNICAL_SKILLS variable found in response
2025-10-09 16:54:27,127 - app.services.skill_extraction.response_parser - WARNING - ⚠️ [CV] No DOMAIN_KEYWORDS variable found in response
2025-10-09 16:54:27,130 - app.services.skill_extraction.response_parser - INFO - 🔄 [CV] Python format not found, trying markdown format...
2025-10-09 16:54:27,142 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Successfully extracted 50 total skills using multi-format parser
2025-10-09 16:54:27,144 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated soft_skills: 5 valid skills
2025-10-09 16:54:27,144 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated technical_skills: 16 valid skills
2025-10-09 16:54:27,145 - app.services.skill_extraction.response_parser - INFO - ✅ [CV] Validated domain_keywords: 29 valid skills
2025-10-09 16:54:27,145 - app.services.skill_extraction.response_parser - INFO - 📊 [CV] Parsing completed:
2025-10-09 16:54:27,145 - app.services.skill_extraction.response_parser - INFO -    Soft Skills (5): ['Communication', 'Leadership', 'Teamwork']...
2025-10-09 16:54:27,145 - app.services.skill_extraction.response_parser - INFO -    Technical Skills (16): ['Python', 'Pandas', 'NumPy']...
2025-10-09 16:54:27,145 - app.services.skill_extraction.response_parser - INFO -    Domain Keywords (29): ['Data Analysis', 'Machine Learning', 'AI']...
2025-10-09 16:54:27,146 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Extracting JD skills with detailed structured analysis...
2025-10-09 16:54:27,147 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:54:27,147 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:54:27,147 - app.ai.ai_service - INFO - - Prompt length: 15023
2025-10-09 16:54:27,147 - app.ai.ai_service - INFO - - System prompt length: 0
2025-10-09 16:54:27,147 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:54:27,148 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:54:27,149 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:54:27,149 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:54:27,150 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:54:27,150 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:54:27,150 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:54:27,151 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:54:27,700 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:54:27,843 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:54:27,843 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:54:27,843 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:54:27,844 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:54:33,538 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:54:33,545 - app.services.skill_extraction.response_parser - INFO - 🔍 [JD] Starting response parsing...
2025-10-09 16:54:33,546 - app.services.skill_extraction.response_parser - INFO - 🔍 [JD] Raw response preview: ## SOFT SKILLS:
- Communication
- Leadership
- Teamwork
- Problem-solving
- Time Management
- Organization
- Adaptability
- Analytical Thinking
- Critical Thinking
- Creativity
- Innovation
- Detail-oriented
- Self-motivated
- Proactive
- Results-driven

## TECHNICAL SKILLS:
- PowerBI
- MS Excel
- MS Forms
- MS Teams
- Data Analysis
- Data Visualization
- Data Management
- Project Management
- Finance and Accounting Data
- PowerBI Data Dashboard
- MS Forms Transition
- Data Extraction
- Data Cle...
2025-10-09 16:54:33,554 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Successfully extracted 58 total skills using multi-format parser
2025-10-09 16:54:33,557 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated soft_skills: 15 valid skills
2025-10-09 16:54:33,558 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated technical_skills: 20 valid skills
2025-10-09 16:54:33,559 - app.services.skill_extraction.response_parser - INFO - ✅ [JD] Validated domain_keywords: 23 valid skills
2025-10-09 16:54:33,559 - app.services.skill_extraction.response_parser - INFO - 📊 [JD] Parsing completed:
2025-10-09 16:54:33,559 - app.services.skill_extraction.response_parser - INFO -    Soft Skills (15): ['Communication', 'Leadership', 'Teamwork']...
2025-10-09 16:54:33,559 - app.services.skill_extraction.response_parser - INFO -    Technical Skills (20): ['PowerBI', 'MS Excel', 'MS Forms']...
2025-10-09 16:54:33,559 - app.services.skill_extraction.response_parser - INFO -    Domain Keywords (23): ['Not For Profit (NFP)', 'Rehabilitation Centers', 'Addiction Treatment']...
2025-10-09 16:54:33,559 - app.routes.skills_analysis - INFO - 🔍 [SKILLS_ANALYSIS] Using structured analysis as comprehensive analysis...
2025-10-09 16:54:33,560 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Technical Skills (16): ['Python', 'Pandas', 'NumPy', 'scikit-learn', 'SQL', 'PostgreSQL', 'MySQL', 'Tableau', 'Power BI', 'Matplotlib', 'GitHub', 'Docker', 'Snowflake', 'Visual Studio Code', 'Google Analytics', 'Excel']
2025-10-09 16:54:33,560 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Soft Skills (5): ['Communication', 'Leadership', 'Teamwork', 'Collaboration', 'Problem-solving']
2025-10-09 16:54:33,560 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] CV Domain Keywords (29): ['Data Analysis', 'Machine Learning', 'AI', 'Data Pipelines', 'Data Visualization', 'Predictive Analytics', 'Cloud Data Warehousing', 'Version Control', 'Data Cleaning', 'Automation', 'Computational Modeling', 'Research Analysis', 'Physics', 'Data Science', 'Research Projects', 'Customer Behavior Insights', 'Population Datasets', 'Response Times', 'Operational Efficiency', 'Dynamic Reports', 'Key Metrics', 'Analytics Capabilities', 'Data Preprocessing', 'Decision-making Processes', 'Strategic Decision-making', 'Research Findings', 'Physics Tutorials', 'Course Materials', 'Student Engagement']
2025-10-09 16:54:33,560 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Technical Skills (20): ['PowerBI', 'MS Excel', 'MS Forms', 'MS Teams', 'Data Analysis', 'Data Visualization', 'Data Management', 'Project Management', 'Finance and Accounting Data', 'PowerBI Data Dashboard', 'MS Forms Transition', 'Data Extraction', 'Data Cleaning', 'Data Upload', 'User Needs Analysis', 'Data Visualizations', 'Call Data Analysis', 'Intake Data Analysis', 'External Data Collection', 'Data Dashboards Development']
2025-10-09 16:54:33,560 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Soft Skills (15): ['Communication', 'Leadership', 'Teamwork', 'Problem-solving', 'Time Management', 'Organization', 'Adaptability', 'Analytical Thinking', 'Critical Thinking', 'Creativity', 'Innovation', 'Detail-oriented', 'Self-motivated', 'Proactive', 'Results-driven']
2025-10-09 16:54:33,561 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] JD Domain Keywords (23): ['Not For Profit (NFP)', 'Rehabilitation Centers', 'Addiction Treatment', 'Holistic Approach', 'Residential Rehabilitation', 'Therapeutic Relationship', 'Funding Reporting', 'Research Projects', 'Annual Reports', 'Proposals', 'Sector/Industry Data', 'Client Management Systems', 'WHS Incidents', 'Compliance Management', 'Data Strategy', 'Data Requests', 'Data Analysis', 'Data Collection Processes', 'Data Visualizations', 'Client Journey', 'QIP Accreditation', 'Honest Communication', 'Win-win Solutions']
2025-10-09 16:54:33,562 - app.routes.skills_analysis - INFO - ✅ [SKILLS_ANALYSIS] Analysis completed successfully
2025-10-09 16:54:33,562 - app.services.skills_analysis_config - INFO - 🔧 [CONFIG] Using default configuration
2025-10-09 16:54:33,562 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:54:33,563 - app.services.skill_extraction.result_saver - INFO - 📁 Result saver initialized with base directory: user/keosha@gmail.com/cv-analysis
2025-10-09 16:54:33,564 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:54:33,565 - app.routes.skills_analysis - INFO - 🔍 [COMPANY_DETECTION] Looking in: user/keosha@gmail.com/cv-analysis/applied_companies
2025-10-09 16:54:33,566 - app.routes.skills_analysis - INFO - 📁 [COMPANY_DETECTION] Found company folder: The_Glen_Centre with 1 job_info files
2025-10-09 16:54:33,566 - app.routes.skills_analysis - INFO - 📁 [COMPANY_DETECTION] Found company folder: Australia_for_UNHCR with 1 job_info files
2025-10-09 16:54:33,566 - app.routes.skills_analysis - INFO - 🏢 [COMPANY_DETECTION] Using most recent company folder: The_Glen_Centre
2025-10-09 16:54:33,567 - app.routes.skills_analysis - INFO - 📋 [COMPANY_DETECTION] Job info company: The Glen Centre
2025-10-09 16:54:33,568 - app.services.skill_extraction.result_saver - INFO - 🏢 Using provided company name: The_Glen_Centre -> The_Glen_Centre
2025-10-09 16:54:33,568 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:54:33,568 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:54:33,569 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:54:33,570 - app.services.skill_extraction.result_saver - INFO - 💾 Structured CV already exists, preserving it: user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 16:54:33,571 - app.services.skill_extraction.result_saver - INFO - 💾 Structured CV preserved, skipping save: user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 16:54:33,573 - app.services.skill_extraction.result_saver - INFO - 💾 Analysis results saved (JSON) to: user/keosha@gmail.com/cv-analysis/applied_companies/The_Glen_Centre/The_Glen_Centre_skills_analysis_20251009_165433.json
2025-10-09 16:54:33,573 - app.routes.skills_analysis - INFO - 📁 [FILE_SAVE] Results saved to: user/keosha@gmail.com/cv-analysis/applied_companies/The_Glen_Centre/The_Glen_Centre_skills_analysis_20251009_165433.json
2025-10-09 16:54:33,573 - app.routes.skills_analysis - INFO - 🔍 [ANALYZE_MATCH] Starting analyze match assessment...
2025-10-09 16:54:33,577 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:54:33,577 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:54:33,578 - app.ai.ai_service - INFO - - Prompt length: 15478
2025-10-09 16:54:33,578 - app.ai.ai_service - INFO - - System prompt length: 0
2025-10-09 16:54:33,578 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:54:33,580 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:54:33,580 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:54:33,580 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:54:33,580 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:54:33,581 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:54:33,581 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:54:33,581 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:54:33,996 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:54:34,026 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:54:34,027 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:54:34,031 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:54:34,031 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:54:36,638 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:54:36,641 - app.routes.skills_analysis - INFO - ✅ [ANALYZE_MATCH] Analysis completed (length: 1293 chars)
2025-10-09 16:54:36,641 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:54:36,642 - app.services.skill_extraction.result_saver - INFO - 📂 Found existing analysis file: user/keosha@gmail.com/cv-analysis/applied_companies/The_Glen_Centre/The_Glen_Centre_skills_analysis_20251009_165433.json
2025-10-09 16:54:36,643 - app.services.skill_extraction.result_saver - INFO - 🔍 Looking for analysis file in: user/keosha@gmail.com/cv-analysis/applied_companies/The_Glen_Centre
2025-10-09 16:54:36,643 - app.services.skill_extraction.result_saver - INFO - 📄 Using existing file: user/keosha@gmail.com/cv-analysis/applied_companies/The_Glen_Centre/The_Glen_Centre_skills_analysis_20251009_165433.json
2025-10-09 16:54:36,644 - app.services.skill_extraction.result_saver - INFO - 📁 [ANALYZE_MATCH] Results appended to: user/keosha@gmail.com/cv-analysis/applied_companies/The_Glen_Centre/The_Glen_Centre_skills_analysis_20251009_165433.json
2025-10-09 16:54:36,645 - app.routes.skills_analysis - INFO - 📁 [ANALYZE_MATCH] Results appended to: user/keosha@gmail.com/cv-analysis/applied_companies/The_Glen_Centre/The_Glen_Centre_skills_analysis_20251009_165433.json
2025-10-09 16:54:36,645 - app.routes.skills_analysis - INFO - 🔍 [PREEXTRACTED_COMPARISON] Starting pre-extracted skills semantic comparison...
2025-10-09 16:54:36,648 - app.services.skill_extraction.preextracted_comparator - INFO - 🔍 [EXACT_MATCHES] Found 3 exact matches: {'technical_skills': [], 'soft_skills': [{'jd_skill': 'Communication', 'cv_skill': 'Communication', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Leadership', 'cv_skill': 'Leadership', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Problem-solving', 'cv_skill': 'Problem-solving', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Teamwork', 'cv_skill': 'Teamwork', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}], 'domain_keywords': [{'jd_skill': 'Data Analysis', 'cv_skill': 'Data Analysis', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}, {'jd_skill': 'Research Projects', 'cv_skill': 'Research Projects', 'match_type': 'exact', 'confidence': 1.0, 'reasoning': 'Exact match - identical skills'}]}
2025-10-09 16:54:36,649 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:54:36,650 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:54:36,650 - app.ai.ai_service - INFO - - Prompt length: 7374
2025-10-09 16:54:36,650 - app.ai.ai_service - INFO - - System prompt length: 0
2025-10-09 16:54:36,650 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:54:36,650 - app.ai.ai_service - INFO - - Max tokens: 3000
2025-10-09 16:54:36,650 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:54:36,650 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:54:36,650 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:54:36,651 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:54:36,651 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:54:36,651 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:54:37,137 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:54:37,154 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:54:37,155 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:54:37,155 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:54:37,155 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:54:58,554 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:54:58,559 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Communication → Communication
2025-10-09 16:54:58,559 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Leadership → Leadership
2025-10-09 16:54:58,559 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Problem-solving → Problem-solving
2025-10-09 16:54:58,560 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Teamwork → Teamwork
2025-10-09 16:54:58,560 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Data Analysis → Data Analysis
2025-10-09 16:54:58,561 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [EXACT_MATCH] Added exact match: Research Projects → Research Projects
2025-10-09 16:54:58,562 - app.services.skill_extraction.preextracted_comparator - WARNING - ❌ [VALIDATION] technical_skills: matched 20 > CV count 16
2025-10-09 16:54:58,562 - app.services.skill_extraction.preextracted_comparator - INFO - ℹ️ [VALIDATION] technical_skills: matched 20 + missing 16 = 36 vs JD count 20 (acceptable variance)
2025-10-09 16:54:58,563 - app.services.skill_extraction.preextracted_comparator - WARNING - ❌ [VALIDATION] technical_skills: extreme variance - processed 36 vs expected 20
2025-10-09 16:54:58,563 - app.services.skill_extraction.preextracted_comparator - INFO - ℹ️ [VALIDATION] soft_skills: matched 4 + missing 0 = 4 vs JD count 15 (acceptable variance)
2025-10-09 16:54:58,563 - app.services.skill_extraction.preextracted_comparator - WARNING - ❌ [VALIDATION] soft_skills: extreme variance - processed 4 vs expected 15
2025-10-09 16:54:58,563 - app.services.skill_extraction.preextracted_comparator - INFO - ℹ️ [VALIDATION] domain_keywords: matched 2 + missing 20 = 22 vs JD count 23 (acceptable variance)
2025-10-09 16:54:58,564 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] CV Skills: Tech=16, Soft=5, Domain=29
2025-10-09 16:54:58,564 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] JD Skills: Tech=20, Soft=15, Domain=23
2025-10-09 16:54:58,564 - app.services.skill_extraction.preextracted_comparator - WARNING - ❌ [VALIDATION] 3 validation error(s) found
2025-10-09 16:54:58,564 - app.services.skill_extraction.preextracted_comparator - WARNING - ⚠️ [COMPARISON] JSON results failed validation, attempting to fix inconsistencies
2025-10-09 16:54:58,564 - app.services.skill_extraction.preextracted_comparator - INFO - 🔧 [FIX] Attempting to fix inconsistent AI response
2025-10-09 16:54:58,565 - app.services.skill_extraction.preextracted_comparator - WARNING - 🔧 [FIX] technical_skills: Trimming 20 matches to 16 (CV limit)
2025-10-09 16:54:58,565 - app.services.skill_extraction.preextracted_comparator - WARNING - 🔧 [FIX] technical_skills: Too many items (36 > 20), trimming missing items
2025-10-09 16:54:58,565 - app.services.skill_extraction.preextracted_comparator - INFO - 🔧 [FIX] soft_skills: Adding 11 missing JD skills
2025-10-09 16:54:58,565 - app.services.skill_extraction.preextracted_comparator - INFO - 🔧 [FIX] domain_keywords: Adding 1 missing JD skills
2025-10-09 16:54:58,565 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [FIX] Finished fixing AI response inconsistencies
2025-10-09 16:54:58,566 - app.services.skill_extraction.preextracted_comparator - INFO - ℹ️ [VALIDATION] domain_keywords: matched 2 + missing 25 = 27 vs JD count 23 (acceptable variance)
2025-10-09 16:54:58,566 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] CV Skills: Tech=16, Soft=5, Domain=29
2025-10-09 16:54:58,566 - app.services.skill_extraction.preextracted_comparator - INFO - 📊 [VALIDATION_DETAIL] JD Skills: Tech=20, Soft=15, Domain=23
2025-10-09 16:54:58,566 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [VALIDATION] Comparison results passed validation
2025-10-09 16:54:58,566 - app.services.skill_extraction.preextracted_comparator - INFO - ✅ [COMPARISON] Successfully fixed AI response inconsistencies
2025-10-09 16:54:58,566 - app.routes.skills_analysis - INFO - ✅ [PREEXTRACTED_COMPARISON] Completed (length: 7819 chars)
2025-10-09 16:54:58,567 - app.services.skill_extraction.result_saver - INFO - 🏢 [PREEXTRACTED_COMPARISON] Inferred company from saved_file_path: The_Glen_Centre
2025-10-09 16:54:58,571 - app.services.skill_extraction.result_saver - INFO - 📁 [PREEXTRACTED_COMPARISON] Results appended to: user/keosha@gmail.com/cv-analysis/applied_companies/The_Glen_Centre/The_Glen_Centre_skills_analysis_20251009_165433.json
2025-10-09 16:54:58,571 - app.routes.skills_analysis - INFO - 📁 [PREEXTRACTED_COMPARISON] Results appended to: user/keosha@gmail.com/cv-analysis/applied_companies/The_Glen_Centre/The_Glen_Centre_skills_analysis_20251009_165433.json
2025-10-09 16:54:58,571 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:54:58,573 - app.routes.skills_analysis - INFO - ♻️ [PIPELINE] (preliminary-analysis) JD file already exists: user/keosha@gmail.com/cv-analysis/applied_companies/The_Glen_Centre/jd_original_20251009_165413.json
2025-10-09 16:54:58,576 - app.routes.skills_analysis - INFO - ♻️ [JOBS] Job already exists in saved_jobs.json: Data Analyst at The Glen Centre
2025-10-09 16:54:58,577 - app.routes.skills_analysis - INFO - 🚀 [PIPELINE] (preliminary-analysis) scheduling for company: The_Glen_Centre
2025-10-09 16:54:58,578 - app.routes.skills_analysis - INFO - 🚀 [PIPELINE] Scheduling JD analysis and CV–JD matching for 'The_Glen_Centre'...
2025-10-09 16:54:58,580 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:54:58,580 - app.routes.skills_analysis - INFO - 🔧 [PIPELINE] Starting JD analysis for The_Glen_Centre (force_refresh=True)
2025-10-09 16:54:58,581 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:54:58,581 - app.services.jd_analysis.jd_analyzer - INFO - 🔄 Analyzing JD for The_Glen_Centre (force_refresh=True)
2025-10-09 16:54:58,583 - app.services.jd_analysis.jd_analyzer - INFO - 📄 Analyzing JD file: user/keosha@gmail.com/cv-analysis/applied_companies/The_Glen_Centre/jd_original_20251009_165413.json
2025-10-09 16:54:58,584 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:54:58,584 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:54:58,584 - app.ai.ai_service - INFO - - Prompt length: 4920
2025-10-09 16:54:58,584 - app.ai.ai_service - INFO - - System prompt length: 2650
2025-10-09 16:54:58,585 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:54:58,586 - app.ai.ai_service - INFO - - Max tokens: 2000
2025-10-09 16:54:58,586 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:54:58,587 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:54:58,587 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:54:58,587 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:54:58,587 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:54:58,588 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:54:58,998 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:54:59,025 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:54:59,025 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:54:59,025 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:54:59,026 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:54:59,977 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:54:59,979 - app.services.jd_analysis.jd_analyzer - INFO - ✅ JD analysis completed. Found 0 required and 0 preferred keywords
2025-10-09 16:54:59,981 - app.services.jd_analysis.jd_analyzer - INFO - 💾 Analysis result saved to: user/keosha@gmail.com/cv-analysis/applied_companies/The_Glen_Centre/The_Glen_Centre_jd_analysis_20251009_165459.json
2025-10-09 16:54:59,981 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] JD analysis saved for The_Glen_Centre at: user/keosha@gmail.com/cv-analysis/applied_companies/The_Glen_Centre/The_Glen_Centre_jd_analysis_20251009_165459.json
2025-10-09 16:54:59,984 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:54:59,984 - app.services.jd_usage_tracker - INFO - 🔍 [JD_TRACKER] Recording JD usage:
2025-10-09 16:54:59,984 - app.services.jd_usage_tracker - INFO - - jd_url: 
2025-10-09 16:54:59,984 - app.services.jd_usage_tracker - INFO - - jd_text length: 0
2025-10-09 16:54:59,985 - app.services.jd_usage_tracker - INFO - - company: The_Glen_Centre
2025-10-09 16:54:59,985 - app.services.jd_usage_tracker - INFO - - job_title: 
2025-10-09 16:54:59,985 - app.services.jd_usage_tracker - ERROR - ❌ [JD_TRACKER] Error recording JD usage: Either jd_url or jd_text must be provided
2025-10-09 16:54:59,986 - app.routes.skills_analysis - INFO - 📝 [PIPELINE] JD usage recorded for The_Glen_Centre
2025-10-09 16:54:59,986 - app.routes.skills_analysis - INFO - 🔧 [PIPELINE] Starting CV–JD matching for The_Glen_Centre
2025-10-09 16:54:59,986 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:54:59,987 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:54:59,987 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:54:59,987 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:54:59,989 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] CV–JD matching will use CV TXT: user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 16:54:59,989 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 📄 [CV_JD_MATCHER] Using provided CV path: user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 16:54:59,991 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 📄 [CV_JD_MATCHER] Read CV from: user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 16:54:59,991 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🧪 [CV_JD_MATCHER] CV content length=4864, preview='Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD in Physics and completed a Master's in Data Science, bringing over three years of experience in Python  coding, AI, and machine learning. My expertise encompasses modeling and training AI models, writing efficient Python'
2025-10-09 16:54:59,992 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 🔍 Found 10 required and 3 preferred keywords
2025-10-09 16:54:59,993 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:54:59,993 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:54:59,993 - app.ai.ai_service - INFO - - Prompt length: 6212
2025-10-09 16:54:59,994 - app.ai.ai_service - INFO - - System prompt length: 2705
2025-10-09 16:54:59,994 - app.ai.ai_service - INFO - - Temperature: 0.3
2025-10-09 16:54:59,995 - app.ai.ai_service - INFO - - Max tokens: 3000
2025-10-09 16:54:59,995 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:54:59,995 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:54:59,995 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:54:59,995 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:54:59,996 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:54:59,996 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:55:00,497 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:55:00,512 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:55:00,513 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:55:00,513 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:55:00,513 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:55:02,253 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:55:02,257 - app.services.cv_jd_matching.cv_jd_matcher - INFO - ✅ CV-JD matching completed. Found 7 matched required keywords
2025-10-09 16:55:02,257 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:55:02,258 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:55:02,259 - app.services.cv_jd_matching.cv_jd_matcher - INFO - 💾 Saved CV-JD match results to: user/keosha@gmail.com/cv-analysis/applied_companies/The_Glen_Centre/The_Glen_Centre_cv_jd_matching_20251009_165502.json
2025-10-09 16:55:02,259 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] CV–JD match results saved for The_Glen_Centre
2025-10-09 16:55:02,259 - app.routes.skills_analysis - INFO - 🔍 [PIPELINE] Starting component analysis for The_Glen_Centre
2025-10-09 16:55:02,261 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:55:02,262 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:55:02,262 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:55:02,263 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:55:02,263 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Latest CV selected → type=original, ts=None, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 16:55:02,264 - app.routes.skills_analysis - INFO - 🧪 [PIPELINE] CV content length=4864, preview='Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD in Physics and completed a Master's in Data Science, bringing over three years of experience in Python  coding, AI, and machine learning. My expertise encompasses modeling and training AI models, writing efficient Python'
2025-10-09 16:55:02,264 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:55:02,264 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Required files found, proceeding with component analysis
2025-10-09 16:55:02,265 - app.services.ats.modular_ats_orchestrator - INFO - ===== [MODULAR ATS] Starting component analysis for: The_Glen_Centre =====
2025-10-09 16:55:02,265 - app.services.ats.component_assembler - INFO - ===== [ASSEMBLER] Starting component assembly for: The_Glen_Centre =====
2025-10-09 16:55:02,265 - app.services.ats.component_assembler - INFO - 📄 [ASSEMBLER] Using CV text provided by caller
2025-10-09 16:55:02,276 - app.services.ats.component_assembler - WARNING - [ASSEMBLER] Match results not found: user/keosha@gmail.com/cv-analysis/applied_companies/The_Glen_Centre/cv_jd_match_results.json
2025-10-09 16:55:02,277 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Starting parallel component analyses...
2025-10-09 16:55:02,279 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Requesting skills relevance analysis...
2025-10-09 16:55:02,279 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:55:02,280 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Requirement bonus using match file: user/keosha@gmail.com/cv-analysis/applied_companies/The_Glen_Centre/The_Glen_Centre_cv_jd_matching_20251009_165502.json
2025-10-09 16:55:02,280 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:55:02,280 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Using existing match_counts from file
2025-10-09 16:55:02,280 - app.ai.ai_service - INFO - - Prompt length: 12710
2025-10-09 16:55:02,281 - app.services.ats.requirement_bonus_calculator - INFO - [ATS][BONUS] required_total=10 matched_required=7 missing_required=3 required_bonus=3.00 required_penalty=-1.50 preferred_total=3 matched_preferred=1 missing_preferred=2 preferred_bonus=0.20 preferred_penalty=-0.30 total_bonus=1.40
2025-10-09 16:55:02,281 - app.ai.ai_service - INFO - - System prompt length: 163
2025-10-09 16:55:02,281 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Requirement bonus calculated: 1.40 points
2025-10-09 16:55:02,282 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:55:02,282 - app.ai.ai_service - INFO - - Max tokens: 3000
2025-10-09 16:55:02,282 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:55:02,282 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:55:02,283 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:55:02,283 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:55:02,283 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:55:02,283 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:55:02,686 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:55:02,706 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:55:02,708 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:55:02,709 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:55:02,709 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:55:10,226 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:55:10,238 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Raw response length: 4869
2025-10-09 16:55:10,239 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Raw response preview: ```json
{
  "skills_analysis": [
    {
      "skill": "Python Programming",
      "cv_evidence": "Specialized in Python programming for data analysis, automation, and machine learning using libraries 
2025-10-09 16:55:10,241 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Cleaned response: {
  "skills_analysis": [
    {
      "skill": "Python Programming",
      "cv_evidence": "Specialized in Python programming for data analysis, automation, and machine learning using libraries such as 
2025-10-09 16:55:10,241 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Direct parse successful
2025-10-09 16:55:10,241 - app.services.ats.components.skills_relevance_analyzer - INFO - [SKILLS] Analysis completed. Score: 75.0
2025-10-09 16:55:10,242 - app.services.ats.components.experience_analyzer - INFO - [EXPERIENCE] Requesting experience alignment analysis...
2025-10-09 16:55:10,242 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:55:10,243 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:55:10,243 - app.ai.ai_service - INFO - - Prompt length: 11491
2025-10-09 16:55:10,244 - app.ai.ai_service - INFO - - System prompt length: 163
2025-10-09 16:55:10,244 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:55:10,244 - app.ai.ai_service - INFO - - Max tokens: 3000
2025-10-09 16:55:10,244 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:55:10,244 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:55:10,245 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:55:10,245 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:55:10,245 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:55:10,246 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:55:10,692 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:55:10,703 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:55:10,704 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:55:10,704 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:55:10,705 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:55:13,399 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:55:13,401 - app.services.ats.components.experience_analyzer - INFO - [EXPERIENCE] Analysis completed. Score: 85.0
2025-10-09 16:55:13,402 - app.services.ats.components.industry_analyzer - INFO - [INDUSTRY] Requesting industry fit analysis...
2025-10-09 16:55:13,404 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:55:13,405 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:55:13,406 - app.ai.ai_service - INFO - - Prompt length: 12947
2025-10-09 16:55:13,407 - app.ai.ai_service - INFO - - System prompt length: 163
2025-10-09 16:55:13,407 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:55:13,409 - app.ai.ai_service - INFO - - Max tokens: 3000
2025-10-09 16:55:13,409 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:55:13,410 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:55:13,410 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:55:13,410 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:55:13,410 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:55:13,411 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:55:13,912 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:55:14,069 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:55:14,070 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:55:14,070 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:55:14,070 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:55:17,908 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:55:17,911 - app.services.ats.components.industry_analyzer - INFO - [INDUSTRY] Analysis completed. Score: 60.0
2025-10-09 16:55:17,917 - app.services.ats.components.seniority_analyzer - INFO - [SENIORITY] Requesting role seniority analysis...
2025-10-09 16:55:17,918 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:55:17,919 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:55:17,919 - app.ai.ai_service - INFO - - Prompt length: 14019
2025-10-09 16:55:17,919 - app.ai.ai_service - INFO - - System prompt length: 163
2025-10-09 16:55:17,920 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:55:17,920 - app.ai.ai_service - INFO - - Max tokens: 3000
2025-10-09 16:55:17,921 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:55:17,921 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:55:17,922 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:55:17,923 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:55:17,924 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:55:17,924 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:55:19,135 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:55:19,152 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:55:19,153 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:55:19,154 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:55:19,154 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:55:22,206 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:55:22,208 - app.services.ats.components.seniority_analyzer - INFO - [SENIORITY] Analysis completed. Score: 60.0
2025-10-09 16:55:22,208 - app.services.ats.components.technical_analyzer - INFO - [TECHNICAL] Requesting technical depth analysis...
2025-10-09 16:55:22,209 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:55:22,209 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:55:22,209 - app.ai.ai_service - INFO - - Prompt length: 9464
2025-10-09 16:55:22,209 - app.ai.ai_service - INFO - - System prompt length: 163
2025-10-09 16:55:22,209 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:55:22,210 - app.ai.ai_service - INFO - - Max tokens: 3000
2025-10-09 16:55:22,210 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:55:22,210 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:55:22,210 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:55:22,211 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:55:22,211 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:55:22,211 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:55:22,731 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:55:22,752 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:55:22,752 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:55:22,753 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:55:22,753 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:55:26,138 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:55:26,145 - app.services.ats.components.technical_analyzer - INFO - [TECHNICAL] Analysis completed. Score: 90.0
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
🔍 Searching for latest CV across tailored+original for company: Unknown_Company
🧭 [UNIFIED] CV candidates before sort:
  - type=original, ts=00000000_000000, mtime=1759989250.8512654, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=original, ts=00000000_000000, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.txt
🔍 Searching for latest CV across tailored+original for company: Unknown_Company
🧭 [UNIFIED] CV candidates before sort:
  - type=original, ts=00000000_000000, mtime=1759989250.8512654, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=original, ts=00000000_000000, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.txt
📄 [UNIFIED] Reading CV content from: txt=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.txt, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
🧪 [UNIFIED] CV content length=4864, preview='Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD in Physics and completed a Master's in Data Science, bringing over three years of experience in Python  coding, AI, and machine learning. My expertise encompasses modeling and training AI models, writing efficient Python'
🔍 Searching for latest CV across tailored+original for company: The_Glen_Centre
🧭 [UNIFIED] CV candidates before sort:
  - type=original, ts=00000000_000000, mtime=1759989250.8512654, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=original, ts=00000000_000000, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.txt
🔍 Searching for latest CV across tailored+original for company: The_Glen_Centre
🧭 [UNIFIED] CV candidates before sort:
  - type=original, ts=00000000_000000, mtime=1759989250.8512654, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=original, ts=00000000_000000, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.txt
🔍 Searching for latest CV across tailored+original for company: The_Glen_Centre
🧭 [UNIFIED] CV candidates before sort:
  - type=original, ts=00000000_000000, mtime=1759989250.8512654, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=original, ts=00000000_000000, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.txt
📄 [UNIFIED] Reading CV content from: txt=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.txt, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
🧪 [UNIFIED] CV content length=4864, preview='Maheshwor Tiwari   0414 032 507 | maheshtwari99@gmail.com | LinkedIn  | Hurstville, NSW, 2220   Blogs on Medium  | GitHub  | Dashboard  Portfolio   CAREER PROFIL E    I hold a PhD in Physics and completed a Master's in Data Science, bringing over three years of experience in Python  coding, AI, and machine learning. My expertise encompasses modeling and training AI models, writing efficient Python'
INFO:     127.0.0.1:55611 - "POST /api/preliminary-analysis HTTP/1.1" 200 OK
2025-10-09 16:55:26,149 - app.services.ats.component_assembler - INFO - [ASSEMBLER] All component analyses completed successfully
2025-10-09 16:55:26,149 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Validating cross-analyzer consistency...
2025-10-09 16:55:26,150 - app.services.ats.components.consistency_validator - ERROR - [CONSISTENCY] Validation failed: unsupported operand type(s) for -: 'str' and 'int'
2025-10-09 16:55:26,150 - app.services.ats.component_assembler - WARNING - [ASSEMBLER] Inconsistencies detected in analysis results
2025-10-09 16:55:26,150 - app.services.ats.component_assembler - WARNING - [ASSEMBLER] Confidence score: 100%
2025-10-09 16:55:26,158 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Results saved to: user/keosha@gmail.com/cv-analysis/applied_companies/The_Glen_Centre/The_Glen_Centre_skills_analysis_20251009_165433.json
2025-10-09 16:55:26,159 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Starting ATS score calculation...
2025-10-09 16:55:26,160 - app.services.ats.ats_score_calculator - INFO - [ATS] Starting comprehensive ATS score calculation
2025-10-09 16:55:26,161 - app.services.ats.ats_score_calculator - INFO - [ATS] Match rates - Tech: 80.0%, Domain: 7.0%, Soft: 27.0%
2025-10-09 16:55:26,162 - app.services.ats.ats_score_calculator - INFO - [ATS] Missing counts - Tech: 4, Domain: 25, Soft: 11
2025-10-09 16:55:26,162 - app.services.ats.ats_score_calculator - INFO - [ATS] Category 1 - Tech: 16.0, Domain: 0.4, Soft: 4.1, Total: 20.4
2025-10-09 16:55:26,162 - app.services.ats.ats_score_calculator - INFO - [ATS] Category 2 - Core: 15.9, Exp: 8.2, Potential: 6.0, Company: 0.8, Total: 30.9
2025-10-09 16:55:26,162 - app.services.ats.ats_score_calculator - INFO - [ATS] Final ATS Score: 52.7/100 (❌ Poor fit)
2025-10-09 16:55:26,166 - app.services.ats.component_assembler - INFO - [ASSEMBLER] ATS calculation completed. Score: 52.7/100 (❌ Poor fit)
2025-10-09 16:55:26,167 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:55:26,168 - app.services.ats_recommendation_service - INFO - Final ATS Score: 52.68749999999999
2025-10-09 16:55:26,169 - app.services.ats_recommendation_service - INFO - Category Status: ❌ Poor fit
2025-10-09 16:55:26,169 - app.services.ats_recommendation_service - INFO - Successfully extracted comprehensive recommendation data for The_Glen_Centre
2025-10-09 16:55:26,173 - app.services.ats_recommendation_service - INFO - Successfully created recommendation file: user/keosha@gmail.com/cv-analysis/applied_companies/The_Glen_Centre/The_Glen_Centre_input_recommendation_20251009_165526.json
2025-10-09 16:55:26,205 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:55:26,205 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:55:26,222 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 16:55:26,222 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 16:55:26,222 INFO sqlalchemy.engine.Engine [generated in 0.00139s] {'email_1': 'keosha@gmail.com'}
2025-10-09 16:55:26,222 - sqlalchemy.engine.Engine - INFO - [generated in 0.00139s] {'email_1': 'keosha@gmail.com'}
2025-10-09 16:55:26,285 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 16:55:26,285 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 16:55:26,286 INFO sqlalchemy.engine.Engine [generated in 0.00105s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'name_1': 'The_Glen_Centre'}
2025-10-09 16:55:26,286 - sqlalchemy.engine.Engine - INFO - [generated in 0.00105s] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'name_1': 'The_Glen_Centre'}
2025-10-09 16:55:26,369 INFO sqlalchemy.engine.Engine INSERT INTO companies (user_id, name, display_name, jd_url, created_at, updated_at) VALUES (%(user_id)s, %(name)s, %(display_name)s, %(jd_url)s, now(), now()) RETURNING companies.id, companies.created_at, companies.updated_at
2025-10-09 16:55:26,369 - sqlalchemy.engine.Engine - INFO - INSERT INTO companies (user_id, name, display_name, jd_url, created_at, updated_at) VALUES (%(user_id)s, %(name)s, %(display_name)s, %(jd_url)s, now(), now()) RETURNING companies.id, companies.created_at, companies.updated_at
2025-10-09 16:55:26,369 INFO sqlalchemy.engine.Engine [generated in 0.00062s] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'name': 'The_Glen_Centre', 'display_name': 'The Glen Centre', 'jd_url': None}
2025-10-09 16:55:26,369 - sqlalchemy.engine.Engine - INFO - [generated in 0.00062s] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'name': 'The_Glen_Centre', 'display_name': 'The Glen Centre', 'jd_url': None}
2025-10-09 16:55:26,398 INFO sqlalchemy.engine.Engine INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 16:55:26,398 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 16:55:26,398 INFO sqlalchemy.engine.Engine [generated in 0.00084s] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 16, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'The_Glen_Centre_input_recommendation_20251009_165526.json', 'file_path': 'user/keosha@gmail.com/cv-analysis/applied_companies/The_Glen_Centre/The_Glen_Centre_input_recommendation_20251009_165526.json', 'file_size': 29809, 'sha256': '81d2f79719a2718d1671ac9d0f0306d75a249a16e400fdb484533e6508c4f867', 'timestamp': '20251009_165526'}
2025-10-09 16:55:26,398 - sqlalchemy.engine.Engine - INFO - [generated in 0.00084s] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 16, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'The_Glen_Centre_input_recommendation_20251009_165526.json', 'file_path': 'user/keosha@gmail.com/cv-analysis/applied_companies/The_Glen_Centre/The_Glen_Centre_input_recommendation_20251009_165526.json', 'file_size': 29809, 'sha256': '81d2f79719a2718d1671ac9d0f0306d75a249a16e400fdb484533e6508c4f867', 'timestamp': '20251009_165526'}
2025-10-09 16:55:26,429 INFO sqlalchemy.engine.Engine INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 16:55:26,429 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 16:55:26,429 INFO sqlalchemy.engine.Engine [generated in 0.00054s] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 16, 'kind': 'input_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 185}
2025-10-09 16:55:26,429 - sqlalchemy.engine.Engine - INFO - [generated in 0.00054s] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 16, 'kind': 'input_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 185}
2025-10-09 16:55:26,450 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 16:55:26,450 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 16:55:26,469 - app.services.ats_recommendation_service - INFO - Successfully created AI recommendation prompt: user/keosha@gmail.com/cv-analysis/applied_companies/The_Glen_Centre/The_Glen_Centre_prompt_recommendation.py
2025-10-09 16:55:26,469 - app.services.ats_recommendation_service - INFO - 🤖 [TRIGGER] Starting AI recommendation generation for The_Glen_Centre
2025-10-09 16:55:26,470 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:55:26,470 - app.services.ats_recommendation_service - INFO - 📋 [TRIGGER] AI generation scheduled as background task for The_Glen_Centre
2025-10-09 16:55:26,470 - app.services.ats.component_assembler - INFO - [ASSEMBLER] Recommendation file created for The_Glen_Centre
2025-10-09 16:55:26,471 - app.services.ats.component_assembler - INFO - ===== [ASSEMBLER] Completed assembly. Scores: skills=75.0 exp=85.0 industry=60.0 seniority=60.0 tech=90.0 =====
2025-10-09 16:55:26,471 - app.services.ats.modular_ats_orchestrator - INFO - ===== [MODULAR ATS] Component analysis completed for: The_Glen_Centre =====
2025-10-09 16:55:26,471 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Component analysis completed for The_Glen_Centre
2025-10-09 16:55:26,471 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] Component scores extracted: 23 scores
2025-10-09 16:55:26,472 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] skills_relevance: 75.0
2025-10-09 16:55:26,472 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] experience_alignment: 85.0
2025-10-09 16:55:26,472 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] industry_fit: 60.0
2025-10-09 16:55:26,473 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] role_seniority: 60.0
2025-10-09 16:55:26,473 - app.routes.skills_analysis - INFO - 📊 [PIPELINE] technical_depth: 90.0
2025-10-09 16:55:26,473 - app.routes.skills_analysis - INFO - 🎯 [PIPELINE] ATS Score calculated: 52.68749999999999
2025-10-09 16:55:26,474 - app.routes.skills_analysis - INFO - 📋 [PIPELINE] Creating input recommendation file for The_Glen_Centre
2025-10-09 16:55:26,474 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:55:26,476 - app.services.ats_recommendation_service - INFO - Final ATS Score: 52.68749999999999
2025-10-09 16:55:26,476 - app.services.ats_recommendation_service - INFO - Category Status: ❌ Poor fit
2025-10-09 16:55:26,476 - app.services.ats_recommendation_service - INFO - Successfully extracted comprehensive recommendation data for The_Glen_Centre
2025-10-09 16:55:26,481 - app.services.ats_recommendation_service - INFO - Successfully created recommendation file: user/keosha@gmail.com/cv-analysis/applied_companies/The_Glen_Centre/The_Glen_Centre_input_recommendation_20251009_165526.json
2025-10-09 16:55:26,501 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:55:26,501 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:55:26,502 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 16:55:26,502 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 16:55:26,503 INFO sqlalchemy.engine.Engine [cached since 0.282s ago] {'email_1': 'keosha@gmail.com'}
2025-10-09 16:55:26,503 - sqlalchemy.engine.Engine - INFO - [cached since 0.282s ago] {'email_1': 'keosha@gmail.com'}
2025-10-09 16:55:26,544 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 16:55:26,544 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 16:55:26,544 INFO sqlalchemy.engine.Engine [cached since 0.2596s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'name_1': 'The_Glen_Centre'}
2025-10-09 16:55:26,544 - sqlalchemy.engine.Engine - INFO - [cached since 0.2596s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'name_1': 'The_Glen_Centre'}
2025-10-09 16:55:26,565 INFO sqlalchemy.engine.Engine INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 16:55:26,565 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 16:55:26,566 INFO sqlalchemy.engine.Engine [cached since 0.1682s ago] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 16, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'The_Glen_Centre_input_recommendation_20251009_165526.json', 'file_path': 'user/keosha@gmail.com/cv-analysis/applied_companies/The_Glen_Centre/The_Glen_Centre_input_recommendation_20251009_165526.json', 'file_size': 29809, 'sha256': '81d2f79719a2718d1671ac9d0f0306d75a249a16e400fdb484533e6508c4f867', 'timestamp': '20251009_165526'}
2025-10-09 16:55:26,566 - sqlalchemy.engine.Engine - INFO - [cached since 0.1682s ago] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 16, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'The_Glen_Centre_input_recommendation_20251009_165526.json', 'file_path': 'user/keosha@gmail.com/cv-analysis/applied_companies/The_Glen_Centre/The_Glen_Centre_input_recommendation_20251009_165526.json', 'file_size': 29809, 'sha256': '81d2f79719a2718d1671ac9d0f0306d75a249a16e400fdb484533e6508c4f867', 'timestamp': '20251009_165526'}
2025-10-09 16:55:26,586 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:55:26,586 - sqlalchemy.engine.Engine - INFO - ROLLBACK
WARNING:  WatchFiles detected changes in 'user/keosha@gmail.com/cv-analysis/applied_companies/The_Glen_Centre/The_Glen_Centre_prompt_recommendation.py'. Reloading...
2025-10-09 16:55:26,603 - app.services.ats_recommendation_service - WARNING - ⚠️ [DB] Failed to register input recommendation: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "uq_company_files_dedupe"
DETAIL:  Key (user_id, company_id, file_type, sha256)=(0d4bdc07-cadf-4300-8e4f-f07da7575a62, 16, input_recommendation, 81d2f79719a2718d1671ac9d0f0306d75a249a16e400fdb484533e6508c4f867) already exists.

[SQL: INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at]
[parameters: {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 16, 'file_type': 'input_recommendation', 'file_format': 'json', 'filename': 'The_Glen_Centre_input_recommendation_20251009_165526.json', 'file_path': 'user/keosha@gmail.com/cv-analysis/applied_companies/The_Glen_Centre/The_Glen_Centre_input_recommendation_20251009_165526.json', 'file_size': 29809, 'sha256': '81d2f79719a2718d1671ac9d0f0306d75a249a16e400fdb484533e6508c4f867', 'timestamp': '20251009_165526'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-10-09 16:55:26,603 - app.services.ats_recommendation_service - INFO - Successfully created AI recommendation prompt: user/keosha@gmail.com/cv-analysis/applied_companies/The_Glen_Centre/The_Glen_Centre_prompt_recommendation.py
2025-10-09 16:55:26,604 - app.services.ats_recommendation_service - INFO - 🤖 [TRIGGER] Starting AI recommendation generation for The_Glen_Centre
2025-10-09 16:55:26,604 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:55:26,604 - app.services.ats_recommendation_service - INFO - 📋 [TRIGGER] AI generation scheduled as background task for The_Glen_Centre
2025-10-09 16:55:26,605 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Input recommendation file created for The_Glen_Centre
2025-10-09 16:55:26,605 - app.routes.skills_analysis - INFO - 🤖 [PIPELINE] Starting AI recommendation generation for The_Glen_Centre
2025-10-09 16:55:26,605 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:55:26,606 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: The_Glen_Centre
2025-10-09 16:55:26,608 - app.services.ai_recommendation_generator - INFO - 🟡 [AI GENERATOR] Input recommendation is newer (ai_mtime=0, input_mtime=1759989326.4799163); regenerating AI recommendation
2025-10-09 16:55:26,609 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:55:26,609 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:55:26,609 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:55:26,610 - app.services.ai_recommendation_generator - INFO - ✅ [AI GENERATOR] CV is fresh - no updates since input recommendation
2025-10-09 16:55:26,613 - app.services.ai_recommendation_generator - INFO - 📋 [AI GENERATOR] Generated AI prompt for The_Glen_Centre using centralized template (12888 characters)
2025-10-09 16:55:26,614 - app.services.ai_recommendation_generator - INFO - 🧠 [AI GENERATOR] Executing AI prompt for The_Glen_Centre
2025-10-09 16:55:26,614 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:55:26,615 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:55:26,615 - app.ai.ai_service - INFO - - Prompt length: 12888
2025-10-09 16:55:26,615 - app.ai.ai_service - INFO - - System prompt length: 130
2025-10-09 16:55:26,615 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:55:26,616 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:55:26,616 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:55:26,616 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:55:26,617 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:55:26,617 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:55:26,617 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:55:26,618 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:55:27,263 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:55:27,386 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:55:27,387 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:55:27,387 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:55:27,388 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:55:32,810 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:55:32,816 - app.services.ai_recommendation_generator - INFO - 🧠 [AI GENERATOR] AI response generated - Provider: openai, Model: gpt-3.5-turbo
2025-10-09 16:55:32,816 - app.services.ai_recommendation_generator - INFO - 💰 [AI GENERATOR] Cost: $0.0047, Tokens: 3643
2025-10-09 16:55:32,817 - app.services.ai_recommendation_generator - INFO - 💾 [AI GENERATOR] Saved AI recommendation: user/keosha@gmail.com/cv-analysis/applied_companies/The_Glen_Centre/The_Glen_Centre_ai_recommendation_20251009_165532.json (3.5KB)
🔍 Searching for latest CV across tailored+original for company: The_Glen_Centre
🧭 [UNIFIED] CV candidates before sort:
  - type=original, ts=00000000_000000, mtime=1759989250.8512654, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=original, ts=00000000_000000, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 16:55:32,832 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:55:32,832 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:55:32,834 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 16:55:32,834 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s
2025-10-09 16:55:32,835 INFO sqlalchemy.engine.Engine [cached since 6.614s ago] {'email_1': 'keosha@gmail.com'}
2025-10-09 16:55:32,835 - sqlalchemy.engine.Engine - INFO - [cached since 6.614s ago] {'email_1': 'keosha@gmail.com'}
2025-10-09 16:55:32,876 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 16:55:32,876 - sqlalchemy.engine.Engine - INFO - SELECT companies.id AS companies_id, companies.user_id AS companies_user_id, companies.name AS companies_name, companies.display_name AS companies_display_name, companies.jd_url AS companies_jd_url, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.user_id = %(user_id_1)s AND companies.name = %(name_1)s
2025-10-09 16:55:32,876 INFO sqlalchemy.engine.Engine [cached since 6.592s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'name_1': 'The_Glen_Centre'}
2025-10-09 16:55:32,876 - sqlalchemy.engine.Engine - INFO - [cached since 6.592s ago] {'user_id_1': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'name_1': 'The_Glen_Centre'}
2025-10-09 16:55:32,904 INFO sqlalchemy.engine.Engine INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 16:55:32,904 - sqlalchemy.engine.Engine - INFO - INSERT INTO company_files (user_id, company_id, file_type, file_format, filename, file_path, file_size, sha256, timestamp, created_at) VALUES (%(user_id)s, %(company_id)s, %(file_type)s, %(file_format)s, %(filename)s, %(file_path)s, %(file_size)s, %(sha256)s, %(timestamp)s, now()) RETURNING company_files.id, company_files.created_at
2025-10-09 16:55:32,905 INFO sqlalchemy.engine.Engine [cached since 6.508s ago] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 16, 'file_type': 'ai_recommendation', 'file_format': 'json', 'filename': 'The_Glen_Centre_ai_recommendation_20251009_165532.json', 'file_path': 'user/keosha@gmail.com/cv-analysis/applied_companies/The_Glen_Centre/The_Glen_Centre_ai_recommendation_20251009_165532.json', 'file_size': 3617, 'sha256': 'bc42ef947488d8aa037fff5f58d0be388aeb0512425cc12c5c96615c81a32a01', 'timestamp': '20251009_165532'}
2025-10-09 16:55:32,905 - sqlalchemy.engine.Engine - INFO - [cached since 6.508s ago] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 16, 'file_type': 'ai_recommendation', 'file_format': 'json', 'filename': 'The_Glen_Centre_ai_recommendation_20251009_165532.json', 'file_path': 'user/keosha@gmail.com/cv-analysis/applied_companies/The_Glen_Centre/The_Glen_Centre_ai_recommendation_20251009_165532.json', 'file_size': 3617, 'sha256': 'bc42ef947488d8aa037fff5f58d0be388aeb0512425cc12c5c96615c81a32a01', 'timestamp': '20251009_165532'}
2025-10-09 16:55:32,927 INFO sqlalchemy.engine.Engine INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 16:55:32,927 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_runs (user_id, company_id, kind, status, model_used, started_at, completed_at, meta_json, source_file_id, output_file_id) VALUES (%(user_id)s, %(company_id)s, %(kind)s, %(status)s, %(model_used)s, now(), %(completed_at)s, %(meta_json)s, %(source_file_id)s, %(output_file_id)s) RETURNING analysis_runs.id, analysis_runs.started_at
2025-10-09 16:55:32,928 INFO sqlalchemy.engine.Engine [cached since 6.499s ago] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 16, 'kind': 'ai_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 187}
2025-10-09 16:55:32,928 - sqlalchemy.engine.Engine - INFO - [cached since 6.499s ago] {'user_id': '0d4bdc07-cadf-4300-8e4f-f07da7575a62', 'company_id': 16, 'kind': 'ai_reco', 'status': 'completed', 'model_used': None, 'completed_at': None, 'meta_json': 'null', 'source_file_id': None, 'output_file_id': 187}
2025-10-09 16:55:32,947 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 16:55:32,947 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 16:55:32,964 - app.services.ai_recommendation_generator - INFO - ✅ [AI GENERATOR] AI recommendation generated and saved for The_Glen_Centre
2025-10-09 16:55:32,965 - app.services.ai_recommendation_generator - INFO - 📄 File: user/keosha@gmail.com/cv-analysis/applied_companies/The_Glen_Centre/The_Glen_Centre_ai_recommendation.json
2025-10-09 16:55:32,965 - app.services.ai_recommendation_generator - INFO - 💰 Cost: $0.0047
2025-10-09 16:55:32,965 - app.services.ai_recommendation_generator - INFO - 🔤 Tokens: 3643
2025-10-09 16:55:32,965 - app.services.ai_recommendation_generator - INFO - 🚀 [AI GENERATOR] Starting automatic CV tailoring for The_Glen_Centre
2025-10-09 16:55:32,966 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:55:32,968 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded CV optimization framework from /Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/tailored_cv/prompts/framework.md
2025-10-09 16:55:32,969 - app.tailored_cv.services.cv_tailoring_service - INFO - Loading real data for The_Glen_Centre
2025-10-09 16:55:32,969 - app.tailored_cv.services.cv_tailoring_service - INFO - Company folder: user/keosha@gmail.com/cv-analysis/applied_companies/The_Glen_Centre
2025-10-09 16:55:32,969 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:55:32,970 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:55:32,970 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:55:32,972 - app.tailored_cv.services.cv_tailoring_service - INFO - 📄 [TAILORING] Using latest CV via unified selector → type=original, ts=None, path=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 16:55:32,972 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [DEBUG] Loading CV from user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 16:55:32,972 - app.tailored_cv.services.cv_tailoring_service - INFO - - First 200 chars: {   "personal_information": {     "name": "Maheshwor Tiwari",     "phone": "0414 032 507",     "email": "maheshtwari99@gmail.com",     "location": "Hurstville, NSW, 2220",     "linkedin": "LinkedIn", 
2025-10-09 16:55:32,973 - app.tailored_cv.services.recommendation_parser - INFO - 📂 Loading CV from: user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
2025-10-09 16:55:32,973 - app.tailored_cv.services.recommendation_parser - INFO - 📋 CV format check:
2025-10-09 16:55:32,973 - app.tailored_cv.services.recommendation_parser - INFO -   - Top-level keys: ['personal_information', 'career_profile', 'skills', 'education', 'experience', 'projects', 'certifications', 'languages', 'awards', 'publications', 'volunteer_work', 'professional_memberships', 'unknown_sections', 'original_sections', 'saved_at', 'metadata']
2025-10-09 16:55:32,974 - app.tailored_cv.services.recommendation_parser - INFO -   - Has metadata: True
2025-10-09 16:55:32,974 - app.tailored_cv.services.recommendation_parser - INFO -   - Source file: maheshwor_tiwari.pdf
2025-10-09 16:55:32,974 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing version: 1.0
2025-10-09 16:55:32,974 - app.tailored_cv.services.recommendation_parser - INFO - 🔍 [CV_PARSER] Detailed CV structure analysis:
2025-10-09 16:55:32,974 - app.tailored_cv.services.recommendation_parser - INFO -   - Has contact: False
2025-10-09 16:55:32,974 - app.tailored_cv.services.recommendation_parser - INFO -   - Has experience: True
2025-10-09 16:55:32,975 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience type: <class 'list'>
2025-10-09 16:55:32,975 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience count: 6
2025-10-09 16:55:32,975 - app.tailored_cv.services.recommendation_parser - INFO -   - First experience keys: ['title', 'company', 'duration', 'location', 'responsibilities', 'achievements', 'technologies']
2025-10-09 16:55:32,975 - app.tailored_cv.services.recommendation_parser - INFO -   - Has skills: True
2025-10-09 16:55:32,976 - app.tailored_cv.services.recommendation_parser - INFO -   - Skills type: <class 'dict'>
2025-10-09 16:55:32,976 - app.tailored_cv.services.recommendation_parser - INFO -   - Skills count: Not a list
2025-10-09 16:55:32,976 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Detected structured CV format
2025-10-09 16:55:32,977 - app.tailored_cv.services.recommendation_parser - INFO - 📊 Structure overview:
2025-10-09 16:55:32,977 - app.tailored_cv.services.recommendation_parser - INFO -   - Skills sections: ['technical_skills', 'key_skills', 'soft_skills', 'domain_expertise']
2025-10-09 16:55:32,977 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience entries: 6
2025-10-09 16:55:32,977 - app.tailored_cv.services.recommendation_parser - INFO -   - Education entries: 3
2025-10-09 16:55:32,977 - app.tailored_cv.services.recommendation_parser - INFO -   - Projects: 0
2025-10-09 16:55:32,978 - app.tailored_cv.services.recommendation_parser - INFO - 🔄 Starting structured CV conversion
2025-10-09 16:55:32,978 - app.tailored_cv.services.recommendation_parser - INFO - 📊 Input data validation:
2025-10-09 16:55:32,978 - app.tailored_cv.services.recommendation_parser - INFO - 👤 Converting contact information
2025-10-09 16:55:32,978 - app.tailored_cv.services.recommendation_parser - INFO -   - Source fields: ['name', 'phone', 'email', 'location', 'linkedin', 'github', 'portfolio_links', 'residency_status', 'open_to']
2025-10-09 16:55:32,978 - app.tailored_cv.services.recommendation_parser - INFO -   - Mapped fields: ['name', 'email', 'phone', 'location', 'linkedin', 'website']
2025-10-09 16:55:32,978 - app.tailored_cv.services.recommendation_parser - INFO -   - Contact completeness: 100.0%
2025-10-09 16:55:32,978 - app.tailored_cv.services.recommendation_parser - INFO -   - LinkedIn: LinkedIn
2025-10-09 16:55:32,979 - app.tailored_cv.services.recommendation_parser - INFO -   - Website: GitHub
2025-10-09 16:55:32,979 - app.tailored_cv.services.recommendation_parser - INFO - 💼 Converting experience entries
2025-10-09 16:55:32,979 - app.tailored_cv.services.recommendation_parser - INFO -   - Found 6 experience entries
2025-10-09 16:55:32,979 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 1/6
2025-10-09 16:55:32,980 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: The Bitrates
2025-10-09 16:55:32,980 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Data Analyst
2025-10-09 16:55:32,980 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Jul 2024 to Present
2025-10-09 16:55:32,980 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 5
2025-10-09 16:55:32,980 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 2/6
2025-10-09 16:55:32,980 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: iBuild Building Solutions
2025-10-09 16:55:32,981 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Data Analyst
2025-10-09 16:55:32,981 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Mar 2024 to Jun 2024
2025-10-09 16:55:32,981 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 4
2025-10-09 16:55:32,982 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 3/6
2025-10-09 16:55:32,982 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: Property Console
2025-10-09 16:55:32,982 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Software engineer and Analyst
2025-10-09 16:55:32,983 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Jun 2023 to Nov 2023
2025-10-09 16:55:32,988 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 4
2025-10-09 16:55:32,988 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 4/6
2025-10-09 16:55:32,989 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: CY Cergy Paris University
2025-10-09 16:55:32,989 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Research Assistant
2025-10-09 16:55:32,994 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Oct 2018 to Sep 2022
2025-10-09 16:55:32,994 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 3
2025-10-09 16:55:32,995 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 5/6
2025-10-09 16:55:32,996 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: CY Cergy Paris University
2025-10-09 16:55:32,996 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Lecturer and Course Facilitator
2025-10-09 16:55:32,996 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Sep 2019 to Jun 2022
2025-10-09 16:55:32,997 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 3
2025-10-09 16:55:32,997 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing experience 6/6
2025-10-09 16:55:32,998 - app.tailored_cv.services.recommendation_parser - INFO -     • Company: CY Cergy Paris University
2025-10-09 16:55:32,998 - app.tailored_cv.services.recommendation_parser - INFO -     • Title: Research Intern
2025-10-09 16:55:32,998 - app.tailored_cv.services.recommendation_parser - INFO -     • Duration: Feb 2018 to Jun 2018
2025-10-09 16:55:32,999 - app.tailored_cv.services.recommendation_parser - INFO -     • Bullets: 3
2025-10-09 16:55:32,999 - app.tailored_cv.services.recommendation_parser - INFO - Converted 6 experience entries
2025-10-09 16:55:32,999 - app.tailored_cv.services.recommendation_parser - INFO - 🔧 Converting skills section
2025-10-09 16:55:32,999 - app.tailored_cv.services.recommendation_parser - INFO -   - Source skill categories: ['technical_skills', 'key_skills', 'soft_skills', 'domain_expertise']
2025-10-09 16:55:33,000 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing technical skills:
2025-10-09 16:55:33,000 - app.tailored_cv.services.recommendation_parser - INFO -     • Extracted 5 unique technical skills
2025-10-09 16:55:33,001 - app.tailored_cv.services.recommendation_parser - INFO -     • Skills: SQL, Python, Excel, Power BI, Data Analysis
2025-10-09 16:55:33,001 - app.tailored_cv.services.recommendation_parser - INFO - Converted 1 skill categories
2025-10-09 16:55:33,001 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Conversion complete - Validating output
2025-10-09 16:55:33,002 - app.tailored_cv.services.recommendation_parser - INFO - ✓ Experience: 6 entries
2025-10-09 16:55:33,002 - app.tailored_cv.services.recommendation_parser - INFO - ✓ Skills: 1 categories
2025-10-09 16:55:33,003 - app.tailored_cv.services.recommendation_parser - INFO -   • Technical Skills: 5 skills
2025-10-09 16:55:33,003 - app.tailored_cv.services.recommendation_parser - INFO - ✨ Validation passed - All required sections present
2025-10-09 16:55:33,004 - app.tailored_cv.services.recommendation_parser - INFO - 🎓 Converting education entries
2025-10-09 16:55:33,004 - app.tailored_cv.services.recommendation_parser - INFO -   - Found 3 education entries
2025-10-09 16:55:33,004 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing education 1/3
2025-10-09 16:55:33,005 - app.tailored_cv.services.recommendation_parser - INFO -     • Institution: Charles Darwin University, Sydney, Australia
2025-10-09 16:55:33,005 - app.tailored_cv.services.recommendation_parser - INFO -     • Degree: Master of Data Science
2025-10-09 16:55:33,005 - app.tailored_cv.services.recommendation_parser - INFO -     • Graduation date: Mar 2023 - Nov 2024
2025-10-09 16:55:33,006 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing education 2/3
2025-10-09 16:55:33,006 - app.tailored_cv.services.recommendation_parser - INFO -     • Institution: CY Cergy Paris University, Cergy, France
2025-10-09 16:55:33,006 - app.tailored_cv.services.recommendation_parser - INFO -     • Degree: PhD in Physics
2025-10-09 16:55:33,007 - app.tailored_cv.services.recommendation_parser - INFO -     • Graduation date: Oct 2018 - Sep 2022
2025-10-09 16:55:33,007 - app.tailored_cv.services.recommendation_parser - INFO -   - Processing education 3/3
2025-10-09 16:55:33,008 - app.tailored_cv.services.recommendation_parser - INFO -     • Institution: CY Cergy Paris University, Cergy, France
2025-10-09 16:55:33,009 - app.tailored_cv.services.recommendation_parser - INFO -     • Degree: Master of Theoretical Physics
2025-10-09 16:55:33,009 - app.tailored_cv.services.recommendation_parser - INFO -     • Graduation date: Sep 2016 - Jun 2018
2025-10-09 16:55:33,009 - app.tailored_cv.services.recommendation_parser - INFO - Converted 3 education entries
2025-10-09 16:55:33,009 - app.tailored_cv.services.recommendation_parser - INFO - 📤 Returning converted CV data:
2025-10-09 16:55:33,010 - app.tailored_cv.services.recommendation_parser - INFO -   - Contact fields: ['name', 'email', 'phone', 'location', 'linkedin', 'website']
2025-10-09 16:55:33,010 - app.tailored_cv.services.recommendation_parser - INFO -   - Experience entries: 6
2025-10-09 16:55:33,010 - app.tailored_cv.services.recommendation_parser - INFO -   - Skill categories: 1
2025-10-09 16:55:33,010 - app.tailored_cv.services.recommendation_parser - INFO -   - Education entries: 3
2025-10-09 16:55:33,010 - app.tailored_cv.services.cv_tailoring_service - INFO - - Parsed CV data keys: ['contact', 'experience', 'skills', 'education']
2025-10-09 16:55:33,011 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Skills already in SkillCategory format
2025-10-09 16:55:33,012 - app.tailored_cv.services.cv_tailoring_service - INFO - - Final CV object attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__repr__', '__repr_args__', '__repr_name__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_check_frozen', '_copy_and_set_values', '_get_value', '_iter', 'construct', 'contact', 'copy', 'created_at', 'dict', 'education', 'experience', 'experience_level', 'from_orm', 'json', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'projects', 'schema', 'schema_json', 'skills', 'total_years_experience', 'update_forward_refs', 'updated_at', 'validate']
2025-10-09 16:55:33,023 - app.tailored_cv.services.recommendation_parser - INFO - ✅ Parsed recommendation for The_Glen_Centre
2025-10-09 16:55:33,024 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded real CV and recommendation for The_Glen_Centre
2025-10-09 16:55:33,025 - app.tailored_cv.services.cv_tailoring_service - INFO - 🎯 Starting CV tailoring for The_Glen_Centre - Senior Data Analyst
2025-10-09 16:55:33,025 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [DEBUG] Validating CV structure:
2025-10-09 16:55:33,025 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV object type: <class 'app.tailored_cv.models.cv_models.OriginalCV'>
2025-10-09 16:55:33,026 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV attributes: ['__abstractmethods__', '__annotations__', '__class__', '__class_getitem__', '__class_vars__', '__copy__', '__deepcopy__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__fields__', '__fields_set__', '__format__', '__ge__', '__get_pydantic_core_schema__', '__get_pydantic_json_schema__', '__getattr__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__pretty__', '__private_attributes__', '__pydantic_complete__', '__pydantic_core_schema__', '__pydantic_custom_init__', '__pydantic_decorators__', '__pydantic_extra__', '__pydantic_fields_set__', '__pydantic_generic_metadata__', '__pydantic_init_subclass__', '__pydantic_parent_namespace__', '__pydantic_post_init__', '__pydantic_private__', '__pydantic_root_model__', '__pydantic_serializer__', '__pydantic_validator__', '__reduce__', '__reduce_ex__', '__repr__', '__repr_args__', '__repr_name__', '__repr_str__', '__rich_repr__', '__setattr__', '__setstate__', '__signature__', '__sizeof__', '__slots__', '__str__', '__subclasshook__', '__weakref__', '_abc_impl', '_calculate_keys', '_check_frozen', '_copy_and_set_values', '_get_value', '_iter', 'construct', 'contact', 'copy', 'created_at', 'dict', 'education', 'experience', 'experience_level', 'from_orm', 'json', 'model_computed_fields', 'model_config', 'model_construct', 'model_copy', 'model_dump', 'model_dump_json', 'model_extra', 'model_fields', 'model_fields_set', 'model_json_schema', 'model_parametrized_name', 'model_post_init', 'model_rebuild', 'model_validate', 'model_validate_json', 'model_validate_strings', 'parse_file', 'parse_obj', 'parse_raw', 'projects', 'schema', 'schema_json', 'skills', 'total_years_experience', 'update_forward_refs', 'updated_at', 'validate']
2025-10-09 16:55:33,027 - app.tailored_cv.services.cv_tailoring_service - INFO - - CV data: {
  "contact": {
    "name": "Maheshwor Tiwari",
    "phone": "0414 032 507",
    "email": "maheshtwari99@gmail.com",
    "linkedin": "LinkedIn",
    "location": "Hurstville, NSW, 2220",
    "website": "GitHub"
  },
  "education": [
    {
      "institution": "Charles Darwin University, Sydney, Australia",
      "degree": "Master of Data Science",
      "location": "Sydney, Australia",
      "graduation_date": "Mar 2023 - Nov 2024",
      "gpa": "GPA",
      "relevant_coursework": [],
      "honors": []
    },
    {
      "institution": "CY Cergy Paris University, Cergy, France",
      "degree": "PhD in Physics",
      "location": "Cergy, France",
      "graduation_date": "Oct 2018 - Sep 2022",
      "gpa": "",
      "relevant_coursework": [],
      "honors": []
    },
    {
      "institution": "CY Cergy Paris University, Cergy, France",
      "degree": "Master of Theoretical Physics",
      "location": "Cergy, France",
      "graduation_date": "Sep 2016 - Jun 2018",
      "gpa": "",
      "relevant_coursework": [],
      "honors": []
    }
  ],
  "experience": [
    {
      "company": "The Bitrates",
      "title": "Data Analyst",
      "location": "",
      "start_date": "Jul 2024",
      "end_date": "Present",
      "duration": null,
      "bullets": [
        "Designed and implemented Python scripts for data cleaning, preprocessing, and analysis, improving data pipeline efficiency by 30%.",
        "Developed machine learning models in Python for predictive analytics, enabling data-driven business decisions.",
        "Leveraged AI techniques to automate repetitive tasks, reducing manual effort and improving productivity.",
        "Built dynamic dashboards and visualizations using Python libraries like Matplotlib and Seaborn to communicate insights effectively.",
        "Integrated Google Analytics data with Python for advanced analysis, enhancing customer behavior insights."
      ],
      "skills_used": null
    },
    {
      "company": "iBuild Building Solutions",
      "title": "Data Analyst",
      "location": "",
      "start_date": "Mar 2024",
      "end_date": "Jun 2024",
      "duration": null,
      "bullets": [
        "Automated data extraction and structuring of population datasets using Python, improving data accuracy and team collaboration.",
        "Analyzed customer support data with Python to optimize response times and enhance operational efficiency.",
        "Developed Python-based solutions to generate actionable insights, meeting strict deadlines for strategic decision-making.",
        "Designed Python scripts to create dynamic reports and dashboards, significantly improving customer satisfaction and decision-making processes."
      ],
      "skills_used": null
    },
    {
      "company": "Property Console",
      "title": "Software engineer and Analyst",
      "location": "",
      "start_date": "Jun 2023",
      "end_date": "Nov 2023",
      "duration": null,
      "bullets": [
        "Built Python scripts to track key metrics, ensuring 99% data accuracy and improving data integrity and operational efficiency.",
        "Collaborated with the development team to enhance analytics capabilities, using Python to improve data processing speed by 25%.",
        "Leveraged Python for data preprocessing and analysis, producing Tableau dashboards that improved decision-making.",
        "Supported cross-functional teams with Python-driven insights, enabling customer-focused initiatives."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Research Assistant",
      "location": "",
      "start_date": "Oct 2018",
      "end_date": "Sep 2022",
      "duration": null,
      "bullets": [
        "Utilized advanced Python programming for computational modeling and solving complex research problems.",
        "Developed Python-based workflows to manage and analyze large datasets across multiple research projects.",
        "Presented Python-enabled research findings at international conferences, demonstrating technical expertise and communication skills."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Lecturer and Course Facilitator",
      "location": "",
      "start_date": "Sep 2019",
      "end_date": "Jun 2022",
      "duration": null,
      "bullets": [
        "Led engaging physics tutorials for master\u2019s students, enhancing understanding and promoting teamwork.",
        "Designed course materials, assignments, and exams, strengthening the learning experience.",
        "Mentored students on projects, collaborated with faculty, and fostered student engagement."
      ],
      "skills_used": null
    },
    {
      "company": "CY Cergy Paris University",
      "title": "Research Intern",
      "location": "",
      "start_date": "Feb 2018",
      "end_date": "Jun 2018",
      "duration": null,
      "bullets": [
        "Developed proficiency in Python programming by researching the effect of magnetic fields on 2D materials.",
        "Managed and analyzed complex data sets, improving their accuracy and reliability.",
        "Used dashboard using Power BI to present research findings and participated in weekly reviews, improving collaboration and research skills."
      ],
      "skills_used": null
    }
  ],
  "projects": null,
  "skills": [
    {
      "category": "Technical Skills",
      "skills": [
        "SQL",
        "Python",
        "Excel",
        "Power BI",
        "Data Analysis"
      ]
    }
  ],
  "experience_level": null,
  "total_years_experience": null,
  "created_at": null,
  "updated_at": null
}
2025-10-09 16:55:33,028 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [CV_VALIDATION] Starting detailed validation:
2025-10-09 16:55:33,028 - app.tailored_cv.services.cv_tailoring_service - INFO - - Has contact: True
2025-10-09 16:55:33,028 - app.tailored_cv.services.cv_tailoring_service - INFO - - Contact name: Maheshwor Tiwari
2025-10-09 16:55:33,028 - app.tailored_cv.services.cv_tailoring_service - INFO - - Contact email: maheshtwari99@gmail.com
2025-10-09 16:55:33,028 - app.tailored_cv.services.cv_tailoring_service - INFO - - Has experience: True
2025-10-09 16:55:33,028 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience count: 6
2025-10-09 16:55:33,029 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 1: company=The Bitrates, bullets=5
2025-10-09 16:55:33,029 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 2: company=iBuild Building Solutions, bullets=4
2025-10-09 16:55:33,029 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 3: company=Property Console, bullets=4
2025-10-09 16:55:33,029 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 4: company=CY Cergy Paris University, bullets=3
2025-10-09 16:55:33,029 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 5: company=CY Cergy Paris University, bullets=3
2025-10-09 16:55:33,030 - app.tailored_cv.services.cv_tailoring_service - INFO - - Experience 6: company=CY Cergy Paris University, bullets=3
2025-10-09 16:55:33,030 - app.tailored_cv.services.cv_tailoring_service - INFO - - Has skills: True
2025-10-09 16:55:33,030 - app.tailored_cv.services.cv_tailoring_service - INFO - - Skills count: 1
2025-10-09 16:55:33,030 - app.tailored_cv.services.cv_tailoring_service - INFO - - Skill category 1: Technical Skills, skills=5
2025-10-09 16:55:33,030 - app.tailored_cv.services.cv_tailoring_service - INFO - 🔍 [CV_VALIDATION] Checking required fields:
2025-10-09 16:55:33,030 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Contact name present: Maheshwor Tiwari
2025-10-09 16:55:33,031 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Contact email present: maheshtwari99@gmail.com
2025-10-09 16:55:33,031 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Experience entries present: 6
2025-10-09 16:55:33,031 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ [CV_VALIDATION] Skills section present: 1 categories
2025-10-09 16:55:33,032 - app.tailored_cv.services.cv_tailoring_service - INFO - [74c49e0f] 🎯 Starting CV tailoring for The_Glen_Centre with strategy: education_last
2025-10-09 16:55:33,033 - app.tailored_cv.services.cv_tailoring_service - INFO - [74c49e0f] Initial stats:
2025-10-09 16:55:33,033 - app.tailored_cv.services.cv_tailoring_service - INFO - [74c49e0f] - Experience entries: 6
2025-10-09 16:55:33,034 - app.tailored_cv.services.cv_tailoring_service - INFO - [74c49e0f] - Total bullets: 22
2025-10-09 16:55:33,034 - app.tailored_cv.services.cv_tailoring_service - INFO - [74c49e0f] - Skills categories: 1
2025-10-09 16:55:33,034 - app.tailored_cv.services.cv_tailoring_service - INFO - [74c49e0f] - Total skills: 5
2025-10-09 16:55:33,035 - app.tailored_cv.services.cv_tailoring_service - INFO - [74c49e0f] Critical gaps to address: Business Intelligence, Analytical Models, Analytical, Results-Driven
2025-10-09 16:55:33,035 - app.tailored_cv.services.cv_tailoring_service - INFO - [74c49e0f] Technical enhancements needed: 
2025-10-09 16:55:33,036 - app.tailored_cv.services.cv_tailoring_service - INFO - [74c49e0f] 🤖 Generating tailored CV using AI service...
2025-10-09 16:55:33,036 - app.tailored_cv.services.cv_tailoring_service - INFO - [74c49e0f] Attempt 1/5 with temp=0.0
2025-10-09 16:55:33,037 - app.tailored_cv.services.cv_tailoring_service - INFO - [74c49e0f] - System prompt length: 10574
2025-10-09 16:55:33,037 - app.tailored_cv.services.cv_tailoring_service - INFO - [74c49e0f] - User prompt length: 12301
🔍 Searching for latest CV across tailored+original for company: The_Glen_Centre
🧭 [UNIFIED] CV candidates before sort:
  - type=original, ts=00000000_000000, mtime=1759989250.8512654, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json
📄 [UNIFIED] Latest CV resolved → type=original, ts=00000000_000000, json=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.json, txt=user/keosha@gmail.com/cv-analysis/cvs/original/original_cv.txt
2025-10-09 16:55:33,057 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:55:33,057 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:55:33,060 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 16:55:33,060 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 16:55:33,060 INFO sqlalchemy.engine.Engine [generated in 0.00112s] {'email_1': 'keosha@gmail.com', 'param_1': 1}
2025-10-09 16:55:33,060 - sqlalchemy.engine.Engine - INFO - [generated in 0.00112s] {'email_1': 'keosha@gmail.com', 'param_1': 1}
2025-10-09 16:55:33,099 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:55:33,099 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:55:33,116 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user keosha@gmail.com
2025-10-09 16:55:33,117 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Before initialization:
2025-10-09 16:55:33,117 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 16:55:33,118 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:55:33,118 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:55:33,119 - app.ai.ai_service - INFO - - Cached providers for user: ['openai']
2025-10-09 16:55:33,119 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Using cached providers for user keosha@gmail.com
2025-10-09 16:55:33,119 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] After initialization:
2025-10-09 16:55:33,120 - app.ai.ai_service - INFO - - Current providers: ['openai']
2025-10-09 16:55:33,120 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:55:33,120 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:55:33,120 - app.tailored_cv.services.cv_tailoring_service - INFO - [74c49e0f] 🔄 Initialized AI service for user keosha@gmail.com
2025-10-09 16:55:33,121 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:55:33,121 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:55:33,122 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:55:33,122 - app.ai.ai_service - INFO - - Prompt length: 12301
2025-10-09 16:55:33,122 - app.ai.ai_service - INFO - - System prompt length: 10574
2025-10-09 16:55:33,123 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:55:33,123 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:55:33,123 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:55:33,123 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:55:33,123 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:55:33,123 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:55:33,124 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:55:33,124 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:55:33,488 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:55:33,667 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:55:33,668 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:55:33,668 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:55:33,668 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:56:33,704 - openai._base_client - INFO - Retrying request to /chat/completions in 0.450226 seconds
2025-10-09 16:56:48,911 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:56:48,921 - app.tailored_cv.services.cv_tailoring_service - INFO - [74c49e0f] AI response stats:
2025-10-09 16:56:48,921 - app.tailored_cv.services.cv_tailoring_service - INFO - [74c49e0f] - Content length: 5681
2025-10-09 16:56:48,921 - app.tailored_cv.services.cv_tailoring_service - INFO - [74c49e0f] - First 300 chars: {   "contact": {     "name": "Maheshwor Tiwari",     "phone": "0414 032 507",     "email": "maheshtwari99@gmail.com",     "location": "Hurstville, NSW, 2220",     "linkedin": "",     "website": ""   },   "education": [     {       "institution": "Charles Darwin University, Sydney, Australia",       ...
2025-10-09 16:56:48,922 - app.tailored_cv.services.cv_tailoring_service - INFO - Starting JSON extraction from content length: 5681
2025-10-09 16:56:48,922 - app.tailored_cv.services.cv_tailoring_service - INFO - [74c49e0f] 🔍 Starting JSON validation
2025-10-09 16:56:48,923 - app.tailored_cv.services.cv_tailoring_service - WARNING - [74c49e0f] CV created below minimum standards: 43.5% quantification
2025-10-09 16:56:48,923 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ JSON structure and Impact Formula validation passed (10/23 bullets with quantification)
2025-10-09 16:56:48,923 - app.tailored_cv.services.cv_tailoring_service - INFO - ℹ️ Skipping placeholder checks; proceeding with generated data as-is.
2025-10-09 16:56:48,924 - app.tailored_cv.services.cv_tailoring_service - INFO - [74c49e0f] 🔍 Starting keyword integration validation
2025-10-09 16:56:48,924 - app.tailored_cv.services.cv_tailoring_service - INFO - [74c49e0f] Scanning experience bullets:
2025-10-09 16:56:48,924 - app.tailored_cv.services.cv_tailoring_service - INFO - [74c49e0f] - Experience 1: 6 bullets
2025-10-09 16:56:48,925 - app.tailored_cv.services.cv_tailoring_service - INFO - [74c49e0f] - Experience 2: 4 bullets
2025-10-09 16:56:48,925 - app.tailored_cv.services.cv_tailoring_service - INFO - [74c49e0f] - Experience 3: 4 bullets
2025-10-09 16:56:48,925 - app.tailored_cv.services.cv_tailoring_service - INFO - [74c49e0f] - Experience 4: 3 bullets
2025-10-09 16:56:48,925 - app.tailored_cv.services.cv_tailoring_service - INFO - [74c49e0f] - Experience 5: 3 bullets
2025-10-09 16:56:48,925 - app.tailored_cv.services.cv_tailoring_service - INFO - [74c49e0f] - Experience 6: 3 bullets
2025-10-09 16:56:48,925 - app.tailored_cv.services.cv_tailoring_service - INFO - [74c49e0f] Scanning skills:
2025-10-09 16:56:48,925 - app.tailored_cv.services.cv_tailoring_service - INFO - [74c49e0f] - Category 1: 7 skills
2025-10-09 16:56:48,926 - app.tailored_cv.services.cv_tailoring_service - WARNING - ⚠️ Some keywords not found but within acceptable range: Results-Driven
2025-10-09 16:56:48,926 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Keyword integration validation passed - 3/4 critical keywords found
2025-10-09 16:56:48,926 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Keyword integration validation passed - 4 critical keywords found
2025-10-09 16:56:48,926 - app.tailored_cv.services.cv_tailoring_service - INFO - [74c49e0f] ✅ AI generation successful on attempt 1
2025-10-09 16:56:48,926 - app.tailored_cv.services.cv_tailoring_service - INFO - [74c49e0f] 🔁 Quantification below 60% (43.5%). Enhancement attempt 1/3
2025-10-09 16:56:48,927 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:56:48,928 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:56:48,928 - app.ai.ai_service - INFO - - Prompt length: 14057
2025-10-09 16:56:48,928 - app.ai.ai_service - INFO - - System prompt length: 10574
2025-10-09 16:56:48,929 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:56:48,929 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:56:48,929 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:56:48,929 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:56:48,929 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:56:48,930 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:56:48,930 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:56:48,930 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:56:49,449 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:56:49,461 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:56:49,461 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:56:49,461 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:56:49,461 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:57:03,908 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:57:03,931 - app.tailored_cv.services.cv_tailoring_service - INFO - Starting JSON extraction from content length: 5738
2025-10-09 16:57:03,932 - app.tailored_cv.services.cv_tailoring_service - INFO - [74c49e0f] 🔍 Starting JSON validation
2025-10-09 16:57:03,933 - app.tailored_cv.services.cv_tailoring_service - INFO - [74c49e0f] CV created with improvement suggestions: 59.1% quantification
2025-10-09 16:57:03,933 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ JSON structure and Impact Formula validation passed (13/22 bullets with quantification)
2025-10-09 16:57:03,934 - app.tailored_cv.services.cv_tailoring_service - INFO - [74c49e0f] 🔁 Quantification below 60% (59.1%). Enhancement attempt 2/3
2025-10-09 16:57:03,934 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:57:03,934 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:57:03,934 - app.ai.ai_service - INFO - - Prompt length: 15813
2025-10-09 16:57:03,935 - app.ai.ai_service - INFO - - System prompt length: 10574
2025-10-09 16:57:03,935 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:57:03,935 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:57:03,935 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:57:03,935 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:57:03,936 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:57:03,936 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:57:03,936 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:57:03,936 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:57:05,054 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:57:05,071 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:57:05,072 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:57:05,072 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:57:05,072 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:57:14,229 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:57:14,233 - app.tailored_cv.services.cv_tailoring_service - INFO - Starting JSON extraction from content length: 5567
2025-10-09 16:57:14,233 - app.tailored_cv.services.cv_tailoring_service - INFO - [74c49e0f] 🔍 Starting JSON validation
2025-10-09 16:57:14,234 - app.tailored_cv.services.cv_tailoring_service - WARNING - [74c49e0f] CV created below minimum standards: 43.5% quantification
2025-10-09 16:57:14,235 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ JSON structure and Impact Formula validation passed (10/23 bullets with quantification)
2025-10-09 16:57:14,235 - app.tailored_cv.services.cv_tailoring_service - INFO - [74c49e0f] 🔁 Quantification below 60% (43.5%). Enhancement attempt 3/3
2025-10-09 16:57:14,235 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:57:14,235 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:57:14,236 - app.ai.ai_service - INFO - - Prompt length: 17569
2025-10-09 16:57:14,236 - app.ai.ai_service - INFO - - System prompt length: 10574
2025-10-09 16:57:14,236 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:57:14,236 - app.ai.ai_service - INFO - - Max tokens: 4000
2025-10-09 16:57:14,236 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:57:14,236 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:57:14,236 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:57:14,236 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:57:14,236 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:57:14,237 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:57:14,842 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:57:14,854 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:57:14,855 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:57:14,855 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:57:14,856 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:57:25,086 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:57:25,088 - app.tailored_cv.services.cv_tailoring_service - INFO - Starting JSON extraction from content length: 6163
2025-10-09 16:57:25,089 - app.tailored_cv.services.cv_tailoring_service - INFO - [74c49e0f] 🔍 Starting JSON validation
2025-10-09 16:57:25,090 - app.tailored_cv.services.cv_tailoring_service - INFO - [74c49e0f] CV created with improvement suggestions: 72.7% quantification
2025-10-09 16:57:25,091 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ JSON structure and Impact Formula validation passed (16/22 bullets with quantification)
2025-10-09 16:57:25,121 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:57:25,121 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:57:25,126 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 16:57:25,126 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 16:57:25,127 INFO sqlalchemy.engine.Engine [cached since 112.1s ago] {'email_1': 'keosha@gmail.com', 'param_1': 1}
2025-10-09 16:57:25,127 - sqlalchemy.engine.Engine - INFO - [cached since 112.1s ago] {'email_1': 'keosha@gmail.com', 'param_1': 1}
2025-10-09 16:57:25,211 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:57:25,211 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:57:25,233 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 16:57:25,235 - app.ai.ai_service - INFO - - User: keosha@gmail.com
2025-10-09 16:57:25,236 - app.ai.ai_service - INFO - - Prompt length: 3558
2025-10-09 16:57:25,238 - app.ai.ai_service - INFO - - System prompt length: 424
2025-10-09 16:57:25,238 - app.ai.ai_service - INFO - - Temperature: 0.0
2025-10-09 16:57:25,239 - app.ai.ai_service - INFO - - Max tokens: 10
2025-10-09 16:57:25,239 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 16:57:25,239 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:57:25,239 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:57:25,240 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 16:57:25,240 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 16:57:25,240 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 16:57:25,654 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 16:57:25,670 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 16:57:25,671 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 16:57:25,671 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 16:57:25,671 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 16:57:26,208 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-10-09 16:57:26,210 - app.tailored_cv.services.cv_tailoring_service - INFO - ⚠️ CV created with quality warnings: GOOD (B+)
2025-10-09 16:57:26,210 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ CV tailoring completed successfully. Estimated ATS score: 85
2025-10-09 16:57:26,216 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Saved tailored CV to user/keosha@gmail.com/cv-analysis/cvs/tailored/The_Glen_Centre_tailored_cv_20251009_165726.json
2025-10-09 16:57:26,216 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Saved tailored CV text to user/keosha@gmail.com/cv-analysis/cvs/tailored/The_Glen_Centre_tailored_cv_20251009_165726.txt
2025-10-09 16:57:26,217 - app.services.ai_recommendation_generator - INFO - ✅ [AI GENERATOR] Tailored CV saved automatically to user/keosha@gmail.com/cv-analysis/cvs/tailored/The_Glen_Centre_tailored_cv_20251009_165726.json
2025-10-09 16:57:26,217 - app.services.ai_recommendation_generator - INFO - 📊 [AI GENERATOR] Estimated ATS score: 85
2025-10-09 16:57:26,218 - app.services.ai_recommendation_generator - INFO - 🎯 [AI GENERATOR] CV tailoring completed automatically for The_Glen_Centre
2025-10-09 16:57:26,219 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] AI recommendation generated for The_Glen_Centre
2025-10-09 16:57:26,219 - app.routes.skills_analysis - INFO - 🎯 [PIPELINE] Starting tailored CV generation for The_Glen_Centre
2025-10-09 16:57:26,220 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:57:26,222 - app.tailored_cv.services.cv_tailoring_service - INFO - ✅ Loaded CV optimization framework from /Users/mahesh/Documents/Github/cv-new/cv-magic-app/backend/app/tailored_cv/prompts/framework.md
2025-10-09 16:57:26,223 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:57:26,223 - app.routes.skills_analysis - INFO - 📄 [PIPELINE] Found AI recommendation file: user/keosha@gmail.com/cv-analysis/applied_companies/The_Glen_Centre/The_Glen_Centre_ai_recommendation_20251009_165532.json
2025-10-09 16:57:26,224 - app.routes.skills_analysis - INFO - ✅ [PIPELINE] Tailored CV found: user/keosha@gmail.com/cv-analysis/cvs/tailored/The_Glen_Centre_tailored_cv_20251009_165726.txt
2025-10-09 16:57:26,224 - app.routes.skills_analysis - INFO - 📋 [PIPELINE] Pipeline summary for The_Glen_Centre:
2025-10-09 16:57:26,224 - app.routes.skills_analysis - INFO -    ✅ Successful: ['jd_analysis', 'cv_jd_matching', 'component_analysis', 'input_recommendation', 'ai_recommendation', 'tailored_cv']
2025-10-09 16:57:26,224 - app.routes.skills_analysis - INFO -    🎉 All steps completed successfully!
2025-10-09 16:57:26,228 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: The_Glen_Centre
2025-10-09 16:57:26,230 - app.services.ai_recommendation_generator - INFO - 🟢 [AI GENERATOR] Latest AI recommendation (The_Glen_Centre_ai_recommendation_20251009_165532.json) is up-to-date vs input (The_Glen_Centre_input_recommendation_20251009_165526.json); skipping regeneration
2025-10-09 16:57:26,231 - app.services.ats_recommendation_service - INFO - ✅ [TRIGGER] AI recommendation generated successfully for The_Glen_Centre
2025-10-09 16:57:26,232 - app.services.ai_recommendation_generator - INFO - 🤖 [AI GENERATOR] Starting AI recommendation generation for: The_Glen_Centre
2025-10-09 16:57:26,236 - app.services.ai_recommendation_generator - INFO - 🟢 [AI GENERATOR] Latest AI recommendation (The_Glen_Centre_ai_recommendation_20251009_165532.json) is up-to-date vs input (The_Glen_Centre_input_recommendation_20251009_165526.json); skipping regeneration
2025-10-09 16:57:26,237 - app.services.ats_recommendation_service - INFO - ✅ [TRIGGER] AI recommendation generated successfully for The_Glen_Centre
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-10-09 16:57:26,365 - app.main - INFO - ⏹️ Shutting down CV Management API...
INFO:     Application shutdown complete.
INFO:     Finished server process [29124]
WARNING:  WatchFiles detected changes in 'user/keosha@gmail.com/cv-analysis/applied_companies/The_Glen_Centre/The_Glen_Centre_prompt_recommendation.py'. Reloading...
No AI providers auto-configured - user must select provider and configure API keys via frontend
INFO:     Started server process [29918]
INFO:     Waiting for application startup.
2025-10-09 16:57:32,835 - app.main - INFO - 🚀 Starting CV Management API...
🔧 Development mode: JWT expiration set to 480 minutes
2025-10-09 16:57:33,162 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-10-09 16:57:33,162 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-10-09 16:57:33,163 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:57:33,163 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:57:33,214 INFO sqlalchemy.engine.Engine select current_schema()
2025-10-09 16:57:33,214 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-10-09 16:57:33,214 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:57:33,214 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:57:33,259 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-10-09 16:57:33,259 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-10-09 16:57:33,260 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-10-09 16:57:33,260 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-10-09 16:57:33,297 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:57:33,297 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:57:33,297 INFO sqlalchemy.engine.Engine SELECT 1
2025-10-09 16:57:33,297 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-10-09 16:57:33,297 INFO sqlalchemy.engine.Engine [generated in 0.00060s] {}
2025-10-09 16:57:33,297 - sqlalchemy.engine.Engine - INFO - [generated in 0.00060s] {}
2025-10-09 16:57:33,331 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 16:57:33,331 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 16:57:33,348 - app.database - INFO - Database connection successful
2025-10-09 16:57:33,349 - app.main - INFO - ✅ Database connection successful
2025-10-09 16:57:33,365 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 16:57:33,365 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 16:57:33,371 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:57:33,371 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:57:33,372 INFO sqlalchemy.engine.Engine [generated in 0.00044s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:57:33,372 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:57:33,418 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:57:33,418 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:57:33,432 INFO sqlalchemy.engine.Engine [cached since 0.06049s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:57:33,432 - sqlalchemy.engine.Engine - INFO - [cached since 0.06049s ago] {'table_name': 'user_sessions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:57:33,451 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:57:33,451 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:57:33,452 INFO sqlalchemy.engine.Engine [cached since 0.08051s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:57:33,452 - sqlalchemy.engine.Engine - INFO - [cached since 0.08051s ago] {'table_name': 'cvs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:57:33,474 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:57:33,474 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:57:33,475 INFO sqlalchemy.engine.Engine [cached since 0.1032s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:57:33,475 - sqlalchemy.engine.Engine - INFO - [cached since 0.1032s ago] {'table_name': 'job_applications', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:57:33,493 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:57:33,493 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:57:33,494 INFO sqlalchemy.engine.Engine [cached since 0.1223s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:57:33,494 - sqlalchemy.engine.Engine - INFO - [cached since 0.1223s ago] {'table_name': 'cv_analyses', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:57:33,518 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:57:33,518 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:57:33,518 INFO sqlalchemy.engine.Engine [cached since 0.1472s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:57:33,518 - sqlalchemy.engine.Engine - INFO - [cached since 0.1472s ago] {'table_name': 'job_comparisons', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:57:33,539 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:57:33,539 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:57:33,539 INFO sqlalchemy.engine.Engine [cached since 0.1677s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:57:33,539 - sqlalchemy.engine.Engine - INFO - [cached since 0.1677s ago] {'table_name': 'companies', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:57:33,563 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:57:33,563 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:57:33,563 INFO sqlalchemy.engine.Engine [cached since 0.1917s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:57:33,563 - sqlalchemy.engine.Engine - INFO - [cached since 0.1917s ago] {'table_name': 'company_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:57:33,587 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:57:33,587 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:57:33,587 INFO sqlalchemy.engine.Engine [cached since 0.2156s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:57:33,587 - sqlalchemy.engine.Engine - INFO - [cached since 0.2156s ago] {'table_name': 'analysis_runs', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:57:33,605 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:57:33,605 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:57:33,605 INFO sqlalchemy.engine.Engine [cached since 0.2341s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:57:33,605 - sqlalchemy.engine.Engine - INFO - [cached since 0.2341s ago] {'table_name': 'cv_versions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:57:33,626 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:57:33,626 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-10-09 16:57:33,627 INFO sqlalchemy.engine.Engine [cached since 0.2555s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:57:33,627 - sqlalchemy.engine.Engine - INFO - [cached since 0.2555s ago] {'table_name': 'user_api_keys', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-10-09 16:57:33,649 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 16:57:33,649 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 16:57:33,666 - app.database - INFO - Database tables created successfully
2025-10-09 16:57:33,666 - app.main - INFO - ✅ Database tables ready
2025-10-09 16:57:33,667 - app.main - INFO - 🎯 API Server started successfully on 0.0.0.0:8000
2025-10-09 16:57:33,667 - app.main - INFO - ✅ User directories will be created on-demand during login
INFO:     Application startup complete.
INFO:     127.0.0.1:55804 - "OPTIONS /api/analysis-results/The_Glen_Centre HTTP/1.1" 200 OK
2025-10-09 16:57:33,681 - app.routes.skills_analysis - INFO - 📊 [API] Fetching analysis results for company: The_Glen_Centre
2025-10-09 16:57:33,682 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:57:33,682 - app.utils.path_debug - INFO - 
📌 Starting get_analysis_results
2025-10-09 16:57:33,683 - app.utils.path_debug - INFO -   📂 User base dir: user/keosha@gmail.com/cv-analysis
2025-10-09 16:57:33,683 - app.utils.path_debug - INFO -   📂 Company dir: user/keosha@gmail.com/cv-analysis/applied_companies/The_Glen_Centre
2025-10-09 16:57:33,687 - app.utils.path_debug - INFO -   📂 Using analysis file: user/keosha@gmail.com/cv-analysis/applied_companies/The_Glen_Centre/The_Glen_Centre_skills_analysis_20251009_165433.json
2025-10-09 16:57:33,689 - app.utils.path_debug - INFO -   ✅ Loaded analysis file, size: 35088 bytes
INFO:     127.0.0.1:55820 - "GET /api/analysis-results/The_Glen_Centre HTTP/1.1" 200 OK
2025-10-09 16:57:46,575 - app.routes.skills_analysis - INFO - 📊 [API] Fetching analysis results for company: The_Glen_Centre
2025-10-09 16:57:46,576 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:57:46,576 - app.utils.path_debug - INFO - 
📌 Starting get_analysis_results
2025-10-09 16:57:46,577 - app.utils.path_debug - INFO -   📂 User base dir: user/keosha@gmail.com/cv-analysis
2025-10-09 16:57:46,578 - app.utils.path_debug - INFO -   📂 Company dir: user/keosha@gmail.com/cv-analysis/applied_companies/The_Glen_Centre
2025-10-09 16:57:46,578 - app.utils.path_debug - INFO -   📂 Using analysis file: user/keosha@gmail.com/cv-analysis/applied_companies/The_Glen_Centre/The_Glen_Centre_skills_analysis_20251009_165433.json
2025-10-09 16:57:46,581 - app.utils.path_debug - INFO -   ✅ Loaded analysis file, size: 35088 bytes
INFO:     127.0.0.1:55830 - "GET /api/analysis-results/The_Glen_Centre HTTP/1.1" 200 OK
INFO:     127.0.0.1:55843 - "OPTIONS /api/ai-recommendations/company/The_Glen_Centre HTTP/1.1" 200 OK
2025-10-09 16:58:09,259 - app.routes.ai_recommendations - INFO - 🔍 [AI_RECOMMENDATIONS] Fetching for company: The_Glen_Centre, user: keosha@gmail.com
2025-10-09 16:58:09,260 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:58:09,260 - app.routes.ai_recommendations - INFO - 🔍 [AI_RECOMMENDATIONS] Searching in: user/keosha@gmail.com/cv-analysis/applied_companies/The_Glen_Centre
2025-10-09 16:58:09,261 - app.routes.ai_recommendations - INFO - ✅ [AI_RECOMMENDATIONS] Found file: user/keosha@gmail.com/cv-analysis/applied_companies/The_Glen_Centre/The_Glen_Centre_ai_recommendation_20251009_165532.json
2025-10-09 16:58:09,262 - app.routes.ai_recommendations - INFO - ✅ [AI_RECOMMENDATIONS] Successfully loaded recommendation, content length: 3221
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
INFO:     127.0.0.1:55843 - "GET /api/ai-recommendations/company/The_Glen_Centre HTTP/1.1" 200 OK
2025-10-09 16:58:16,178 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
INFO:     127.0.0.1:55845 - "GET /api/tailored-cv/available-companies-real HTTP/1.1" 200 OK
INFO:     127.0.0.1:55845 - "OPTIONS /api/tailored-cv/content/The_Glen_Centre HTTP/1.1" 200 OK
2025-10-09 16:58:16,250 - app.tailored_cv.routes.cv_tailoring_routes - INFO - 📄 Tailored CV content request for The_Glen_Centre from user 0d4bdc07-cadf-4300-8e4f-f07da7575a62
2025-10-09 16:58:16,250 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:58:16,251 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/keosha@gmail.com/cv-analysis for keosha@gmail.com
2025-10-09 16:58:16,252 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/keosha@gmail.com/cv-analysis
2025-10-09 16:58:16,253 - app.tailored_cv.routes.cv_tailoring_routes - INFO - ✅ Served TAILORED CV content: The_Glen_Centre_tailored_cv_20251009_165726.txt from tailored folder (4099 characters)
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: keosha@gmail.com
🔍 Searching for tailored CV ONLY for company: The_Glen_Centre
📁 Found 1 tailored CV candidates
✅ Selected tailored CV: tailored - user/keosha@gmail.com/cv-analysis/cvs/tailored/The_Glen_Centre_tailored_cv_20251009_165726.json
INFO:     127.0.0.1:55845 - "GET /api/tailored-cv/content/The_Glen_Centre HTTP/1.1" 200 OK
INFO:     127.0.0.1:56033 - "OPTIONS /api/auth/register HTTP/1.1" 200 OK
2025-10-09 17:00:53,809 - app.routes.auth - INFO - 🔵 [REGISTER] Starting registration process
2025-10-09 17:00:53,812 - app.routes.auth - INFO - 🔵 [REGISTER] Raw payload: email='sampu@gmail.com' password='sampuu' name='sampu'
2025-10-09 17:00:53,813 - app.routes.auth - INFO - 🔵 [REGISTER] Email: 'sampu@gmail.com', Name: 'sampu', Password length: 6
2025-10-09 17:00:53,813 - app.routes.auth - INFO - 🔵 [REGISTER] Normalized email: 'sampu@gmail.com'
2025-10-09 17:00:53,813 - app.routes.auth - INFO - 🔵 [REGISTER] Password validation - length: 6
2025-10-09 17:00:53,813 - app.routes.auth - INFO - 🔵 [REGISTER] Checking if user exists: 'sampu@gmail.com'
2025-10-09 17:00:53,991 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 17:00:53,991 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 17:00:54,015 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 17:00:54,015 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 17:00:54,017 INFO sqlalchemy.engine.Engine [generated in 0.00235s] {'email_1': 'sampu@gmail.com', 'param_1': 1}
2025-10-09 17:00:54,017 - sqlalchemy.engine.Engine - INFO - [generated in 0.00235s] {'email_1': 'sampu@gmail.com', 'param_1': 1}
2025-10-09 17:00:54,062 - app.routes.auth - INFO - 🔵 [REGISTER] User does not exist, proceeding with creation
2025-10-09 17:00:54,063 - app.routes.auth - INFO - 🔵 [REGISTER] Base username: 'sampu'
2025-10-09 17:00:54,067 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-10-09 17:00:54,067 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.username = %(username_1)s 
 LIMIT %(param_1)s
2025-10-09 17:00:54,068 INFO sqlalchemy.engine.Engine [generated in 0.00108s] {'username_1': 'sampu', 'param_1': 1}
2025-10-09 17:00:54,068 - sqlalchemy.engine.Engine - INFO - [generated in 0.00108s] {'username_1': 'sampu', 'param_1': 1}
2025-10-09 17:00:54,089 - app.routes.auth - INFO - 🔵 [REGISTER] Final username: 'sampu'
2025-10-09 17:00:54,091 - app.routes.auth - INFO - 🔵 [REGISTER] Creating user object
2025-10-09 17:00:54,395 - app.routes.auth - INFO - 🔵 [REGISTER] Setting password
2025-10-09 17:00:54,882 - app.routes.auth - INFO - 🔵 [REGISTER] Adding user to database
2025-10-09 17:00:54,883 - app.routes.auth - INFO - 🔵 [REGISTER] Committing to database
2025-10-09 17:00:54,891 INFO sqlalchemy.engine.Engine INSERT INTO users (username, email, full_name, hashed_password, is_active, is_verified, created_at, updated_at, last_login) VALUES (%(username)s, %(email)s, %(full_name)s, %(hashed_password)s, %(is_active)s, %(is_verified)s, %(created_at)s, now(), %(last_login)s) RETURNING users.id, users.updated_at
2025-10-09 17:00:54,891 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (username, email, full_name, hashed_password, is_active, is_verified, created_at, updated_at, last_login) VALUES (%(username)s, %(email)s, %(full_name)s, %(hashed_password)s, %(is_active)s, %(is_verified)s, %(created_at)s, now(), %(last_login)s) RETURNING users.id, users.updated_at
2025-10-09 17:00:54,892 INFO sqlalchemy.engine.Engine [generated in 0.00049s] {'username': 'sampu', 'email': 'sampu@gmail.com', 'full_name': 'sampu', 'hashed_password': '$2b$12$b.3v/6yU3dlLv.UO2QJO.Op8AgnKF.pCmn82LpLXBmqcqVJbWeYE6', 'is_active': True, 'is_verified': False, 'created_at': datetime.datetime(2025, 10, 9, 6, 0, 54, 92332), 'last_login': None}
2025-10-09 17:00:54,892 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] {'username': 'sampu', 'email': 'sampu@gmail.com', 'full_name': 'sampu', 'hashed_password': '$2b$12$b.3v/6yU3dlLv.UO2QJO.Op8AgnKF.pCmn82LpLXBmqcqVJbWeYE6', 'is_active': True, 'is_verified': False, 'created_at': datetime.datetime(2025, 10, 9, 6, 0, 54, 92332), 'last_login': None}
2025-10-09 17:00:54,920 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 17:00:54,920 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 17:00:54,937 - app.routes.auth - INFO - 🔵 [REGISTER] Refreshing user object
2025-10-09 17:00:54,955 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 17:00:54,955 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 17:00:54,957 INFO sqlalchemy.engine.Engine SELECT users.id, users.username, users.email, users.full_name, users.hashed_password, users.is_active, users.is_verified, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.id = %(pk_1)s
2025-10-09 17:00:54,957 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.username, users.email, users.full_name, users.hashed_password, users.is_active, users.is_verified, users.created_at, users.updated_at, users.last_login 
FROM users 
WHERE users.id = %(pk_1)s
2025-10-09 17:00:54,958 INFO sqlalchemy.engine.Engine [generated in 0.00047s] {'pk_1': UUID('9a9276bb-a0b3-4fe8-8f35-56f9a7af7ab1')}
2025-10-09 17:00:54,958 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] {'pk_1': UUID('9a9276bb-a0b3-4fe8-8f35-56f9a7af7ab1')}
2025-10-09 17:00:54,994 - app.routes.auth - INFO - 🔵 [REGISTER] User created successfully with ID: 9a9276bb-a0b3-4fe8-8f35-56f9a7af7ab1
2025-10-09 17:00:54,995 - app.routes.auth - INFO - 🔵 [REGISTER] Creating user directories for: sampu@gmail.com
2025-10-09 17:00:54,998 - app.utils.user_path_utils - INFO - ✅ Created user base path (preferred): user/sampu@gmail.com/cv-analysis for sampu@gmail.com
2025-10-09 17:00:55,001 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/sampu@gmail.com/cv-analysis
2025-10-09 17:00:55,001 - app.routes.auth - INFO - 🔵 [REGISTER] User directories created successfully
2025-10-09 17:00:55,004 - app.routes.auth - INFO - 🔵 [REGISTER] Preparing success response
2025-10-09 17:00:55,005 - app.routes.auth - INFO - ✅ [REGISTER] User registered successfully: sampu@gmail.com (ID: 9a9276bb-a0b3-4fe8-8f35-56f9a7af7ab1)
INFO:     127.0.0.1:56033 - "POST /api/auth/register HTTP/1.1" 200 OK
2025-10-09 17:00:55,007 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 17:00:55,007 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     127.0.0.1:56035 - "OPTIONS /api/auth/login HTTP/1.1" 200 OK
2025-10-09 17:01:33,662 - app.routes.auth - INFO - 🔵 [LOGIN] Starting login process
2025-10-09 17:01:33,663 - app.routes.auth - INFO - 🔵 [LOGIN] Raw credentials: email='sampu@gmail.com' password='sampuu'
2025-10-09 17:01:33,664 - app.routes.auth - INFO - 🔵 [LOGIN] Email: 'sampu@gmail.com', Password length: 6
2025-10-09 17:01:33,664 - app.routes.auth - INFO - 🔵 [LOGIN] Attempting authentication
2025-10-09 17:01:33,665 - app.core.auth - INFO - 🔵 [AUTH] Starting authentication for email: 'sampu@gmail.com'
2025-10-09 17:01:33,665 - app.core.auth - INFO - 🔵 [AUTH] Normalized inputs - email: 'sampu@gmail.com', password length: 6
2025-10-09 17:01:33,665 - app.core.auth - INFO - 🔵 [AUTH] Using provided database session
2025-10-09 17:01:33,665 - app.core.auth - INFO - 🔵 [AUTH] Querying database for user: 'sampu@gmail.com'
2025-10-09 17:01:33,690 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 17:01:33,690 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 17:01:33,690 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 17:01:33,690 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.full_name AS users_full_name, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-09 17:01:33,691 INFO sqlalchemy.engine.Engine [cached since 39.68s ago] {'email_1': 'sampu@gmail.com', 'param_1': 1}
2025-10-09 17:01:33,691 - sqlalchemy.engine.Engine - INFO - [cached since 39.68s ago] {'email_1': 'sampu@gmail.com', 'param_1': 1}
2025-10-09 17:01:33,734 - app.core.auth - INFO - 🔵 [AUTH] User found: sampu@gmail.com (ID: 9a9276bb-a0b3-4fe8-8f35-56f9a7af7ab1, Active: True)
2025-10-09 17:01:33,735 - app.core.auth - INFO - 🔵 [AUTH] Verifying password
2025-10-09 17:01:34,157 - app.core.auth - INFO - 🔵 [AUTH] Password verification successful for user: 'sampu@gmail.com'
2025-10-09 17:01:34,157 - app.core.auth - INFO - ✅ [AUTH] Authentication successful
2025-10-09 17:01:34,158 - app.routes.auth - INFO - 🔵 [LOGIN] Authentication successful for user: sampu@gmail.com (ID: 9a9276bb-a0b3-4fe8-8f35-56f9a7af7ab1)
2025-10-09 17:01:34,158 - app.routes.auth - INFO - 🔵 [LOGIN] Ensuring user directories exist for: sampu@gmail.com
2025-10-09 17:01:34,158 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/sampu@gmail.com/cv-analysis for sampu@gmail.com
2025-10-09 17:01:34,159 - app.utils.user_path_utils - INFO - ✅ Ensured user directories exist: user/sampu@gmail.com/cv-analysis
2025-10-09 17:01:34,160 - app.routes.auth - INFO - 🔵 [LOGIN] User directories verified/created successfully
2025-10-09 17:01:34,160 - app.routes.auth - INFO - 🔵 [LOGIN] Creating JWT tokens
2025-10-09 17:01:34,162 - app.routes.auth - INFO - 🔵 [LOGIN] Tokens created successfully
2025-10-09 17:01:34,163 - app.routes.auth - INFO - ✅ [LOGIN] Login successful for user: sampu@gmail.com (ID: 9a9276bb-a0b3-4fe8-8f35-56f9a7af7ab1)
INFO:     127.0.0.1:56088 - "POST /api/auth/login HTTP/1.1" 200 OK
2025-10-09 17:01:34,165 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 17:01:34,165 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     127.0.0.1:56088 - "OPTIONS /api/ai/switch-model HTTP/1.1" 200 OK
INFO:     127.0.0.1:56035 - "POST /api/ai/switch-model HTTP/1.1" 404 Not Found
2025-10-09 17:01:34,995 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/sampu@gmail.com/cv-analysis for sampu@gmail.com
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: sampu@gmail.com
INFO:     127.0.0.1:56035 - "OPTIONS /api/cv/list HTTP/1.1" 200 OK
INFO:     127.0.0.1:56088 - "GET /api/tailored-cv/available-companies-real HTTP/1.1" 200 OK
INFO:     127.0.0.1:56090 - "OPTIONS /api/jobs/saved HTTP/1.1" 200 OK
2025-10-09 17:01:35,022 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/sampu@gmail.com/cv-analysis for sampu@gmail.com
2025-10-09 17:01:35,023 - app.routes.cv_simple - INFO - Listed 0 CV files
2025-10-09 17:01:35,028 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/sampu@gmail.com/cv-analysis for sampu@gmail.com
2025-10-09 17:01:35,031 - app.services.saved_jobs_service - INFO - ✨ Created new jobs file at user/sampu@gmail.com/cv-analysis/saved_jobs/saved_jobs.json
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: sampu@gmail.com
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: sampu@gmail.com
INFO:     127.0.0.1:56092 - "GET /api/cv/list HTTP/1.1" 200 OK
INFO:     127.0.0.1:56088 - "GET /api/jobs/saved HTTP/1.1" 200 OK
INFO:     127.0.0.1:56121 - "OPTIONS /api/ai/chat HTTP/1.1" 200 OK
2025-10-09 17:01:50,962 - app.core.model_dependency - INFO - 🔍 [MODEL_DEPENDENCY] Initializing model for user: sampu@gmail.com
2025-10-09 17:01:50,963 - app.core.model_dependency - INFO - - Header model: gpt-3.5-turbo
2025-10-09 17:01:50,963 - app.core.model_dependency - INFO - - User ID: 9a9276bb-a0b3-4fe8-8f35-56f9a7af7ab1
2025-10-09 17:01:50,963 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 17:01:50,964 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 17:01:50,964 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 17:01:50,964 - app.ai.ai_service - INFO - - Available providers: []
2025-10-09 17:01:50,964 - app.ai.ai_service - INFO - - Provider status: {}
2025-10-09 17:01:50,965 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 17:01:50,965 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: []
2025-10-09 17:01:50,965 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 17:01:50,965 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {}
2025-10-09 17:01:50,965 - app.ai.ai_service - ERROR - ❌ No current provider available for model switching
2025-10-09 17:01:50,966 - app.core.model_dependency - WARNING - ⚠️ Failed to switch to header model gpt-3.5-turbo
2025-10-09 17:01:50,975 - app.ai.ai_service - INFO - 🔄 Initializing AI providers for user sampu@gmail.com
2025-10-09 17:01:50,976 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Before initialization:
2025-10-09 17:01:50,976 - app.ai.ai_service - INFO - - Current providers: []
2025-10-09 17:01:50,976 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 17:01:50,976 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 17:01:50,976 - app.ai.ai_service - INFO - - Cached providers for user: []
2025-10-09 17:01:50,976 - app.ai.ai_service - INFO - 🔄 [AI_SERVICE] Initializing new providers for user sampu@gmail.com
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: sampu@gmail.com
2025-10-09 17:01:51,002 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 17:01:51,002 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 17:01:51,011 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 17:01:51,011 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 17:01:51,011 INFO sqlalchemy.engine.Engine [generated in 0.00046s] {'user_id_1': '9a9276bb-a0b3-4fe8-8f35-56f9a7af7ab1', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 17:01:51,011 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] {'user_id_1': '9a9276bb-a0b3-4fe8-8f35-56f9a7af7ab1', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 17:01:51,054 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 17:01:51,054 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 17:01:51,077 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user sampu@gmail.com and provider openai
2025-10-09 17:01:51,099 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 17:01:51,099 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 17:01:51,100 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 17:01:51,100 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 17:01:51,100 INFO sqlalchemy.engine.Engine [cached since 0.08951s ago] {'user_id_1': '9a9276bb-a0b3-4fe8-8f35-56f9a7af7ab1', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 17:01:51,100 - sqlalchemy.engine.Engine - INFO - [cached since 0.08951s ago] {'user_id_1': '9a9276bb-a0b3-4fe8-8f35-56f9a7af7ab1', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 17:01:51,135 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 17:01:51,135 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 17:01:51,152 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user sampu@gmail.com and provider anthropic
2025-10-09 17:01:51,171 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 17:01:51,171 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 17:01:51,171 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 17:01:51,171 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 17:01:51,172 INFO sqlalchemy.engine.Engine [cached since 0.1611s ago] {'user_id_1': '9a9276bb-a0b3-4fe8-8f35-56f9a7af7ab1', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 17:01:51,172 - sqlalchemy.engine.Engine - INFO - [cached since 0.1611s ago] {'user_id_1': '9a9276bb-a0b3-4fe8-8f35-56f9a7af7ab1', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 17:01:51,208 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 17:01:51,208 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 17:01:51,226 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user sampu@gmail.com and provider deepseek
2025-10-09 17:01:51,226 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] After initialization:
2025-10-09 17:01:51,227 - app.ai.ai_service - INFO - - Current providers: []
2025-10-09 17:01:51,227 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 17:01:51,227 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 17:01:51,227 - app.core.model_dependency - INFO - ✅ [MODEL_DEPENDENCY] AI providers initialized for user sampu@gmail.com
2025-10-09 17:01:51,246 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 17:01:51,246 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 17:01:51,249 INFO sqlalchemy.engine.Engine SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 17:01:51,249 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 17:01:51,250 INFO sqlalchemy.engine.Engine [generated in 0.00050s] {'user_id_1': '9a9276bb-a0b3-4fe8-8f35-56f9a7af7ab1', 'param_1': 1}
2025-10-09 17:01:51,250 - sqlalchemy.engine.Engine - INFO - [generated in 0.00050s] {'user_id_1': '9a9276bb-a0b3-4fe8-8f35-56f9a7af7ab1', 'param_1': 1}
2025-10-09 17:01:51,282 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 17:01:51,282 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     127.0.0.1:56121 - "POST /api/ai/chat HTTP/1.1" 400 Bad Request
INFO:     127.0.0.1:56123 - "OPTIONS /api/api-keys/set HTTP/1.1" 200 OK
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: sampu@gmail.com
2025-10-09 17:02:12,615 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 17:02:12,615 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 17:02:12,616 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 17:02:12,616 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 17:02:12,616 INFO sqlalchemy.engine.Engine [cached since 21.61s ago] {'user_id_1': '9a9276bb-a0b3-4fe8-8f35-56f9a7af7ab1', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 17:02:12,616 - sqlalchemy.engine.Engine - INFO - [cached since 21.61s ago] {'user_id_1': '9a9276bb-a0b3-4fe8-8f35-56f9a7af7ab1', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 17:02:12,664 INFO sqlalchemy.engine.Engine INSERT INTO user_api_keys (user_id, provider, encrypted_key, key_hash, is_valid, last_validated, created_at, updated_at) VALUES (%(user_id)s, %(provider)s, %(encrypted_key)s, %(key_hash)s, %(is_valid)s, %(last_validated)s, now(), now()) RETURNING user_api_keys.id, user_api_keys.created_at, user_api_keys.updated_at
2025-10-09 17:02:12,664 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_api_keys (user_id, provider, encrypted_key, key_hash, is_valid, last_validated, created_at, updated_at) VALUES (%(user_id)s, %(provider)s, %(encrypted_key)s, %(key_hash)s, %(is_valid)s, %(last_validated)s, now(), now()) RETURNING user_api_keys.id, user_api_keys.created_at, user_api_keys.updated_at
2025-10-09 17:02:12,664 INFO sqlalchemy.engine.Engine [generated in 0.00073s] {'user_id': '9a9276bb-a0b3-4fe8-8f35-56f9a7af7ab1', 'provider': 'openai', 'encrypted_key': 'Z0FBQUFBQm81MF9rcHRFYjkyblFwMWpUZUEteF95MmlmSVlySVZqMUpkb05wVl9xbE9Yd19QTWgxbDVxSW9GbDF0WnlwNmV4cmhvMHlFalFsWGllMjRLeUdDZDk1WUpVNElPS3pWYWxBN0ZJY2dEc ... (118 characters truncated) ... 5a05tX0ppdllfWFVrS183cjAxZVRGdGh2Y1pmZVAxSXBIaG5RX194THFIcGlSMjhDMUpQM25Nc1d1THdVamE4QmVoR1RVRktyNXdCd2tYdWZGY0RiRmlVazBsTUs4bE5XYzV1U0stTmRJbDFUTTA9', 'key_hash': '819280703fd19bc03ccad496e4c2fc88236c72ed1d4b2b883f70efdff03bdab1', 'is_valid': False, 'last_validated': None}
2025-10-09 17:02:12,664 - sqlalchemy.engine.Engine - INFO - [generated in 0.00073s] {'user_id': '9a9276bb-a0b3-4fe8-8f35-56f9a7af7ab1', 'provider': 'openai', 'encrypted_key': 'Z0FBQUFBQm81MF9rcHRFYjkyblFwMWpUZUEteF95MmlmSVlySVZqMUpkb05wVl9xbE9Yd19QTWgxbDVxSW9GbDF0WnlwNmV4cmhvMHlFalFsWGllMjRLeUdDZDk1WUpVNElPS3pWYWxBN0ZJY2dEc ... (118 characters truncated) ... 5a05tX0ppdllfWFVrS183cjAxZVRGdGh2Y1pmZVAxSXBIaG5RX194THFIcGlSMjhDMUpQM25Nc1d1THdVamE4QmVoR1RVRktyNXdCd2tYdWZGY0RiRmlVazBsTUs4bE5XYzV1U0stTmRJbDFUTTA9', 'key_hash': '819280703fd19bc03ccad496e4c2fc88236c72ed1d4b2b883f70efdff03bdab1', 'is_valid': False, 'last_validated': None}
2025-10-09 17:02:12,684 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 17:02:12,684 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 17:02:12,701 - app.services.user_api_key_manager - INFO - Created new API key for user sampu@gmail.com and provider openai
2025-10-09 17:02:12,702 - app.ai.ai_service - INFO - ℹ️ [AI_SERVICE] No cached providers found for user sampu@gmail.com
2025-10-09 17:02:12,702 - app.routes.api_keys - INFO - 🗑️ [API_KEYS] Cleared AI service cache for user sampu@gmail.com
2025-10-09 17:02:13,326 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 17:02:13,365 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 17:02:13,365 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 17:02:13,366 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 17:02:13,366 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 17:02:13,367 INFO sqlalchemy.engine.Engine [cached since 22.36s ago] {'user_id_1': '9a9276bb-a0b3-4fe8-8f35-56f9a7af7ab1', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 17:02:13,367 - sqlalchemy.engine.Engine - INFO - [cached since 22.36s ago] {'user_id_1': '9a9276bb-a0b3-4fe8-8f35-56f9a7af7ab1', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 17:02:13,408 INFO sqlalchemy.engine.Engine UPDATE user_api_keys SET is_valid=%(is_valid)s, last_validated=%(last_validated)s, updated_at=now() WHERE user_api_keys.id = %(user_api_keys_id)s
2025-10-09 17:02:13,408 - sqlalchemy.engine.Engine - INFO - UPDATE user_api_keys SET is_valid=%(is_valid)s, last_validated=%(last_validated)s, updated_at=now() WHERE user_api_keys.id = %(user_api_keys_id)s
2025-10-09 17:02:13,409 INFO sqlalchemy.engine.Engine [generated in 0.00051s] {'is_valid': True, 'last_validated': datetime.datetime(2025, 10, 9, 6, 2, 13, 405976), 'user_api_keys_id': 34}
2025-10-09 17:02:13,409 - sqlalchemy.engine.Engine - INFO - [generated in 0.00051s] {'is_valid': True, 'last_validated': datetime.datetime(2025, 10, 9, 6, 2, 13, 405976), 'user_api_keys_id': 34}
2025-10-09 17:02:13,431 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 17:02:13,431 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 17:02:13,445 - app.ai.ai_service - INFO - 🔄 Refreshing AI providers after API key changes
2025-10-09 17:02:13,445 - app.ai.ai_service - INFO - 🗑️ [AI_SERVICE] Clearing cached providers for user sampu@gmail.com
2025-10-09 17:02:13,461 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 17:02:13,461 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 17:02:13,462 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 17:02:13,462 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 17:02:13,462 INFO sqlalchemy.engine.Engine [cached since 22.45s ago] {'user_id_1': '9a9276bb-a0b3-4fe8-8f35-56f9a7af7ab1', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 17:02:13,462 - sqlalchemy.engine.Engine - INFO - [cached since 22.45s ago] {'user_id_1': '9a9276bb-a0b3-4fe8-8f35-56f9a7af7ab1', 'provider_1': 'openai', 'param_1': 1}
2025-10-09 17:02:13,506 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 17:02:13,506 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 17:02:14,017 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 17:02:14,030 - app.ai.ai_service - INFO - ✅ Initialized openai provider with model gpt-4o for user sampu@gmail.com
2025-10-09 17:02:14,050 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 17:02:14,050 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 17:02:14,051 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 17:02:14,051 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 17:02:14,052 INFO sqlalchemy.engine.Engine [cached since 23.04s ago] {'user_id_1': '9a9276bb-a0b3-4fe8-8f35-56f9a7af7ab1', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 17:02:14,052 - sqlalchemy.engine.Engine - INFO - [cached since 23.04s ago] {'user_id_1': '9a9276bb-a0b3-4fe8-8f35-56f9a7af7ab1', 'provider_1': 'anthropic', 'param_1': 1}
2025-10-09 17:02:14,090 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 17:02:14,090 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 17:02:14,105 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user sampu@gmail.com and provider anthropic
2025-10-09 17:02:14,130 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 17:02:14,130 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 17:02:14,131 INFO sqlalchemy.engine.Engine SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 17:02:14,131 - sqlalchemy.engine.Engine - INFO - SELECT user_api_keys.id AS user_api_keys_id, user_api_keys.user_id AS user_api_keys_user_id, user_api_keys.provider AS user_api_keys_provider, user_api_keys.encrypted_key AS user_api_keys_encrypted_key, user_api_keys.key_hash AS user_api_keys_key_hash, user_api_keys.is_valid AS user_api_keys_is_valid, user_api_keys.last_validated AS user_api_keys_last_validated, user_api_keys.created_at AS user_api_keys_created_at, user_api_keys.updated_at AS user_api_keys_updated_at 
FROM user_api_keys 
WHERE user_api_keys.user_id = %(user_id_1)s AND user_api_keys.provider = %(provider_1)s 
 LIMIT %(param_1)s
2025-10-09 17:02:14,131 INFO sqlalchemy.engine.Engine [cached since 23.12s ago] {'user_id_1': '9a9276bb-a0b3-4fe8-8f35-56f9a7af7ab1', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 17:02:14,131 - sqlalchemy.engine.Engine - INFO - [cached since 23.12s ago] {'user_id_1': '9a9276bb-a0b3-4fe8-8f35-56f9a7af7ab1', 'provider_1': 'deepseek', 'param_1': 1}
2025-10-09 17:02:14,177 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-09 17:02:14,177 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-10-09 17:02:14,195 - app.ai.ai_config - ERROR - ❌ [AI_CONFIG] No API key found for user sampu@gmail.com and provider deepseek
2025-10-09 17:02:14,196 - app.routes.api_keys - INFO - 🔄 Refreshed AI providers after setting openai API key for user sampu@gmail.com
2025-10-09 17:02:14,213 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-09 17:02:14,213 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-10-09 17:02:14,214 INFO sqlalchemy.engine.Engine SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 17:02:14,214 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 17:02:14,214 INFO sqlalchemy.engine.Engine [cached since 22.96s ago] {'user_id_1': '9a9276bb-a0b3-4fe8-8f35-56f9a7af7ab1', 'param_1': 1}
2025-10-09 17:02:14,214 - sqlalchemy.engine.Engine - INFO - [cached since 22.96s ago] {'user_id_1': '9a9276bb-a0b3-4fe8-8f35-56f9a7af7ab1', 'param_1': 1}
2025-10-09 17:02:14,248 INFO sqlalchemy.engine.Engine SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 17:02:14,248 - sqlalchemy.engine.Engine - INFO - SELECT user_model_preferences.id AS user_model_preferences_id, user_model_preferences.user_id AS user_model_preferences_user_id, user_model_preferences.provider AS user_model_preferences_provider, user_model_preferences.model AS user_model_preferences_model, user_model_preferences.created_at AS user_model_preferences_created_at, user_model_preferences.updated_at AS user_model_preferences_updated_at 
FROM user_model_preferences 
WHERE user_model_preferences.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-10-09 17:02:14,248 INFO sqlalchemy.engine.Engine [cached since 23s ago] {'user_id_1': '9a9276bb-a0b3-4fe8-8f35-56f9a7af7ab1', 'param_1': 1}
2025-10-09 17:02:14,248 - sqlalchemy.engine.Engine - INFO - [cached since 23s ago] {'user_id_1': '9a9276bb-a0b3-4fe8-8f35-56f9a7af7ab1', 'param_1': 1}
2025-10-09 17:02:14,273 INFO sqlalchemy.engine.Engine INSERT INTO user_model_preferences (user_id, provider, model, created_at, updated_at) VALUES (%(user_id)s, %(provider)s, %(model)s, now(), now()) RETURNING user_model_preferences.id, user_model_preferences.created_at, user_model_preferences.updated_at
2025-10-09 17:02:14,273 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_model_preferences (user_id, provider, model, created_at, updated_at) VALUES (%(user_id)s, %(provider)s, %(model)s, now(), now()) RETURNING user_model_preferences.id, user_model_preferences.created_at, user_model_preferences.updated_at
2025-10-09 17:02:14,273 INFO sqlalchemy.engine.Engine [generated in 0.00051s] {'user_id': '9a9276bb-a0b3-4fe8-8f35-56f9a7af7ab1', 'provider': 'openai', 'model': 'gpt-3.5-turbo'}
2025-10-09 17:02:14,273 - sqlalchemy.engine.Engine - INFO - [generated in 0.00051s] {'user_id': '9a9276bb-a0b3-4fe8-8f35-56f9a7af7ab1', 'provider': 'openai', 'model': 'gpt-3.5-turbo'}
2025-10-09 17:02:14,293 INFO sqlalchemy.engine.Engine COMMIT
2025-10-09 17:02:14,293 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-10-09 17:02:14,310 - app.routes.api_keys - INFO - 🎯 [API_KEYS] Auto-set default model preference: openai/gpt-3.5-turbo for user sampu@gmail.com
INFO:     127.0.0.1:56123 - "POST /api/api-keys/set HTTP/1.1" 200 OK
INFO:     127.0.0.1:56123 - "POST /api/ai/switch-model HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:56144 - "POST /api/ai/switch-model HTTP/1.1" 404 Not Found
2025-10-09 17:02:27,277 - app.core.model_dependency - INFO - 🔍 [MODEL_DEPENDENCY] Initializing model for user: sampu@gmail.com
2025-10-09 17:02:27,278 - app.core.model_dependency - INFO - - Header model: gpt-3.5-turbo
2025-10-09 17:02:27,278 - app.core.model_dependency - INFO - - User ID: 9a9276bb-a0b3-4fe8-8f35-56f9a7af7ab1
2025-10-09 17:02:27,278 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 17:02:27,278 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 17:02:27,278 - app.ai.ai_service - INFO - - Current provider name: None
2025-10-09 17:02:27,279 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 17:02:27,989 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 17:02:28,000 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 17:02:28,001 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-4o', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-4o', 'is_current': False}}
2025-10-09 17:02:28,001 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] No provider found for 'None'
2025-10-09 17:02:28,001 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Available providers: ['openai']
2025-10-09 17:02:28,001 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Current provider name: None
2025-10-09 17:02:28,496 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 17:02:28,508 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: None
2025-10-09 17:02:28,508 - app.ai.ai_service - ERROR - ❌ [AI_SERVICE] Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-4o', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-4o', 'is_current': False}}
2025-10-09 17:02:28,508 - app.ai.ai_service - WARNING - ⚠️ [AI_SERVICE] Attempting to auto-select first available provider
2025-10-09 17:02:28,508 - app.ai.ai_service - ERROR - Failed to set model configuration for openai
2025-10-09 17:02:28,509 - app.ai.ai_service - ERROR - ❌ No current provider available for model switching
2025-10-09 17:02:28,509 - app.ai.ai_service - INFO - 🔄 Available providers: ['openai']
2025-10-09 17:02:28,509 - app.ai.ai_service - INFO - ✅ Switched to openai provider with model gpt-3.5-turbo
2025-10-09 17:02:28,509 - app.core.model_dependency - INFO - 🔄 Switched to model from header: gpt-3.5-turbo
2025-10-09 17:02:28,510 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 17:02:28,510 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 17:02:28,510 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 17:02:28,510 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 17:02:28,510 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 17:02:29,082 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 17:02:29,236 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 17:02:29,237 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 17:02:29,237 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 17:02:29,238 - app.routes.ai - INFO - 🟢 [AI_CHAT] user=sampu@gmail.com provider=openai model=gpt-3.5-turbo
2025-10-09 17:02:29,238 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Generating response:
2025-10-09 17:02:29,238 - app.ai.ai_service - INFO - - User: sampu@gmail.com
2025-10-09 17:02:29,239 - app.ai.ai_service - INFO - - Prompt length: 2
2025-10-09 17:02:29,239 - app.ai.ai_service - INFO - - System prompt length: 28
2025-10-09 17:02:29,239 - app.ai.ai_service - INFO - - Temperature: 0.7
2025-10-09 17:02:29,239 - app.ai.ai_service - INFO - - Max tokens: None
2025-10-09 17:02:29,239 - app.ai.ai_service - INFO - - Provider override: None
2025-10-09 17:02:29,240 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 17:02:29,240 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 17:02:29,240 - app.ai.ai_service - INFO - 🔍 [AI_SERVICE] Getting current provider:
2025-10-09 17:02:29,240 - app.ai.ai_service - INFO - - Current provider name: openai
2025-10-09 17:02:29,240 - app.ai.ai_service - INFO - - Available providers: ['openai']
2025-10-09 17:02:30,221 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/models "HTTP/1.1 200 OK"
2025-10-09 17:02:30,233 - app.ai.ai_config - INFO - 🔍 [AI_CONFIG] Getting current provider: openai
2025-10-09 17:02:30,233 - app.ai.ai_service - INFO - - Provider status: {'openai': {'provider': 'openai', 'model': 'gpt-3.5-turbo', 'available': True, 'api_key_configured': True, 'current_model': 'gpt-3.5-turbo', 'is_current': True}}
2025-10-09 17:02:30,233 - app.ai.ai_service - INFO - ✅ [AI_SERVICE] Current provider found: openai
2025-10-09 17:02:30,233 - app.ai.ai_service - INFO - Generating response with provider: openai, model: gpt-3.5-turbo
2025-10-09 17:02:31,038 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: sampu@gmail.com
INFO:     127.0.0.1:56144 - "POST /api/ai/chat HTTP/1.1" 200 OK
2025-10-09 17:02:43,517 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/sampu@gmail.com/cv-analysis for sampu@gmail.com
2025-10-09 17:02:43,519 - app.routes.cv_simple - INFO - Listed 0 CV files
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: sampu@gmail.com
INFO:     127.0.0.1:56173 - "GET /api/cv/list HTTP/1.1" 200 OK
INFO:     127.0.0.1:56173 - "OPTIONS /api/cv/upload HTTP/1.1" 200 OK
2025-10-09 17:02:43,700 - app.routes.cv_simple - INFO - Uploading maheshwor_tiwari.pdf for user: sampu@gmail.com
2025-10-09 17:02:43,701 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/sampu@gmail.com/cv-analysis for sampu@gmail.com
2025-10-09 17:02:43,702 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/sampu@gmail.com/cv-analysis for sampu@gmail.com
2025-10-09 17:02:43,705 - app.services.enhanced_cv_upload_service - INFO - CV file uploaded: maheshwor_tiwari.pdf (130169 bytes)
2025-10-09 17:02:43,705 - app.routes.cv_simple - INFO - ✅ maheshwor_tiwari.pdf uploaded successfully for user: sampu@gmail.com
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: sampu@gmail.com
INFO:     127.0.0.1:56173 - "POST /api/cv/upload HTTP/1.1" 200 OK
2025-10-09 17:02:43,723 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/sampu@gmail.com/cv-analysis for sampu@gmail.com
2025-10-09 17:02:43,724 - app.routes.cv_simple - INFO - Listed 1 CV files
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: sampu@gmail.com
INFO:     127.0.0.1:56173 - "GET /api/cv/list HTTP/1.1" 200 OK
2025-10-09 17:02:43,867 - app.utils.user_path_utils - INFO - ✅ User base path (preferred): user/sampu@gmail.com/cv-analysis for sampu@gmail.com
2025-10-09 17:02:43,869 - app.routes.cv_simple - INFO - Listed 1 CV files
Auth attempt with token: eyJhbGciOiJIUzI1NiIs...
✅ Auth successful for user: sampu@gmail.com
INFO:     127.0.0.1:56173 - "GET /api/cv/list HTTP/1.1" 200 OK
